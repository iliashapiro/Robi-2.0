function validElementString(t){try{return 0!==angular.element(t).length}catch(t){return!1}}function registerTextAngularTool(t,e){if(!t||""===t||taTools.hasOwnProperty(t))throw"textAngular Error: A unique name is required for a Tool Definition";if(e.display&&(""===e.display||!validElementString(e.display))||!e.display&&!e.buttontext&&!e.iconclass)throw'textAngular Error: Tool Definition for "'+t+'" does not have a valid display/iconclass/buttontext value';taTools[t]=e}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=t.length,n=Q.type(t);return"function"!==n&&!Q.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t))}function r(t,e,n){if(Q.isFunction(e))return Q.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return Q.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(st.test(e))return Q.filter(e,t,n);e=Q.filter(e,t)}return Q.grep(t,function(t){return U.call(e,t)>=0!==n})}function i(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e=ft[t]={};return Q.each(t.match(ht)||[],function(t,n){e[n]=!0}),e}function a(){X.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1),Q.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+Math.random()}function l(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(bt,"-$1").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:yt.test(n)?Q.parseJSON(n):n)}catch(t){}vt.set(t,e,n)}else n=void 0;return n}function u(){return!0}function c(){return!1}function d(){try{return X.activeElement}catch(t){}}function h(t,e){return Q.nodeName(t,"table")&&Q.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function f(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function p(t){var e=Rt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var n=0,r=t.length;r>n;n++)mt.set(t[n],"globalEval",!e||mt.get(e[n],"globalEval"))}function m(t,e){var n,r,i,o,a,s,l,u;if(1===e.nodeType){if(mt.hasData(t)&&(o=mt.access(t),a=mt.set(e,o),u=o.events)){delete a.handle,a.events={};for(i in u)for(n=0,r=u[i].length;r>n;n++)Q.event.add(e,i,u[i][n])}vt.hasData(t)&&(s=vt.access(t),l=Q.extend({},s),vt.set(e,l))}}function v(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&Q.nodeName(t,e)?Q.merge([t],n):n}function y(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Ct.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function b(e,n){var r,i=Q(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(r=t.getDefaultComputedStyle(i[0]))?r.display:Q.css(i[0],"display");return i.detach(),o}function x(t){var e=X,n=Yt[t];return n||("none"!==(n=b(t,e))&&n||(It=(It||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),(e=It[0].contentDocument).write(),e.close(),n=b(t,e),It.detach()),Yt[t]=n),n}function _(t,e,n){var r,i,o,a,s=t.style;return(n=n||Ht(t))&&(a=n.getPropertyValue(e)||n[e]),n&&(""!==a||Q.contains(t.ownerDocument,t)||(a=Q.style(t,e)),jt.test(a)&&Vt.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function w(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function C(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),r=e,i=qt.length;i--;)if((e=qt[i]+n)in t)return e;return r}function k(t,e,n){var r=Wt.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function S(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=Q.css(t,n+_t[o],!0,i)),r?("content"===n&&(a-=Q.css(t,"padding"+_t[o],!0,i)),"margin"!==n&&(a-=Q.css(t,"border"+_t[o]+"Width",!0,i))):(a+=Q.css(t,"padding"+_t[o],!0,i),"padding"!==n&&(a+=Q.css(t,"border"+_t[o]+"Width",!0,i)));return a}function M(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=Ht(t),a="border-box"===Q.css(t,"boxSizing",!1,o);if(0>=i||null==i){if((0>(i=_(t,e,o))||null==i)&&(i=t.style[e]),jt.test(i))return i;r=a&&(J.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+S(t,e,n||(a?"border":"content"),r,o)+"px"}function T(t,e){for(var n,r,i,o=[],a=0,s=t.length;s>a;a++)(r=t[a]).style&&(o[a]=mt.get(r,"olddisplay"),n=r.style.display,e?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&wt(r)&&(o[a]=mt.access(r,"olddisplay",x(r.nodeName)))):(i=wt(r),"none"===n&&i||mt.set(r,"olddisplay",i?n:Q.css(r,"display"))));for(a=0;s>a;a++)(r=t[a]).style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[a]||"":"none"));return t}function $(t,e,n,r,i){return new $.prototype.init(t,e,n,r,i)}function D(){return setTimeout(function(){Kt=void 0}),Kt=Q.now()}function E(t,e){var n,r=0,i={height:t};for(e=e?1:0;4>r;r+=2-e)n=_t[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function L(t,e,n){for(var r,i=(ee[e]||[]).concat(ee["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,e,t))return r}function A(t,e,n){var r,i,o,a,s,l,u,c=this,d={},h=t.style,f=t.nodeType&&wt(t),p=mt.get(t,"fxshow");n.queue||(null==(s=Q._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,Q.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],u=Q.css(t,"display"),"inline"===("none"===u?mt.get(t,"olddisplay")||x(t.nodeName):u)&&"none"===Q.css(t,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",c.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(r in e)if(i=e[r],Xt.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(f?"hide":"show")){if("show"!==i||!p||void 0===p[r])continue;f=!0}d[r]=p&&p[r]||Q.style(t,r)}else u=void 0;if(Q.isEmptyObject(d))"inline"===("none"===u?x(t.nodeName):u)&&(h.display=u);else{p?"hidden"in p&&(f=p.hidden):p=mt.access(t,"fxshow",{}),o&&(p.hidden=!f),f?Q(t).show():c.done(function(){Q(t).hide()}),c.done(function(){var e;mt.remove(t,"fxshow");for(e in d)Q.style(t,e,d[e])});for(r in d)a=L(f?p[r]:0,r,c),r in p||(p[r]=a.start,f&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function F(t,e){var n,r,i,o,a;for(n in t)if(r=Q.camelCase(n),i=e[r],o=t[n],Q.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(a=Q.cssHooks[r])&&"expand"in a){o=a.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function P(t,e,n){var r,i,o=0,a=te.length,s=Q.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var e=Kt||D(),n=Math.max(0,u.startTime+u.duration-e),r=1-(n/u.duration||0),o=0,a=u.tweens.length;a>o;o++)u.tweens[o].run(r);return s.notifyWith(t,[u,r,n]),1>r&&a?n:(s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:Q.extend({},e),opts:Q.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Kt||D(),duration:n.duration,tweens:[],createTween:function(e,n){var r=Q.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(r),r},stop:function(e){var n=0,r=e?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return e?s.resolveWith(t,[u,e]):s.rejectWith(t,[u,e]),this}}),c=u.props;for(F(c,u.opts.specialEasing);a>o;o++)if(r=te[o].call(u,t,c,u.opts))return r;return Q.map(c,L,u),Q.isFunction(u.opts.start)&&u.opts.start.call(t,u),Q.fx.timer(Q.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function R(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(ht)||[];if(Q.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function O(t,e,n,r){function i(s){var l;return o[s]=!0,Q.each(t[s]||[],function(t,s){var u=s(e,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(e.dataTypes.unshift(u),i(u),!1)}),l}var o={},a=t===be;return i(e.dataTypes[0])||!o["*"]&&i("*")}function N(t,e){var n,r,i=Q.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&Q.extend(!0,t,r),t}function I(t,e,n){for(var r,i,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||t.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function Y(t,e,n,r){var i,o,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(i in u)if((s=i.split(" "))[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[i]:!0!==u[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function V(t,e,n,r){var i;if(Q.isArray(e))Q.each(e,function(e,i){n||we.test(t)?r(t,i):V(t+"["+("object"==typeof i?e:"")+"]",i,n,r)});else if(n||"object"!==Q.type(e))r(t,e);else for(i in e)V(t+"["+i+"]",e[i],n,r)}function j(t){return Q.isWindow(t)?t:9===t.nodeType&&t.defaultView}var H=[],z=H.slice,W=H.concat,B=H.push,U=H.indexOf,G={},q=G.toString,K=G.hasOwnProperty,J={},X=t.document,Z="2.1.1",Q=function(t,e){return new Q.fn.init(t,e)},tt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,et=/^-ms-/,nt=/-([\da-z])/gi,rt=function(t,e){return e.toUpperCase()};Q.fn=Q.prototype={jquery:Z,constructor:Q,selector:"",length:0,toArray:function(){return z.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:z.call(this)},pushStack:function(t){var e=Q.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return Q.each(this,t,e)},map:function(t){return this.pushStack(Q.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:B,sort:H.sort,splice:H.splice},Q.extend=Q.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||Q.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],r=t[e],a!==r&&(u&&r&&(Q.isPlainObject(r)||(i=Q.isArray(r)))?(i?(i=!1,o=n&&Q.isArray(n)?n:[]):o=n&&Q.isPlainObject(n)?n:{},a[e]=Q.extend(u,o,r)):void 0!==r&&(a[e]=r));return a},Q.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===Q.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!Q.isArray(t)&&t-parseFloat(t)>=0},isPlainObject:function(t){return"object"===Q.type(t)&&!t.nodeType&&!Q.isWindow(t)&&!(t.constructor&&!K.call(t.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?G[q.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;(t=Q.trim(t))&&(1===t.indexOf("use strict")?(e=X.createElement("script"),e.text=t,X.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(et,"ms-").replace(nt,rt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,r){var i=0,o=t.length,a=n(t);if(r){if(a)for(;o>i&&!1!==e.apply(t[i],r);i++);else for(i in t)if(!1===e.apply(t[i],r))break}else if(a)for(;o>i&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(tt,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(n(Object(t))?Q.merge(r,"string"==typeof t?[t]:t):B.call(r,t)),r},inArray:function(t,e,n){return null==e?-1:U.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;n>r;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,a=!n;o>i;i++)!e(t[i],i)!==a&&r.push(t[i]);return r},map:function(t,e,r){var i,o=0,a=t.length,s=[];if(n(t))for(;a>o;o++)null!=(i=e(t[o],o,r))&&s.push(i);else for(o in t)null!=(i=e(t[o],o,r))&&s.push(i);return W.apply([],s)},guid:1,proxy:function(t,e){var n,r,i;return"string"==typeof e&&(n=t[e],e=t,t=n),Q.isFunction(t)?(r=z.call(arguments,2),i=function(){return t.apply(e||this,r.concat(z.call(arguments)))},i.guid=t.guid=t.guid||Q.guid++,i):void 0},now:Date.now,support:J}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){G["[object "+e+"]"]=e.toLowerCase()});var it=function(t){function e(t,e,n,r){var i,o,a,s,u,d,h,f,p,g;if((e?e.ownerDocument||e:I)!==E&&D(e),e=e||E,n=n||[],!t||"string"!=typeof t)return n;if(1!==(s=e.nodeType)&&9!==s)return[];if(A&&!r){if(i=mt.exec(t))if(a=i[1]){if(9===s){if(!(o=e.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&O(e,o)&&o.id===a)return n.push(o),n}else{if(i[2])return X.apply(n,e.getElementsByTagName(t)),n;if((a=i[3])&&b.getElementsByClassName&&e.getElementsByClassName)return X.apply(n,e.getElementsByClassName(a)),n}if(b.qsa&&(!F||!F.test(t))){if(f=h=N,p=e,g=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(d=C(t),(h=e.getAttribute("id"))?f=h.replace(yt,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",u=d.length;u--;)d[u]=f+c(d[u]);p=vt.test(t)&&l(e.parentNode)||e,g=d.join(",")}if(g)try{return X.apply(n,p.querySelectorAll(g)),n}catch(t){}finally{h||e.removeAttribute("id")}}}return S(t.replace(at,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[N]=!0,t}function i(t){var e=E.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=t.length;r--;)x.attrHandle[n[r]]=e}function a(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||U)-(~t.sourceIndex||U);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function l(t){return t&&typeof t.getElementsByTagName!==B&&t}function u(){}function c(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function d(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=V++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,a){var s,l,u=[Y,o];if(a){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,a))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if(l=e[N]||(e[N]={}),(s=l[r])&&s[0]===Y&&s[1]===o)return u[2]=s[2];if(l[r]=u,u[2]=t(e,n,a))return!0}}}function h(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function f(t,n,r){for(var i=0,o=n.length;o>i;i++)e(t,n[i],r);return r}function p(t,e,n,r,i){for(var o,a=[],s=0,l=t.length,u=null!=e;l>s;s++)(o=t[s])&&(!n||n(o,r,i))&&(a.push(o),u&&e.push(s));return a}function g(t,e,n,i,o,a){return i&&!i[N]&&(i=g(i)),o&&!o[N]&&(o=g(o,a)),r(function(r,a,s,l){var u,c,d,h=[],g=[],m=a.length,v=r||f(e||"*",s.nodeType?[s]:s,[]),y=!t||!r&&e?v:p(v,h,t,s,l),b=n?o||(r?t:m||i)?[]:a:y;if(n&&n(y,b,s,l),i)for(u=p(b,g),i(u,[],s,l),c=u.length;c--;)(d=u[c])&&(b[g[c]]=!(y[g[c]]=d));if(r){if(o||t){if(o){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);o(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=o?Q.call(r,d):h[c])>-1&&(r[u]=!(a[u]=d))}}else b=p(b===a?b.splice(m,b.length):b),o?o(null,a,b,l):X.apply(a,b)})}function m(t){for(var e,n,r,i=t.length,o=x.relative[t[0].type],a=o||x.relative[" "],s=o?1:0,l=d(function(t){return t===e},a,!0),u=d(function(t){return Q.call(e,t)>-1},a,!0),f=[function(t,n,r){return!o&&(r||n!==M)||((e=n).nodeType?l(t,n,r):u(t,n,r))}];i>s;s++)if(n=x.relative[t[s].type])f=[d(h(f),n)];else{if((n=x.filter[t[s].type].apply(null,t[s].matches))[N]){for(r=++s;i>r&&!x.relative[t[r].type];r++);return g(s>1&&h(f),s>1&&c(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(at,"$1"),n,r>s&&m(t.slice(s,r)),i>r&&m(t=t.slice(r)),i>r&&c(t))}f.push(n)}return h(f)}function v(t,n){var i=n.length>0,o=t.length>0,a=function(r,a,s,l,u){var c,d,h,f=0,g="0",m=r&&[],v=[],y=M,b=r||o&&x.find.TAG("*",u),_=Y+=null==y?1:Math.random()||.1,w=b.length;for(u&&(M=a!==E&&a);g!==w&&null!=(c=b[g]);g++){if(o&&c){for(d=0;h=t[d++];)if(h(c,a,s)){l.push(c);break}u&&(Y=_)}i&&((c=!h&&c)&&f--,r&&m.push(c))}if(f+=g,i&&g!==f){for(d=0;h=n[d++];)h(m,v,a,s);if(r){if(f>0)for(;g--;)m[g]||v[g]||(v[g]=K.call(l));v=p(v)}X.apply(l,v),u&&!r&&v.length>0&&f+n.length>1&&e.uniqueSort(l)}return u&&(Y=_,M=y),m};return i?r(a):a}var y,b,x,_,w,C,k,S,M,T,$,D,E,L,A,F,P,R,O,N="sizzle"+-new Date,I=t.document,Y=0,V=0,j=n(),H=n(),z=n(),W=function(t,e){return t===e&&($=!0),0},B="undefined",U=1<<31,G={}.hasOwnProperty,q=[],K=q.pop,J=q.push,X=q.push,Z=q.slice,Q=q.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",et="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=nt.replace("w","w#"),it="\\["+et+"*("+nt+")(?:"+et+"*([*^$|!~]?=)"+et+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+et+"*\\]",ot=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",at=new RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),st=new RegExp("^"+et+"*,"+et+"*"),lt=new RegExp("^"+et+"*([>+~]|"+et+")"+et+"*"),ut=new RegExp("="+et+"*([^\\]'\"]*?)"+et+"*\\]","g"),ct=new RegExp(ot),dt=new RegExp("^"+rt+"$"),ht={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt.replace("w","w*")+")"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,pt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/[+~]/,yt=/'|\\/g,bt=new RegExp("\\\\([\\da-f]{1,6}"+et+"?|("+et+")|.)","ig"),xt=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{X.apply(q=Z.call(I.childNodes),I.childNodes),q[I.childNodes.length].nodeType}catch(t){X={apply:q.length?function(t,e){J.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}b=e.support={},w=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},D=e.setDocument=function(t){var e,n=t?t.ownerDocument||t:I,r=n.defaultView;return n!==E&&9===n.nodeType&&n.documentElement?(E=n,L=n.documentElement,A=!w(n),r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",function(){D()},!1):r.attachEvent&&r.attachEvent("onunload",function(){D()})),b.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),b.getElementsByTagName=i(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),b.getElementsByClassName=gt.test(n.getElementsByClassName)&&i(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),b.getById=i(function(t){return L.appendChild(t).id=N,!n.getElementsByName||!n.getElementsByName(N).length}),b.getById?(x.find.ID=function(t,e){if(typeof e.getElementById!==B&&A){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(t){var e=t.replace(bt,xt);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(bt,xt);return function(t){var n=typeof t.getAttributeNode!==B&&t.getAttributeNode("id");return n&&n.value===e}}),x.find.TAG=b.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==B?e.getElementsByTagName(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},x.find.CLASS=b.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==B&&A?e.getElementsByClassName(t):void 0},P=[],F=[],(b.qsa=gt.test(n.querySelectorAll))&&(i(function(t){t.innerHTML="<select msallowclip=''><option selected=''></option></select>",t.querySelectorAll("[msallowclip^='']").length&&F.push("[*^$]="+et+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||F.push("\\["+et+"*(?:value|"+tt+")"),t.querySelectorAll(":checked").length||F.push(":checked")}),i(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&F.push("name"+et+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),F.push(",.*:")})),(b.matchesSelector=gt.test(R=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&i(function(t){b.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),P.push("!=",ot)}),F=F.length&&new RegExp(F.join("|")),P=P.length&&new RegExp(P.join("|")),e=gt.test(L.compareDocumentPosition),O=e||gt.test(L.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},W=e?function(t,e){if(t===e)return $=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&r||!b.sortDetached&&e.compareDocumentPosition(t)===r?t===n||t.ownerDocument===I&&O(I,t)?-1:e===n||e.ownerDocument===I&&O(I,e)?1:T?Q.call(T,t)-Q.call(T,e):0:4&r?-1:1)}:function(t,e){if(t===e)return $=!0,0;var r,i=0,o=t.parentNode,s=e.parentNode,l=[t],u=[e];if(!o||!s)return t===n?-1:e===n?1:o?-1:s?1:T?Q.call(T,t)-Q.call(T,e):0;if(o===s)return a(t,e);for(r=t;r=r.parentNode;)l.unshift(r);for(r=e;r=r.parentNode;)u.unshift(r);for(;l[i]===u[i];)i++;return i?a(l[i],u[i]):l[i]===I?-1:u[i]===I?1:0},n):E},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==E&&D(t),n=n.replace(ut,"='$1']"),!(!b.matchesSelector||!A||P&&P.test(n)||F&&F.test(n)))try{var r=R.call(t,n);if(r||b.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){}return e(n,E,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==E&&D(t),O(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==E&&D(t);var n=x.attrHandle[e.toLowerCase()],r=n&&G.call(x.attrHandle,e.toLowerCase())?n(t,e,!A):void 0;return void 0!==r?r:b.attributes||!A?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if($=!b.detectDuplicates,T=!b.sortStable&&t.slice(0),t.sort(W),$){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return T=null,t},_=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=_(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=_(e);return n},(x=e.selectors={cacheLength:50,createPseudo:r,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ht.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ct.test(n)&&(e=C(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=j[t+" "];return e||(e=new RegExp("(^|"+et+")"+t+"("+et+"|$)"))&&j(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==B&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,l){var u,c,d,h,f,p,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s;if(m){if(o){for(;g;){for(d=e;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(f=(u=(c=m[N]||(m[N]={}))[t]||[])[0]===Y&&u[1],h=u[0]===Y&&u[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(h=f=0)||p.pop();)if(1===d.nodeType&&++h&&d===e){c[t]=[Y,f,h];break}}else if(y&&(u=(e[N]||(e[N]={}))[t])&&u[0]===Y)h=u[1];else for(;(d=++f&&d&&d[g]||(h=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[N]||(d[N]={}))[t]=[Y,h]),d!==e)););return(h-=i)===r||h%r==0&&h/r>=0}}},PSEUDO:function(t,n){var i,o=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[N]?o(n):o.length>1?(i=[t,t,"",n],x.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),a=i.length;a--;)r=Q.call(t,i[a]),t[r]=!(e[r]=i[a])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=k(t.replace(at,"$1"));return i[N]?r(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return function(e){return(e.textContent||e.innerText||_(e)).indexOf(t)>-1}}),lang:r(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,xt).toLowerCase(),function(e){var n;do{if(n=A?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===L},focus:function(t){return t===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return pt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:s(function(){return[0]}),last:s(function(t,e){return[e-1]}),eq:s(function(t,e,n){return[0>n?n+e:n]}),even:s(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:s(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:s(function(t,e,n){for(var r=0>n?n+e:n;--r>=0;)t.push(r);return t}),gt:s(function(t,e,n){for(var r=0>n?n+e:n;++r<e;)t.push(r);return t})}}).pseudos.nth=x.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[y]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(y);for(y in{submit:!0,reset:!0})x.pseudos[y]=function(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}(y);return u.prototype=x.filters=x.pseudos,x.setFilters=new u,C=e.tokenize=function(t,n){var r,i,o,a,s,l,u,c=H[t+" "];if(c)return n?0:c.slice(0);for(s=t,l=[],u=x.preFilter;s;){(!r||(i=st.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=lt.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(at," ")}),s=s.slice(r.length));for(a in x.filter)!(i=ht[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):H(t,l).slice(0)},k=e.compile=function(t,e){var n,r=[],i=[],o=z[t+" "];if(!o){for(e||(e=C(t)),n=e.length;n--;)o=m(e[n]),o[N]?r.push(o):i.push(o);(o=z(t,v(i,r))).selector=t}return o},S=e.select=function(t,e,n,r){var i,o,a,s,u,d="function"==typeof t&&t,h=!r&&C(t=d.selector||t);if(n=n||[],1===h.length){if((o=h[0]=h[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&b.getById&&9===e.nodeType&&A&&x.relative[o[1].type]){if(!(e=(x.find.ID(a.matches[0].replace(bt,xt),e)||[])[0]))return n;d&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=ht.needsContext.test(t)?0:o.length;i--&&(a=o[i],!x.relative[s=a.type]);)if((u=x.find[s])&&(r=u(a.matches[0].replace(bt,xt),vt.test(o[0].type)&&l(e.parentNode)||e))){if(o.splice(i,1),!(t=r.length&&c(o)))return X.apply(n,r),n;break}}return(d||k(t,h))(r,e,!A,n,vt.test(t)&&l(e.parentNode)||e),n},b.sortStable=N.split("").sort(W).join("")===N,b.detectDuplicates=!!$,D(),b.sortDetached=i(function(t){return 1&t.compareDocumentPosition(E.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),b.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(tt,function(t,e,n){var r;return n?void 0:!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(t);Q.find=it,Q.expr=it.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=it.uniqueSort,Q.text=it.getText,Q.isXMLDoc=it.isXML,Q.contains=it.contains;var ot=Q.expr.match.needsContext,at=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,st=/^.[^:#\[\.,]*$/;Q.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?Q.find.matchesSelector(r,t)?[r]:[]:Q.find.matches(t,Q.grep(e,function(t){return 1===t.nodeType}))},Q.fn.extend({find:function(t){var e,n=this.length,r=[],i=this;if("string"!=typeof t)return this.pushStack(Q(t).filter(function(){for(e=0;n>e;e++)if(Q.contains(i[e],this))return!0}));for(e=0;n>e;e++)Q.find(t,i[e],r);return r=this.pushStack(n>1?Q.unique(r):r),r.selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&ot.test(t)?Q(t):t||[],!1).length}});var lt,ut=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(Q.fn.init=function(t,e){var n,r;if(!t)return this;if("string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ut.exec(t))||!n[1]&&e)return!e||e.jquery?(e||lt).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof Q?e[0]:e,Q.merge(this,Q.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:X,!0)),at.test(n[1])&&Q.isPlainObject(e))for(n in e)Q.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(r=X.getElementById(n[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=X,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):Q.isFunction(t)?void 0!==lt.ready?lt.ready(t):t(Q):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),Q.makeArray(t,this))}).prototype=Q.fn,lt=Q(X);var ct=/^(?:parents|prev(?:Until|All))/,dt={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&Q(t).is(n))break;r.push(t)}return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),Q.fn.extend({has:function(t){var e=Q(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(Q.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,r=0,i=this.length,o=[],a=ot.test(t)||"string"!=typeof t?Q(t,e||this.context):0;i>r;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Q.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?Q.unique(o):o)},index:function(t){return t?"string"==typeof t?U.call(Q(t),this[0]):U.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Q.unique(Q.merge(this.get(),Q(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Q.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Q.dir(t,"parentNode")},parentsUntil:function(t,e,n){return Q.dir(t,"parentNode",n)},next:function(t){return i(t,"nextSibling")},prev:function(t){return i(t,"previousSibling")},nextAll:function(t){return Q.dir(t,"nextSibling")},prevAll:function(t){return Q.dir(t,"previousSibling")},nextUntil:function(t,e,n){return Q.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return Q.dir(t,"previousSibling",n)},siblings:function(t){return Q.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Q.sibling(t.firstChild)},contents:function(t){return t.contentDocument||Q.merge([],t.childNodes)}},function(t,e){Q.fn[t]=function(n,r){var i=Q.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Q.filter(r,i)),this.length>1&&(dt[t]||Q.unique(i),ct.test(t)&&i.reverse()),this.pushStack(i)}});var ht=/\S+/g,ft={};Q.Callbacks=function(t){var e,n,r,i,a,s,l=[],u=!(t="string"==typeof t?ft[t]||o(t):Q.extend({},t)).once&&[],c=function(o){for(e=t.memory&&o,n=!0,s=i||0,i=0,a=l.length,r=!0;l&&a>s;s++)if(!1===l[s].apply(o[0],o[1])&&t.stopOnFalse){e=!1;break}r=!1,l&&(u?u.length&&c(u.shift()):e?l=[]:d.disable())},d={add:function(){if(l){var n=l.length;!function e(n){Q.each(n,function(n,r){var i=Q.type(r);"function"===i?t.unique&&d.has(r)||l.push(r):r&&r.length&&"string"!==i&&e(r)})}(arguments),r?a=l.length:e&&(i=n,c(e))}return this},remove:function(){return l&&Q.each(arguments,function(t,e){for(var n;(n=Q.inArray(e,l,n))>-1;)l.splice(n,1),r&&(a>=n&&a--,s>=n&&s--)}),this},has:function(t){return t?Q.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=u=e=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,e||d.disable(),this},locked:function(){return!u},fireWith:function(t,e){return!l||n&&!u||(e=e||[],e=[t,e.slice?e.slice():e],r?u.push(e):c(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},Q.extend({Deferred:function(t){var e=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Q.Deferred(function(n){Q.each(e,function(e,o){var a=Q.isFunction(t[e])&&t[e];i[o[1]](function(){var t=a&&a.apply(this,arguments);t&&Q.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?Q.extend(t,r):r}},i={};return r.pipe=r.then,Q.each(e,function(t,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,o=z.call(arguments),a=o.length,s=1!==a||t&&Q.isFunction(t.promise)?a:0,l=1===s?t:Q.Deferred(),u=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?z.call(arguments):i,r===e?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(e=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&Q.isFunction(o[i].promise)?o[i].promise().done(u(i,r,o)).fail(l.reject).progress(u(i,n,e)):--s;return s||l.resolveWith(r,o),l.promise()}});var pt;Q.fn.ready=function(t){return Q.ready.promise().done(t),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(t){t?Q.readyWait++:Q.ready(!0)},ready:function(t){(!0===t?--Q.readyWait:Q.isReady)||(Q.isReady=!0,!0!==t&&--Q.readyWait>0||(pt.resolveWith(X,[Q]),Q.fn.triggerHandler&&(Q(X).triggerHandler("ready"),Q(X).off("ready"))))}}),Q.ready.promise=function(e){return pt||(pt=Q.Deferred(),"complete"===X.readyState?setTimeout(Q.ready):(X.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1))),pt.promise(e)},Q.ready.promise();var gt=Q.access=function(t,e,n,r,i,o,a){var s=0,l=t.length,u=null==n;if("object"===Q.type(n)){i=!0;for(s in n)Q.access(t,e,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,Q.isFunction(r)||(a=!0),u&&(a?(e.call(t,r),e=null):(u=e,e=function(t,e,n){return u.call(Q(t),n)})),e))for(;l>s;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:u?e.call(t):l?e(t[0],n):o};Q.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},s.uid=1,s.accepts=Q.acceptData,s.prototype={key:function(t){if(!s.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=s.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(r){e[this.expando]=n,Q.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var r,i=this.key(t),o=this.cache[i];if("string"==typeof e)o[e]=n;else if(Q.isEmptyObject(o))Q.extend(this.cache[i],e);else for(r in e)o[r]=e[r];return o},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var r;return void 0===e||e&&"string"==typeof e&&void 0===n?(r=this.get(t,e),void 0!==r?r:this.get(t,Q.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r,i,o=this.key(t),a=this.cache[o];if(void 0===e)this.cache[o]={};else{Q.isArray(e)?r=e.concat(e.map(Q.camelCase)):(i=Q.camelCase(e),e in a?r=[e,i]:(r=i,r=r in a?[r]:r.match(ht)||[])),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(t){return!Q.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var mt=new s,vt=new s,yt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,bt=/([A-Z])/g;Q.extend({hasData:function(t){return vt.hasData(t)||mt.hasData(t)},data:function(t,e,n){return vt.access(t,e,n)},removeData:function(t,e){vt.remove(t,e)},_data:function(t,e,n){return mt.access(t,e,n)},_removeData:function(t,e){mt.remove(t,e)}}),Q.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=vt.get(o),1===o.nodeType&&!mt.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=Q.camelCase(r.slice(5)),l(o,r,i[r]));mt.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){vt.set(this,t)}):gt(this,function(e){var n,r=Q.camelCase(t);if(o&&void 0===e){if(void 0!==(n=vt.get(o,t)))return n;if(void 0!==(n=vt.get(o,r)))return n;if(void 0!==(n=l(o,r,void 0)))return n}else this.each(function(){var n=vt.get(this,r);vt.set(this,r,e),-1!==t.indexOf("-")&&void 0!==n&&vt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){vt.remove(this,t)})}}),Q.extend({queue:function(t,e,n){var r;return t?(e=(e||"fx")+"queue",r=mt.get(t,e),n&&(!r||Q.isArray(n)?r=mt.access(t,e,Q.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=Q.queue(t,e),r=n.length,i=n.shift(),o=Q._queueHooks(t,e),a=function(){Q.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return mt.get(t,n)||mt.access(t,n,{empty:Q.Callbacks("once memory").add(function(){mt.remove(t,[e+"queue",n])})})}}),Q.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?Q.queue(this[0],t):void 0===e?this:this.each(function(){var n=Q.queue(this,t,e);Q._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&Q.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Q.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=Q.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=mt.get(o[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var xt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_t=["Top","Right","Bottom","Left"],wt=function(t,e){return t=e||t,"none"===Q.css(t,"display")||!Q.contains(t.ownerDocument,t)},Ct=/^(?:checkbox|radio)$/i;!function(){var t=X.createDocumentFragment().appendChild(X.createElement("div")),e=X.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),J.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",J.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var kt="undefined";J.focusinBubbles="onfocusin"in t;var St=/^key/,Mt=/^(?:mouse|pointer|contextmenu)|click/,Tt=/^(?:focusinfocus|focusoutblur)$/,$t=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(t,e,n,r,i){var o,a,s,l,u,c,d,h,f,p,g,m=mt.get(t);if(m)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=Q.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(e){return typeof Q!==kt&&Q.event.triggered!==e.type?Q.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(ht)||[""]).length;u--;)s=$t.exec(e[u])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f&&(d=Q.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,d=Q.event.special[f]||{},c=Q.extend({type:f,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Q.expr.match.needsContext.test(i),namespace:p.join(".")},o),(h=l[f])||(h=l[f]=[],h.delegateCount=0,d.setup&&!1!==d.setup.call(t,r,p,a)||t.addEventListener&&t.addEventListener(f,a,!1)),d.add&&(d.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,c):h.push(c),Q.event.global[f]=!0)},remove:function(t,e,n,r,i){var o,a,s,l,u,c,d,h,f,p,g,m=mt.hasData(t)&&mt.get(t);if(m&&(l=m.events)){for(u=(e=(e||"").match(ht)||[""]).length;u--;)if(s=$t.exec(e[u])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f){for(d=Q.event.special[f]||{},h=l[f=(r?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)c=h[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(t,c));a&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,p,m.handle)||Q.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)Q.event.remove(t,f+e[u],n,r,!0);Q.isEmptyObject(l)&&(delete m.handle,mt.remove(t,"events"))}},trigger:function(e,n,r,i){var o,a,s,l,u,c,d,h=[r||X],f=K.call(e,"type")?e.type:e,p=K.call(e,"namespace")?e.namespace.split("."):[];if(a=s=r=r||X,3!==r.nodeType&&8!==r.nodeType&&!Tt.test(f+Q.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),u=f.indexOf(":")<0&&"on"+f,e=e[Q.expando]?e:new Q.Event(f,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:Q.makeArray(n,[e]),d=Q.event.special[f]||{},i||!d.trigger||!1!==d.trigger.apply(r,n))){if(!i&&!d.noBubble&&!Q.isWindow(r)){for(l=d.delegateType||f,Tt.test(l+f)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(r.ownerDocument||X)&&h.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=h[o++])&&!e.isPropagationStopped();)e.type=o>1?l:d.bindType||f,(c=(mt.get(a,"events")||{})[e.type]&&mt.get(a,"handle"))&&c.apply(a,n),(c=u&&a[u])&&c.apply&&Q.acceptData(a)&&(e.result=c.apply(a,n),!1===e.result&&e.preventDefault());return e.type=f,i||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(h.pop(),n)||!Q.acceptData(r)||u&&Q.isFunction(r[f])&&!Q.isWindow(r)&&((s=r[u])&&(r[u]=null),Q.event.triggered=f,r[f](),Q.event.triggered=void 0,s&&(r[u]=s)),e.result}},dispatch:function(t){t=Q.event.fix(t);var e,n,r,i,o,a=[],s=z.call(arguments),l=(mt.get(this,"events")||{})[t.type]||[],u=Q.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,t)){for(a=Q.event.handlers.call(this,t,l),e=0;(i=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,void 0!==(r=((Q.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(t.result=r)&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,o,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==t.type){for(r=[],n=0;s>n;n++)o=e[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?Q(i,this).index(l)>=0:Q.find(i,this,null,[l]).length),r[i]&&r.push(o);r.length&&a.push({elem:l,handlers:r})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||X,r=n.documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[Q.expando])return t;var e,n,r,i=t.type,o=t,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Mt.test(i)?this.mouseHooks:St.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,t=new Q.Event(o),e=r.length;e--;)n=r[e],t[n]=o[n];return t.target||(t.target=X),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==d()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Q.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return Q.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,r){var i=Q.extend(new Q.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?Q.event.trigger(i,null,e):Q.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},Q.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},Q.Event=function(t,e){return this instanceof Q.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?u:c):this.type=t,e&&Q.extend(this,e),this.timeStamp=t&&t.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(t,e)},Q.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=u,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=u,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=u,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Q.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return(!i||i!==r&&!Q.contains(r,i))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),J.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){Q.event.simulate(e,t.target,Q.event.fix(t),!0)};Q.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=mt.access(r,e);i||r.addEventListener(t,n,!0),mt.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=mt.access(r,e)-1;i?mt.access(r,e,i):(r.removeEventListener(t,n,!0),mt.remove(r,e))}}}),Q.fn.extend({on:function(t,e,n,r,i){var o,a;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(a in t)this.on(a,e,n,t[a],i);return this}if(null==n&&null==r?(r=e,n=e=void 0):null==r&&("string"==typeof e?(r=n,n=void 0):(r=n,n=e,e=void 0)),!1===r)r=c;else if(!r)return this;return 1===i&&(o=r,r=function(t){return Q().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=Q.guid++)),this.each(function(){Q.event.add(this,t,r,n,e)})},one:function(t,e,n,r){return this.on(t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,Q(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return(!1===e||"function"==typeof e)&&(n=e,e=void 0),!1===n&&(n=c),this.each(function(){Q.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){Q.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?Q.event.trigger(t,e,n,!0):void 0}});var Dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Et=/<([\w:]+)/,Lt=/<|&#?\w+;/,At=/<(?:script|style|link)/i,Ft=/checked\s*(?:[^=]|=\s*.checked.)/i,Pt=/^$|\/(?:java|ecma)script/i,Rt=/^true\/(.*)/,Ot=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Nt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Nt.optgroup=Nt.option,Nt.tbody=Nt.tfoot=Nt.colgroup=Nt.caption=Nt.thead,Nt.th=Nt.td,Q.extend({clone:function(t,e,n){var r,i,o,a,s=t.cloneNode(!0),l=Q.contains(t.ownerDocument,t);if(!(J.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Q.isXMLDoc(t)))for(a=v(s),o=v(t),r=0,i=o.length;i>r;r++)y(o[r],a[r]);if(e)if(n)for(o=o||v(t),a=a||v(s),r=0,i=o.length;i>r;r++)m(o[r],a[r]);else m(t,s);return(a=v(s,"script")).length>0&&g(a,!l&&v(t,"script")),s},buildFragment:function(t,e,n,r){for(var i,o,a,s,l,u,c=e.createDocumentFragment(),d=[],h=0,f=t.length;f>h;h++)if((i=t[h])||0===i)if("object"===Q.type(i))Q.merge(d,i.nodeType?[i]:i);else if(Lt.test(i)){for(o=o||c.appendChild(e.createElement("div")),a=(Et.exec(i)||["",""])[1].toLowerCase(),s=Nt[a]||Nt._default,o.innerHTML=s[1]+i.replace(Dt,"<$1></$2>")+s[2],u=s[0];u--;)o=o.lastChild;Q.merge(d,o.childNodes),(o=c.firstChild).textContent=""}else d.push(e.createTextNode(i));for(c.textContent="",h=0;i=d[h++];)if((!r||-1===Q.inArray(i,r))&&(l=Q.contains(i.ownerDocument,i),o=v(c.appendChild(i),"script"),l&&g(o),n))for(u=0;i=o[u++];)Pt.test(i.type||"")&&n.push(i);return c},cleanData:function(t){for(var e,n,r,i,o=Q.event.special,a=0;void 0!==(n=t[a]);a++){if(Q.acceptData(n)&&(i=n[mt.expando])&&(e=mt.cache[i])){if(e.events)for(r in e.events)o[r]?Q.event.remove(n,r):Q.removeEvent(n,r,e.handle);mt.cache[i]&&delete mt.cache[i]}delete vt.cache[n[vt.expando]]}}}),Q.fn.extend({text:function(t){return gt(this,function(t){return void 0===t?Q.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||h(this,t).appendChild(t)})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,r=t?Q.filter(t,this):this,i=0;null!=(n=r[i]);i++)e||1!==n.nodeType||Q.cleanData(v(n)),n.parentNode&&(e&&Q.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Q.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return Q.clone(this,t,e)})},html:function(t){return gt(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!At.test(t)&&!Nt[(Et.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Dt,"<$1></$2>");try{for(;r>n;n++)1===(e=this[n]||{}).nodeType&&(Q.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,Q.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=W.apply([],t);var n,r,i,o,a,s,l=0,u=this.length,c=this,d=u-1,h=t[0],g=Q.isFunction(h);if(g||u>1&&"string"==typeof h&&!J.checkClone&&Ft.test(h))return this.each(function(n){var r=c.eq(n);g&&(t[0]=h.call(this,n,r.html())),r.domManip(t,e)});if(u&&(n=Q.buildFragment(t,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(o=(i=Q.map(v(n,"script"),f)).length;u>l;l++)a=n,l!==d&&(a=Q.clone(a,!0,!0),o&&Q.merge(i,v(a,"script"))),e.call(this[l],a,l);if(o)for(s=i[i.length-1].ownerDocument,Q.map(i,p),l=0;o>l;l++)a=i[l],Pt.test(a.type||"")&&!mt.access(a,"globalEval")&&Q.contains(s,a)&&(a.src?Q._evalUrl&&Q._evalUrl(a.src):Q.globalEval(a.textContent.replace(Ot,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Q.fn[t]=function(t){for(var n,r=[],i=Q(t),o=i.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),Q(i[a])[e](n),B.apply(r,n.get());return this.pushStack(r)}});var It,Yt={},Vt=/^margin/,jt=new RegExp("^("+xt+")(?!px)[a-z%]+$","i"),Ht=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)};!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",i.appendChild(o);var e=t.getComputedStyle(a,null);n="1%"!==e.top,r="4px"===e.width,i.removeChild(o)}var n,r,i=X.documentElement,o=X.createElement("div"),a=X.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",J.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),t.getComputedStyle&&Q.extend(J,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==r&&e(),r},reliableMarginRight:function(){var e,n=a.appendChild(X.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",i.appendChild(o),e=!parseFloat(t.getComputedStyle(n,null).marginRight),i.removeChild(o),e}}))}(),Q.swap=function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=a[o];return i};var zt=/^(none|table(?!-c[ea]).+)/,Wt=new RegExp("^("+xt+")(.*)$","i"),Bt=new RegExp("^([+-])=("+xt+")","i"),Ut={position:"absolute",visibility:"hidden",display:"block"},Gt={letterSpacing:"0",fontWeight:"400"},qt=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=_(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=Q.camelCase(e),l=t.style;return e=Q.cssProps[s]||(Q.cssProps[s]=C(l,s)),a=Q.cssHooks[e]||Q.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:l[e]:("string"===(o=typeof n)&&(i=Bt.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(Q.css(t,e)),o="number"),void(null!=n&&n===n&&("number"!==o||Q.cssNumber[s]||(n+="px"),J.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(l[e]=n))))}},css:function(t,e,n,r){var i,o,a,s=Q.camelCase(e);return e=Q.cssProps[s]||(Q.cssProps[s]=C(t.style,s)),(a=Q.cssHooks[e]||Q.cssHooks[s])&&"get"in a&&(i=a.get(t,!0,n)),void 0===i&&(i=_(t,e,r)),"normal"===i&&e in Gt&&(i=Gt[e]),""===n||n?(o=parseFloat(i),!0===n||Q.isNumeric(o)?o||0:i):i}}),Q.each(["height","width"],function(t,e){Q.cssHooks[e]={get:function(t,n,r){return n?zt.test(Q.css(t,"display"))&&0===t.offsetWidth?Q.swap(t,Ut,function(){return M(t,e,r)}):M(t,e,r):void 0},set:function(t,n,r){var i=r&&Ht(t);return k(t,n,r?S(t,e,r,"border-box"===Q.css(t,"boxSizing",!1,i),i):0)}}}),Q.cssHooks.marginRight=w(J.reliableMarginRight,function(t,e){return e?Q.swap(t,{display:"inline-block"},_,[t,"marginRight"]):void 0}),Q.each({margin:"",padding:"",border:"Width"},function(t,e){Q.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[t+_t[r]+e]=o[r]||o[r-2]||o[0];return i}},Vt.test(t)||(Q.cssHooks[t+e].set=k)}),Q.fn.extend({css:function(t,e){return gt(this,function(t,e,n){var r,i,o={},a=0;if(Q.isArray(e)){for(r=Ht(t),i=e.length;i>a;a++)o[e[a]]=Q.css(t,e[a],!1,r);return o}return void 0!==n?Q.style(t,e,n):Q.css(t,e)},t,e,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){wt(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=$,$.prototype={constructor:$,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Q.cssNumber[n]?"":"px")},cur:function(){var t=$.propHooks[this.prop];return t&&t.get?t.get(this):$.propHooks._default.get(this)},run:function(t){var e,n=$.propHooks[this.prop];return this.pos=e=this.options.duration?Q.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):$.propHooks._default.set(this),this}},$.prototype.init.prototype=$.prototype,$.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Q.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Q.fx.step[t.prop]?Q.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Q.cssProps[t.prop]]||Q.cssHooks[t.prop])?Q.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},$.propHooks.scrollTop=$.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Q.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Q.fx=$.prototype.init,Q.fx.step={};var Kt,Jt,Xt=/^(?:toggle|show|hide)$/,Zt=new RegExp("^(?:([+-])=|)("+xt+")([a-z%]*)$","i"),Qt=/queueHooks$/,te=[A],ee={"*":[function(t,e){var n=this.createTween(t,e),r=n.cur(),i=Zt.exec(e),o=i&&i[3]||(Q.cssNumber[t]?"":"px"),a=(Q.cssNumber[t]||"px"!==o&&+r)&&Zt.exec(Q.css(n.elem,t)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do{s=s||".5",a/=s,Q.style(n.elem,t,a+o)}while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};Q.Animation=Q.extend(P,{tweener:function(t,e){Q.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,r=0,i=t.length;i>r;r++)n=t[r],ee[n]=ee[n]||[],ee[n].unshift(e)},prefilter:function(t,e){e?te.unshift(t):te.push(t)}}),Q.speed=function(t,e,n){var r=t&&"object"==typeof t?Q.extend({},t):{complete:n||!n&&e||Q.isFunction(t)&&t,duration:t,easing:n&&e||e&&!Q.isFunction(e)&&e};return r.duration=Q.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Q.fx.speeds?Q.fx.speeds[r.duration]:Q.fx.speeds._default,(null==r.queue||!0===r.queue)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Q.isFunction(r.old)&&r.old.call(this),r.queue&&Q.dequeue(this,r.queue)},r},Q.fn.extend({fadeTo:function(t,e,n,r){return this.filter(wt).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=Q.isEmptyObject(t),o=Q.speed(e,n,r),a=function(){var e=P(this,Q.extend({},t),o);(i||mt.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=Q.timers,a=mt.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&Qt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));(e||!n)&&Q.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=mt.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=Q.timers,a=r?r.length:0;for(n.finish=!0,Q.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;a>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),Q.each(["toggle","show","hide"],function(t,e){var n=Q.fn[e];Q.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(E(e,!0),t,r,i)}}),Q.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Q.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),Q.timers=[],Q.fx.tick=function(){var t,e=0,n=Q.timers;for(Kt=Q.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||Q.fx.stop(),Kt=void 0},Q.fx.timer=function(t){Q.timers.push(t),t()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Jt||(Jt=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Jt),Jt=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(t,e){return t=Q.fx?Q.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}})},function(){var t=X.createElement("input"),e=X.createElement("select"),n=e.appendChild(X.createElement("option"));t.type="checkbox",J.checkOn=""!==t.value,J.optSelected=n.selected,e.disabled=!0,J.optDisabled=!n.disabled,(t=X.createElement("input")).value="t",t.type="radio",J.radioValue="t"===t.value}();var ne,re=Q.expr.attrHandle;Q.fn.extend({attr:function(t,e){return gt(this,Q.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Q.removeAttr(this,t)})}}),Q.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===kt?Q.prop(t,e,n):(1===o&&Q.isXMLDoc(t)||(e=e.toLowerCase(),r=Q.attrHooks[e]||(Q.expr.match.bool.test(e)?ne:void 0)),void 0===n?r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=Q.find.attr(t,e),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):void Q.removeAttr(t,e))},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(ht);if(o&&1===t.nodeType)for(;n=o[i++];)r=Q.propFix[n]||n,Q.expr.match.bool.test(n)&&(t[r]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!J.radioValue&&"radio"===e&&Q.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),ne={set:function(t,e,n){return!1===e?Q.removeAttr(t,n):t.setAttribute(n,n),n}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(t,e){var n=re[e]||Q.find.attr;re[e]=function(t,e,r){var i,o;return r||(o=re[e],re[e]=i,i=null!=n(t,e,r)?e.toLowerCase():null,re[e]=o),i}});var ie=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(t,e){return gt(this,Q.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Q.propFix[t]||t]})}}),Q.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,e,n){var r,i,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return(1!==o||!Q.isXMLDoc(t))&&(e=Q.propFix[e]||e,i=Q.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||ie.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),J.optSelected||(Q.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var oe=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(t){var e,n,r,i,o,a,s="string"==typeof t&&t,l=0,u=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).addClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(ht)||[];u>l;l++)if(n=this[l],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(oe," "):" ")){for(o=0;i=e[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=Q.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,r,i,o,a,s=0===arguments.length||"string"==typeof t&&t,l=0,u=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).removeClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(ht)||[];u>l;l++)if(n=this[l],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(oe," "):"")){for(o=0;i=e[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=t?Q.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(Q.isFunction(t)?function(n){Q(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,r=0,i=Q(this),o=t.match(ht)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else(n===kt||"boolean"===n)&&(this.className&&mt.set(this,"__className__",this.className),this.className=this.className||!1===t?"":mt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(oe," ").indexOf(e)>=0)return!0;return!1}});var ae=/\r/g;Q.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=Q.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,Q(this).val()):t,null==i?i="":"number"==typeof i?i+="":Q.isArray(i)&&(i=Q.map(i,function(t){return null==t?"":t+""})),(e=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))})):i?(e=Q.valHooks[i.type]||Q.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ae,""):null==n?"":n)):void 0}}),Q.extend({valHooks:{option:{get:function(t){var e=Q.find.attr(t,"value");return null!=e?e:Q.trim(Q.text(t))}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;s>l;l++)if(!(!(n=r[l]).selected&&l!==i||(J.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Q.nodeName(n.parentNode,"optgroup"))){if(e=Q(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,r,i=t.options,o=Q.makeArray(e),a=i.length;a--;)r=i[a],(r.selected=Q.inArray(r.value,o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(t,e){return Q.isArray(e)?t.checked=Q.inArray(Q(t).val(),e)>=0:void 0}},J.checkOn||(Q.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Q.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),Q.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var se=Q.now(),le=/\?/;Q.parseJSON=function(t){return JSON.parse(t+"")},Q.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(t){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&Q.error("Invalid XML: "+t),e};var ue,ce,de=/#.*$/,he=/([?&])_=[^&]*/,fe=/^(.*?):[ \t]*([^\r\n]*)$/gm,pe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ge=/^(?:GET|HEAD)$/,me=/^\/\//,ve=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ye={},be={},xe="*/".concat("*");try{ce=location.href}catch(t){(ce=X.createElement("a")).href="",ce=ce.href}ue=ve.exec(ce.toLowerCase())||[],Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ce,type:"GET",isLocal:pe.test(ue[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?N(N(t,Q.ajaxSettings),e):N(Q.ajaxSettings,t)},ajaxPrefilter:R(ye),ajaxTransport:R(be),ajax:function(t,e){function n(t,e,n,a){var l,c,v,y,x,w=e;2!==b&&(b=2,s&&clearTimeout(s),r=void 0,o=a||"",_.readyState=t>0?4:0,l=t>=200&&300>t||304===t,n&&(y=I(d,_,n)),y=Y(d,y,_,l),l?(d.ifModified&&((x=_.getResponseHeader("Last-Modified"))&&(Q.lastModified[i]=x),(x=_.getResponseHeader("etag"))&&(Q.etag[i]=x)),204===t||"HEAD"===d.type?w="nocontent":304===t?w="notmodified":(w=y.state,c=y.data,v=y.error,l=!v)):(v=w,(t||!w)&&(w="error",0>t&&(t=0))),_.status=t,_.statusText=(e||w)+"",l?p.resolveWith(h,[c,w,_]):p.rejectWith(h,[_,w,v]),_.statusCode(m),m=void 0,u&&f.trigger(l?"ajaxSuccess":"ajaxError",[_,d,l?c:v]),g.fireWith(h,[_,w]),u&&(f.trigger("ajaxComplete",[_,d]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,o,a,s,l,u,c,d=Q.ajaxSetup({},e),h=d.context||d,f=d.context&&(h.nodeType||h.jquery)?Q(h):Q.event,p=Q.Deferred(),g=Q.Callbacks("once memory"),m=d.statusCode||{},v={},y={},b=0,x="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!a)for(a={};e=fe.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=y[n]=y[n]||t,v[t]=e),this},overrideMimeType:function(t){return b||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)m[e]=[m[e],t[e]];else _.always(t[_.status]);return this},abort:function(t){var e=t||x;return r&&r.abort(e),n(0,e),this}};if(p.promise(_).complete=g.add,_.success=_.done,_.error=_.fail,d.url=((t||d.url||ce)+"").replace(de,"").replace(me,ue[1]+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=Q.trim(d.dataType||"*").toLowerCase().match(ht)||[""],null==d.crossDomain&&(l=ve.exec(d.url.toLowerCase()),d.crossDomain=!(!l||l[1]===ue[1]&&l[2]===ue[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(ue[3]||("http:"===ue[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=Q.param(d.data,d.traditional)),O(ye,d,e,_),2===b)return _;(u=d.global)&&0==Q.active++&&Q.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!ge.test(d.type),i=d.url,d.hasContent||(d.data&&(i=d.url+=(le.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=he.test(i)?i.replace(he,"$1_="+se++):i+(le.test(i)?"&":"?")+"_="+se++)),d.ifModified&&(Q.lastModified[i]&&_.setRequestHeader("If-Modified-Since",Q.lastModified[i]),Q.etag[i]&&_.setRequestHeader("If-None-Match",Q.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&_.setRequestHeader("Content-Type",d.contentType),_.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+xe+"; q=0.01":""):d.accepts["*"]);for(c in d.headers)_.setRequestHeader(c,d.headers[c]);if(d.beforeSend&&(!1===d.beforeSend.call(h,_,d)||2===b))return _.abort();x="abort";for(c in{success:1,error:1,complete:1})_[c](d[c]);if(r=O(be,d,e,_)){_.readyState=1,u&&f.trigger("ajaxSend",[_,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){_.abort("timeout")},d.timeout));try{b=1,r.send(v,n)}catch(t){if(!(2>b))throw t;n(-1,t)}}else n(-1,"No Transport");return _},getJSON:function(t,e,n){return Q.get(t,e,n,"json")},getScript:function(t,e){return Q.get(t,void 0,e,"script")}}),Q.each(["get","post"],function(t,e){Q[e]=function(t,n,r,i){return Q.isFunction(n)&&(i=i||r,r=n,n=void 0),Q.ajax({url:t,type:e,dataType:i,data:n,success:r})}}),Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Q.fn[e]=function(t){return this.on(e,t)}}),Q._evalUrl=function(t){return Q.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},Q.fn.extend({wrapAll:function(t){var e;return Q.isFunction(t)?this.each(function(e){Q(this).wrapAll(t.call(this,e))}):(this[0]&&(e=Q(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return this.each(Q.isFunction(t)?function(e){Q(this).wrapInner(t.call(this,e))}:function(){var e=Q(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=Q.isFunction(t);return this.each(function(n){Q(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Q.expr.filters.visible=function(t){return!Q.expr.filters.hidden(t)};var _e=/%20/g,we=/\[\]$/,Ce=/\r?\n/g,ke=/^(?:submit|button|image|reset|file)$/i,Se=/^(?:input|select|textarea|keygen)/i;Q.param=function(t,e){var n,r=[],i=function(t,e){e=Q.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(t)||t.jquery&&!Q.isPlainObject(t))Q.each(t,function(){i(this.name,this.value)});else for(n in t)V(n,t[n],e,i);return r.join("&").replace(_e,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Q.prop(this,"elements");return t?Q.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Q(this).is(":disabled")&&Se.test(this.nodeName)&&!ke.test(t)&&(this.checked||!Ct.test(t))}).map(function(t,e){var n=Q(this).val();return null==n?null:Q.isArray(n)?Q.map(n,function(t){return{name:e.name,value:t.replace(Ce,"\r\n")}}):{name:e.name,value:n.replace(Ce,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Me=0,Te={},$e={0:200,1223:204},De=Q.ajaxSettings.xhr();t.ActiveXObject&&Q(t).on("unload",function(){for(var t in Te)Te[t]()}),J.cors=!!De&&"withCredentials"in De,J.ajax=De=!!De,Q.ajaxTransport(function(t){var e;return J.cors||De&&!t.crossDomain?{send:function(n,r){var i,o=t.xhr(),a=++Me;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)o[i]=t.xhrFields[i];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);e=function(t){return function(){e&&(delete Te[a],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?r(o.status,o.statusText):r($e[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=Te[a]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}:void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return Q.globalEval(t),t}}}),Q.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Q.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=Q("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),X.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Ee=[],Le=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ee.pop()||Q.expando+"_"+se++;return this[t]=!0,t}}),Q.ajaxPrefilter("json jsonp",function(e,n,r){var i,o,a,s=!1!==e.jsonp&&(Le.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Le.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=Q.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Le,"$1"+i):!1!==e.jsonp&&(e.url+=(le.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||Q.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){a=arguments},r.always(function(){t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,Ee.push(i)),a&&Q.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),Q.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||X;var r=at.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=Q.buildFragment([t],e,i),i&&i.length&&Q(i).remove(),Q.merge([],r.childNodes))};var Ae=Q.fn.load;Q.fn.load=function(t,e,n){if("string"!=typeof t&&Ae)return Ae.apply(this,arguments);var r,i,o,a=this,s=t.indexOf(" ");return s>=0&&(r=Q.trim(t.slice(s)),t=t.slice(0,s)),Q.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&Q.ajax({url:t,type:i,dataType:"html",data:e}).done(function(t){o=arguments,a.html(r?Q("<div>").append(Q.parseHTML(t)).find(r):t)}).complete(n&&function(t,e){a.each(n,o||[t.responseText,e,t])}),this},Q.expr.filters.animated=function(t){return Q.grep(Q.timers,function(e){return t===e.elem}).length};var Fe=t.document.documentElement;Q.offset={setOffset:function(t,e,n){var r,i,o,a,s,l,u=Q.css(t,"position"),c=Q(t),d={};"static"===u&&(t.style.position="relative"),s=c.offset(),o=Q.css(t,"top"),l=Q.css(t,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(r=c.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),Q.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(d.top=e.top-s.top+a),null!=e.left&&(d.left=e.left-s.left+i),"using"in e?e.using.call(t,d):c.css(d)}},Q.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Q.offset.setOffset(this,t,e)});var e,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;return o?(e=o.documentElement,Q.contains(e,r)?(typeof r.getBoundingClientRect!==kt&&(i=r.getBoundingClientRect()),n=j(o),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i):void 0},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===Q.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Q.nodeName(t[0],"html")||(r=t.offset()),r.top+=Q.css(t[0],"borderTopWidth",!0),r.left+=Q.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-Q.css(n,"marginTop",!0),left:e.left-r.left-Q.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Fe;t&&!Q.nodeName(t,"html")&&"static"===Q.css(t,"position");)t=t.offsetParent;return t||Fe})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r="pageYOffset"===n;Q.fn[e]=function(i){return gt(this,function(e,i,o){var a=j(e);return void 0===o?a?a[n]:e[i]:void(a?a.scrollTo(r?t.pageXOffset:o,r?o:t.pageYOffset):e[i]=o)},e,i,arguments.length,null)}}),Q.each(["top","left"],function(t,e){Q.cssHooks[e]=w(J.pixelPosition,function(t,n){return n?(n=_(t,e),jt.test(n)?Q(t).position()[e]+"px":n):void 0})}),Q.each({Height:"height",Width:"width"},function(t,e){Q.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){Q.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return gt(this,function(e,n,r){var i;return Q.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===r?Q.css(e,n,a):Q.style(e,n,r,a)},e,o?r:void 0,o,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var Pe=t.jQuery,Re=t.$;return Q.noConflict=function(e){return t.$===Q&&(t.$=Re),e&&t.jQuery===Q&&(t.jQuery=Pe),Q},typeof e===kt&&(t.jQuery=t.$=Q),Q}),function(){function t(t,e){return t.set(e[0],e[1]),t}function e(t,e){return t.add(e),t}function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function r(t,e,n,r){for(var i=-1,o=t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function i(t,e){for(var n=-1,r=t.length,i=-1,o=e.length,a=Array(r+o);++n<r;)a[n]=t[n];for(;++i<o;)a[n++]=e[i];return a}function o(t,e){for(var n=-1,r=t.length;++n<r&&!1!==e(t[n],n,t););return t}function a(t,e){for(var n=t.length;n--&&!1!==e(t[n],n,t););return t}function s(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function l(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function u(t,e){return!!t.length&&b(t,e,0)>-1}function c(t,e,n){for(var r=-1,i=t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function d(t,e){for(var n=-1,r=t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function h(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function f(t,e,n,r){var i=-1,o=t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function p(t,e,n,r){var i=t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function g(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function m(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(s===J?a===a:n(a,s)))var s=a,l=o}return l}function v(t,e,n,r){var i;return n(t,function(t,n,o){if(e(t,n,o))return i=r?n:t,!1}),i}function y(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function b(t,e,n){if(e!==e)return Y(t,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function x(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function _(t,e){var n=t?t.length:0;return n?k(t,e)/n:kt}function w(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function C(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function k(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==J&&(n=n===J?o:n+o)}return n}function S(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function M(t,e){return d(e,function(e){return[e,t[e]]})}function T(t){return function(e){return t(e)}}function $(t,e){return d(e,function(e){return t[e]})}function D(t,e){for(var n=-1,r=t.length;++n<r&&b(e,t[n],0)>-1;);return n}function E(t,e){for(var n=t.length;n--&&b(e,t[n],0)>-1;);return n}function L(t){return t&&t.Object===Object?t:null}function A(t,e){if(t!==e){var n=null===t,r=t===J,i=t===t,o=null===e,a=e===J,s=e===e;if(t>e&&!o||!i||n&&!a&&s||r&&s)return 1;if(t<e&&!n||!s||o&&!r&&i||a&&i)return-1}return 0}function F(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=A(i[r],o[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return t.index-e.index}function P(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&r++;return r}function R(t){return function(e,n){var r;return e===J&&n===J?0:(e!==J&&(r=e),n!==J&&(r=r===J?n:t(r,n)),r)}}function O(t){return nn[t]}function N(t){return rn[t]}function I(t){return"\\"+sn[t]}function Y(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}function V(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function j(t,e){return t="number"==typeof t||$e.test(t)?+t:-1,e=null==e?wt:e,t>-1&&t%1==0&&t<e}function H(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function z(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function W(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==et||(t[n]=et,o[i++]=n)}return o}function B(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function U(t){if(!t||!qe.test(t))return t.length;for(var e=Ge.lastIndex=0;Ge.test(t);)e++;return e}function G(t){return t.match(Ge)}function q(t){return on[t]}function K(L){function $e(t){if(es(t)&&!zc(t)&&!(t instanceof Pe)){if(t instanceof Fe)return t;if(su.call(t,"__wrapped__"))return Ui(t)}return new Fe(t)}function Ae(){}function Fe(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=J}function Pe(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=St,this.__views__=[]}function Re(){var t=new Pe(this.__wrapped__);return t.__actions__=Ur(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ur(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ur(this.__views__),t}function Oe(){if(this.__filtered__){var t=new Pe(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t}function Ne(){var t=this.__wrapped__.value(),e=this.__dir__,n=zc(t),r=e<0,i=n?t.length:0,o=$i(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=r?s:a-1,c=this.__iteratees__,d=c.length,h=0,f=Au(l,this.__takeCount__);if(!n||i<Z||i==l&&f==l)return Fr(t,this.__actions__);var p=[];t:for(;l--&&h<f;){for(var g=-1,m=t[u+=e];++g<d;){var v=c[g],y=v.iteratee,b=v.type,x=y(m);if(b==bt)m=x;else if(!x){if(b==yt)continue t;break t}}p[h++]=m}return p}function Ie(){}function Ye(t,e){return je(t,e)&&delete t[e]}function Ve(t,e){if(ju){var n=t[e];return n===tt?J:n}return su.call(t,e)?t[e]:J}function je(t,e){return ju?t[e]!==J:su.call(t,e)}function He(t,e,n){t[e]=ju&&n===J?tt:n}function ze(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function We(){this.__data__={hash:new Ie,map:Nu?new Nu:[],string:new Ie}}function Be(t){var e=this.__data__;return Oi(t)?Ye("string"==typeof t?e.string:e.hash,t):Nu?e.map.delete(t):bn(e.map,t)}function Ge(t){var e=this.__data__;return Oi(t)?Ve("string"==typeof t?e.string:e.hash,t):Nu?e.map.get(t):xn(e.map,t)}function nn(t){var e=this.__data__;return Oi(t)?je("string"==typeof t?e.string:e.hash,t):Nu?e.map.has(t):_n(e.map,t)}function rn(t,e){var n=this.__data__;return Oi(t)?He("string"==typeof t?n.string:n.hash,t,e):Nu?n.map.set(t,e):Cn(n.map,t,e),this}function on(t){var e=-1,n=t?t.length:0;for(this.__data__=new ze;++e<n;)this.push(t[e])}function an(t,e){var n=t.__data__;if(Oi(e)){var r=n.__data__;return("string"==typeof e?r.string:r.hash)[e]===tt}return n.has(e)}function sn(t){var e=this.__data__;if(Oi(t)){var n=e.__data__;("string"==typeof t?n.string:n.hash)[t]=tt}else e.set(t,tt)}function cn(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function dn(){this.__data__={array:[],map:null}}function fn(t){var e=this.__data__,n=e.array;return n?bn(n,t):e.map.delete(t)}function pn(t){var e=this.__data__,n=e.array;return n?xn(n,t):e.map.get(t)}function gn(t){var e=this.__data__,n=e.array;return n?_n(n,t):e.map.has(t)}function mn(t,e){var n=this.__data__,r=n.array;r&&(r.length<Z-1?Cn(r,t,e):(n.array=null,n.map=new ze(r)));var i=n.map;return i&&i.set(t,e),this}function bn(t,e){var n=wn(t,e);return!(n<0)&&(n==t.length-1?t.pop():ku.call(t,n,1),!0)}function xn(t,e){var n=wn(t,e);return n<0?J:t[n][1]}function _n(t,e){return wn(t,e)>-1}function wn(t,e){for(var n=t.length;n--;)if(Oa(t[n][0],e))return n;return-1}function Cn(t,e,n){var r=wn(t,e);r<0?t.push([e,n]):t[r][1]=n}function kn(t,e,n,r){return t===J||Oa(t,ou[n])&&!su.call(r,n)?e:t}function Sn(t,e,n){(n===J||Oa(t[e],n))&&("number"!=typeof e||n!==J||e in t)||(t[e]=n)}function Mn(t,e,n){var r=t[e];su.call(t,e)&&Oa(r,n)&&(n!==J||e in t)||(t[e]=n)}function Tn(t,e,n,r){return Qu(t,function(t,i,o){e(r,t,n(t),o)}),r}function $n(t,e){return t&&Gr(e,js(e),t)}function Dn(t,e){for(var n=-1,r=null==t,i=e.length,o=Array(i);++n<i;)o[n]=r?J:Is(t,e[n]);return o}function En(t){return Ha(t)?t:[]}function Ln(t){return"function"==typeof t?t:Al}function An(t){return"string"==typeof t||gs(t)?t:t+""}function Fn(t){return zc(t)?t:uc(t)}function Pn(t,e,n){return t===t&&(n!==J&&(t=t<=n?t:n),e!==J&&(t=t>=e?t:e)),t}function Rn(t,e,n,r,i,a,s){var l;if(r&&(l=a?r(t,i,a,s):r(t)),l!==J)return l;if(!ts(t))return t;var u=zc(t);if(u){if(l=Ei(t),!e)return Ur(t,l)}else{var c=Ti(t),d=c==Ft||c==Pt;if(Wc(t))return Or(t,e);if(c==Nt||c==$t||d&&!a){if(V(t))return a?t:{};if(l=Li(d?{}:t),!e)return Kr(t,$n(l,t))}else{if(!en[c])return a?t:{};l=Ai(t,c,Rn,e)}}s||(s=new cn);var h=s.get(t);if(h)return h;if(s.set(t,l),!u)var f=n?yi(t):js(t);return o(f||t,function(i,o){f&&(i=t[o=i]),Mn(l,o,Rn(i,e,n,r,o,t,s))}),l}function On(t){var e=js(t),n=e.length;return function(r){if(null==r)return!n;for(var i=n;i--;){var o=e[i],a=t[o],s=r[o];if(s===J&&!(o in Object(r))||!a(s))return!1}return!0}}function Nn(t){return ts(t)?_u(t):{}}function In(t,e,n){if("function"!=typeof t)throw new ru(Q);return Cu(function(){t.apply(J,n)},e)}function Yn(t,e,n,r){var i=-1,o=u,a=!0,s=t.length,l=[],h=e.length;if(!s)return l;n&&(e=d(e,T(n))),r?(o=c,a=!1):e.length>=Z&&(o=an,a=!1,e=new on(e));t:for(;++i<s;){var f=t[i],p=n?n(f):f;if(a&&p===p){for(var g=h;g--;)if(e[g]===p)continue t;l.push(f)}else o(e,p,r)||l.push(f)}return l}function Vn(t,e){var n=!0;return Qu(t,function(t,r,i){return n=!!e(t,r,i)}),n}function jn(t,e,n,r){var i=t.length;for((n=Cs(n))<0&&(n=-n>i?0:i+n),(r=r===J||r>i?i:Cs(r))<0&&(r+=i),r=n>r?0:ks(r);n<r;)t[n++]=e;return t}function Hn(t,e){var n=[];return Qu(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function zn(t,e,n,r){r||(r=[]);for(var i=-1,o=t.length;++i<o;){var a=t[i];e>0&&Ha(a)&&(n||zc(a)||Ya(a))?e>1?zn(a,e-1,n,r):h(r,a):n||(r[r.length]=a)}return r}function Wn(t,e){return t&&ec(t,e,js)}function Bn(t,e){return t&&nc(t,e,js)}function Un(t,e){return l(e,function(e){return Xa(t[e])})}function Gn(t,e){for(var n=0,r=(e=Ri(e,t)?[e]:Fn(e)).length;null!=t&&n<r;)t=t[e[n++]];return n&&n==r?t:J}function qn(t,e,n){var r=e(t);return zc(t)?r:h(r,n(t))}function Kn(t,e){return su.call(t,e)||"object"==typeof t&&e in t&&null===Si(t)}function Jn(t,e){return e in Object(t)}function Xn(t,e,n){return t>=Au(e,n)&&t<Lu(e,n)}function Zn(t,e,n){for(var r=n?c:u,i=t[0].length,o=t.length,a=o,s=Array(o),l=1/0,h=[];a--;){var f=t[a];a&&e&&(f=d(f,T(e))),l=Au(f.length,l),s[a]=!n&&(e||i>=120&&f.length>=120)?new on(a&&f):J}f=t[0];var p=-1,g=s[0];t:for(;++p<i&&h.length<l;){var m=f[p],v=e?e(m):m;if(!(g?an(g,v):r(h,v,n))){for(a=o;--a;){var y=s[a];if(!(y?an(y,v):r(t[a],v,n)))continue t}g&&g.push(v),h.push(m)}}return h}function Qn(t,e,n,r){return Wn(t,function(t,i,o){e(r,n(t),i,o)}),r}function tr(t,e,r){Ri(e,t)||(t=zi(t,e=Fn(e)),e=ho(e));var i=null==t?t:t[e];return null==i?J:n(i,t,r)}function er(t,e,n,r,i){return t===e||(null==t||null==e||!ts(t)&&!es(e)?t!==t&&e!==e:nr(t,e,er,n,r,i))}function nr(t,e,n,r,i,o){var a=zc(t),s=zc(e),l=Dt,u=Dt;a||(l=(l=Ti(t))==$t?Nt:l),s||(u=(u=Ti(e))==$t?Nt:u);var c=l==Nt&&!V(t),d=u==Nt&&!V(e),h=l==u;if(h&&!c)return o||(o=new cn),a||ms(t)?gi(t,e,n,r,i,o):mi(t,e,l,n,r,i,o);if(!(i&ft)){var f=c&&su.call(t,"__wrapped__"),p=d&&su.call(e,"__wrapped__");if(f||p){var g=f?t.value():t,m=p?e.value():e;return o||(o=new cn),n(g,m,r,i,o)}}return!!h&&(o||(o=new cn),vi(t,e,n,r,i,o))}function rr(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var l=(s=n[i])[0],u=t[l],c=s[1];if(a&&s[2]){if(u===J&&!(l in t))return!1}else{var d=new cn;if(r)var h=r(u,c,l,t,e,d);if(!(h===J?er(c,u,r,ht|ft,d):h))return!1}}return!0}function ir(t){return"function"==typeof t?t:null==t?Al:"object"==typeof t?zc(t)?ur(t[0],t[1]):lr(t):Vl(t)}function or(t){return Eu(Object(t))}function ar(t){t=null==t?t:Object(t);var e=[];for(var n in t)e.push(n);return e}function sr(t,e){var n=-1,r=ja(t)?Array(t.length):[];return Qu(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function lr(t){var e=wi(t);return 1==e.length&&e[0][2]?Vi(e[0][0],e[0][1]):function(n){return n===t||rr(n,t,e)}}function ur(t,e){return Ri(t)&&Yi(e)?Vi(t,e):function(n){var r=Is(n,t);return r===J&&r===e?Vs(n,t):er(e,r,J,ht|ft)}}function cr(t,e,n,r,i){if(t!==e){if(!zc(e)&&!ms(e))var a=Hs(e);o(a||e,function(o,s){if(a&&(o=e[s=o]),ts(o))i||(i=new cn),dr(t,e,s,n,cr,r,i);else{var l=r?r(t[s],o,s+"",t,e,i):J;l===J&&(l=o),Sn(t,s,l)}})}}function dr(t,e,n,r,i,o,a){var s=t[n],l=e[n],u=a.get(l);if(u)Sn(t,n,u);else{var c=o?o(s,l,n+"",t,e,a):J,d=c===J;d&&(c=l,zc(l)||ms(l)?zc(s)?c=s:Ha(s)?c=Ur(s):(d=!1,c=Rn(l,!0)):cs(l)||Ya(l)?Ya(s)?c=Ms(s):!ts(s)||r&&Xa(s)?(d=!1,c=Rn(l,!0)):c=s:d=!1),a.set(l,c),d&&i(c,l,r,o,a),a.delete(l),Sn(t,n,c)}}function hr(t,e,n){var r=-1;return e=d(e.length?e:[Al],_i()),C(sr(t,function(t,n,i){return{criteria:d(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return F(t,e,n)})}function fr(t,e){return t=Object(t),f(e,function(e,n){return n in t&&(e[n]=t[n]),e},{})}function pr(t,e){for(var n=-1,r=bi(t),i=r.length,o={};++n<i;){var a=r[n],s=t[a];e(s,a)&&(o[a]=s)}return o}function gr(t){return function(e){return null==e?J:e[t]}}function mr(t){return function(e){return Gn(e,t)}}function vr(t,e,n,r){var i=r?x:b,o=-1,a=e.length,s=t;for(n&&(s=d(t,T(n)));++o<a;)for(var l=0,u=e[o],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==t&&ku.call(s,l,1),ku.call(t,l,1);return t}function yr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(r==n||i!=o){var o=i;if(j(i))ku.call(t,i,1);else if(Ri(i,t))delete t[i];else{var a=Fn(i),s=zi(t,a);null!=s&&delete s[ho(a)]}}}return t}function br(t,e){return t+Mu(Pu()*(e-t+1))}function xr(t,e,n,r){for(var i=-1,o=Lu(Su((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}function _r(t,e){var n="";if(!t||e<1||e>wt)return n;do{e%2&&(n+=t),(e=Mu(e/2))&&(t+=t)}while(e);return n}function wr(t,e,n,r){for(var i=-1,o=(e=Ri(e,t)?[e]:Fn(e)).length,a=o-1,s=t;null!=s&&++i<o;){var l=e[i];if(ts(s)){var u=n;if(i!=a){var c=s[l];(u=r?r(c,l,s):J)===J&&(u=null==c?j(e[i+1])?[]:{}:c)}Mn(s,l,u)}s=s[l]}return t}function Cr(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}function kr(t,e){var n;return Qu(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function Sr(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&i<=Tt){for(;r<i;){var o=r+i>>>1,a=t[o];(n?a<=e:a<e)&&null!==a?r=o+1:i=o}return i}return Mr(t,e,Al,n)}function Mr(t,e,n,r){e=n(e);for(var i=0,o=t?t.length:0,a=e!==e,s=null===e,l=e===J;i<o;){var u=Mu((i+o)/2),c=n(t[u]),d=c!==J,h=c===c;if(a)var f=h||r;else f=s?h&&d&&(r||null!=c):l?h&&(r||d):null!=c&&(r?c<=e:c<e);f?i=u+1:o=u}return Au(o,Mt)}function Tr(t){return $r(t)}function $r(t,e){for(var n=0,r=t.length,i=t[0],o=e?e(i):i,a=o,s=1,l=[i];++n<r;)i=t[n],Oa(o=e?e(i):i,a)||(a=o,l[s++]=i);return l}function Dr(t,e,n){var r=-1,i=u,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=c;else if(o>=Z){var d=e?null:ic(t);if(d)return B(d);a=!1,i=an,l=new on}else l=e?[]:s;t:for(;++r<o;){var h=t[r],f=e?e(h):h;if(a&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue t;e&&l.push(f),s.push(h)}else i(l,f,n)||(l!==s&&l.push(f),s.push(h))}return s}function Er(t,e){t=zi(t,e=Ri(e,t)?[e]:Fn(e));var n=ho(e);return null==t||!Ys(t,n)||delete t[n]}function Lr(t,e,n,r){return wr(t,e,n(Gn(t,e)),r)}function Ar(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Cr(t,r?0:o,r?o+1:i):Cr(t,r?o+1:0,r?i:o)}function Fr(t,e){var n=t;return n instanceof Pe&&(n=n.value()),f(e,function(t,e){return e.func.apply(e.thisArg,h([t],e.args))},n)}function Pr(t,e,n){for(var r=-1,i=t.length;++r<i;)var o=o?h(Yn(o,t[r],e,n),Yn(t[r],o,e,n)):t[r];return o&&o.length?Dr(o,e,n):[]}function Rr(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:J;n(a,t[r],s)}return a}function Or(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}function Nr(t){var e=new t.constructor(t.byteLength);return new mu(e).set(new mu(t)),e}function Ir(t,e){var n=e?Nr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Yr(e,n,r){return f(n?r(z(e),!0):z(e),t,new e.constructor)}function Vr(t){var e=new t.constructor(t.source,we.exec(t));return e.lastIndex=t.lastIndex,e}function jr(t,n,r){return f(n?r(B(t),!0):B(t),e,new t.constructor)}function Hr(t){return Xu?Object(Xu.call(t)):{}}function zr(t,e){var n=e?Nr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Wr(t,e,n,r){for(var i=-1,o=t.length,a=n.length,s=-1,l=e.length,u=Lu(o-a,0),c=Array(l+u),d=!r;++s<l;)c[s]=e[s];for(;++i<a;)(d||i<o)&&(c[n[i]]=t[i]);for(;u--;)c[s++]=t[i++];return c}function Br(t,e,n,r){for(var i=-1,o=t.length,a=-1,s=n.length,l=-1,u=e.length,c=Lu(o-s,0),d=Array(c+u),h=!r;++i<c;)d[i]=t[i];for(var f=i;++l<u;)d[f+l]=e[l];for(;++a<s;)(h||i<o)&&(d[f+n[a]]=t[i++]);return d}function Ur(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function Gr(t,e,n){return qr(t,e,n)}function qr(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i];Mn(n,a,r?r(n[a],t[a],a,n,t):t[a])}return n}function Kr(t,e){return Gr(t,Mi(t),e)}function Jr(t,e){return function(n,i){var o=zc(n)?r:Tn,a=e?e():{};return o(n,t,_i(i),a)}}function Xr(t){return Ma(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:J,a=i>2?n[2]:J;for(o="function"==typeof o?(i--,o):J,a&&Pi(n[0],n[1],a)&&(o=i<3?J:o,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}function Zr(t,e){return function(n,r){if(null==n)return n;if(!ja(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Qr(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}function ti(t,e,n){function r(){return(this&&this!==vn&&this instanceof r?o:t).apply(i?n:this,arguments)}var i=e&nt,o=ri(t);return r}function ei(t){return function(e){e=$s(e);var n=qe.test(e)?G(e):J,r=n?n[0]:e.charAt(0),i=n?n.slice(1).join(""):e.slice(1);return r[t]()+i}}function ni(t){return function(e){return f($l(ll(e)),t,"")}}function ri(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Nn(t.prototype),r=t.apply(n,e);return ts(r)?r:n}}function ii(t,e,r){function i(){for(var a=arguments.length,s=Array(a),l=a,u=ki(i);l--;)s[l]=arguments[l];var c=a<3&&s[0]!==u&&s[a-1]!==u?[]:W(s,u);return(a-=c.length)<r?hi(t,e,ai,i.placeholder,J,s,c,J,J,r-a):n(this&&this!==vn&&this instanceof i?o:t,this,s)}var o=ri(t);return i}function oi(t){return Ma(function(e){var n=(e=zn(e,1)).length,r=n,i=Fe.prototype.thru;for(t&&e.reverse();r--;){var o=e[r];if("function"!=typeof o)throw new ru(Q);if(i&&!a&&"wrapper"==xi(o))var a=new Fe([],!0)}for(r=a?r:n;++r<n;){var s=xi(o=e[r]),l="wrapper"==s?oc(o):J;a=l&&Ni(l[0])&&l[1]==(ut|ot|st|ct)&&!l[4].length&&1==l[9]?a[xi(l[0])].apply(a,l[3]):1==o.length&&Ni(o)?a[s]():a.thru(o)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&zc(r)&&r.length>=Z)return a.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function ai(t,e,n,r,i,o,a,s,l,u){function c(){for(var v=arguments.length,y=v,b=Array(v);y--;)b[y]=arguments[y];if(p)var x=ki(c),_=P(b,x);if(r&&(b=Wr(b,r,i,p)),o&&(b=Br(b,o,a,p)),v-=_,p&&v<u){var w=W(b,x);return hi(t,e,ai,c.placeholder,n,b,w,s,l,u-v)}var C=h?n:this,k=f?C[t]:t;return v=b.length,s?b=Wi(b,s):g&&v>1&&b.reverse(),d&&l<v&&(b.length=l),this&&this!==vn&&this instanceof c&&(k=m||ri(k)),k.apply(C,b)}var d=e&ut,h=e&nt,f=e&rt,p=e&(ot|at),g=e&dt,m=f?J:ri(t);return c}function si(t,e){return function(n,r){return Qn(n,t,e(r),{})}}function li(t){return Ma(function(e){return e=d(e,_i()),Ma(function(r){var i=this;return t(e,function(t){return n(t,i,r)})})})}function ui(t,e){var n=(e=e===J?" ":e+"").length;if(n<2)return n?_r(e,t):e;var r=_r(e,Su(t/U(e)));return qe.test(e)?G(r).slice(0,t).join(""):r.slice(0,t)}function ci(t,e,r,i){function o(){for(var e=-1,l=arguments.length,u=-1,c=i.length,d=Array(c+l),h=this&&this!==vn&&this instanceof o?s:t;++u<c;)d[u]=i[u];for(;l--;)d[u++]=arguments[++e];return n(h,a?r:this,d)}var a=e&nt,s=ri(t);return o}function di(t){return function(e,n,r){return r&&"number"!=typeof r&&Pi(e,n,r)&&(n=r=J),e=Ss(e),e=e===e?e:0,n===J?(n=e,e=0):n=Ss(n)||0,r=r===J?e<n?1:-1:Ss(r)||0,xr(e,n,r,t)}}function hi(t,e,n,r,i,o,a,s,l,u){var c=e&ot,d=s?Ur(s):J,h=c?a:J,f=c?J:a,p=c?o:J,g=c?J:o;e|=c?st:lt,(e&=~(c?lt:st))&it||(e&=~(nt|rt));var m=[t,e,i,p,h,g,f,d,l,u],v=n.apply(J,m);return Ni(t)&&lc(v,m),v.placeholder=r,v}function fi(t){var e=eu[t];return function(t,n){if(t=Ss(t),n=Cs(n)){var r=($s(t)+"e").split("e");return+((r=($s(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}function pi(t,e,n,r,i,o,a,s){var l=e&rt;if(!l&&"function"!=typeof t)throw new ru(Q);var u=r?r.length:0;if(u||(e&=~(st|lt),r=i=J),a=a===J?a:Lu(Cs(a),0),s=s===J?s:Cs(s),u-=i?i.length:0,e&lt){var c=r,d=i;r=i=J}var h=l?J:oc(t),f=[t,e,n,r,i,c,d,o,a,s];if(h&&ji(f,h),t=f[0],e=f[1],n=f[2],r=f[3],i=f[4],!(s=f[9]=null==f[9]?l?0:t.length:Lu(f[9]-u,0))&&e&(ot|at)&&(e&=~(ot|at)),e&&e!=nt)p=e==ot||e==at?ii(t,e,s):e!=st&&e!=(nt|st)||i.length?ai.apply(J,f):ci(t,e,n,r);else var p=ti(t,e,n);return(h?rc:lc)(p,f)}function gi(t,e,n,r,i,o){var a=-1,s=i&ft,l=i&ht,u=t.length,c=e.length;if(u!=c&&!(s&&c>u))return!1;var d=o.get(t);if(d)return d==e;var h=!0;for(o.set(t,e);++a<u;){var f=t[a],p=e[a];if(r)var m=s?r(p,f,a,e,t,o):r(f,p,a,t,e,o);if(m!==J){if(m)continue;h=!1;break}if(l){if(!g(e,function(t){return f===t||n(f,t,r,i,o)})){h=!1;break}}else if(f!==p&&!n(f,p,r,i,o)){h=!1;break}}return o.delete(t),h}function mi(t,e,n,r,i,o,a){switch(n){case Ut:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Bt:return!(t.byteLength!=e.byteLength||!r(new mu(t),new mu(e)));case Et:case Lt:return+t==+e;case At:return t.name==e.name&&t.message==e.message;case Ot:return t!=+t?e!=+e:t==+e;case Yt:case jt:return t==e+"";case Rt:var s=z;case Vt:var l=o&ft;if(s||(s=B),t.size!=e.size&&!l)return!1;var u=a.get(t);return u?u==e:(o|=ht,a.set(t,e),gi(s(t),s(e),r,i,o,a));case Ht:if(Xu)return Xu.call(t)==Xu.call(e)}return!1}function vi(t,e,n,r,i,o){var a=i&ft,s=js(t),l=s.length;if(l!=js(e).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in e:Kn(e,c)))return!1}var d=o.get(t);if(d)return d==e;var h=!0;o.set(t,e);for(var f=a;++u<l;){var p=t[c=s[u]],g=e[c];if(r)var m=a?r(g,p,c,e,t,o):r(p,g,c,t,e,o);if(!(m===J?p===g||n(p,g,r,i,o):m)){h=!1;break}f||(f="constructor"==c)}if(h&&!f){var v=t.constructor,y=e.constructor;v!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y)&&(h=!1)}return o.delete(t),h}function yi(t){return qn(t,js,Mi)}function bi(t){return qn(t,Hs,sc)}function xi(t){for(var e=t.name+"",n=Wu[e],r=su.call(Wu,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function _i(){var t=$e.iteratee||Fl;return t=t===Fl?ir:t,arguments.length?t(arguments[0],arguments[1]):t}function wi(t){for(var e=Js(t),n=e.length;n--;)e[n][2]=Yi(e[n][1]);return e}function Ci(t,e){var n=t[e];return as(n)?n:J}function ki(t){return(su.call($e,"placeholder")?$e:t).placeholder}function Si(t){return Tu(Object(t))}function Mi(t){return bu(Object(t))}function Ti(t){return cu.call(t)}function $i(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Au(e,t+a);break;case"takeRight":t=Lu(t,e-a)}}return{start:t,end:e}}function Di(t,e,n){for(var r,i=-1,o=(e=Ri(e,t)?[e]:Fn(e)).length;++i<o;){var a=e[i];if(!(r=null!=t&&n(t,a)))break;t=t[a]}return r||!!(o=t?t.length:0)&&Qa(o)&&j(a,o)&&(zc(t)||ps(t)||Ya(t))}function Ei(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&su.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Li(t){return"function"!=typeof t.constructor||Ii(t)?{}:Nn(Si(t))}function Ai(t,e,n,r){var i=t.constructor;switch(e){case Bt:return Nr(t);case Et:case Lt:return new i(+t);case Ut:return Ir(t,r);case Gt:case qt:case Kt:case Jt:case Xt:case Zt:case Qt:case te:case ee:return zr(t,r);case Rt:return Yr(t,r,n);case Ot:case jt:return new i(t);case Yt:return Vr(t);case Vt:return jr(t,r,n);case Ht:return Hr(t)}}function Fi(t){var e=t?t.length:J;return Qa(e)&&(zc(t)||ps(t)||Ya(t))?S(e,String):null}function Pi(t,e,n){if(!ts(n))return!1;var r=typeof e;return!!("number"==r?ja(n)&&j(e,n.length):"string"==r&&e in n)&&Oa(n[e],t)}function Ri(t,e){var n=typeof t;return"number"==n||"symbol"==n||!zc(t)&&(gs(t)||fe.test(t)||!he.test(t)||null!=e&&t in Object(e))}function Oi(t){var e=typeof t;return"number"==e||"boolean"==e||"string"==e&&"__proto__"!=t||null==t}function Ni(t){var e=xi(t),n=$e[e];if("function"!=typeof n||!(e in Pe.prototype))return!1;if(t===n)return!0;var r=oc(n);return!!r&&t===r[0]}function Ii(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ou)}function Yi(t){return t===t&&!ts(t)}function Vi(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==J||t in Object(n)))}}function ji(t,e){var n=t[1],r=e[1],i=n|r,o=i<(nt|rt|ut),a=r==ut&&n==ot||r==ut&&n==ct&&t[7].length<=e[8]||r==(ut|ct)&&e[7].length<=e[8]&&n==ot;if(!o&&!a)return t;r&nt&&(t[2]=e[2],i|=n&nt?0:it);var s=e[3];if(s){var l=t[3];t[3]=l?Wr(l,s,e[4]):Ur(s),t[4]=l?W(t[3],et):Ur(e[4])}return(s=e[5])&&(l=t[5],t[5]=l?Br(l,s,e[6]):Ur(s),t[6]=l?W(t[5],et):Ur(e[6])),(s=e[7])&&(t[7]=Ur(s)),r&ut&&(t[8]=null==t[8]?e[8]:Au(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Hi(t,e,n,r,i,o){return ts(t)&&ts(e)&&cr(t,e,J,Hi,o.set(e,t)),t}function zi(t,e){return 1==e.length?t:Gn(t,Cr(e,0,-1))}function Wi(t,e){for(var n=t.length,r=Au(e.length,n),i=Ur(t);r--;){var o=e[r];t[r]=j(o,n)?i[o]:J}return t}function Bi(t){if(Xa(t))try{return au.call(t)}catch(t){}return $s(t)}function Ui(t){if(t instanceof Pe)return t.clone();var e=new Fe(t.__wrapped__,t.__chain__);return e.__actions__=Ur(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Gi(t,e,n){e=(n?Pi(t,e,n):e===J)?1:Lu(Cs(e),0);var r=t?t.length:0;if(!r||e<1)return[];for(var i=0,o=0,a=Array(Su(r/e));i<r;)a[o++]=Cr(t,i,i+=e);return a}function qi(t){for(var e=-1,n=t?t.length:0,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}function Ki(){var t=arguments.length,e=La(arguments[0]);if(t<2)return t?Ur(e):[];for(var n=Array(t-1);t--;)n[t-1]=arguments[t];return i(e,zn(n,1))}function Ji(t,e,n){var r=t?t.length:0;return r?(e=n||e===J?1:Cs(e),Cr(t,e<0?0:e,r)):[]}function Xi(t,e,n){var r=t?t.length:0;return r?(e=n||e===J?1:Cs(e),e=r-e,Cr(t,0,e<0?0:e)):[]}function Zi(t,e){return t&&t.length?Ar(t,_i(e,3),!0,!0):[]}function Qi(t,e){return t&&t.length?Ar(t,_i(e,3),!0):[]}function to(t,e,n,r){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Pi(t,e,n)&&(n=0,r=i),jn(t,e,n,r)):[]}function eo(t,e){return t&&t.length?y(t,_i(e,3)):-1}function no(t,e){return t&&t.length?y(t,_i(e,3),!0):-1}function ro(t){return(t?t.length:0)?zn(t,1):[]}function io(t){return(t?t.length:0)?zn(t,_t):[]}function oo(t,e){return(t?t.length:0)?(e=e===J?1:Cs(e),zn(t,e)):[]}function ao(t){for(var e=-1,n=t?t.length:0,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function so(t){return t?t[0]:J}function lo(t,e,n){var r=t?t.length:0;return r?((n=Cs(n))<0&&(n=Lu(r+n,0)),b(t,e,n)):-1}function uo(t){return Xi(t,1)}function co(t,e){return t?Du.call(t,e):""}function ho(t){var e=t?t.length:0;return e?t[e-1]:J}function fo(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if(n!==J&&(i=((i=Cs(n))<0?Lu(r+i,0):Au(i,r-1))+1),e!==e)return Y(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1}function po(t,e){return t&&t.length&&e&&e.length?vr(t,e):t}function go(t,e,n){return t&&t.length&&e&&e.length?vr(t,e,_i(n)):t}function mo(t,e,n){return t&&t.length&&e&&e.length?vr(t,e,J,n):t}function vo(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=_i(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return yr(t,i),n}function yo(t){return t?Ru.call(t):t}function bo(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Pi(t,e,n)?(e=0,n=r):(e=null==e?0:Cs(e),n=n===J?r:Cs(n)),Cr(t,e,n)):[]}function xo(t,e){return Sr(t,e)}function _o(t,e,n){return Mr(t,e,_i(n))}function wo(t,e){var n=t?t.length:0;if(n){var r=Sr(t,e);if(r<n&&Oa(t[r],e))return r}return-1}function Co(t,e){return Sr(t,e,!0)}function ko(t,e,n){return Mr(t,e,_i(n),!0)}function So(t,e){if(t?t.length:0){var n=Sr(t,e,!0)-1;if(Oa(t[n],e))return n}return-1}function Mo(t){return t&&t.length?Tr(t):[]}function To(t,e){return t&&t.length?$r(t,_i(e)):[]}function $o(t){return Ji(t,1)}function Do(t,e,n){return t&&t.length?(e=n||e===J?1:Cs(e),Cr(t,0,e<0?0:e)):[]}function Eo(t,e,n){var r=t?t.length:0;return r?(e=n||e===J?1:Cs(e),e=r-e,Cr(t,e<0?0:e,r)):[]}function Lo(t,e){return t&&t.length?Ar(t,_i(e,3),!1,!0):[]}function Ao(t,e){return t&&t.length?Ar(t,_i(e,3)):[]}function Fo(t){return t&&t.length?Dr(t):[]}function Po(t,e){return t&&t.length?Dr(t,_i(e)):[]}function Ro(t,e){return t&&t.length?Dr(t,J,e):[]}function Oo(t){if(!t||!t.length)return[];var e=0;return t=l(t,function(t){if(Ha(t))return e=Lu(t.length,e),!0}),S(e,function(e){return d(t,gr(e))})}function No(t,e){if(!t||!t.length)return[];var r=Oo(t);return null==e?r:d(r,function(t){return n(e,J,t)})}function Io(t,e){return Rr(t||[],e||[],Mn)}function Yo(t,e){return Rr(t||[],e||[],wr)}function Vo(t){var e=$e(t);return e.__chain__=!0,e}function jo(t,e){return e(t),t}function Ho(t,e){return e(t)}function zo(){return Vo(this)}function Wo(){return new Fe(this.value(),this.__chain__)}function Bo(){this.__values__===J&&(this.__values__=ws(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?J:this.__values__[this.__index__++]}}function Uo(){return this}function Go(t){for(var e,n=this;n instanceof Ae;){var r=Ui(n);r.__index__=0,r.__values__=J,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e}function qo(){var t=this.__wrapped__;if(t instanceof Pe){var e=t;return this.__actions__.length&&(e=new Pe(this)),(e=e.reverse()).__actions__.push({func:Ho,args:[yo],thisArg:J}),new Fe(e,this.__chain__)}return this.thru(yo)}function Ko(){return Fr(this.__wrapped__,this.__actions__)}function Jo(t,e,n){var r=zc(t)?s:Vn;return n&&Pi(t,e,n)&&(e=J),r(t,_i(e,3))}function Xo(t,e){return(zc(t)?l:Hn)(t,_i(e,3))}function Zo(t,e){if(e=_i(e,3),zc(t)){var n=y(t,e);return n>-1?t[n]:J}return v(t,e,Qu)}function Qo(t,e){if(e=_i(e,3),zc(t)){var n=y(t,e,!0);return n>-1?t[n]:J}return v(t,e,tc)}function ta(t,e){return zn(aa(t,e),1)}function ea(t,e){return zn(aa(t,e),_t)}function na(t,e,n){return n=n===J?1:Cs(n),zn(aa(t,e),n)}function ra(t,e){return"function"==typeof e&&zc(t)?o(t,e):Qu(t,_i(e))}function ia(t,e){return"function"==typeof e&&zc(t)?a(t,e):tc(t,_i(e))}function oa(t,e,n,r){t=ja(t)?t:nl(t),n=n&&!r?Cs(n):0;var i=t.length;return n<0&&(n=Lu(i+n,0)),ps(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&b(t,e,n)>-1}function aa(t,e){return(zc(t)?d:sr)(t,_i(e,3))}function sa(t,e,n,r){return null==t?[]:(zc(e)||(e=null==e?[]:[e]),n=r?J:n,zc(n)||(n=null==n?[]:[n]),hr(t,e,n))}function la(t,e,n){var r=zc(t)?f:w,i=arguments.length<3;return r(t,_i(e,4),n,i,Qu)}function ua(t,e,n){var r=zc(t)?p:w,i=arguments.length<3;return r(t,_i(e,4),n,i,tc)}function ca(t,e){var n=zc(t)?l:Hn;return e=_i(e,3),n(t,function(t,n,r){return!e(t,n,r)})}function da(t){var e=ja(t)?t:nl(t),n=e.length;return n>0?e[br(0,n-1)]:J}function ha(t,e,n){var r=-1,i=ws(t),o=i.length,a=o-1;for(e=(n?Pi(t,e,n):e===J)?1:Pn(Cs(e),0,o);++r<e;){var s=br(r,a),l=i[s];i[s]=i[r],i[r]=l}return i.length=e,i}function fa(t){return ha(t,St)}function pa(t){if(null==t)return 0;if(ja(t)){var e=t.length;return e&&ps(t)?U(t):e}if(es(t)){var n=Ti(t);if(n==Rt||n==Vt)return t.size}return js(t).length}function ga(t,e,n){var r=zc(t)?g:kr;return n&&Pi(t,e,n)&&(e=J),r(t,_i(e,3))}function ma(t,e){if("function"!=typeof e)throw new ru(Q);return t=Cs(t),function(){if(--t<1)return e.apply(this,arguments)}}function va(t,e,n){return e=n?J:e,e=t&&null==e?t.length:e,pi(t,ut,J,J,J,J,e)}function ya(t,e){var n;if("function"!=typeof e)throw new ru(Q);return t=Cs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=J),n}}function ba(t,e,n){var r=pi(t,ot,J,J,J,J,J,e=n?J:e);return r.placeholder=ba.placeholder,r}function xa(t,e,n){var r=pi(t,at,J,J,J,J,J,e=n?J:e);return r.placeholder=xa.placeholder,r}function _a(t,e,n){function r(e){var n=h,r=f;return h=f=J,v=e,p=t.apply(r,n)}function i(t){return v=t,g=Cu(s,e),y?r(t):p}function o(t){var n=t-v,r=e-(t-m);return!1===b?r:Au(r,b-n)}function a(t){var n=t-m,r=t-v;return!m||n>=e||n<0||!1!==b&&r>=b}function s(){var t=Pc();if(a(t))return l(t);g=Cu(s,o(t))}function l(t){return vu(g),g=J,x&&h?r(t):(h=f=J,p)}function u(){g!==J&&vu(g),m=v=0,h=f=g=J}function c(){return g===J?p:l(Pc())}function d(){var t=Pc(),n=a(t);return h=arguments,f=this,m=t,n?g===J?i(m):(vu(g),g=Cu(s,e),r(m)):p}var h,f,p,g,m=0,v=0,y=!1,b=!1,x=!0;if("function"!=typeof t)throw new ru(Q);return e=Ss(e)||0,ts(n)&&(y=!!n.leading,b="maxWait"in n&&Lu(Ss(n.maxWait)||0,e),x="trailing"in n?!!n.trailing:x),d.cancel=u,d.flush=c,d}function wa(t){return pi(t,dt)}function Ca(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new ru(Q);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(Ca.Cache||ze),n}function ka(t){if("function"!=typeof t)throw new ru(Q);return function(){return!t.apply(this,arguments)}}function Sa(t){return ya(2,t)}function Ma(t,e){if("function"!=typeof t)throw new ru(Q);return e=Lu(e===J?t.length-1:Cs(e),0),function(){for(var r=arguments,i=-1,o=Lu(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,r[0],a);case 2:return t.call(this,r[0],r[1],a)}var s=Array(e+1);for(i=-1;++i<e;)s[i]=r[i];return s[e]=a,n(t,this,s)}}function Ta(t,e){if("function"!=typeof t)throw new ru(Q);return e=e===J?0:Lu(Cs(e),0),Ma(function(r){var i=r[e],o=r.slice(0,e);return i&&h(o,i),n(t,this,o)})}function $a(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new ru(Q);return ts(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),_a(t,e,{leading:r,maxWait:e,trailing:i})}function Da(t){return va(t,1)}function Ea(t,e){return e=null==e?Al:e,Vc(e,t)}function La(){if(!arguments.length)return[];var t=arguments[0];return zc(t)?t:[t]}function Aa(t){return Rn(t,!1,!0)}function Fa(t,e){return Rn(t,!1,!0,e)}function Pa(t){return Rn(t,!0,!0)}function Ra(t,e){return Rn(t,!0,!0,e)}function Oa(t,e){return t===e||t!==t&&e!==e}function Na(t,e){return t>e}function Ia(t,e){return t>=e}function Ya(t){return Ha(t)&&su.call(t,"callee")&&(!wu.call(t,"callee")||cu.call(t)==$t)}function Va(t){return es(t)&&cu.call(t)==Bt}function ja(t){return null!=t&&Qa(ac(t))&&!Xa(t)}function Ha(t){return es(t)&&ja(t)}function za(t){return!0===t||!1===t||es(t)&&cu.call(t)==Et}function Wa(t){return es(t)&&cu.call(t)==Lt}function Ba(t){return!!t&&1===t.nodeType&&es(t)&&!cs(t)}function Ua(t){if(ja(t)&&(zc(t)||ps(t)||Xa(t.splice)||Ya(t)||Wc(t)))return!t.length;if(es(t)){var e=Ti(t);if(e==Rt||e==Vt)return!t.size}for(var n in t)if(su.call(t,n))return!1;return!(zu&&js(t).length)}function Ga(t,e){return er(t,e)}function qa(t,e,n){var r=(n="function"==typeof n?n:J)?n(t,e):J;return r===J?er(t,e,n):!!r}function Ka(t){return!!es(t)&&(cu.call(t)==At||"string"==typeof t.message&&"string"==typeof t.name)}function Ja(t){return"number"==typeof t&&$u(t)}function Xa(t){var e=ts(t)?cu.call(t):"";return e==Ft||e==Pt}function Za(t){return"number"==typeof t&&t==Cs(t)}function Qa(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=wt}function ts(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function es(t){return!!t&&"object"==typeof t}function ns(t){return es(t)&&Ti(t)==Rt}function rs(t,e){return t===e||rr(t,e,wi(e))}function is(t,e,n){return n="function"==typeof n?n:J,rr(t,e,wi(e),n)}function os(t){return us(t)&&t!=+t}function as(t){return!!ts(t)&&(Xa(t)||V(t)?hu:Me).test(Bi(t))}function ss(t){return null===t}function ls(t){return null==t}function us(t){return"number"==typeof t||es(t)&&cu.call(t)==Ot}function cs(t){if(!es(t)||cu.call(t)!=Nt||V(t))return!1;var e=Si(t);if(null===e)return!0;var n=su.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&au.call(n)==uu}function ds(t){return ts(t)&&cu.call(t)==Yt}function hs(t){return Za(t)&&t>=-wt&&t<=wt}function fs(t){return es(t)&&Ti(t)==Vt}function ps(t){return"string"==typeof t||!zc(t)&&es(t)&&cu.call(t)==jt}function gs(t){return"symbol"==typeof t||es(t)&&cu.call(t)==Ht}function ms(t){return es(t)&&Qa(t.length)&&!!tn[cu.call(t)]}function vs(t){return t===J}function ys(t){return es(t)&&Ti(t)==zt}function bs(t){return es(t)&&cu.call(t)==Wt}function xs(t,e){return t<e}function _s(t,e){return t<=e}function ws(t){if(!t)return[];if(ja(t))return ps(t)?G(t):Ur(t);if(xu&&t[xu])return H(t[xu]());var e=Ti(t);return(e==Rt?z:e==Vt?B:nl)(t)}function Cs(t){if(!t)return 0===t?t:0;if((t=Ss(t))===_t||t===-_t)return(t<0?-1:1)*Ct;var e=t%1;return t===t?e?t-e:t:0}function ks(t){return t?Pn(Cs(t),0,St):0}function Ss(t){if("number"==typeof t)return t;if(gs(t))return kt;if(ts(t)){var e=Xa(t.valueOf)?t.valueOf():t;t=ts(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(ve,"");var n=Se.test(t);return n||Te.test(t)?un(t.slice(2),n?2:8):ke.test(t)?kt:+t}function Ms(t){return Gr(t,Hs(t))}function Ts(t){return Pn(Cs(t),-wt,wt)}function $s(t){if("string"==typeof t)return t;if(null==t)return"";if(gs(t))return Zu?Zu.call(t):"";var e=t+"";return"0"==e&&1/t==-_t?"-0":e}function Ds(t,e){var n=Nn(t);return e?$n(n,e):n}function Es(t,e){return v(t,_i(e,3),Wn,!0)}function Ls(t,e){return v(t,_i(e,3),Bn,!0)}function As(t,e){return null==t?t:ec(t,_i(e),Hs)}function Fs(t,e){return null==t?t:nc(t,_i(e),Hs)}function Ps(t,e){return t&&Wn(t,_i(e))}function Rs(t,e){return t&&Bn(t,_i(e))}function Os(t){return null==t?[]:Un(t,js(t))}function Ns(t){return null==t?[]:Un(t,Hs(t))}function Is(t,e,n){var r=null==t?J:Gn(t,e);return r===J?n:r}function Ys(t,e){return null!=t&&Di(t,e,Kn)}function Vs(t,e){return null!=t&&Di(t,e,Jn)}function js(t){var e=Ii(t);if(!e&&!ja(t))return or(t);var n=Fi(t),r=!!n,i=n||[],o=i.length;for(var a in t)!Kn(t,a)||r&&("length"==a||j(a,o))||e&&"constructor"==a||i.push(a);return i}function Hs(t){for(var e=-1,n=Ii(t),r=ar(t),i=r.length,o=Fi(t),a=!!o,s=o||[],l=s.length;++e<i;){var u=r[e];a&&("length"==u||j(u,l))||"constructor"==u&&(n||!su.call(t,u))||s.push(u)}return s}function zs(t,e){var n={};return e=_i(e,3),Wn(t,function(t,r,i){n[e(t,r,i)]=t}),n}function Ws(t,e){var n={};return e=_i(e,3),Wn(t,function(t,r,i){n[r]=e(t,r,i)}),n}function Bs(t,e){return e=_i(e),pr(t,function(t,n){return!e(t,n)})}function Us(t,e){return null==t?{}:pr(t,_i(e))}function Gs(t,e,n){var r=-1,i=(e=Ri(e,t)?[e]:Fn(e)).length;for(i||(t=J,i=1);++r<i;){var o=null==t?J:t[e[r]];o===J&&(r=i,o=n),t=Xa(o)?o.call(t):o}return t}function qs(t,e,n){return null==t?t:wr(t,e,n)}function Ks(t,e,n,r){return r="function"==typeof r?r:J,null==t?t:wr(t,e,n,r)}function Js(t){return M(t,js(t))}function Xs(t){return M(t,Hs(t))}function Zs(t,e,n){var r=zc(t)||ms(t);if(e=_i(e,4),null==n)if(r||ts(t)){var i=t.constructor;n=r?zc(t)?new i:[]:Xa(i)?Nn(Si(t)):{}}else n={};return(r?o:Wn)(t,function(t,r,i){return e(n,t,r,i)}),n}function Qs(t,e){return null==t||Er(t,e)}function tl(t,e,n){return null==t?t:Lr(t,e,Ln(n))}function el(t,e,n,r){return r="function"==typeof r?r:J,null==t?t:Lr(t,e,Ln(n),r)}function nl(t){return t?$(t,js(t)):[]}function rl(t){return null==t?[]:$(t,Hs(t))}function il(t,e,n){return n===J&&(n=e,e=J),n!==J&&(n=(n=Ss(n))===n?n:0),e!==J&&(e=(e=Ss(e))===e?e:0),Pn(Ss(t),e,n)}function ol(t,e,n){return e=Ss(e)||0,n===J?(n=e,e=0):n=Ss(n)||0,t=Ss(t),Xn(t,e,n)}function al(t,e,n){if(n&&"boolean"!=typeof n&&Pi(t,e,n)&&(e=n=J),n===J&&("boolean"==typeof e?(n=e,e=J):"boolean"==typeof t&&(n=t,t=J)),t===J&&e===J?(t=0,e=1):(t=Ss(t)||0,e===J?(e=t,t=0):e=Ss(e)||0),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Pu();return Au(t+i*(e-t+ln("1e-"+((i+"").length-1))),e)}return br(t,e)}function sl(t){return hd($s(t).toLowerCase())}function ll(t){return(t=$s(t))&&t.replace(De,O).replace(Ue,"")}function ul(t,e,n){t=$s(t),e="string"==typeof e?e:e+"";var r=t.length;return n=n===J?r:Pn(Cs(n),0,r),(n-=e.length)>=0&&t.indexOf(e,n)==n}function cl(t){return t=$s(t),t&&le.test(t)?t.replace(ae,N):t}function dl(t){return t=$s(t),t&&me.test(t)?t.replace(ge,"\\$&"):t}function hl(t,e,n){t=$s(t);var r=(e=Cs(e))?U(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return ui(Mu(i),n)+t+ui(Su(i),n)}function fl(t,e,n){t=$s(t);var r=(e=Cs(e))?U(t):0;return e&&r<e?t+ui(e-r,n):t}function pl(t,e,n){t=$s(t);var r=(e=Cs(e))?U(t):0;return e&&r<e?ui(e-r,n)+t:t}function gl(t,e,n){return n||null==e?e=0:e&&(e=+e),t=$s(t).replace(ve,""),Fu(t,e||(Ce.test(t)?16:10))}function ml(t,e,n){return e=(n?Pi(t,e,n):e===J)?1:Cs(e),_r($s(t),e)}function vl(){var t=arguments,e=$s(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function yl(t,e,n){return $s(t).split(e,n)}function bl(t,e,n){return t=$s(t),n=Pn(Cs(n),0,t.length),t.lastIndexOf(e,n)==n}function xl(t,e,n){var r=$e.templateSettings;n&&Pi(t,e,n)&&(e=J),t=$s(t),e=Gc({},e,r,kn);var i,o,a=Gc({},e.imports,r.imports,kn),s=js(a),l=$(a,s),u=0,c=e.interpolate||Ee,d="__p += '",h=nu((e.escape||Ee).source+"|"+c.source+"|"+(c===de?_e:Ee).source+"|"+(e.evaluate||Ee).source+"|$","g"),f="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Qe+"]")+"\n";t.replace(h,function(e,n,r,a,s,l){return r||(r=a),d+=t.slice(u,l).replace(Le,I),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),s&&(o=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+e.length,e}),d+="';\n";var p=e.variable;p||(d="with (obj) {\n"+d+"\n}\n"),d=(o?d.replace(ne,""):d).replace(re,"$1").replace(ie,"$1;"),d="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=fd(function(){return Function(s,f+"return "+d).apply(J,l)});if(g.source=d,Ka(g))throw g;return g}function _l(t){return $s(t).toLowerCase()}function wl(t){return $s(t).toUpperCase()}function Cl(t,e,n){if(!(t=$s(t)))return t;if(n||e===J)return t.replace(ve,"");if(!(e+=""))return t;var r=G(t),i=G(e);return r.slice(D(r,i),E(r,i)+1).join("")}function kl(t,e,n){if(!(t=$s(t)))return t;if(n||e===J)return t.replace(be,"");if(!(e+=""))return t;var r=G(t);return r.slice(0,E(r,G(e))+1).join("")}function Sl(t,e,n){if(!(t=$s(t)))return t;if(n||e===J)return t.replace(ye,"");if(!(e+=""))return t;var r=G(t);return r.slice(D(r,G(e))).join("")}function Ml(t,e){var n=pt,r=gt;if(ts(e)){var i="separator"in e?e.separator:i;n="length"in e?Cs(e.length):n,r="omission"in e?$s(e.omission):r}var o=(t=$s(t)).length;if(qe.test(t)){var a=G(t);o=a.length}if(n>=o)return t;var s=n-U(r);if(s<1)return r;var l=a?a.slice(0,s).join(""):t.slice(0,s);if(i===J)return l+r;if(a&&(s+=l.length-s),ds(i)){if(t.slice(s).search(i)){var u,c=l;for(i.global||(i=nu(i.source,$s(we.exec(i))+"g")),i.lastIndex=0;u=i.exec(c);)var d=u.index;l=l.slice(0,d===J?s:d)}}else if(t.indexOf(i,s)!=s){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+r}function Tl(t){return t=$s(t),t&&se.test(t)?t.replace(oe,q):t}function $l(t,e,n){return t=$s(t),(e=n?J:e)===J&&(e=Xe.test(t)?Je:Ke),t.match(e)||[]}function Dl(t){var e=t?t.length:0,r=_i();return t=e?d(t,function(t){if("function"!=typeof t[1])throw new ru(Q);return[r(t[0]),t[1]]}):[],Ma(function(r){for(var i=-1;++i<e;){var o=t[i];if(n(o[0],this,r))return n(o[1],this,r)}})}function El(t){return On(Rn(t,!0))}function Ll(t){return function(){return t}}function Al(t){return t}function Fl(t){return ir("function"==typeof t?t:Rn(t,!0))}function Pl(t){return lr(Rn(t,!0))}function Rl(t,e){return ur(t,Rn(e,!0))}function Ol(t,e,n){var r=js(e),i=Un(e,r);null!=n||ts(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Un(e,js(e)));var a=!(ts(n)&&"chain"in n)||n.chain,s=Xa(t);return o(i,function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(a||e){var n=t(this.__wrapped__);return(n.__actions__=Ur(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,h([this.value()],arguments))})}),t}function Nl(){return vn._===this&&(vn._=du),this}function Il(){}function Yl(t){return t=Cs(t),function(){return arguments[t]}}function Vl(t){return Ri(t)?gr(t):mr(t)}function jl(t){return function(e){return null==t?J:Gn(t,e)}}function Hl(t,e){if((t=Cs(t))<1||t>wt)return[];var n=St,r=Au(t,St);e=_i(e),t-=St;for(var i=S(r,e);++n<t;)e(n);return i}function zl(t){return zc(t)?d(t,An):gs(t)?[t]:Ur(uc(t))}function Wl(t){var e=++lu;return $s(t)+e}function Bl(t){return t&&t.length?m(t,Al,Na):J}function Ul(t,e){return t&&t.length?m(t,_i(e),Na):J}function Gl(t){return _(t,Al)}function ql(t,e){return _(t,_i(e))}function Kl(t){return t&&t.length?m(t,Al,xs):J}function Jl(t,e){return t&&t.length?m(t,_i(e),xs):J}function Xl(t){return t&&t.length?k(t,Al):0}function Zl(t,e){return t&&t.length?k(t,_i(e)):0}var Ql=(L=L?yn.defaults({},L,yn.pick(vn,Ze)):vn).Date,tu=L.Error,eu=L.Math,nu=L.RegExp,ru=L.TypeError,iu=L.Array.prototype,ou=L.Object.prototype,au=L.Function.prototype.toString,su=ou.hasOwnProperty,lu=0,uu=au.call(Object),cu=ou.toString,du=vn._,hu=nu("^"+au.call(su).replace(ge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fu=hn?L.Buffer:J,pu=L.Reflect,gu=L.Symbol,mu=L.Uint8Array,vu=L.clearTimeout,yu=pu?pu.enumerate:J,bu=Object.getOwnPropertySymbols,xu="symbol"==typeof(xu=gu&&gu.iterator)?xu:J,_u=Object.create,wu=ou.propertyIsEnumerable,Cu=L.setTimeout,ku=iu.splice,Su=eu.ceil,Mu=eu.floor,Tu=Object.getPrototypeOf,$u=L.isFinite,Du=iu.join,Eu=Object.keys,Lu=eu.max,Au=eu.min,Fu=L.parseInt,Pu=eu.random,Ru=iu.reverse,Ou=Ci(L,"DataView"),Nu=Ci(L,"Map"),Iu=Ci(L,"Promise"),Yu=Ci(L,"Set"),Vu=Ci(L,"WeakMap"),ju=Ci(Object,"create"),Hu=Vu&&new Vu,zu=!wu.call({valueOf:1},"valueOf"),Wu={},Bu=Bi(Ou),Uu=Bi(Nu),Gu=Bi(Iu),qu=Bi(Yu),Ku=Bi(Vu),Ju=gu?gu.prototype:J,Xu=Ju?Ju.valueOf:J,Zu=Ju?Ju.toString:J;$e.templateSettings={escape:ue,evaluate:ce,interpolate:de,variable:"",imports:{_:$e}},$e.prototype=Ae.prototype,$e.prototype.constructor=$e,Fe.prototype=Nn(Ae.prototype),Fe.prototype.constructor=Fe,Pe.prototype=Nn(Ae.prototype),Pe.prototype.constructor=Pe,Ie.prototype=ju?ju(null):ou,ze.prototype.clear=We,ze.prototype.delete=Be,ze.prototype.get=Ge,ze.prototype.has=nn,ze.prototype.set=rn,on.prototype.push=sn,cn.prototype.clear=dn,cn.prototype.delete=fn,cn.prototype.get=pn,cn.prototype.has=gn,cn.prototype.set=mn;var Qu=Zr(Wn),tc=Zr(Bn,!0),ec=Qr(),nc=Qr(!0);yu&&!wu.call({valueOf:1},"valueOf")&&(ar=function(t){return H(yu(t))});var rc=Hu?function(t,e){return Hu.set(t,e),t}:Al,ic=Yu&&2===new Yu([1,2]).size?function(t){return new Yu(t)}:Il,oc=Hu?function(t){return Hu.get(t)}:Il,ac=gr("length");bu||(Mi=function(){return[]});var sc=bu?function(t){for(var e=[];t;)h(e,Mi(t)),t=Si(t);return e}:Mi;(Ou&&Ti(new Ou(new ArrayBuffer(1)))!=Ut||Nu&&Ti(new Nu)!=Rt||Iu&&Ti(Iu.resolve())!=It||Yu&&Ti(new Yu)!=Vt||Vu&&Ti(new Vu)!=zt)&&(Ti=function(t){var e=cu.call(t),n=Bi(e==Nt?t.constructor:null);if(n)switch(n){case Bu:return Ut;case Uu:return Rt;case Gu:return It;case qu:return Vt;case Ku:return zt}return e});var lc=function(){var t=0,e=0;return function(n,r){var i=Pc(),o=vt-(i-e);if(e=i,o>0){if(++t>=mt)return n}else t=0;return rc(n,r)}}(),uc=Ca(function(t){var e=[];return $s(t).replace(pe,function(t,n,r,i){e.push(r?i.replace(xe,"$1"):n||t)}),e}),cc=Ma(function(t,e){return Ha(t)?Yn(t,zn(e,1,!0)):[]}),dc=Ma(function(t,e){var n=ho(e);return Ha(n)&&(n=J),Ha(t)?Yn(t,zn(e,1,!0),_i(n)):[]}),hc=Ma(function(t,e){var n=ho(e);return Ha(n)&&(n=J),Ha(t)?Yn(t,zn(e,1,!0),J,n):[]}),fc=Ma(function(t){var e=d(t,En);return e.length&&e[0]===t[0]?Zn(e):[]}),pc=Ma(function(t){var e=ho(t),n=d(t,En);return e===ho(n)?e=J:n.pop(),n.length&&n[0]===t[0]?Zn(n,_i(e)):[]}),gc=Ma(function(t){var e=ho(t),n=d(t,En);return e===ho(n)?e=J:n.pop(),n.length&&n[0]===t[0]?Zn(n,J,e):[]}),mc=Ma(po),vc=Ma(function(t,e){var n=Dn(t,e=d(zn(e,1),String));return yr(t,e.sort(A)),n}),yc=Ma(function(t){return Dr(zn(t,1,!0))}),bc=Ma(function(t){var e=ho(t);return Ha(e)&&(e=J),Dr(zn(t,1,!0),_i(e))}),xc=Ma(function(t){var e=ho(t);return Ha(e)&&(e=J),Dr(zn(t,1,!0),J,e)}),_c=Ma(function(t,e){return Ha(t)?Yn(t,e):[]}),wc=Ma(function(t){return Pr(l(t,Ha))}),Cc=Ma(function(t){var e=ho(t);return Ha(e)&&(e=J),Pr(l(t,Ha),_i(e))}),kc=Ma(function(t){var e=ho(t);return Ha(e)&&(e=J),Pr(l(t,Ha),J,e)}),Sc=Ma(Oo),Mc=Ma(function(t){var e=t.length,n=e>1?t[e-1]:J;return n="function"==typeof n?(t.pop(),n):J,No(t,n)}),Tc=Ma(function(t){var e=(t=zn(t,1)).length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Dn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Pe&&j(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:Ho,args:[i],thisArg:J}),new Fe(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(J),t})):this.thru(i)}),$c=Jr(function(t,e,n){su.call(t,n)?++t[n]:t[n]=1}),Dc=Jr(function(t,e,n){su.call(t,n)?t[n].push(e):t[n]=[e]}),Ec=Ma(function(t,e,r){var i=-1,o="function"==typeof e,a=Ri(e),s=ja(t)?Array(t.length):[];return Qu(t,function(t){var l=o?e:a&&null!=t?t[e]:J;s[++i]=l?n(l,t,r):tr(t,e,r)}),s}),Lc=Jr(function(t,e,n){t[n]=e}),Ac=Jr(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Fc=Ma(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Pi(t,e[0],e[1])?e=[]:n>2&&Pi(e[0],e[1],e[2])&&(e.length=1),hr(t,zn(e,1),[])}),Pc=Ql.now,Rc=Ma(function(t,e,n){var r=nt;if(n.length){var i=W(n,ki(Rc));r|=st}return pi(t,r,e,n,i)}),Oc=Ma(function(t,e,n){var r=nt|rt;if(n.length){var i=W(n,ki(Oc));r|=st}return pi(e,r,t,n,i)}),Nc=Ma(function(t,e){return In(t,1,e)}),Ic=Ma(function(t,e,n){return In(t,Ss(e)||0,n)});Ca.Cache=ze;var Yc=Ma(function(t,e){var r=(e=d(e,_i())).length;return Ma(function(i){for(var o=-1,a=Au(i.length,r);++o<a;)i[o]=e[o].call(this,i[o]);return n(t,this,i)})}),Vc=Ma(function(t,e){var n=W(e,ki(Vc));return pi(t,st,J,e,n)}),jc=Ma(function(t,e){var n=W(e,ki(jc));return pi(t,lt,J,e,n)}),Hc=Ma(function(t,e){return pi(t,ct,J,J,J,zn(e,1))}),zc=Array.isArray,Wc=fu?function(t){return t instanceof fu}:Ll(!1),Bc=Xr(function(t,e){if(zu||Ii(e)||ja(e))Gr(e,js(e),t);else for(var n in e)su.call(e,n)&&Mn(t,n,e[n])}),Uc=Xr(function(t,e){if(zu||Ii(e)||ja(e))Gr(e,Hs(e),t);else for(var n in e)Mn(t,n,e[n])}),Gc=Xr(function(t,e,n,r){qr(e,Hs(e),t,r)}),qc=Xr(function(t,e,n,r){qr(e,js(e),t,r)}),Kc=Ma(function(t,e){return Dn(t,zn(e,1))}),Jc=Ma(function(t){return t.push(J,kn),n(Gc,J,t)}),Xc=Ma(function(t){return t.push(J,Hi),n(nd,J,t)}),Zc=si(function(t,e,n){t[e]=n},Ll(Al)),Qc=si(function(t,e,n){su.call(t,e)?t[e].push(n):t[e]=[n]},_i),td=Ma(tr),ed=Xr(function(t,e,n){cr(t,e,n)}),nd=Xr(function(t,e,n,r){cr(t,e,n,r)}),rd=Ma(function(t,e){return null==t?{}:(e=d(zn(e,1),An),fr(t,Yn(bi(t),e)))}),id=Ma(function(t,e){return null==t?{}:fr(t,zn(e,1))}),od=ni(function(t,e,n){return e=e.toLowerCase(),t+(n?sl(e):e)}),ad=ni(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),sd=ni(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),ld=ei("toLowerCase"),ud=ni(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),cd=ni(function(t,e,n){return t+(n?" ":"")+hd(e)}),dd=ni(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),hd=ei("toUpperCase"),fd=Ma(function(t,e){try{return n(t,J,e)}catch(t){return Ka(t)?t:new tu(t)}}),pd=Ma(function(t,e){return o(zn(e,1),function(e){t[e]=Rc(t[e],t)}),t}),gd=oi(),md=oi(!0),vd=Ma(function(t,e){return function(n){return tr(n,t,e)}}),yd=Ma(function(t,e){return function(n){return tr(t,n,e)}}),bd=li(d),xd=li(s),_d=li(g),wd=di(),Cd=di(!0),kd=R(function(t,e){return t+e}),Sd=fi("ceil"),Md=R(function(t,e){return t/e}),Td=fi("floor"),$d=R(function(t,e){return t*e}),Dd=fi("round"),Ed=R(function(t,e){return t-e});return $e.after=ma,$e.ary=va,$e.assign=Bc,$e.assignIn=Uc,$e.assignInWith=Gc,$e.assignWith=qc,$e.at=Kc,$e.before=ya,$e.bind=Rc,$e.bindAll=pd,$e.bindKey=Oc,$e.castArray=La,$e.chain=Vo,$e.chunk=Gi,$e.compact=qi,$e.concat=Ki,$e.cond=Dl,$e.conforms=El,$e.constant=Ll,$e.countBy=$c,$e.create=Ds,$e.curry=ba,$e.curryRight=xa,$e.debounce=_a,$e.defaults=Jc,$e.defaultsDeep=Xc,$e.defer=Nc,$e.delay=Ic,$e.difference=cc,$e.differenceBy=dc,$e.differenceWith=hc,$e.drop=Ji,$e.dropRight=Xi,$e.dropRightWhile=Zi,$e.dropWhile=Qi,$e.fill=to,$e.filter=Xo,$e.flatMap=ta,$e.flatMapDeep=ea,$e.flatMapDepth=na,$e.flatten=ro,$e.flattenDeep=io,$e.flattenDepth=oo,$e.flip=wa,$e.flow=gd,$e.flowRight=md,$e.fromPairs=ao,$e.functions=Os,$e.functionsIn=Ns,$e.groupBy=Dc,$e.initial=uo,$e.intersection=fc,$e.intersectionBy=pc,$e.intersectionWith=gc,$e.invert=Zc,$e.invertBy=Qc,$e.invokeMap=Ec,$e.iteratee=Fl,$e.keyBy=Lc,$e.keys=js,$e.keysIn=Hs,$e.map=aa,$e.mapKeys=zs,$e.mapValues=Ws,$e.matches=Pl,$e.matchesProperty=Rl,$e.memoize=Ca,$e.merge=ed,$e.mergeWith=nd,$e.method=vd,$e.methodOf=yd,$e.mixin=Ol,$e.negate=ka,$e.nthArg=Yl,$e.omit=rd,$e.omitBy=Bs,$e.once=Sa,$e.orderBy=sa,$e.over=bd,$e.overArgs=Yc,$e.overEvery=xd,$e.overSome=_d,$e.partial=Vc,$e.partialRight=jc,$e.partition=Ac,$e.pick=id,$e.pickBy=Us,$e.property=Vl,$e.propertyOf=jl,$e.pull=mc,$e.pullAll=po,$e.pullAllBy=go,$e.pullAllWith=mo,$e.pullAt=vc,$e.range=wd,$e.rangeRight=Cd,$e.rearg=Hc,$e.reject=ca,$e.remove=vo,$e.rest=Ma,$e.reverse=yo,$e.sampleSize=ha,$e.set=qs,$e.setWith=Ks,$e.shuffle=fa,$e.slice=bo,$e.sortBy=Fc,$e.sortedUniq=Mo,$e.sortedUniqBy=To,$e.split=yl,$e.spread=Ta,$e.tail=$o,$e.take=Do,$e.takeRight=Eo,$e.takeRightWhile=Lo,$e.takeWhile=Ao,$e.tap=jo,$e.throttle=$a,$e.thru=Ho,$e.toArray=ws,$e.toPairs=Js,$e.toPairsIn=Xs,$e.toPath=zl,$e.toPlainObject=Ms,$e.transform=Zs,$e.unary=Da,$e.union=yc,$e.unionBy=bc,$e.unionWith=xc,$e.uniq=Fo,$e.uniqBy=Po,$e.uniqWith=Ro,$e.unset=Qs,$e.unzip=Oo,$e.unzipWith=No,$e.update=tl,$e.updateWith=el,$e.values=nl,$e.valuesIn=rl,$e.without=_c,$e.words=$l,$e.wrap=Ea,$e.xor=wc,$e.xorBy=Cc,$e.xorWith=kc,$e.zip=Sc,$e.zipObject=Io,$e.zipObjectDeep=Yo,$e.zipWith=Mc,$e.entries=Js,$e.entriesIn=Xs,$e.extend=Uc,$e.extendWith=Gc,Ol($e,$e),$e.add=kd,$e.attempt=fd,$e.camelCase=od,$e.capitalize=sl,$e.ceil=Sd,$e.clamp=il,$e.clone=Aa,$e.cloneDeep=Pa,$e.cloneDeepWith=Ra,$e.cloneWith=Fa,$e.deburr=ll,$e.divide=Md,$e.endsWith=ul,$e.eq=Oa,$e.escape=cl,$e.escapeRegExp=dl,$e.every=Jo,$e.find=Zo,$e.findIndex=eo,$e.findKey=Es,$e.findLast=Qo,$e.findLastIndex=no,$e.findLastKey=Ls,$e.floor=Td,$e.forEach=ra,$e.forEachRight=ia,$e.forIn=As,$e.forInRight=Fs,$e.forOwn=Ps,$e.forOwnRight=Rs,$e.get=Is,$e.gt=Na,$e.gte=Ia,$e.has=Ys,$e.hasIn=Vs,$e.head=so,$e.identity=Al,$e.includes=oa,$e.indexOf=lo,$e.inRange=ol,$e.invoke=td,$e.isArguments=Ya,$e.isArray=zc,$e.isArrayBuffer=Va,$e.isArrayLike=ja,$e.isArrayLikeObject=Ha,$e.isBoolean=za,$e.isBuffer=Wc,$e.isDate=Wa,$e.isElement=Ba,$e.isEmpty=Ua,$e.isEqual=Ga,$e.isEqualWith=qa,$e.isError=Ka,$e.isFinite=Ja,$e.isFunction=Xa,$e.isInteger=Za,$e.isLength=Qa,$e.isMap=ns,$e.isMatch=rs,$e.isMatchWith=is,$e.isNaN=os,$e.isNative=as,$e.isNil=ls,$e.isNull=ss,$e.isNumber=us,$e.isObject=ts,$e.isObjectLike=es,$e.isPlainObject=cs,$e.isRegExp=ds,$e.isSafeInteger=hs,$e.isSet=fs,$e.isString=ps,$e.isSymbol=gs,$e.isTypedArray=ms,$e.isUndefined=vs,$e.isWeakMap=ys,$e.isWeakSet=bs,$e.join=co,$e.kebabCase=ad,$e.last=ho,$e.lastIndexOf=fo,$e.lowerCase=sd,$e.lowerFirst=ld,$e.lt=xs,$e.lte=_s,$e.max=Bl,$e.maxBy=Ul,$e.mean=Gl,$e.meanBy=ql,$e.min=Kl,$e.minBy=Jl,$e.multiply=$d,$e.noConflict=Nl,$e.noop=Il,$e.now=Pc,$e.pad=hl,$e.padEnd=fl,$e.padStart=pl,$e.parseInt=gl,$e.random=al,$e.reduce=la,$e.reduceRight=ua,$e.repeat=ml,$e.replace=vl,$e.result=Gs,$e.round=Dd,$e.runInContext=K,$e.sample=da,$e.size=pa,$e.snakeCase=ud,$e.some=ga,$e.sortedIndex=xo,$e.sortedIndexBy=_o,$e.sortedIndexOf=wo,$e.sortedLastIndex=Co,$e.sortedLastIndexBy=ko,$e.sortedLastIndexOf=So,$e.startCase=cd,$e.startsWith=bl,$e.subtract=Ed,$e.sum=Xl,$e.sumBy=Zl,$e.template=xl,$e.times=Hl,$e.toInteger=Cs,$e.toLength=ks,$e.toLower=_l,$e.toNumber=Ss,$e.toSafeInteger=Ts,$e.toString=$s,$e.toUpper=wl,$e.trim=Cl,$e.trimEnd=kl,$e.trimStart=Sl,$e.truncate=Ml,$e.unescape=Tl,$e.uniqueId=Wl,$e.upperCase=dd,$e.upperFirst=hd,$e.each=ra,$e.eachRight=ia,$e.first=so,Ol($e,function(){var t={};return Wn($e,function(e,n){su.call($e.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),$e.VERSION=X,o(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){$e[t].placeholder=$e}),o(["drop","take"],function(t,e){Pe.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new Pe(this);n=n===J?1:Lu(Cs(n),0);var i=this.clone();return r?i.__takeCount__=Au(n,i.__takeCount__):i.__views__.push({size:Au(n,St),type:t+(i.__dir__<0?"Right":"")}),i},Pe.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),o(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==yt||n==xt;Pe.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:_i(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),o(["head","last"],function(t,e){var n="take"+(e?"Right":"");Pe.prototype[t]=function(){return this[n](1).value()[0]}}),o(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Pe.prototype[t]=function(){return this.__filtered__?new Pe(this):this[n](1)}}),Pe.prototype.compact=function(){return this.filter(Al)},Pe.prototype.find=function(t){return this.filter(t).head()},Pe.prototype.findLast=function(t){return this.reverse().find(t)},Pe.prototype.invokeMap=Ma(function(t,e){return"function"==typeof t?new Pe(this):this.map(function(n){return tr(n,t,e)})}),Pe.prototype.reject=function(t){return t=_i(t,3),this.filter(function(e){return!t(e)})},Pe.prototype.slice=function(t,e){t=Cs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Pe(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==J&&(n=(e=Cs(e))<0?n.dropRight(-e):n.take(e-t)),n)},Pe.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Pe.prototype.toArray=function(){return this.take(St)},Wn(Pe.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=$e[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&($e.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,s=e instanceof Pe,l=a[0],u=s||zc(e),c=function(t){var e=i.apply($e,h([t],a));return r&&d?e[0]:e};u&&n&&"function"==typeof l&&1!=l.length&&(s=u=!1);var d=this.__chain__,f=!!this.__actions__.length,p=o&&!d,g=s&&!f;if(!o&&u){e=g?e:new Pe(this);var m=t.apply(e,a);return m.__actions__.push({func:Ho,args:[c],thisArg:J}),new Fe(m,d)}return p&&g?t.apply(this,a):(m=this.thru(c),p?r?m.value()[0]:m.value():m)})}),o(["pop","push","shift","sort","splice","unshift"],function(t){var e=iu[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);$e.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(zc(i)?i:[],t)}return this[n](function(n){return e.apply(zc(n)?n:[],t)})}}),Wn(Pe.prototype,function(t,e){var n=$e[e];if(n){var r=n.name+"";(Wu[r]||(Wu[r]=[])).push({name:e,func:n})}}),Wu[ai(J,rt).name]=[{name:"wrapper",func:J}],Pe.prototype.clone=Re,Pe.prototype.reverse=Oe,Pe.prototype.value=Ne,$e.prototype.at=Tc,$e.prototype.chain=zo,$e.prototype.commit=Wo,$e.prototype.next=Bo,$e.prototype.plant=Go,$e.prototype.reverse=qo,$e.prototype.toJSON=$e.prototype.valueOf=$e.prototype.value=Ko,xu&&($e.prototype[xu]=Uo),$e}var J,X="4.8.0",Z=200,Q="Expected a function",tt="__lodash_hash_undefined__",et="__lodash_placeholder__",nt=1,rt=2,it=4,ot=8,at=16,st=32,lt=64,ut=128,ct=256,dt=512,ht=1,ft=2,pt=30,gt="...",mt=150,vt=16,yt=1,bt=2,xt=3,_t=1/0,wt=9007199254740991,Ct=1.7976931348623157e308,kt=NaN,St=4294967295,Mt=St-1,Tt=St>>>1,$t="[object Arguments]",Dt="[object Array]",Et="[object Boolean]",Lt="[object Date]",At="[object Error]",Ft="[object Function]",Pt="[object GeneratorFunction]",Rt="[object Map]",Ot="[object Number]",Nt="[object Object]",It="[object Promise]",Yt="[object RegExp]",Vt="[object Set]",jt="[object String]",Ht="[object Symbol]",zt="[object WeakMap]",Wt="[object WeakSet]",Bt="[object ArrayBuffer]",Ut="[object DataView]",Gt="[object Float32Array]",qt="[object Float64Array]",Kt="[object Int8Array]",Jt="[object Int16Array]",Xt="[object Int32Array]",Zt="[object Uint8Array]",Qt="[object Uint8ClampedArray]",te="[object Uint16Array]",ee="[object Uint32Array]",ne=/\b__p \+= '';/g,re=/\b(__p \+=) '' \+/g,ie=/(__e\(.*?\)|\b__t\)) \+\n'';/g,oe=/&(?:amp|lt|gt|quot|#39|#96);/g,ae=/[&<>"'`]/g,se=RegExp(oe.source),le=RegExp(ae.source),ue=/<%-([\s\S]+?)%>/g,ce=/<%([\s\S]+?)%>/g,de=/<%=([\s\S]+?)%>/g,he=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fe=/^\w*$/,pe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,ge=/[\\^$.*+?()[\]{}|]/g,me=RegExp(ge.source),ve=/^\s+|\s+$/g,ye=/^\s+/,be=/\s+$/,xe=/\\(\\)?/g,_e=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,we=/\w*$/,Ce=/^0x/i,ke=/^[-+]0x[0-9a-f]+$/i,Se=/^0b[01]+$/i,Me=/^\[object .+?Constructor\]$/,Te=/^0o[0-7]+$/i,$e=/^(?:0|[1-9]\d*)$/,De=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ee=/($^)/,Le=/['\n\r\u2028\u2029\\]/g,Ae="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Fe="["+Ae+"]",Pe="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",Re="[a-z\\xdf-\\xf6\\xf8-\\xff]",Oe="[^\\ud800-\\udfff"+Ae+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Ne="\\ud83c[\\udffb-\\udfff]",Ie="(?:\\ud83c[\\udde6-\\uddff]){2}",Ye="[\\ud800-\\udbff][\\udc00-\\udfff]",Ve="[A-Z\\xc0-\\xd6\\xd8-\\xde]",je="(?:"+Re+"|"+Oe+")",He="(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?",ze="[\\ufe0e\\ufe0f]?"+He+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",Ie,Ye].join("|")+")[\\ufe0e\\ufe0f]?"+He+")*"),We="(?:"+["[\\u2700-\\u27bf]",Ie,Ye].join("|")+")"+ze,Be="(?:"+["[^\\ud800-\\udfff]"+Pe+"?",Pe,Ie,Ye,"[\\ud800-\\udfff]"].join("|")+")",Ue=RegExp(Pe,"g"),Ge=RegExp(Ne+"(?="+Ne+")|"+Be+ze,"g"),qe=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),Ke=/[a-zA-Z0-9]+/g,Je=RegExp([Ve+"?"+Re+"+(?="+[Fe,Ve,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?="+[Fe,Ve+je,"$"].join("|")+")",Ve+"?"+je+"+",Ve+"+","\\d+",We].join("|"),"g"),Xe=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ze=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Qe=-1,tn={};tn[Gt]=tn[qt]=tn[Kt]=tn[Jt]=tn[Xt]=tn[Zt]=tn[Qt]=tn[te]=tn[ee]=!0,tn[$t]=tn[Dt]=tn[Bt]=tn[Et]=tn[Ut]=tn[Lt]=tn[At]=tn[Ft]=tn[Rt]=tn[Ot]=tn[Nt]=tn[Yt]=tn[Vt]=tn[jt]=tn[zt]=!1;var en={};en[$t]=en[Dt]=en[Bt]=en[Ut]=en[Et]=en[Lt]=en[Gt]=en[qt]=en[Kt]=en[Jt]=en[Xt]=en[Rt]=en[Ot]=en[Nt]=en[Yt]=en[Vt]=en[jt]=en[Ht]=en[Zt]=en[Qt]=en[te]=en[ee]=!0,en[At]=en[Ft]=en[zt]=!1;var nn={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},rn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},on={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},an={function:!0,object:!0},sn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ln=parseFloat,un=parseInt,cn=an[typeof exports]&&exports&&!exports.nodeType?exports:J,dn=an[typeof module]&&module&&!module.nodeType?module:J,hn=dn&&dn.exports===cn?cn:J,fn=L(cn&&dn&&"object"==typeof global&&global),pn=L(an[typeof self]&&self),gn=L(an[typeof window]&&window),mn=L(an[typeof this]&&this),vn=fn||gn!==(mn&&mn.window)&&gn||pn||mn||Function("return this")(),yn=K();(gn||pn||{})._=yn,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return yn}):cn&&dn?(hn&&((dn.exports=yn)._=yn),cn._=yn):vn._=yn}.call(this),function(t){"use strict";function e(t,e){return e=e||Error,function(){var n,r,i=arguments[0],o=arguments[1],a="["+(t?t+":":"")+i+"] ",s=U(arguments,2).map(function(t){return wt(t,Gr.objectMaxDepth)});for(a+=o.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1);return e<s.length?s[e]:t}),a+="\nhttp://errors.angularjs.org/1.6.4/"+(t?t+"/":"")+i,r=0,n="?";r<s.length;r++,n="&")a+=n+"p"+r+"="+encodeURIComponent(s[r]);return new e(a)}}function n(t){if(!_(t))return Gr;x(t.objectMaxDepth)&&(Gr.objectMaxDepth=r(t.objectMaxDepth)?t.objectMaxDepth:NaN)}function r(t){return k(t)&&t>0}function i(t){if(null==t||$(t))return!1;if(di(t)||C(t)||Qr&&t instanceof Qr)return!0;var e="length"in Object(t)&&t.length;return k(e)&&(e>=0&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function o(t,e,n){var r,a;if(t)if(M(t))for(r in t)"prototype"!==r&&"length"!==r&&"name"!==r&&t.hasOwnProperty(r)&&e.call(n,t[r],r,t);else if(di(t)||i(t)){var s="object"!=typeof t;for(r=0,a=t.length;r<a;r++)(s||r in t)&&e.call(n,t[r],r,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else if(w(t))for(r in t)e.call(n,t[r],r,t);else if("function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t);else for(r in t)Ur.call(t,r)&&e.call(n,t[r],r,t);return t}function a(t,e,n){for(var r=Object.keys(t).sort(),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function s(t){return function(e,n){t(n,e)}}function l(){return++ui}function u(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function c(t,e,n){for(var r=t.$$hashKey,i=0,o=e.length;i<o;++i){var a=e[i];if(_(a)||M(a))for(var s=Object.keys(a),l=0,d=s.length;l<d;l++){var h=s[l],f=a[h];n&&_(f)?S(f)?t[h]=new Date(f.valueOf()):T(f)?t[h]=new RegExp(f):f.nodeName?t[h]=f.cloneNode(!0):N(f)?t[h]=f.clone():(_(t[h])||(t[h]=di(f)?[]:{}),c(t[h],[f],!0)):t[h]=f}}return u(t,r),t}function d(t){return c(t,ni.call(arguments,1),!1)}function h(t){return c(t,ni.call(arguments,1),!0)}function f(t){return parseInt(t,10)}function p(t,e){return d(Object.create(t),e)}function g(){}function m(t){return t}function v(t){return function(){return t}}function y(t){return M(t.toString)&&t.toString!==oi}function b(t){return void 0===t}function x(t){return void 0!==t}function _(t){return null!==t&&"object"==typeof t}function w(t){return null!==t&&"object"==typeof t&&!ai(t)}function C(t){return"string"==typeof t}function k(t){return"number"==typeof t}function S(t){return"[object Date]"===oi.call(t)}function M(t){return"function"==typeof t}function T(t){return"[object RegExp]"===oi.call(t)}function $(t){return t&&t.window===t}function D(t){return t&&t.$evalAsync&&t.$watch}function E(t){return"[object File]"===oi.call(t)}function L(t){return"[object FormData]"===oi.call(t)}function A(t){return"[object Blob]"===oi.call(t)}function F(t){return"boolean"==typeof t}function P(t){return t&&M(t.then)}function R(t){return t&&k(t.length)&&hi.test(oi.call(t))}function O(t){return"[object ArrayBuffer]"===oi.call(t)}function N(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function I(t){var e,n={},r=t.split(",");for(e=0;e<r.length;e++)n[r[e]]=!0;return n}function Y(t){return qr(t.nodeName||t[0]&&t[0].nodeName)}function V(t,e){return-1!==Array.prototype.indexOf.call(t,e)}function j(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function H(t,e,n){function i(t,e,n){if(--n<0)return"...";var r,i=e.$$hashKey;if(di(t))for(var o=0,s=t.length;o<s;o++)e.push(a(t[o],n));else if(w(t))for(r in t)e[r]=a(t[r],n);else if(t&&"function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&(e[r]=a(t[r],n));else for(r in t)Ur.call(t,r)&&(e[r]=a(t[r],n));return u(e,i),e}function a(t,e){if(!_(t))return t;var n=l.indexOf(t);if(-1!==n)return c[n];if($(t)||D(t))throw si("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,o=s(t);return void 0===o&&(o=di(t)?[]:Object.create(ai(t)),r=!0),l.push(t),c.push(o),r?i(t,o,e):o}function s(t){switch(oi.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(a(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var n=new RegExp(t.source,t.toString().match(/[^/]*$/)[0]);return n.lastIndex=t.lastIndex,n;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(M(t.cloneNode))return t.cloneNode(!0)}var l=[],c=[];if(n=r(n)?n:NaN,e){if(R(e)||O(e))throw si("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw si("cpi","Can't copy! Source and destination are identical.");return di(e)?e.length=0:o(e,function(t,n){"$$hashKey"!==n&&delete e[n]}),l.push(t),c.push(e),i(t,e,n)}return a(t,n)}function z(t,e){return t===e||t!==t&&e!==e}function W(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,r,i,o=typeof t;if(o===typeof e&&"object"===o){if(!di(t)){if(S(t))return!!S(e)&&z(t.getTime(),e.getTime());if(T(t))return!!T(e)&&t.toString()===e.toString();if(D(t)||D(e)||$(t)||$(e)||di(e)||S(e)||T(e))return!1;i=vt();for(r in t)if("$"!==r.charAt(0)&&!M(t[r])){if(!W(t[r],e[r]))return!1;i[r]=!0}for(r in e)if(!(r in i)&&"$"!==r.charAt(0)&&x(e[r])&&!M(e[r]))return!1;return!0}if(!di(e))return!1;if((n=t.length)===e.length){for(r=0;r<n;r++)if(!W(t[r],e[r]))return!1;return!0}}return!1}function B(t,e,n){return t.concat(ni.call(e,n))}function U(t,e){return ni.call(t,e||0)}function G(t,e){var n=arguments.length>2?U(arguments,2):[];return!M(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,B(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function q(e,n){var r=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=void 0:$(n)?r="$WINDOW":n&&t.document===n?r="$DOCUMENT":D(n)&&(r="$SCOPE"),r}function K(t,e){if(!b(t))return k(e)||(e=e?2:null),JSON.stringify(t,q,e)}function J(t){return C(t)?JSON.parse(t):t}function X(t,e){t=t.replace(vi,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return ci(n)?e:n}function Z(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}function Q(t,e,n){n=n?-1:1;var r=t.getTimezoneOffset();return Z(t,n*(X(e,r)-r))}function tt(t){t=Qr(t).clone();try{t.empty()}catch(t){}var e=Qr("<div>").append(t).html();try{return t[0].nodeType===Ci?qr(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(t,e){return"<"+qr(e)})}catch(t){return qr(e)}}function et(t){try{return decodeURIComponent(t)}catch(t){}}function nt(t){var e={};return o((t||"").split("&"),function(t){var n,r,i;t&&(r=t=t.replace(/\+/g,"%20"),-1!==(n=t.indexOf("="))&&(r=t.substring(0,n),i=t.substring(n+1)),x(r=et(r))&&(i=!x(i)||et(i),Ur.call(e,r)?di(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i))}),e}function rt(t){var e=[];return o(t,function(t,n){di(t)?o(t,function(t){e.push(ot(n,!0)+(!0===t?"":"="+ot(t,!0)))}):e.push(ot(n,!0)+(!0===t?"":"="+ot(t,!0)))}),e.length?e.join("&"):""}function it(t){return ot(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ot(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function at(t,e){var n,r,i=yi.length;for(r=0;r<i;++r)if(n=yi[r]+e,C(n=t.getAttribute(n)))return n;return null}function st(e,n){var r,i,a={};if(o(yi,function(t){var n=t+"app";!r&&e.hasAttribute&&e.hasAttribute(n)&&(r=e,i=e.getAttribute(n))}),o(yi,function(t){var n,o=t+"app";!r&&(n=e.querySelector("["+o.replace(":","\\:")+"]"))&&(r=n,i=n.getAttribute(o))}),r){if(!bi)return void t.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");a.strictDi=null!==at(r,"strict-di"),n(r,i?[i]:[],a)}}function lt(e,n,r){_(r)||(r={}),r=d({strictDi:!1},r);var i=function(){if((e=Qr(e)).injector()){var i=e[0]===t.document?"document":tt(e);throw si("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}(n=n||[]).unshift(["$provide",function(t){t.value("$rootElement",e)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng");var o=le(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply(function(){e.data("$injector",r),n(e)(t)})}]),o},a=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;if(t&&a.test(t.name)&&(r.debugInfoEnabled=!0,t.name=t.name.replace(a,"")),t&&!s.test(t.name))return i();t.name=t.name.replace(s,""),li.resumeBootstrap=function(t){return o(t,function(t){n.push(t)}),i()},M(li.resumeDeferredBootstrap)&&li.resumeDeferredBootstrap()}function ut(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function ct(t){var e=li.element(t).injector();if(!e)throw si("test","no injector found for element argument to getTestability");return e.get("$$testability")}function dt(t,e){return e=e||"_",t.replace(xi,function(t,n){return(n?e:"")+t.toLowerCase()})}function ht(t,e,n){if(!t)throw si("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function ft(t,e,n){return n&&di(t)&&(t=t[t.length-1]),ht(M(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function pt(t,e){if("hasOwnProperty"===t)throw si("badname","hasOwnProperty is not a valid {0} name",e)}function gt(t,e,n){if(!e)return t;for(var r,i=e.split("."),o=t,a=i.length,s=0;s<a;s++)r=i[s],t&&(t=(o=t)[r]);return!n&&M(t)?G(o,t):t}function mt(t){for(var e,n=t[0],r=t[t.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(e||t[i]!==n)&&(e||(e=Qr(ni.call(t,0,i))),e.push(n));return e||t}function vt(){return Object.create(null)}function yt(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=!y(t)||di(t)||S(t)?K(t):t.toString()}return t}function bt(t){function n(t,e,n){return t[e]||(t[e]=n())}var r=e("$injector"),i=e("ng"),o=n(t,"angular",Object);return o.$$minErr=o.$$minErr||e,n(o,"module",function(){var t={};return function(e,o,a){var s={};return function(t,e){if("hasOwnProperty"===t)throw i("badname","hasOwnProperty is not a valid {0} name",e)}(e,"module"),o&&t.hasOwnProperty(e)&&(t[e]=null),n(t,e,function(){function t(t,e,n,r){return r||(r=l),function(){return r[n||"push"]([t,e,arguments]),h}}function n(t,n,r){return r||(r=l),function(i,o){return o&&M(o)&&(o.$$moduleName=e),r.push([t,n,arguments]),h}}if(!o)throw r("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",e);var l=[],u=[],c=[],d=t("$injector","invoke","push",u),h={_invokeQueue:l,_configBlocks:u,_runBlocks:c,info:function(t){if(x(t)){if(!_(t))throw i("aobj","Argument '{0}' must be an object","value");return s=t,this}return s},requires:o,name:e,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:n("$provide","decorator",u),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:d,run:function(t){return c.push(t),this}};return a&&d(a),h})}})}function xt(t,e){if(di(t)){e=e||[];for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}else if(_(t)){e=e||{};for(var i in t)"$"===i.charAt(0)&&"$"===i.charAt(1)||(e[i]=t[i])}return e||t}function _t(t,e){var n=[];return r(e)&&(t=H(t,null,e)),JSON.stringify(t,function(t,e){if(e=q(t,e),_(e)){if(n.indexOf(e)>=0)return"...";n.push(e)}return e})}function wt(t,e){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):b(t)?"undefined":"string"!=typeof t?_t(t,e):t}function Ct(){return++Di}function kt(t){return Mt(t.replace(Li,"ms-"))}function St(t,e){return e.toUpperCase()}function Mt(t){return t.replace(Ei,St)}function Tt(t){return!Ri.test(t)}function $t(t){var e=t.nodeType;return e===wi||!e||e===Si}function Dt(t){for(var e in $i[t.ng339])return!0;return!1}function Et(t,e){var n,r,i,a,s=e.createDocumentFragment(),l=[];if(Tt(t))l.push(e.createTextNode(t));else{for(n=s.appendChild(e.createElement("div")),r=(Oi.exec(t)||["",""])[1].toLowerCase(),i=Ii[r]||Ii._default,n.innerHTML=i[1]+t.replace(Ni,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;l=B(l,n.childNodes),(n=s.firstChild).textContent=""}return s.textContent="",s.innerHTML="",o(l,function(t){s.appendChild(t)}),s}function Lt(e,n){n=n||t.document;var r;return(r=Pi.exec(e))?[n.createElement(r[1])]:(r=Et(e,n))?r.childNodes:[]}function At(t,e){var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)}function Ft(t){if(t instanceof Ft)return t;var e;if(C(t)&&(t=fi(t),e=!0),!(this instanceof Ft)){if(e&&"<"!==t.charAt(0))throw Fi("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Ft(t)}e?zt(this,Lt(t)):M(t)?Kt(t):zt(this,t)}function Pt(t){return t.cloneNode(!0)}function Rt(t,e){!e&&$t(t)&&Qr.cleanData([t]),t.querySelectorAll&&Qr.cleanData(t.querySelectorAll("*"))}function Ot(t,e,n,r){if(x(r))throw Fi("offargs","jqLite#off() does not support the `selector` argument");var i=It(t),a=i&&i.events,s=i&&i.handle;if(s)if(e){var l=function(e){var r=a[e];x(n)&&j(r||[],n),x(n)&&r&&r.length>0||(t.removeEventListener(e,s),delete a[e])};o(e.split(" "),function(t){l(t),Ai[t]&&l(Ai[t])})}else for(e in a)"$destroy"!==e&&t.removeEventListener(e,s),delete a[e]}function Nt(t,e){var n=t.ng339,r=n&&$i[n];if(r){if(e)return void delete r.data[e];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),Ot(t)),delete $i[n],t.ng339=void 0}}function It(t,e){var n=t.ng339,r=n&&$i[n];return e&&!r&&(t.ng339=n=Ct(),r=$i[n]={events:{},data:{},handle:void 0}),r}function Yt(t,e,n){if($t(t)){var r,i=x(n),o=!i&&e&&!_(e),a=!e,s=It(t,!o),l=s&&s.data;if(i)l[Mt(e)]=n;else{if(a)return l;if(o)return l&&l[Mt(e)];for(r in e)l[Mt(r)]=e[r]}}}function Vt(t,e){return!!t.getAttribute&&(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1}function jt(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",fi((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+fi(e)+" "," ")))})}function Ht(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=fi(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",fi(n))}}function zt(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var r=0;r<n;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function Wt(t,e){return Bt(t,"$"+(e||"ngController")+"Controller")}function Bt(t,e,n){t.nodeType===Si&&(t=t.documentElement);for(var r=di(e)?e:[e];t;){for(var i=0,o=r.length;i<o;i++)if(x(n=Qr.data(t,r[i])))return n;t=t.parentNode||t.nodeType===Mi&&t.host}}function Ut(t){for(Rt(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Gt(t,e){e||Rt(t);var n=t.parentNode;n&&n.removeChild(t)}function qt(e,n){"complete"===(n=n||t).document.readyState?n.setTimeout(e):Qr(n).on("load",e)}function Kt(e){function n(){t.document.removeEventListener("DOMContentLoaded",n),t.removeEventListener("load",n),e()}"complete"===t.document.readyState?t.setTimeout(e):(t.document.addEventListener("DOMContentLoaded",n),t.addEventListener("load",n))}function Jt(t,e){var n=ji[e.toLowerCase()];return n&&Hi[Y(t)]&&n}function Xt(t){return zi[t]}function Zt(t,e){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=e[r||n.type],o=i?i.length:0;if(o){if(b(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=i.specialHandlerWrapper||Qt;o>1&&(i=xt(i));for(var l=0;l<o;l++)n.isImmediatePropagationStopped()||s(t,n,i[l])}};return n.elem=t,n}function Qt(t,e,n){n.call(t,e)}function te(t,e,n){var r=e.relatedTarget;r&&(r===t||Yi.call(t,r))||n.call(t,e)}function ee(){this.$get=function(){return d(Ft,{hasClass:function(t,e){return t.attr&&(t=t[0]),Vt(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Ht(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),jt(t,e)}})}}function ne(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var r=typeof t;return n="function"===r||"object"===r&&null!==t?t.$$hashKey=r+":"+(e||l)():r+":"+t}function re(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function ie(t){return Function.prototype.toString.call(t)}function oe(t){var e=ie(t).replace(Xi,"");return e.match(Gi)||e.match(qi)}function ae(t){var e=oe(t);return e?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function se(t,e,n){var r,i;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw C(n)&&n||(n=t.name||ae(t)),Zi("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);o(oe(t)[1].split(Ki),function(t){t.replace(Ji,function(t,e,n){r.push(n)})})}t.$inject=r}}else di(t)?(ft(t[i=t.length-1],"fn"),r=t.slice(0,i)):ft(t,"fn",!0);return r}function le(t,e){function n(t){return function(e,n){if(!_(e))return t(e,n);o(e,s(t))}}function r(t,e){if(pt(t,"service"),(M(e)||di(e))&&(e=w.instantiate(e)),!e.$get)throw Zi("pget","Provider '{0}' must define $get factory method.",t);return x[t+g]=e}function i(t,e){return function(){var n=T.invoke(e,this);if(b(n))throw Zi("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function a(t,e,n){return r(t,{$get:!1!==n?i(t,e):e})}function l(t,e){return a(t,["$injector",function(t){return t.instantiate(e)}])}function u(t,e){return a(t,v(e),!1)}function c(t,e){pt(t,"constant"),x[t]=e,k[t]=e}function d(t,e){var n=w.get(t+g),r=n.$get;n.$get=function(){var t=T.invoke(r,n);return T.invoke(e,null,{$delegate:t})}}function h(t){ht(b(t)||di(t),"modulesToLoad","not an array");var e,n=[];return o(t,function(t){function r(t){var e,n;for(e=0,n=t.length;e<n;e++){var r=t[e],i=w.get(r[0]);i[r[1]].apply(i,r[2])}}if(!y.get(t)){y.set(t,!0);try{C(t)?(e=ei(t),T.modules[t]=e,n=n.concat(h(e.requires)).concat(e._runBlocks),r(e._invokeQueue),r(e._configBlocks)):M(t)?n.push(w.invoke(t)):di(t)?n.push(w.invoke(t)):ft(t,"module")}catch(e){throw di(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Zi("modulerr","Failed to instantiate module {0} due to:\n{1}",t,e.stack||e.message||e)}}}),n}function f(t,n){function r(e,r){if(t.hasOwnProperty(e)){if(t[e]===p)throw Zi("cdep","Circular dependency found: {0}",e+" <- "+m.join(" <- "));return t[e]}try{return m.unshift(e),t[e]=p,t[e]=n(e,r),t[e]}catch(n){throw t[e]===p&&delete t[e],n}finally{m.shift()}}function i(t,n,i){for(var o=[],a=le.$$annotate(t,e,i),s=0,l=a.length;s<l;s++){var u=a[s];if("string"!=typeof u)throw Zi("itkn","Incorrect injection token! Expected service name as string, got {0}",u);o.push(n&&n.hasOwnProperty(u)?n[u]:r(u,i))}return o}function o(t){if(Zr||"function"!=typeof t)return!1;var e=t.$$ngIsClass;return F(e)||(e=t.$$ngIsClass=/^(?:class\b|constructor\()/.test(ie(t))),e}function a(t,e,n,r){"string"==typeof n&&(r=n,n=null);var a=i(t,n,r);return di(t)&&(t=t[t.length-1]),o(t)?(a.unshift(null),new(Function.prototype.bind.apply(t,a))):t.apply(e,a)}function s(t,e,n){var r=di(t)?t[t.length-1]:t,o=i(t,e,n);return o.unshift(null),new(Function.prototype.bind.apply(r,o))}return{invoke:a,instantiate:s,get:r,annotate:le.$$annotate,has:function(e){return x.hasOwnProperty(e+g)||t.hasOwnProperty(e)}}}e=!0===e;var p={},g="Provider",m=[],y=new Bi,x={$provide:{provider:n(r),factory:n(a),service:n(l),value:n(u),constant:n(c),decorator:d}},w=x.$injector=f(x,function(t,e){throw li.isString(e)&&m.push(e),Zi("unpr","Unknown provider: {0}",m.join(" <- "))}),k={},S=f(k,function(t,e){var n=w.get(t+g,e);return T.invoke(n.$get,n,void 0,t)}),T=S;x["$injector"+g]={$get:v(S)},T.modules=w.modules=vt();var $=h(t);return T=S.get("$injector"),T.strictDi=e,o($,function(t){t&&T.invoke(t)}),T}function ue(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,r){function i(t){var e=null;return Array.prototype.some.call(t,function(t){if("a"===Y(t))return e=t,!0}),e}function o(){var t=s.yOffset;if(M(t))t=t();else if(N(t)){var n=t[0];t="fixed"!==e.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom}else k(t)||(t=0);return t}function a(t){if(t){t.scrollIntoView();var n=o();if(n){var r=t.getBoundingClientRect().top;e.scrollBy(0,r-n)}}else e.scrollTo(0,0)}function s(t){var e;(t=C(t)?t:k(t)?t.toString():n.hash())?(e=l.getElementById(t))?a(e):(e=i(l.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var l=e.document;return t&&r.$watch(function(){return n.hash()},function(t,e){t===e&&""===t||qt(function(){r.$evalAsync(s)})}),s}]}function ce(t,e){return t||e?t?e?(di(t)&&(t=t.join(" ")),di(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function de(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===to)return n}}function he(t){C(t)&&(t=t.split(" "));var e=vt();return o(t,function(t){t.length&&(e[t]=!0)}),e}function fe(t){return _(t)?t:{}}function pe(t,e,n,r){function i(t){try{t.apply(null,U(arguments,1))}finally{if(0===--v)for(;y.length;)try{y.pop()()}catch(t){n.error(t)}}}function a(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}function s(){k=null,u()}function l(){x=S(),W(x=b(x)?null:x,$)&&(x=$),$=x,_=x}function u(){var t=_;l(),w===c.url()&&t===x||(w=c.url(),_=x,o(M,function(t){t(c.url(),x)}))}var c=this,d=t.location,h=t.history,f=t.setTimeout,p=t.clearTimeout,m={};c.isMock=!1;var v=0,y=[];c.$$completeOutstandingRequest=i,c.$$incOutstandingRequestCount=function(){v++},c.notifyWhenNoOutstandingRequests=function(t){0===v?t():y.push(t)};var x,_,w=d.href,C=e.find("base"),k=null,S=r.history?function(){try{return h.state}catch(t){}}:g;l(),c.url=function(e,n,i){if(b(i)&&(i=null),d!==t.location&&(d=t.location),h!==t.history&&(h=t.history),e){var o=_===i;if(w===e&&(!r.history||o))return c;var s=w&&Ke(w)===Ke(e);return w=e,_=i,!r.history||s&&o?(s||(k=e),n?d.replace(e):s?d.hash=a(e):d.href=e,d.href!==e&&(k=e)):(h[n?"replaceState":"pushState"](i,"",e),l()),k&&(k=e),c}return k||d.href.replace(/%27/g,"'")},c.state=function(){return x};var M=[],T=!1,$=null;c.onUrlChange=function(e){return T||(r.history&&Qr(t).on("popstate",s),Qr(t).on("hashchange",s),T=!0),M.push(e),e},c.$$applicationDestroyed=function(){Qr(t).off("hashchange popstate",s)},c.$$checkUrlChange=u,c.baseHref=function(){var t=C.attr("href");return t?t.replace(/^(https?:)?\/\/[^/]*/,""):""},c.defer=function(t,e){var n;return v++,n=f(function(){delete m[n],i(t)},e||0),m[n]=!0,n},c.defer.cancel=function(t){return!!m[t]&&(delete m[t],p(t),i(g),!0)}}function ge(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,r){return new pe(t,r,e,n)}]}function me(){this.$get=function(){function t(t,r){function i(t){t!==h&&(f?f===t&&(f=t.n):f=t,o(t.n,t.p),o(t,h),(h=t).n=null)}function o(t,e){t!==e&&(t&&(t.p=e),e&&(e.n=t))}if(t in n)throw e("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var a=0,s=d({},r,{id:t}),l=vt(),u=r&&r.capacity||Number.MAX_VALUE,c=vt(),h=null,f=null;return n[t]={put:function(t,e){if(!b(e))return u<Number.MAX_VALUE&&i(c[t]||(c[t]={key:t})),t in l||a++,l[t]=e,a>u&&this.remove(f.key),e},get:function(t){if(u<Number.MAX_VALUE){var e=c[t];if(!e)return;i(e)}return l[t]},remove:function(t){if(u<Number.MAX_VALUE){var e=c[t];if(!e)return;e===h&&(h=e.p),e===f&&(f=e.n),o(e.n,e.p),delete c[t]}t in l&&(delete l[t],a--)},removeAll:function(){l=vt(),a=0,c=vt(),h=f=null},destroy:function(){l=null,s=null,c=null,delete n[t]},info:function(){return d({},s,{size:a})}}}var n={};return t.info=function(){var t={};return o(n,function(e,n){t[n]=e.info()}),t},t.get=function(t){return n[t]},t}}function ve(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function ye(){}function be(e,n){function r(t,e,n){var r=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,i=vt();return o(t,function(t,o){if(t in T)i[o]=T[t];else{var a=t.match(r);if(!a)throw so("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,o,t,n?"controller bindings definition":"isolate scope definition");i[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o},a[4]&&(T[t]=i[o])}}),i}function i(t,e){var n={isolateScope:null,bindToController:null};if(_(t.scope)&&(!0===t.bindToController?(n.bindToController=r(t.scope,e,!0),n.isolateScope={}):n.isolateScope=r(t.scope,e,!1)),_(t.bindToController)&&(n.bindToController=r(t.bindToController,e,!0)),n.bindToController&&!t.controller)throw so("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);return n}function a(t){var e=t.charAt(0);if(!e||e!==qr(e))throw so("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw so("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}function l(t){var e=t.require||t.controller&&t.name;return!di(e)&&_(e)&&o(e,function(t,n){var r=t.match(k);t.substring(r[0].length)||(e[n]=r[0]+n)}),e}function u(t,e){if(t&&(!C(t)||!/[EACM]/.test(t)))throw so("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",t,e);return t||"EA"}var c={},h="Directive",f=/^\s*directive:\s*([\w-]+)\s+(.*)$/,y=/(([\w-]+)(?::([^;]+))?;?)/,w=I("ngSrc,ngSrcset,src,srcset"),k=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,S=/^(on[a-z]+|formaction)$/,T=vt();this.directive=function t(n,r){return ht(n,"name"),pt(n,"directive"),C(n)?(a(n),ht(r,"directiveFactory"),c.hasOwnProperty(n)||(c[n]=[],e.factory(n+h,["$injector","$exceptionHandler",function(t,e){var r=[];return o(c[n],function(i,o){try{var a=t.invoke(i);M(a)?a={compile:v(a)}:!a.compile&&a.link&&(a.compile=v(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||n,a.require=l(a),a.restrict=u(a.restrict,n),a.$$moduleName=i.$$moduleName,r.push(a)}catch(t){e(t)}}),r}])),c[n].push(r)):o(n,s(t)),this},this.component=function(t,e){function n(t){function n(e){return M(e)||di(e)?function(n,r){return t.invoke(e,this,{$element:n,$attrs:r})}:e}var i=e.template||e.templateUrl?e.template:"",a={controller:r,controllerAs:ke(e.controller)||e.controllerAs||"$ctrl",template:n(i),templateUrl:n(e.templateUrl),transclude:e.transclude,scope:{},bindToController:e.bindings||{},restrict:"E",require:e.require};return o(e,function(t,e){"$"===e.charAt(0)&&(a[e]=t)}),a}var r=e.controller||function(){};return o(e,function(t,e){"$"===e.charAt(0)&&(n[e]=t,M(r)&&(r[e]=t))}),n.$inject=["$injector"],this.directive(t,n)},this.aHrefSanitizationWhitelist=function(t){return x(t)?(n.aHrefSanitizationWhitelist(t),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return x(t)?(n.imgSrcSanitizationWhitelist(t),this):n.imgSrcSanitizationWhitelist()};var $=!0;this.debugInfoEnabled=function(t){return x(t)?($=t,this):$};var E=!1;this.preAssignBindingsEnabled=function(t){return x(t)?(E=t,this):E};var L=10;this.onChangesTtl=function(t){return arguments.length?(L=t,this):L};var A=!0;this.commentDirectivesEnabled=function(t){return arguments.length?(A=t,this):A};var P=!0;this.cssClassDirectivesEnabled=function(t){return arguments.length?(P=t,this):P},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,n,r,a,s,l,u,v,T,R){function O(){try{if(!--Et)throw kt=void 0,so("infchng","{0} $onChanges() iterations reached. Aborting!\n",L);u.$apply(function(){for(var t=[],e=0,n=kt.length;e<n;++e)try{kt[e]()}catch(e){t.push(e)}if(kt=void 0,t.length)throw t})}finally{Et++}}function N(t,e){if(e){var n,r,i,o=Object.keys(e);for(n=0,r=o.length;n<r;n++)this[i=o[n]]=e[i]}else this.$attr={};this.$$element=t}function I(t,e,n){Mt.innerHTML="<span "+e+">";var r=Mt.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,t.attributes.setNamedItem(i)}function V(t,e){try{t.addClass(e)}catch(t){}}function H(t,e,n,r,i){t instanceof Qr||(t=Qr(t));var o=q(t,e,t,n,r,i);H.$$addScopeClass(t);var a=null;return function(e,n,r){if(!t)throw so("multilink","This element has already been linked.");ht(e,"scope"),i&&i.needsNewScope&&(e=e.$parent.$new());var s=(r=r||{}).parentBoundTranscludeFn,l=r.transcludeControllers,u=r.futureParentElement;s&&s.$$boundTransclude&&(s=s.$$boundTransclude),a||(a=B(u));var c;if(c="html"!==a?Qr(mt(a,Qr("<div>").append(t).html())):n?Vi.clone.call(t):t,l)for(var d in l)c.data("$"+d+"Controller",l[d].instance);return H.$$addScopeInfo(c,e),n&&n(c,e),o&&o(e,c,c,s),n||(t=o=null),c}}function B(t){var e=t&&t[0];return e&&"foreignobject"!==Y(e)&&oi.call(e).match(/SVG/)?"svg":"html"}function q(t,e,n,r,i,o){function a(t,n,r,i){var o,a,s,l,u,c,d,h;if(f){var g=n.length;for(h=new Array(g),u=0;u<p.length;u+=3)h[d=p[u]]=n[d]}else h=n;for(u=0,c=p.length;u<c;)s=h[p[u++]],o=p[u++],a=p[u++],o?(o.scope?(l=t.$new(),H.$$addScopeInfo(Qr(s),l)):l=t,o(a,l,s,r,o.transcludeOnThisElement?J(t,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&e?J(t,e):null)):a&&a(t,s.childNodes,void 0,i)}for(var s,l,u,c,d,h,f,p=[],g=di(t)||t instanceof Qr,m=0;m<t.length;m++)s=new N,11===Zr&&K(t,m,g),(u=(l=X(t[m],[],s,0===m?r:void 0,i)).length?rt(l,t[m],s,e,n,null,[],[],o):null)&&u.scope&&H.$$addScopeClass(s.$$element),d=u&&u.terminal||!(c=t[m].childNodes)||!c.length?null:q(c,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:e),(u||d)&&(p.push(m,u,d),h=!0,f=f||u),o=null;return h?a:null}function K(t,e,n){var r,i=t[e],o=i.parentNode;if(i.nodeType===Ci)for(;;){if(!(r=o?i.nextSibling:t[e+1])||r.nodeType!==Ci)break;i.nodeValue=i.nodeValue+r.nodeValue,r.parentNode&&r.parentNode.removeChild(r),n&&r===t[e+1]&&t.splice(e+1,1)}}function J(t,e,n){function r(r,i,o,a,s){return r||((r=t.$new(!1,s)).$$transcluded=!0),e(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var i=r.$$slots=vt();for(var o in e.$$slots)e.$$slots[o]?i[o]=J(t,e.$$slots[o],n):i[o]=null;return r}function X(t,e,n,r,i){var o,a,s,l=t.nodeType,u=n.$attr;switch(l){case wi:st(e,_e(a=Y(t)),"E",r,i);for(var c,d,h,f,p,g,m=t.attributes,v=0,b=m&&m.length;v<b;v++){var x=!1,w=!1;d=(c=m[v]).name,p=c.value,f=_e(d),(g=Rt.test(f))&&(d=d.replace(uo,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var k=f.match(Ot);k&&lt(k[1])&&(x=d,w=d.substr(0,d.length-5)+"end",d=d.substr(0,d.length-6)),u[h=_e(d.toLowerCase())]=d,!g&&n.hasOwnProperty(h)||(n[h]=p,Jt(t,h)&&(n[h]=!0)),bt(t,e,p,h,g),st(e,h,"A",r,i,x,w)}if("input"===a&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),!Dt)break;if(s=t.className,_(s)&&(s=s.animVal),C(s)&&""!==s)for(;o=y.exec(s);)st(e,h=_e(o[2]),"C",r,i)&&(n[h]=fi(o[3])),s=s.substr(o.index+o[0].length);break;case Ci:gt(e,t.nodeValue);break;case ki:if(!$t)break;Z(t,e,n,r,i)}return e.sort(ft),e}function Z(t,e,n,r,i){try{var o=f.exec(t.nodeValue);if(o){var a=_e(o[1]);st(e,a,"M",r,i)&&(n[a]=fi(o[2]))}}catch(t){}}function Q(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e))do{if(!t)throw so("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType===wi&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(i>0);else r.push(t);return Qr(r)}function et(t,e,n){return function(r,i,o,a,s){return i=Q(i[0],e,n),t(r,i,o,a,s)}}function nt(t,e,n,r,i,o){var a;return t?H(e,n,r,i,o):function(){return a||(a=H(e,n,r,i,o),e=n=o=null),a.apply(this,arguments)}}function rt(t,e,n,i,a,s,l,u,c){function h(t,e,n,r){t&&(n&&(t=et(t,n,r)),t.require=p.require,t.directiveName=g,(k===p||p.$$isolateScope)&&(t=_t(t,{isolateScope:!0})),l.push(t)),e&&(n&&(e=et(e,n,r)),e.require=p.require,e.directiveName=g,(k===p||p.$$isolateScope)&&(e=_t(e,{isolateScope:!0})),u.push(e))}function f(t,i,a,s,c){function h(t,e,n,r){var i;if(D(t)||(r=n,n=e,e=t,t=void 0),A&&(i=y),n||(n=A?T.parent():T),!r)return c(t,e,i,n,Y);var o=c.$$slots[r];if(o)return o(t,e,i,n,Y);if(b(o))throw so("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,tt(T))}var f,p,g,m,v,y,x,T,$,L;e===a?($=n,T=n.$$element):$=new N(T=Qr(a),n),v=i,k?m=i.$new(!0):w&&(v=i.$parent),c&&((x=h).$$boundTransclude=c,x.isSlotFilled=function(t){return!!c.$$slots[t]}),C&&(y=ot(T,$,x,C,m,i,k)),k&&(H.$$addScopeInfo(T,m,!0,!(S&&(S===k||S===k.$$originalDirective))),H.$$addScopeClass(T,!0),m.$$isolateBindings=k.$$isolateBindings,(L=Ct(i,$,m,m.$$isolateBindings,k)).removeWatches&&m.$on("$destroy",L.removeWatches));for(var F in y){var P=C[F],R=y[F],O=P.$$bindings.bindToController;if(E){R.bindingInfo=O?Ct(v,$,R.instance,O,P):{};var I=R();I!==R.instance&&(R.instance=I,T.data("$"+P.name+"Controller",I),R.bindingInfo.removeWatches&&R.bindingInfo.removeWatches(),R.bindingInfo=Ct(v,$,R.instance,O,P))}else R.instance=R(),T.data("$"+P.name+"Controller",R.instance),R.bindingInfo=Ct(v,$,R.instance,O,P)}for(o(C,function(t,e){var n=t.require;t.bindToController&&!di(n)&&_(n)&&d(y[e].instance,it(e,n,T,y))}),o(y,function(t){var e=t.instance;if(M(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(t){r(t)}if(M(e.$onInit))try{e.$onInit()}catch(t){r(t)}M(e.$doCheck)&&(v.$watch(function(){e.$doCheck()}),e.$doCheck()),M(e.$onDestroy)&&v.$on("$destroy",function(){e.$onDestroy()})}),f=0,p=l.length;f<p;f++)wt(g=l[f],g.isolateScope?m:i,T,$,g.require&&it(g.directiveName,g.require,T,y),x);var Y=i;for(k&&(k.template||null===k.templateUrl)&&(Y=m),t&&t(Y,a.childNodes,void 0,c),f=u.length-1;f>=0;f--)wt(g=u[f],g.isolateScope?m:i,T,$,g.require&&it(g.directiveName,g.require,T,y),x);o(y,function(t){var e=t.instance;M(e.$postLink)&&e.$postLink()})}c=c||{};for(var p,g,m,v,y,x=-Number.MAX_VALUE,w=c.newScopeDirective,C=c.controllerDirectives,k=c.newIsolateScopeDirective,S=c.templateDirective,T=c.nonTlbTranscludeDirective,$=!1,L=!1,A=c.hasElementTranscludeDirective,F=n.$$element=Qr(e),P=s,R=i,O=!1,I=!1,V=0,j=t.length;V<j;V++){var z=(p=t[V]).$$start,W=p.$$end;if(z&&(F=Q(e,z,W)),m=void 0,x>p.priority)break;if((y=p.scope)&&(p.templateUrl||(_(y)?(pt("new/isolated scope",k||w,p,F),k=p):pt("new/isolated scope",k,p,F)),w=w||p),g=p.name,!O&&(p.replace&&(p.templateUrl||p.template)||p.transclude&&!p.$$tlb)){for(var B,q=V+1;B=t[q++];)if(B.transclude&&!B.$$tlb||B.replace&&(B.templateUrl||B.template)){I=!0;break}O=!0}if(!p.templateUrl&&p.controller&&(C=C||vt(),pt("'"+g+"' controller",C[g],p,F),C[g]=p),y=p.transclude)if($=!0,p.$$tlb||(pt("transclusion",T,p,F),T=p),"element"===y)A=!0,x=p.priority,m=F,F=n.$$element=Qr(H.$$createComment(g,n[g])),e=F[0],xt(a,U(m),e),m[0].$$parentNode=m[0].parentNode,R=nt(I,m,i,x,P&&P.name,{nonTlbTranscludeDirective:T});else{var K=vt();if(_(y)){m=[];var J=vt(),Z=vt();o(y,function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,J[t]=e,K[e]=null,Z[e]=n}),o(F.contents(),function(t){var e=J[_e(Y(t))];e?(Z[e]=!0,K[e]=K[e]||[],K[e].push(t)):m.push(t)}),o(Z,function(t,e){if(!t)throw so("reqslot","Required transclusion slot `{0}` was not filled.",e)});for(var rt in K)K[rt]&&(K[rt]=nt(I,K[rt],i))}else m=Qr(Pt(e)).contents();F.empty(),(R=nt(I,m,i,void 0,void 0,{needsNewScope:p.$$isolateScope||p.$$newScope})).$$slots=K}if(p.template)if(L=!0,pt("template",S,p,F),S=p,y=M(p.template)?p.template(F,n):p.template,y=Ft(y),p.replace){if(P=p,m=Tt(y)?[]:Ce(mt(p.templateNamespace,fi(y))),e=m[0],1!==m.length||e.nodeType!==wi)throw so("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g,"");xt(a,F,e);var st={$attr:{}},lt=X(e,[],st),dt=t.splice(V+1,t.length-(V+1));(k||w)&&at(lt,k,w),t=t.concat(lt).concat(dt),ut(n,st),j=t.length}else F.html(y);if(p.templateUrl)L=!0,pt("template",S,p,F),S=p,p.replace&&(P=p),f=ct(t.splice(V,t.length-V),F,n,a,$&&R,l,u,{controllerDirectives:C,newScopeDirective:w!==p&&w,newIsolateScopeDirective:k,templateDirective:S,nonTlbTranscludeDirective:T}),j=t.length;else if(p.compile)try{v=p.compile(F,n,R);var ht=p.$$originalDirective||p;M(v)?h(null,G(ht,v),z,W):v&&h(G(ht,v.pre),G(ht,v.post),z,W)}catch(t){r(t,tt(F))}p.terminal&&(f.terminal=!0,x=Math.max(x,p.priority))}return f.scope=w&&!0===w.scope,f.transcludeOnThisElement=$,f.templateOnThisElement=L,f.transclude=R,c.hasElementTranscludeDirective=A,f}function it(t,e,n,r){var i;if(C(e)){var a=e.match(k),s=e.substring(a[0].length),l=a[1]||a[3],u="?"===a[2];if("^^"===l?n=n.parent():(i=r&&r[s],i=i&&i.instance),!i){var c="$"+s+"Controller";i=l?n.inheritedData(c):n.data(c)}if(!i&&!u)throw so("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,t)}else if(di(e)){i=[];for(var d=0,h=e.length;d<h;d++)i[d]=it(t,e[d],n,r)}else _(e)&&(i={},o(e,function(e,o){i[o]=it(t,e,n,r)}));return i||null}function ot(t,e,n,r,i,o,a){var s=vt();for(var u in r){var c=r[u],d={$scope:c===a||c.$$isolateScope?i:o,$element:t,$attrs:e,$transclude:n},h=c.controller;"@"===h&&(h=e[c.name]);var f=l(h,d,!0,c.controllerAs);s[c.name]=f,t.data("$"+c.name+"Controller",f.instance)}return s}function at(t,e,n){for(var r=0,i=t.length;r<i;r++)t[r]=p(t[r],{$$isolateScope:e,$$newScope:n})}function st(t,n,r,o,a,s,l){if(n===a)return null;var u=null;if(c.hasOwnProperty(n))for(var d,f=e.get(n+h),g=0,m=f.length;g<m;g++)if(d=f[g],(b(o)||o>d.priority)&&-1!==d.restrict.indexOf(r)){if(s&&(d=p(d,{$$start:s,$$end:l})),!d.$$bindings){var v=d.$$bindings=i(d,d.name);_(v.isolateScope)&&(d.$$isolateBindings=v.isolateScope)}t.push(d),u=d}return u}function lt(t){if(c.hasOwnProperty(t))for(var n=e.get(t+h),r=0,i=n.length;r<i;r++)if(n[r].multiElement)return!0;return!1}function ut(t,e){var n=e.$attr,r=t.$attr;o(t,function(r,i){"$"!==i.charAt(0)&&(e[i]&&e[i]!==r&&(r.length?r+=("style"===i?";":" ")+e[i]:r=e[i]),t.$set(i,r,!0,n[i]))}),o(e,function(e,i){t.hasOwnProperty(i)||"$"===i.charAt(0)||(t[i]=e,"class"!==i&&"style"!==i&&(r[i]=n[i]))})}function ct(t,e,n,i,s,l,u,c){var d,h,f=[],g=e[0],m=t.shift(),v=p(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),y=M(m.templateUrl)?m.templateUrl(e,n):m.templateUrl,b=m.templateNamespace;return e.empty(),a(y).then(function(r){var a,p,x,w;if(r=Ft(r),m.replace){if(x=Tt(r)?[]:Ce(mt(b,fi(r))),a=x[0],1!==x.length||a.nodeType!==wi)throw so("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,y);p={$attr:{}},xt(i,e,a);var C=X(a,[],p);_(m.scope)&&at(C,!0),t=C.concat(t),ut(n,p)}else a=g,e.html(r);for(t.unshift(v),d=rt(t,a,n,s,e,m,l,u,c),o(i,function(t,n){t===a&&(i[n]=e[0])}),h=q(e[0].childNodes,s);f.length;){var k=f.shift(),S=f.shift(),M=f.shift(),T=f.shift(),$=e[0];if(!k.$$destroyed){if(S!==g){var D=S.className;c.hasElementTranscludeDirective&&m.replace||($=Pt(a)),xt(M,Qr(S),$),V(Qr($),D)}w=d.transcludeOnThisElement?J(k,d.transclude,T):T,d(h,k,$,i,w)}}f=null}).catch(function(t){t instanceof Error&&r(t)}),function(t,e,n,r,i){var o=i;e.$$destroyed||(f?f.push(e,n,r,o):(d.transcludeOnThisElement&&(o=J(e,d.transclude,i)),d(h,e,n,r,o)))}}function ft(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function pt(t,e,n,r){function i(t){return t?" (module: "+t+")":""}if(e)throw so("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,i(e.$$moduleName),n.name,i(n.$$moduleName),t,tt(r))}function gt(t,e){var r=n(e,!0);r&&t.push({priority:0,compile:function(t){var e=t.parent(),n=!!e.length;return n&&H.$$addBindingClass(e),function(t,e){var i=e.parent();n||H.$$addBindingClass(i),H.$$addBindingInfo(i,r.expressions),t.$watch(r,function(t){e[0].nodeValue=t})}}})}function mt(e,n){switch(e=qr(e||"html")){case"svg":case"math":var r=t.document.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function yt(t,e){if("srcdoc"===e)return v.HTML;var n=Y(t);if("src"===e||"ngSrc"===e){if(-1===["img","video","audio","source","track"].indexOf(n))return v.RESOURCE_URL}else if("xlinkHref"===e||"form"===n&&"action"===e||"link"===n&&"href"===e)return v.RESOURCE_URL}function bt(t,e,r,i,o){var a=yt(t,i),s=!o,l=w[i]||o,u=n(r,s,a,l);if(u){if("multiple"===i&&"select"===Y(t))throw so("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",tt(t));if(S.test(i))throw so("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");e.push({priority:100,compile:function(){return{pre:function(t,e,o){var s=o.$$observers||(o.$$observers=vt()),c=o[i];c!==r&&(u=c&&n(c,!0,a,l),r=c),u&&(o[i]=u(t),(s[i]||(s[i]=[])).$$inter=!0,(o.$$observers&&o.$$observers[i].$$scope||t).$watch(u,function(t,e){"class"===i&&t!==e?o.$updateClass(t,e):o.$set(i,t)}))}}}})}}function xt(e,n,r){var i,o,a=n[0],s=n.length,l=a.parentNode;if(e)for(i=0,o=e.length;i<o;i++)if(e[i]===a){e[i++]=r;for(var u=i,c=u+s-1,d=e.length;u<d;u++,c++)c<d?e[u]=e[c]:delete e[u];e.length-=s-1,e.context===a&&(e.context=r);break}l&&l.replaceChild(r,a);var h=t.document.createDocumentFragment();for(i=0;i<s;i++)h.appendChild(n[i]);for(Qr.hasData(a)&&(Qr.data(r,Qr.data(a)),Qr(a).off("$destroy")),Qr.cleanData(h.querySelectorAll("*")),i=1;i<s;i++)delete n[i];n[0]=r,n.length=1}function _t(t,e){return d(function(){return t.apply(null,arguments)},t,e)}function wt(t,e,n,i,o,a){try{t(e,n,i,o,a)}catch(t){r(t,tt(n))}}function Ct(t,e,r,i,a){function l(e,n,i){M(r.$onChanges)&&!z(n,i)&&(kt||(t.$$postDigest(O),kt=[]),c||(c={},kt.push(u)),c[e]&&(i=c[e].previousValue),c[e]=new xe(i,n))}function u(){r.$onChanges(c),c=void 0}var c,d=[],h={};return o(i,function(i,o){var u,c,f,p,m,v=i.attrName,y=i.optional;switch(i.mode){case"@":y||Ur.call(e,v)||(r[o]=e[v]=void 0),m=e.$observe(v,function(t){if(C(t)||F(t)){var e=r[o];l(o,t,e),r[o]=t}}),e.$$observers[v].$$scope=t,C(u=e[v])?r[o]=n(u)(t):F(u)&&(r[o]=u),h[o]=new xe(lo,r[o]),d.push(m);break;case"=":if(!Ur.call(e,v)){if(y)break;e[v]=void 0}if(y&&!e[v])break;c=s(e[v]),p=c.literal?W:z,f=c.assign||function(){throw u=r[o]=c(t),so("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",e[v],v,a.name)},u=r[o]=c(t);var b=function(e){return p(e,r[o])||(p(e,u)?f(t,e=r[o]):r[o]=e),u=e};b.$stateful=!0,m=i.collection?t.$watchCollection(e[v],b):t.$watch(s(e[v],b),null,c.literal),d.push(m);break;case"<":if(!Ur.call(e,v)){if(y)break;e[v]=void 0}if(y&&!e[v])break;var x=(c=s(e[v])).literal,_=r[o]=c(t);h[o]=new xe(lo,r[o]),m=t.$watch(c,function(t,e){if(e===t){if(e===_||x&&W(e,_))return;e=_}l(o,t,e),r[o]=t},x),d.push(m);break;case"&":if((c=e.hasOwnProperty(v)?s(e[v]):g)===g&&y)break;r[o]=function(e){return c(t,e)}}}),{initialChanges:h,removeWatches:d.length&&function(){for(var t=0,e=d.length;t<e;++t)d[t]()}}}var kt,St=/^\w/,Mt=t.document.createElement("div"),$t=A,Dt=P,Et=L;N.prototype={$normalize:_e,$addClass:function(t){t&&t.length>0&&T.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&T.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=we(t,e);n&&n.length&&T.addClass(this.$$element,n);var r=we(e,t);r&&r.length&&T.removeClass(this.$$element,r)},$set:function(t,e,n,i){var a,s=Jt(this.$$element[0],t),l=Xt(t),u=t;if(s?(this.$$element.prop(t,e),i=s):l&&(this[l]=e,u=l),this[t]=e,i?this.$attr[t]=i:(i=this.$attr[t])||(this.$attr[t]=i=dt(t,"-")),"a"===(a=Y(this.$$element))&&("href"===t||"xlinkHref"===t)||"img"===a&&"src"===t)this[t]=e=R(e,"src"===t);else if("img"===a&&"srcset"===t&&x(e)){for(var c="",d=fi(e),h=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,f=/\s/.test(d)?h:/(,)/,p=d.split(f),g=Math.floor(p.length/2),m=0;m<g;m++){var v=2*m;c+=R(fi(p[v]),!0),c+=" "+fi(p[v+1])}var y=fi(p[2*m]).split(/\s/);c+=R(fi(y[0]),!0),2===y.length&&(c+=" "+fi(y[1])),this[t]=e=c}!1!==n&&(null===e||b(e)?this.$$element.removeAttr(i):St.test(i)?this.$$element.attr(i,e):I(this.$$element[0],i,e));var _=this.$$observers;_&&o(_[u],function(t){try{t(e)}catch(t){r(t)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=vt()),i=r[t]||(r[t]=[]);return i.push(e),u.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(t)||b(n[t])||e(n[t])}),function(){j(i,e)}}};var Lt=n.startSymbol(),At=n.endSymbol(),Ft="{{"===Lt&&"}}"===At?m:function(t){return t.replace(/\{\{/g,Lt).replace(/}}/g,At)},Rt=/^ngAttr[A-Z]/,Ot=/^(.+)Start$/;return H.$$addBindingInfo=$?function(t,e){var n=t.data("$binding")||[];di(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:g,H.$$addBindingClass=$?function(t){V(t,"ng-binding")}:g,H.$$addScopeInfo=$?function(t,e,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(i,e)}:g,H.$$addScopeClass=$?function(t,e){V(t,e?"ng-isolate-scope":"ng-scope")}:g,H.$$createComment=function(e,n){var r="";return $&&(r=" "+(e||"")+": ",n&&(r+=n+" ")),t.document.createComment(r)},H}]}function xe(t,e){this.previousValue=t,this.currentValue=e}function _e(t){return t.replace(uo,"").replace(co,St)}function we(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/);t:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a===i[s])continue t;n+=(n.length>0?" ":"")+a}return n}function Ce(t){var e=(t=Qr(t)).length;if(e<=1)return t;for(;e--;){var n=t[e];(n.nodeType===ki||n.nodeType===Ci&&""===n.nodeValue.trim())&&ri.call(t,e,1)}return t}function ke(t,e){if(e&&C(e))return e;if(C(t)){var n=fo.exec(t);if(n)return n[3]}}function Se(){var t={},n=!1;this.has=function(e){return t.hasOwnProperty(e)},this.register=function(e,n){pt(e,"controller"),_(e)?d(t,e):t[e]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(r,i){function o(t,n,r,i){if(!t||!_(t.$scope))throw e("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,n);t.$scope[n]=r}return function(e,a,s,l){var u,c,h,f;if(s=!0===s,l&&C(l)&&(f=l),C(e)){if(!(c=e.match(fo)))throw ho("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",e);if(h=c[1],f=f||c[3],!(e=t.hasOwnProperty(h)?t[h]:gt(a.$scope,h,!0)||(n?gt(i,h,!0):void 0)))throw ho("ctrlreg","The controller with the name '{0}' is not registered.",h);ft(e,h,!0)}if(s){var p=(di(e)?e[e.length-1]:e).prototype;return u=Object.create(p||null),f&&o(a,f,u,h||e.name),d(function(){var t=r.invoke(e,u,a,h);return t!==u&&(_(t)||M(t))&&(u=t,f&&o(a,f,u,h||e.name)),u},{instance:u,identifier:f})}return u=r.instantiate(e,a,h),f&&o(a,f,u,h||e.name),u}}]}function Me(){this.$get=["$window",function(t){return Qr(t.document)}]}function Te(){this.$get=["$document","$rootScope",function(t,e){function n(){i=r.hidden}var r=t[0],i=r&&r.hidden;return t.on("visibilitychange",n),e.$on("$destroy",function(){t.off("visibilitychange",n)}),function(){return i}}]}function $e(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function De(t){return _(t)?S(t)?t.toISOString():K(t):t}function Ee(){this.$get=function(){return function(t){if(!t)return"";var e=[];return a(t,function(t,n){null===t||b(t)||(di(t)?o(t,function(t){e.push(ot(n)+"="+ot(De(t)))}):e.push(ot(n)+"="+ot(De(t))))}),e.join("&")}}}function Le(){this.$get=function(){return function(t){function e(t,r,i){null===t||b(t)||(di(t)?o(t,function(t,n){e(t,r+"["+(_(t)?n:"")+"]")}):_(t)&&!S(t)?a(t,function(t,n){e(t,r+(i?"":"[")+n+(i?"":"]"))}):n.push(ot(r)+"="+ot(De(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function Ae(t,e){if(C(t)){var n=t.replace(bo,"").trim();if(n){var r=e("Content-Type");if(r&&0===r.indexOf(go)||Fe(n))try{t=J(n)}catch(e){throw xo("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',t,e)}}}return t}function Fe(t){var e=t.match(vo);return e&&yo[e[0]].test(t)}function Pe(t){function e(t,e){t&&(r[t]=r[t]?r[t]+", "+e:e)}var n,r=vt();return C(t)?o(t.split("\n"),function(t){n=t.indexOf(":"),e(qr(fi(t.substr(0,n))),fi(t.substr(n+1)))}):_(t)&&o(t,function(t,n){e(qr(n),fi(t))}),r}function Re(t){var e;return function(n){if(e||(e=Pe(t)),n){var r=e[qr(n)];return void 0===r&&(r=null),r}return e}}function Oe(t,e,n,r){return M(r)?r(t,e,n):(o(r,function(r){t=r(t,e,n)}),t)}function Ne(t){return 200<=t&&t<300}function Ie(){var t=this.defaults={transformResponse:[Ae],transformRequest:[function(t){return!_(t)||E(t)||A(t)||L(t)?t:K(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:xt(mo),put:xt(mo),patch:xt(mo)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},n=!1;this.useApplyAsync=function(t){return x(t)?(n=!!t,this):n};var r=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(i,a,s,l,u,c,h,f){function p(n){function r(t,e){for(var n=0,r=e.length;n<r;){var i=e[n++],o=e[n++];t=t.then(i,o)}return e.length=0,t}function a(){i.$$completeOutstandingRequest(g)}function s(t,e){var n,r={};return o(t,function(t,i){M(t)?null!=(n=t(e))&&(r[i]=n):r[i]=t}),r}function l(e){var n=e.headers,r=Oe(e.data,Re(n),void 0,e.transformRequest);return b(r)&&o(n,function(t,e){"content-type"===qr(e)&&delete n[e]}),b(e.withCredentials)&&!b(t.withCredentials)&&(e.withCredentials=t.withCredentials),m(e,r).then(u,u)}function u(t){var e=d({},t);return e.data=Oe(t.data,t.headers,t.status,p.transformResponse),Ne(t.status)?e:c.reject(e)}if(!_(n))throw e("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!C(f.valueOf(n.url)))throw e("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",n.url);var p=d({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer,jsonpCallbackParam:t.jsonpCallbackParam},n);p.headers=function(e){var n,r,i,o=t.headers,a=d({},e.headers);o=d({},o.common,o[qr(e.method)]);t:for(n in o){r=qr(n);for(i in a)if(qr(i)===r)continue t;a[n]=o[n]}return s(a,xt(e))}(n),p.method=Kr(p.method),p.paramSerializer=C(p.paramSerializer)?h.get(p.paramSerializer):p.paramSerializer,i.$$incOutstandingRequestCount();var v=[],y=[],x=c.resolve(p);return o(k,function(t){(t.request||t.requestError)&&v.unshift(t.request,t.requestError),(t.response||t.responseError)&&y.push(t.response,t.responseError)}),x=r(x,v),x=x.then(l),x=r(x,y),x=x.finally(a)}function m(e,r){function i(t){if(t){var e={};return o(t,function(t,r){e[r]=function(e){function r(){t(e)}n?u.$applyAsync(r):u.$$phase?r():u.$apply(r)}}),e}}function l(t,e,r,i){function o(){d(e,t,r,i)}m&&(Ne(t)?m.put(D,[t,e,Pe(r),i]):m.remove(D)),n?u.$applyAsync(o):(o(),u.$$phase||u.$apply())}function d(t,n,r,i){(Ne(n=n>=-1?n:0)?S.resolve:S.reject)({data:t,status:n,headers:Re(r),config:e,statusText:i})}function h(t){d(t.data,t.status,xt(t.headers()),t.statusText)}function g(){var t=p.pendingRequests.indexOf(e);-1!==t&&p.pendingRequests.splice(t,1)}var m,k,S=c.defer(),M=S.promise,T=e.headers,$="jsonp"===qr(e.method),D=e.url;if($?D=f.getTrustedResourceUrl(D):C(D)||(D=f.valueOf(D)),D=v(D,e.paramSerializer(e.params)),$&&(D=y(D,e.jsonpCallbackParam)),p.pendingRequests.push(e),M.then(g,g),!e.cache&&!t.cache||!1===e.cache||"GET"!==e.method&&"JSONP"!==e.method||(m=_(e.cache)?e.cache:_(t.cache)?t.cache:w),m&&(x(k=m.get(D))?P(k)?k.then(h,h):di(k)?d(k[1],k[0],xt(k[2]),k[3]):d(k,200,{},"OK"):m.put(D,M)),b(k)){var E=In(e.url)?s()[e.xsrfCookieName||t.xsrfCookieName]:void 0;E&&(T[e.xsrfHeaderName||t.xsrfHeaderName]=E),a(e.method,D,r,l,T,e.timeout,e.withCredentials,e.responseType,i(e.eventHandlers),i(e.uploadEventHandlers))}return M}function v(t,e){return e.length>0&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}function y(t,e){if(/[&?][^=]+=JSON_CALLBACK/.test(t))throw xo("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',t);if(new RegExp("[&?]"+e+"=").test(t))throw xo("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',e,t);return t+=(-1===t.indexOf("?")?"?":"&")+e+"=JSON_CALLBACK"}var w=l("$http");t.paramSerializer=C(t.paramSerializer)?h.get(t.paramSerializer):t.paramSerializer;var k=[];return o(r,function(t){k.unshift(C(t)?h.get(t):h.invoke(t))}),p.pendingRequests=[],function(t){o(arguments,function(t){p[t]=function(e,n){return p(d({},n||{},{method:t,url:e}))}})}("get","delete","head","jsonp"),function(t){o(arguments,function(t){p[t]=function(e,n,r){return p(d({},r||{},{method:t,url:e,data:n}))}})}("post","put","patch"),p.defaults=t,p}]}function Ye(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function Ve(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,r){return je(t,r,t.defer,e,n[0])}]}function je(t,e,n,r,i){function a(t,e,n){t=t.replace("JSON_CALLBACK",e);var o=i.createElement("script"),a=null;return o.type="text/javascript",o.src=t,o.async=!0,a=function(t){o.removeEventListener("load",a),o.removeEventListener("error",a),i.body.removeChild(o),o=null;var s=-1,l="unknown";t&&("load"!==t.type||r.wasCalled(e)||(t={type:"error"}),l=t.type,s="error"===t.type?404:200),n&&n(s,l)},o.addEventListener("load",a),o.addEventListener("error",a),i.body.appendChild(o),a}return function(i,s,l,u,c,d,h,f,p,g){function m(){_&&_(),w&&w.abort()}function v(t,e,r,i,o){x(k)&&n.cancel(k),_=w=null,t(e,r,i,o)}if(s=s||t.url(),"jsonp"===qr(i))var y=r.createCallback(s),_=a(s,y,function(t,e){var n=200===t&&r.getResponse(y);v(u,t,n,"",e),r.removeCallback(y)});else{var w=e(i,s);w.open(i,s,!0),o(c,function(t,e){x(t)&&w.setRequestHeader(e,t)}),w.onload=function(){var t=w.statusText||"",e="response"in w?w.response:w.responseText,n=1223===w.status?204:w.status;0===n&&(n=e?200:"file"===Nn(s).protocol?404:0),v(u,n,e,w.getAllResponseHeaders(),t)};var C=function(){v(u,-1,null,null,"")};if(w.onerror=C,w.onabort=C,w.ontimeout=C,o(p,function(t,e){w.addEventListener(e,t)}),o(g,function(t,e){w.upload.addEventListener(e,t)}),h&&(w.withCredentials=!0),f)try{w.responseType=f}catch(t){if("json"!==f)throw t}w.send(b(l)?null:l)}if(d>0)var k=n(m,d);else P(d)&&d.then(m)}}function He(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(t){return"\\\\\\"+t}function a(n){return n.replace(h,t).replace(f,e)}function s(t,e,n,r){var i=t.$watch(function(t){return i(),r(t)},e,n);return i}function l(o,l,h,f){function p(t){try{return t=E(t),f&&!x(t)?t:yt(t)}catch(t){r(_o.interr(o,t))}}if(!o.length||-1===o.indexOf(t)){var g;return l||((g=v(a(o))).exp=o,g.expressions=[],g.$$watchDelegate=s),g}f=!!f;for(var m,y,_,w=0,C=[],k=[],S=o.length,T=[],$=[];w<S;){if(-1===(m=o.indexOf(t,w))||-1===(y=o.indexOf(e,m+u))){w!==S&&T.push(a(o.substring(w)));break}w!==m&&T.push(a(o.substring(w,m))),_=o.substring(m+u,y),C.push(_),k.push(n(_,p)),w=y+c,$.push(T.length),T.push("")}if(h&&T.length>1&&_o.throwNoconcat(o),!l||C.length){var D=function(t){for(var e=0,n=C.length;e<n;e++){if(f&&b(t[e]))return;T[$[e]]=t[e]}return T.join("")},E=function(t){return h?i.getTrusted(h,t):i.valueOf(t)};return d(function(t){var e=0,n=C.length,i=new Array(n);try{for(;e<n;e++)i[e]=k[e](t);return D(i)}catch(t){r(_o.interr(o,t))}},{exp:o,expressions:C,$$watchDelegate:function(t,e){var n;return t.$watchGroup(k,function(r,i){var o=D(r);M(e)&&e.call(this,o,r!==i?n:o,t),n=o})}})}}var u=t.length,c=e.length,h=new RegExp(t.replace(/./g,o),"g"),f=new RegExp(e.replace(/./g,o),"g");return l.startSymbol=function(){return t},l.endSymbol=function(){return e},l}]}function ze(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(t,e,n,r,i){function o(o,s,l,u){function c(){d?o.apply(null,h):o(g)}var d=arguments.length>4,h=d?U(arguments,4):[],f=e.setInterval,p=e.clearInterval,g=0,m=x(u)&&!u,v=(m?r:n).defer(),y=v.promise;return l=x(l)?l:0,y.$$intervalId=f(function(){m?i.defer(c):t.$evalAsync(c),v.notify(g++),l>0&&g>=l&&(v.resolve(g),p(y.$$intervalId),delete a[y.$$intervalId]),m||t.$apply()},s),a[y.$$intervalId]=v,y}var a={};return o.cancel=function(t){return!!(t&&t.$$intervalId in a)&&(a[t.$$intervalId].promise.catch(g),a[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete a[t.$$intervalId],!0)},o}]}function We(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=it(e[n]);return e.join("/")}function Be(t,e){var n=Nn(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=f(n.port)||ko[n.protocol]||null}function Ue(t,e){if(Mo.test(t))throw So("badpath",'Invalid url "{0}".',t);var n="/"!==t.charAt(0);n&&(t="/"+t);var r=Nn(t);e.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),e.$$search=nt(r.search),e.$$hash=decodeURIComponent(r.hash),e.$$path&&"/"!==e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Ge(t,e){return t.slice(0,e.length)===e}function qe(t,e){if(Ge(e,t))return e.substr(t.length)}function Ke(t){var e=t.indexOf("#");return-1===e?t:t.substr(0,e)}function Je(t){return t.replace(/(#.+)|#$/,"$1")}function Xe(t){return t.substr(0,Ke(t).lastIndexOf("/")+1)}function Ze(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function Qe(t,e,n){this.$$html5=!0,n=n||"",Be(t,this),this.$$parse=function(t){var n=qe(e,t);if(!C(n))throw So("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);Ue(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=rt(this.$$search),n=this.$$hash?"#"+it(this.$$hash):"";this.$$url=We(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a,s;return x(o=qe(t,r))?(a=o,s=n&&x(o=qe(n,o))?e+(qe("/",o)||o):t+a):x(o=qe(e,r))?s=e+o:e===r+"/"&&(s=e),s&&this.$$parse(s),!!s}}function tn(t,e,n){Be(t,this),this.$$parse=function(r){var i,o=qe(t,r)||qe(e,r);b(o)||"#"!==o.charAt(0)?this.$$html5?i=o:(i="",b(o)&&(t=r,this.replace())):b(i=qe(n,o))&&(i=o),Ue(i,this),this.$$path=function(t,e,n){var r,i=/^\/[A-Z]:(\/.*)/;return Ge(e,n)&&(e=e.replace(n,"")),i.exec(e)?t:(r=i.exec(t),r?r[1]:t)}(this.$$path,i,t),this.$$compose()},this.$$compose=function(){var e=rt(this.$$search),r=this.$$hash?"#"+it(this.$$hash):"";this.$$url=We(this.$$path)+(e?"?"+e:"")+r,this.$$absUrl=t+(this.$$url?n+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(e,n){return Ke(t)===Ke(e)&&(this.$$parse(e),!0)}}function en(t,e,n){this.$$html5=!0,tn.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return t===Ke(r)?o=r:(a=qe(e,r))?o=t+n+a:e===r+"/"&&(o=e),o&&this.$$parse(o),!!o},this.$$compose=function(){var e=rt(this.$$search),r=this.$$hash?"#"+it(this.$$hash):"";this.$$url=We(this.$$path)+(e?"?"+e:"")+r,this.$$absUrl=t+n+this.$$url,this.$$urlUpdatedByLocation=!0}}function nn(t){return function(){return this[t]}}function rn(t,e){return function(n){return b(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function on(){var t="!",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return x(e)?(t=e,this):t},this.html5Mode=function(t){return F(t)?(e.enabled=t,this):_(t)?(F(t.enabled)&&(e.enabled=t.enabled),F(t.requireBase)&&(e.requireBase=t.requireBase),(F(t.rewriteLinks)||C(t.rewriteLinks))&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(t,e,n){var i=u.url(),o=u.$$state;try{r.url(t,e,n),u.$$state=r.state()}catch(t){throw u.url(i),u.$$state=o,t}}function l(t,e){n.$broadcast("$locationChangeSuccess",u.absUrl(),t,u.$$state,e)}var u,c,d,h=r.baseHref(),f=r.url();if(e.enabled){if(!h&&e.requireBase)throw So("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=Ze(f)+(h||"/"),c=i.history?Qe:en}else d=Ke(f),c=tn;var p=Xe(d);(u=new c(d,p,"#"+t)).$$parseLinkUrl(f,f),u.$$state=r.state();var g=/^\s*(javascript|mailto):/i;o.on("click",function(t){var i=e.rewriteLinks;if(i&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!==t.which&&2!==t.button){for(var s=Qr(t.target);"a"!==Y(s[0]);)if(s[0]===o[0]||!(s=s.parent())[0])return;if(!C(i)||!b(s.attr(i))){var l=s.prop("href"),c=s.attr("href")||s.attr("xlink:href");_(l)&&"[object SVGAnimatedString]"===l.toString()&&(l=Nn(l.animVal).href),g.test(l)||!l||s.attr("target")||t.isDefaultPrevented()||u.$$parseLinkUrl(l,c)&&(t.preventDefault(),u.absUrl()!==r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}}),Je(u.absUrl())!==Je(f)&&r.url(u.absUrl(),!0);var m=!0;return r.onUrlChange(function(t,e){Ge(t,p)?(n.$evalAsync(function(){var r,i=u.absUrl(),o=u.$$state;t=Je(t),u.$$parse(t),u.$$state=e,r=n.$broadcast("$locationChangeStart",t,i,e,o).defaultPrevented,u.absUrl()===t&&(r?(u.$$parse(i),u.$$state=o,s(i,!1,o)):(m=!1,l(i,o)))}),n.$$phase||n.$digest()):a.location.href=t}),n.$watch(function(){if(m||u.$$urlUpdatedByLocation){u.$$urlUpdatedByLocation=!1;var t=Je(r.url()),e=Je(u.absUrl()),o=r.state(),a=u.$$replace,c=t!==e||u.$$html5&&i.history&&o!==u.$$state;(m||c)&&(m=!1,n.$evalAsync(function(){var e=u.absUrl(),r=n.$broadcast("$locationChangeStart",e,t,u.$$state,o).defaultPrevented;u.absUrl()===e&&(r?(u.$$parse(t),u.$$state=o):(c&&s(e,a,o===u.$$state?null:u.$$state),l(t,o)))}))}u.$$replace=!1}),u}]}function an(){var t=!0,e=this;this.debugEnabled=function(e){return x(e)?(t=e,this):t},this.$get=["$window",function(n){function r(t){return t instanceof Error&&(t.stack&&a?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function i(t){var e=n.console||{},i=e[t]||e.log||g,a=!1;try{a=!!i.apply}catch(t){}return a?function(){var t=[];return o(arguments,function(e){t.push(r(e))}),i.apply(e,t)}:function(t,e){i(t,null==e?"":e)}}var a=Zr||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function sn(t){return t+""}function ln(t,e){return void 0!==t?t:e}function un(t,e){return void 0===t?e:void 0===e?t:t+e}function cn(t,e){return!t(e).$stateful}function dn(t,e){var n,r,i;switch(t.type){case Fo.Program:n=!0,o(t.body,function(t){dn(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case Fo.Literal:t.constant=!0,t.toWatch=[];break;case Fo.UnaryExpression:dn(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Fo.BinaryExpression:dn(t.left,e),dn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Fo.LogicalExpression:dn(t.left,e),dn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Fo.ConditionalExpression:dn(t.test,e),dn(t.alternate,e),dn(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Fo.Identifier:t.constant=!1,t.toWatch=[t];break;case Fo.MemberExpression:dn(t.object,e),t.computed&&dn(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case Fo.CallExpression:i=!!t.filter&&cn(e,t.callee.name),n=i,r=[],o(t.arguments,function(t){dn(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=i?r:[t];break;case Fo.AssignmentExpression:dn(t.left,e),dn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Fo.ArrayExpression:n=!0,r=[],o(t.elements,function(t){dn(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=r;break;case Fo.ObjectExpression:n=!0,r=[],o(t.properties,function(t){dn(t.value,e),n=n&&t.value.constant&&!t.computed,t.value.constant||r.push.apply(r,t.value.toWatch),t.computed&&(dn(t.key,e),t.key.constant||r.push.apply(r,t.key.toWatch))}),t.constant=n,t.toWatch=r;break;case Fo.ThisExpression:case Fo.LocalsExpression:t.constant=!1,t.toWatch=[]}}function hn(t){if(1===t.length){var e=t[0].expression,n=e.toWatch;return 1!==n.length?n:n[0]!==e?n:void 0}}function fn(t){return t.type===Fo.Identifier||t.type===Fo.MemberExpression}function pn(t){if(1===t.body.length&&fn(t.body[0].expression))return{type:Fo.AssignmentExpression,left:t.body[0].expression,right:{type:Fo.NGValueParameter},operator:"="}}function gn(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===Fo.Literal||t.body[0].expression.type===Fo.ArrayExpression||t.body[0].expression.type===Fo.ObjectExpression)}function mn(t){return t.constant}function vn(t){this.$filter=t}function yn(t){this.$filter=t}function bn(t,e,n){this.ast=new Fo(t,n),this.astCompiler=n.csp?new yn(e):new vn(e)}function xn(t){return M(t.valueOf)?t.valueOf():Do.call(t)}function _n(){var t,e,n=vt(),r={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(t,e){r[t]=e},this.setIdentifierFns=function(n,r){return t=n,e=r,this},this.$get=["$filter",function(i){function a(t,e){var r,o,a;switch(typeof t){case"string":return t=t.trim(),a=t,(r=n[a])||(":"===t.charAt(0)&&":"===t.charAt(1)&&(o=!0,t=t.substring(2)),(r=new bn(new Ao(f),i,f).parse(t)).constant?r.$$watchDelegate=d:o?(r.oneTime=!0,r.$$watchDelegate=u):r.inputs&&(r.$$watchDelegate=l),n[a]=r),h(r,e);case"function":return h(t,e);default:return h(g,e)}}function s(t,e,n){return null==t||null==e?t===e:!("object"==typeof t&&"object"==typeof(t=xn(t))&&!n)&&(t===e||t!==t&&e!==e)}function l(t,e,n,r,i){var o,a=r.inputs;if(1===a.length){var l=s;return a=a[0],t.$watch(function(t){var e=a(t);return s(e,l,r.literal)||(o=r(t,void 0,void 0,[e]),l=e&&xn(e)),o},e,n,i)}for(var u=[],c=[],d=0,h=a.length;d<h;d++)u[d]=s,c[d]=null;return t.$watch(function(t){for(var e=!1,n=0,i=a.length;n<i;n++){var l=a[n](t);(e||(e=!s(l,u[n],r.literal)))&&(c[n]=l,u[n]=l&&xn(l))}return e&&(o=r(t,void 0,void 0,c)),o},e,n,i)}function u(t,e,n,r,i){function o(t){return r(t)}function a(t,n,r){u=t,M(e)&&e(t,n,r),d(t)&&r.$$postDigest(function(){d(u)&&s()})}var s,u,d=r.literal?c:x;return s=r.inputs?l(t,a,n,r,i):t.$watch(o,a,n)}function c(t){var e=!0;return o(t,function(t){x(t)||(e=!1)}),e}function d(t,e,n,r){var i=t.$watch(function(t){return i(),r(t)},e,n);return i}function h(t,e){function n(n,r,i,a){var s=o&&a?a[0]:t(n,r,i,a);return e(s,n,r)}function r(n,r,i,s){var l=o&&s?s[0]:t(n,r,i,s),u=e(l,n,r);return a(l)?u:l}if(!e)return t;var i=t.$$watchDelegate,o=!1,a=t.literal?c:x,s=t.oneTime?r:n;return s.literal=t.literal,s.oneTime=t.oneTime,o=!t.inputs,i&&i!==l?(s.$$watchDelegate=i,s.inputs=t.inputs):e.$stateful||(s.$$watchDelegate=l,s.inputs=t.inputs?t.inputs:[t]),s}var f={csp:gi().noUnsafeEval,literals:H(r),isIdentifierStart:M(t)&&t,isIdentifierContinue:M(e)&&e};return a}]}function wn(){var t=!0;this.$get=["$rootScope","$exceptionHandler",function(e,n){return kn(function(t){e.$evalAsync(t)},n,t)}],this.errorOnUnhandledRejections=function(e){return x(e)?(t=e,this):t}}function Cn(){var t=!0;this.$get=["$browser","$exceptionHandler",function(e,n){return kn(function(t){e.defer(t)},n,t)}],this.errorOnUnhandledRejections=function(e){return x(e)?(t=e,this):t}}function kn(t,n,r){function i(){return new a}function a(){var t=this.promise=new s;this.resolve=function(e){h(t,e)},this.reject=function(e){p(t,e)},this.notify=function(e){m(t,e)}}function s(){this.$$state={status:0}}function l(e){var n,i,o;o=e.pending,e.processScheduled=!1,e.pending=void 0;try{for(var a=0,s=o.length;a<s;++a){e.pur=!0,i=o[a][0],n=o[a][e.status];try{M(n)?h(i,n(e.value)):1===e.status?h(i,e.value):p(i,e.value)}catch(t){p(i,t)}}}finally{--T,r&&0===T&&t(u)}}function u(){for(;!T&&$.length;){var t=$.shift();if(!t.pur){t.pur=!0;var e="Possibly unhandled rejection: "+wt(t.value);t.value instanceof Error?n(t.value,e):n(e)}}}function c(e){!r||e.pending||2!==e.status||e.pur||(0===T&&0===$.length&&t(u),$.push(e)),!e.processScheduled&&e.pending&&(e.processScheduled=!0,++T,t(function(){l(e)}))}function h(t,e){t.$$state.status||(e===t?g(t,S("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):f(t,e))}function f(t,e){function n(e){a||(a=!0,f(t,e))}function r(e){a||(a=!0,g(t,e))}function i(e){m(t,e)}var o,a=!1;try{(_(e)||M(e))&&(o=e.then),M(o)?(t.$$state.status=-1,o.call(e,n,r,i)):(t.$$state.value=e,t.$$state.status=1,c(t.$$state))}catch(t){r(t)}}function p(t,e){t.$$state.status||g(t,e)}function g(t,e){t.$$state.value=e,t.$$state.status=2,c(t.$$state)}function m(e,r){var i=e.$$state.pending;e.$$state.status<=0&&i&&i.length&&t(function(){for(var t,e,o=0,a=i.length;o<a;o++){e=i[o][0],t=i[o][3];try{m(e,M(t)?t(r):r)}catch(t){n(t)}}})}function v(t){var e=new s;return p(e,t),e}function y(t,e,n){var r=null;try{M(n)&&(r=n())}catch(t){return v(t)}return P(r)?r.then(function(){return e(t)},v):e(t)}function x(t,e,n,r){var i=new s;return h(i,t),i.then(e,n,r)}function w(t){var e=new s,n=0,r=di(t)?[]:{};return o(t,function(t,i){n++,x(t).then(function(t){r[i]=t,--n||h(e,r)},function(t){p(e,t)})}),0===n&&h(e,r),e}function C(t){var e=i();return o(t,function(t){x(t).then(e.resolve,e.reject)}),e.promise}function k(t){function e(t){h(r,t)}function n(t){p(r,t)}if(!M(t))throw S("norslvr","Expected resolverFn, got '{0}'",t);var r=new s;return t(e,n),r}var S=e("$q",TypeError),T=0,$=[];d(s.prototype,{then:function(t,e,n){if(b(t)&&b(e)&&b(n))return this;var r=new s;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,n]),this.$$state.status>0&&c(this.$$state),r},catch:function(t){return this.then(null,t)},finally:function(t,e){return this.then(function(e){return y(e,D,t)},function(e){return y(e,v,t)},e)}});var D=x;return k.prototype=s.prototype,k.defer=i,k.reject=v,k.when=x,k.resolve=D,k.all=w,k.race=C,k}function Sn(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(t){var e=n(t);return function(){r(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=i,o}]}function Mn(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=l(),this.$$ChildScope=null}return e.prototype=t,e}var n=10,r=e("$rootScope"),a=null,s=null;this.digestTtl=function(t){return arguments.length&&(n=t),n},this.$get=["$exceptionHandler","$parse","$browser",function(e,u,c){function d(t){t.currentScope.$$destroyed=!0}function h(t){9===Zr&&(t.$$childHead&&h(t.$$childHead),t.$$nextSibling&&h(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function f(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function p(t){if(k.$$phase)throw r("inprog","{0} already in progress",k.$$phase);k.$$phase=t}function m(){k.$$phase=null}function v(t,e){do{t.$$watchersCount+=e}while(t=t.$parent)}function y(t,e,n){do{t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n]}while(t=t.$parent)}function x(){}function w(){for(;$.length;)try{$.shift()()}catch(t){e(t)}s=null}function C(){null===s&&(s=c.defer(function(){k.$apply(w)}))}f.prototype={constructor:f,$new:function(e,n){var r;return n=n||this,e?(r=new f).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=t(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(e||n!==this)&&r.$on("$destroy",d),r},$watch:function(t,e,n,r){var i=u(t);if(i.$$watchDelegate)return i.$$watchDelegate(this,e,n,i,t);var o=this,s=o.$$watchers,l={fn:e,last:x,get:i,exp:r||t,eq:!!n};return a=null,M(e)||(l.fn=g),s||((s=o.$$watchers=[]).$$digestWatchIndex=-1),s.unshift(l),s.$$digestWatchIndex++,v(this,1),function(){var t=j(s,l);t>=0&&(v(o,-1),t<s.$$digestWatchIndex&&s.$$digestWatchIndex--),a=null}},$watchGroup:function(t,e){function n(){l=!1,u?(u=!1,e(i,i,s)):e(i,r,s)}var r=new Array(t.length),i=new Array(t.length),a=[],s=this,l=!1,u=!0;if(!t.length){var c=!0;return s.$evalAsync(function(){c&&e(i,i,s)}),function(){c=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){i[0]=t,r[0]=n,e(i,t===n?i:r,o)}):(o(t,function(t,e){var o=s.$watch(t,function(t,o){i[e]=t,r[e]=o,l||(l=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function n(t){var e,n,r,s;if(!b(o=t)){if(_(o))if(i(o)){a!==f&&(m=(a=f).length=0,d++),e=o.length,m!==e&&(d++,a.length=m=e);for(var l=0;l<e;l++)s=a[l],r=o[l],s!==s&&r!==r||s===r||(d++,a[l]=r)}else{a!==p&&(a=p={},m=0,d++),e=0;for(n in o)Ur.call(o,n)&&(e++,r=o[n],s=a[n],n in a?s!==s&&r!==r||s===r||(d++,a[n]=r):(m++,a[n]=r,d++));if(m>e){d++;for(n in a)Ur.call(o,n)||(m--,delete a[n])}}else a!==o&&(a=o,d++);return d}}function r(){if(g?(g=!1,e(o,o,l)):e(o,s,l),c)if(_(o))if(i(o)){s=new Array(o.length);for(var t=0;t<o.length;t++)s[t]=o[t]}else{s={};for(var n in o)Ur.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,l=this,c=e.length>1,d=0,h=u(t,n),f=[],p={},g=!0,m=0;return this.$watch(h,r)},$digest:function(){var t,i,o,l,u,d,h,f,g,v,y=n,b=this,_=[];p("$digest"),c.$$checkUrlChange(),this===k&&null!==s&&(c.defer.cancel(s),w()),a=null;do{d=!1,f=b;for(var C=0;C<S.length;C++){try{(0,(v=S[C]).fn)(v.scope,v.locals)}catch(t){e(t)}a=null}S.length=0;t:do{if(u=f.$$watchers)for(u.$$digestWatchIndex=u.length;u.$$digestWatchIndex--;)try{if(t=u[u.$$digestWatchIndex])if(l=t.get,(i=l(f))===(o=t.last)||(t.eq?W(i,o):ci(i)&&ci(o))){if(t===a){d=!1;break t}}else d=!0,a=t,t.last=t.eq?H(i,null):i,(0,t.fn)(i,o===x?i:o,f),y<5&&(_[g=4-y]||(_[g]=[]),_[g].push({msg:M(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:i,oldVal:o}))}catch(t){e(t)}if(!(h=f.$$watchersCount&&f.$$childHead||f!==b&&f.$$nextSibling))for(;f!==b&&!(h=f.$$nextSibling);)f=f.$parent}while(f=h);if((d||S.length)&&!y--)throw m(),r("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",n,_)}while(d||S.length);for(m();D<T.length;)try{T[D++]()}catch(t){e(t)}T.length=D=0,c.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===k&&c.$$applicationDestroyed(),v(this,-this.$$watchersCount);for(var e in this.$$listenerCount)y(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=g,this.$on=this.$watch=this.$watchGroup=function(){return g},this.$$listeners={},this.$$nextSibling=null,h(this)}},$eval:function(t,e){return u(t)(this,e)},$evalAsync:function(t,e){k.$$phase||S.length||c.defer(function(){S.length&&k.$digest()}),S.push({scope:this,fn:u(t),locals:e})},$$postDigest:function(t){T.push(t)},$apply:function(t){try{p("$apply");try{return this.$eval(t)}finally{m()}}catch(t){e(t)}finally{try{k.$digest()}catch(t){throw e(t),t}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&$.push(e),t=u(t),C()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var r=this;do{r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++}while(r=r.$parent);var i=this;return function(){var r=n.indexOf(e);-1!==r&&(n[r]=null,y(i,1,t))}},$emit:function(t,n){var r,i,o,a=[],s=this,l=!1,u={name:t,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=B([u],arguments,1);do{for(r=s.$$listeners[t]||a,u.currentScope=s,i=0,o=r.length;i<o;i++)if(r[i])try{r[i].apply(null,c)}catch(t){e(t)}else r.splice(i,1),i--,o--;if(l)return u.currentScope=null,u;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(t,n){var r=this,i=r,o=r,a={name:t,targetScope:r,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!r.$$listenerCount[t])return a;for(var s,l,u,c=B([a],arguments,1);i=o;){for(a.currentScope=i,l=0,u=(s=i.$$listeners[t]||[]).length;l<u;l++)if(s[l])try{s[l].apply(null,c)}catch(t){e(t)}else s.splice(l,1),l--,u--;if(!(o=i.$$listenerCount[t]&&i.$$childHead||i!==r&&i.$$nextSibling))for(;i!==r&&!(o=i.$$nextSibling);)i=i.$parent}return a.currentScope=null,a}};var k=new f,S=k.$$asyncQueue=[],T=k.$$postDigestQueue=[],$=k.$$applyAsyncQueue=[],D=0;return k}]}function Tn(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return x(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return x(t)?(e=t,this):e},this.$get=function(){return function(n,r){var i,o=r?e:t;return i=Nn(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function $n(t){return t.replace(Oo,St)}function Dn(t){if("self"===t)return t;if(C(t)){if(t.indexOf("***")>-1)throw Po("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=pi(t).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+t+"$")}if(T(t))return new RegExp("^"+t.source+"$");throw Po("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function En(t){var e=[];return x(t)&&o(t,function(t){e.push(Dn(t))}),e}function Ln(){this.SCE_CONTEXTS=Ro;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=En(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=En(t)),e},this.$get=["$injector",function(n){function r(t,e){return"self"===t?In(e):!!t.exec(e.href)}function i(n){var i,o,a=Nn(n.toString()),s=!1;for(i=0,o=t.length;i<o;i++)if(r(t[i],a)){s=!0;break}if(s)for(i=0,o=e.length;i<o;i++)if(r(e[i],a)){s=!1;break}return s}function o(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function a(t,e){var n=d.hasOwnProperty(t)?d[t]:null;if(!n)throw Po("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||b(e)||""===e)return e;if("string"!=typeof e)throw Po("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)}function s(t){return t instanceof c?t.$$unwrapTrustedValue():t}function l(t,e){if(null===e||b(e)||""===e)return e;var n=d.hasOwnProperty(t)?d[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===Ro.RESOURCE_URL){if(i(e))return e;throw Po("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===Ro.HTML)return u(e);throw Po("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(t){throw Po("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(u=n.get("$sanitize"));var c=o(),d={};return d[Ro.HTML]=o(c),d[Ro.CSS]=o(c),d[Ro.URL]=o(c),d[Ro.JS]=o(c),d[Ro.RESOURCE_URL]=o(d[Ro.URL]),{trustAs:a,getTrusted:l,valueOf:s}}]}function An(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&Zr<8)throw Po("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=xt(Ro);r.isEnabled=function(){return t},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=m),r.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,function(e){return r.getTrusted(t,e)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o(Ro,function(t,e){var n=qr(e);r[$n("parse_as_"+n)]=function(e){return i(t,e)},r[$n("get_trusted_"+n)]=function(e){return a(t,e)},r[$n("trust_as_"+n)]=function(e){return s(t,e)}}),r}]}function Fn(){this.$get=["$window","$document",function(t,e){var n={},r=!(!(t.nw&&t.nw.process)&&t.chrome&&(t.chrome.app&&t.chrome.app.runtime||!t.chrome.app&&t.chrome.runtime&&t.chrome.runtime.id))&&t.history&&t.history.pushState,i=f((/android (\d+)/.exec(qr((t.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((t.navigator||{}).userAgent),a=e[0]||{},s=a.body&&a.body.style,l=!1,u=!1;return s&&(l=!!("transition"in s||"webkitTransition"in s),u=!!("animation"in s||"webkitAnimation"in s)),{history:!(!r||i<4||o),hasEvent:function(t){if("input"===t&&Zr)return!1;if(b(n[t])){var e=a.createElement("div");n[t]="on"+t in e}return n[t]},csp:gi(),transitions:l,animations:u,android:i}}]}function Pn(){var t;this.httpOptions=function(e){return e?(t=e,this):t},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(e,n,r,i,o){function a(s,l){function u(t){return l||(t=No("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,t.status,t.statusText),e(t)),i.reject(t)}a.totalPendingRequests++,C(s)&&!b(n.get(s))||(s=o.getTrustedResourceUrl(s));var c=r.defaults&&r.defaults.transformResponse;return di(c)?c=c.filter(function(t){return t!==Ae}):c===Ae&&(c=null),r.get(s,d({cache:n,transformResponse:c},t)).finally(function(){a.totalPendingRequests--}).then(function(t){return n.put(s,t.data),t.data},u)}return a.totalPendingRequests=0,a}]}function Rn(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var r={};return r.findBindings=function(t,e,n){var r=[];return o(t.getElementsByClassName("ng-binding"),function(t){var i=li.element(t).data("$binding");i&&o(i,function(i){n?new RegExp("(^|\\s)"+pi(e)+"(\\s|\\||$)").test(i)&&r.push(t):-1!==i.indexOf(e)&&r.push(t)})}),r},r.findModels=function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+e+'"]',s=t.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},r.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},r}]}function On(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,r,i){function o(o,s,l){M(o)||(l=s,s=o,o=g);var u,c=U(arguments,3),d=x(l)&&!l,h=(d?r:n).defer(),f=h.promise;return u=e.defer(function(){try{h.resolve(o.apply(null,c))}catch(t){h.reject(t),i(t)}finally{delete a[f.$$timeoutId]}d||t.$apply()},s),f.$$timeoutId=u,a[u]=h,f}var a={};return o.cancel=function(t){return!!(t&&t.$$timeoutId in a)&&(a[t.$$timeoutId].promise.catch(g),a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId))},o}]}function Nn(t){var e=t;return Zr&&(Io.setAttribute("href",e),e=Io.href),Io.setAttribute("href",e),{href:Io.href,protocol:Io.protocol?Io.protocol.replace(/:$/,""):"",host:Io.host,search:Io.search?Io.search.replace(/^\?/,""):"",hash:Io.hash?Io.hash.replace(/^#/,""):"",hostname:Io.hostname,port:Io.port,pathname:"/"===Io.pathname.charAt(0)?Io.pathname:"/"+Io.pathname}}function In(t){var e=C(t)?Nn(t):t;return e.protocol===Yo.protocol&&e.host===Yo.host}function Yn(){this.$get=v(t)}function Vn(t){function e(t){try{return t.cookie||""}catch(t){return""}}function n(t){try{return decodeURIComponent(t)}catch(e){return t}}var r=t[0]||{},i={},o="";return function(){var t,a,s,l,u,c=e(r);if(c!==o)for(t=(o=c).split("; "),i={},s=0;s<t.length;s++)(l=(a=t[s]).indexOf("="))>0&&(u=n(a.substring(0,l)),b(i[u])&&(i[u]=n(a.substring(l+1))));return i}}function jn(){this.$get=Vn}function Hn(t){function e(r,i){if(_(r)){var a={};return o(r,function(t,n){a[n]=e(n,t)}),a}return t.factory(r+n,i)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",Gn),e("date",lr),e("filter",zn),e("json",ur),e("limitTo",cr),e("lowercase",Uo),e("number",qn),e("orderBy",hr),e("uppercase",Go)}function zn(){return function(t,n,r,o){if(!i(t)){if(null==t)return t;throw e("filter")("notarray","Expected array but received: {0}",t)}o=o||"$";var a,s;switch(Un(n)){case"function":a=n;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":a=Wn(n,r,o,s);break;default:return t}return Array.prototype.filter.call(t,a)}}function Wn(t,e,n,r){var i=_(t)&&n in t;return!0===e?e=W:M(e)||(e=function(t,e){return!b(t)&&(null===t||null===e?t===e:!(_(e)||_(t)&&!y(t))&&(t=qr(""+t),e=qr(""+e),-1!==t.indexOf(e)))}),function(o){return i&&!_(o)?Bn(o,t[n],e,n,!1):Bn(o,t,e,n,r)}}function Bn(t,e,n,r,i,o){var a=Un(t),s=Un(e);if("string"===s&&"!"===e.charAt(0))return!Bn(t,e.substring(1),n,r,i);if(di(t))return t.some(function(t){return Bn(t,e,n,r,i)});switch(a){case"object":var l;if(i){for(l in t)if(l.charAt&&"$"!==l.charAt(0)&&Bn(t[l],e,n,r,!0))return!0;return!o&&Bn(t,e,n,r,!1)}if("object"===s){for(l in e){var u=e[l];if(!M(u)&&!b(u)){var c=l===r;if(!Bn(c?t:t[l],u,n,r,c,c))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function Un(t){return null===t?"null":typeof t}function Gn(t){var e=t.NUMBER_FORMATS;return function(t,n,r){return b(n)&&(n=e.CURRENCY_SYM),b(r)&&(r=e.PATTERNS[1].maxFrac),null==t?t:Xn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function qn(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:Xn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function Kn(t){var e,n,r,i,o,a=0;for((n=t.indexOf(jo))>-1&&(t=t.replace(jo,"")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charAt(r)===Ho;r++);if(r===(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)===Ho;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=+t.charAt(r)}return n>Vo&&(e=e.splice(0,Vo-1),a=n-1,n=1),{d:e,e:a,i:n}}function Jn(t,e,n,r){var i=t.d,o=i.length-t.i,a=(e=b(e)?Math.min(Math.max(n,o),r):+e)+t.i,s=i[a];if(a>0){i.splice(Math.max(t.i,a));for(var l=a;l<i.length;l++)i[l]=0}else{o=Math.max(0,o),t.i=1,i.length=Math.max(1,a=e+1),i[0]=0;for(var u=1;u<a;u++)i[u]=0}if(s>=5)if(a-1<0){for(var c=0;c>a;c--)i.unshift(0),t.i++;i.unshift(1),t.i++}else i[a-1]++;for(;o<Math.max(0,e);o++)i.push(0);var d=i.reduceRight(function(t,e,n,r){return e+=t,r[n]=e%10,Math.floor(e/10)},0);d&&(i.unshift(d),t.i++)}function Xn(t,e,n,r,i){if(!C(t)&&!k(t)||isNaN(t))return"";var o,a=!isFinite(t),s=!1,l=Math.abs(t)+"",u="";if(a)u="";else{Jn(o=Kn(l),i,e.minFrac,e.maxFrac);var c=o.d,d=o.i,h=o.e,f=[];for(s=c.reduce(function(t,e){return t&&!e},!0);d<0;)c.unshift(0),d++;d>0?f=c.splice(d,c.length):(f=c,c=[0]);var p=[];for(c.length>=e.lgSize&&p.unshift(c.splice(-e.lgSize,c.length).join(""));c.length>e.gSize;)p.unshift(c.splice(-e.gSize,c.length).join(""));c.length&&p.unshift(c.join("")),u=p.join(n),f.length&&(u+=r+f.join("")),h&&(u+="e+"+h)}return t<0&&!s?e.negPre+u+e.negSuf:e.posPre+u+e.posSuf}function Zn(t,e,n,r){var i="";for((t<0||r&&t<=0)&&(r?t=1-t:(t=-t,i="-")),t=""+t;t.length<e;)t=Ho+t;return n&&(t=t.substr(t.length-e)),i+t}function Qn(t,e,n,r,i){return n=n||0,function(o){var a=o["get"+t]();return(n>0||a>-n)&&(a+=n),0===a&&-12===n&&(a=12),Zn(a,e,r,i)}}function tr(t,e,n){return function(r,i){var o=r["get"+t]();return i[Kr((n?"STANDALONE":"")+(e?"SHORT":"")+t)][o]}}function er(t,e,n){var r=-1*n,i=r>=0?"+":"";return i+=Zn(Math[r>0?"floor":"ceil"](r/60),2)+Zn(Math.abs(r%60),2)}function nr(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function rr(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function ir(t){return function(e){var n=nr(e.getFullYear()),r=+rr(e)-+n;return Zn(1+Math.round(r/6048e5),t)}}function or(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function ar(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function sr(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function lr(t){function e(t){var e;if(e=t.match(n)){var r=new Date(0),i=0,o=0,a=e[8]?r.setUTCFullYear:r.setFullYear,s=e[8]?r.setUTCHours:r.setHours;e[9]&&(i=f(e[9]+e[10]),o=f(e[9]+e[11])),a.call(r,f(e[1]),f(e[2])-1,f(e[3]));var l=f(e[4]||0)-i,u=f(e[5]||0)-o,c=f(e[6]||0),d=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(r,l,u,c,d),r}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,l="",u=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,C(n)&&(n=Bo.test(n)?f(n):e(n)),k(n)&&(n=new Date(n)),!S(n)||!isFinite(n.getTime()))return n;for(;r;)(s=Wo.exec(r))?r=(u=B(u,s,1)).pop():(u.push(r),r=null);var c=n.getTimezoneOffset();return i&&(c=X(i,c),n=Q(n,i,!0)),o(u,function(e){a=zo[e],l+=a?a(n,t.DATETIME_FORMATS,c):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function ur(){return function(t,e){return b(e)&&(e=2),K(t,e)}}function cr(){return function(t,e,n){return e=Math.abs(Number(e))===1/0?Number(e):f(e),ci(e)?t:(k(t)&&(t=t.toString()),i(t)?(n=!n||isNaN(n)?0:f(n),n=n<0?Math.max(0,t.length+n):n,e>=0?dr(t,n,n+e):0===n?dr(t,e,t.length):dr(t,Math.max(0,n+e),n)):t)}}function dr(t,e,n){return C(t)?t.slice(e,n):ni.call(t,e,n)}function hr(t){function n(e){return e.map(function(e){var n=1,r=m;if(M(e))r=e;else if(C(e)&&("+"!==e.charAt(0)&&"-"!==e.charAt(0)||(n="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(r=t(e)).constant)){var i=r();r=function(t){return t[i]}}return{get:r,descending:n}})}function r(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function o(t){return M(t.valueOf)&&(t=t.valueOf(),r(t))?t:(y(t)&&(t=t.toString(),r(t)),t)}function a(t,e){var n=typeof t;return null===t?(n="string",t="null"):"object"===n&&(t=o(t)),{value:t,type:n,index:e}}function s(t,e){var n=0,r=t.type,i=e.type;if(r===i){var o=t.value,a=e.value;"string"===r?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===r&&(_(o)&&(o=t.index),_(a)&&(a=e.index)),o!==a&&(n=o<a?-1:1)}else n=r<i?-1:1;return n}return function(t,r,o,l){function u(t,e){return{value:t,tieBreaker:{value:e,type:"number",index:e},predicateValues:d.map(function(n){return a(n.get(t),e)})}}function c(t,e){for(var n=0,r=d.length;n<r;n++){var i=f(t.predicateValues[n],e.predicateValues[n]);if(i)return i*d[n].descending*h}return f(t.tieBreaker,e.tieBreaker)*h}if(null==t)return t;if(!i(t))throw e("orderBy")("notarray","Expected array but received: {0}",t);di(r)||(r=[r]),0===r.length&&(r=["+"]);var d=n(r),h=o?-1:1,f=M(l)?l:s,p=Array.prototype.map.call(t,u);return p.sort(c),t=p.map(function(t){return t.value})}}function fr(t){return M(t)&&(t={link:t}),t.restrict=t.restrict||"AC",v(t)}function pr(t,e){t.$name=e}function gr(t,e,n,r,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(e.name||e.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Jo,this.$$element=t,this.$$animate=r,mr(this)}function mr(t){t.$$classCache={},t.$$classCache[Fa]=!(t.$$classCache[Aa]=t.$$element.hasClass(Aa))}function vr(t){function e(t,e,n,r){t[e]||(t[e]={}),a(t[e],n,r)}function n(t,e,n,r){t[e]&&s(t[e],n,r),yr(t[e])&&(t[e]=void 0)}function r(t,e,n){n&&!t.$$classCache[e]?(t.$$animate.addClass(t.$$element,e),t.$$classCache[e]=!0):!n&&t.$$classCache[e]&&(t.$$animate.removeClass(t.$$element,e),t.$$classCache[e]=!1)}function i(t,e,n){e=e?"-"+dt(e,"-"):"",r(t,Aa+e,!0===n),r(t,Fa+e,!1===n)}var o=t.clazz,a=t.set,s=t.unset;o.prototype.$setValidity=function(t,o,l){b(o)?e(this,"$pending",t,l):n(this,"$pending",t,l),F(o)?o?(s(this.$error,t,l),a(this.$$success,t,l)):(a(this.$error,t,l),s(this.$$success,t,l)):(s(this.$error,t,l),s(this.$$success,t,l)),this.$pending?(r(this,Xo,!0),this.$valid=this.$invalid=void 0,i(this,"",null)):(r(this,Xo,!1),this.$valid=yr(this.$error),this.$invalid=!this.$valid,i(this,"",this.$valid));var u;i(this,t,u=this.$pending&&this.$pending[t]?void 0:!this.$error[t]&&(!!this.$$success[t]||null)),this.$$parentForm.$setValidity(t,u,this)}}function yr(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function br(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function xr(t,e,n,r,i,o){_r(t,e,n,r,i,o),br(r)}function _r(t,e,n,r,i,o){var a=qr(e[0].type);if(!i.android){var s=!1;e.on("compositionstart",function(){s=!0}),e.on("compositionend",function(){s=!1,u()})}var l,u=function(t){if(l&&(o.defer.cancel(l),l=null),!s){var i=e.val(),u=t&&t.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=fi(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,u)}};if(i.hasEvent("input"))e.on("input",u);else{var c=function(t,e,n){l||(l=o.defer(function(){l=null,e&&e.value===n||u(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||c(t,this,this.value)}),i.hasEvent("paste")&&e.on("paste cut",c)}e.on("change",u),da[a]&&r.$$hasNativeValidators&&a===n.type&&e.on(ca,function(t){if(!l){var e=this[Br],n=e.badInput,r=e.typeMismatch;l=o.defer(function(){l=null,e.badInput===n&&e.typeMismatch===r||u(t)})}}),r.$render=function(){var t=r.$isEmpty(r.$viewValue)?"":r.$viewValue;e.val()!==t&&e.val(t)}}function wr(t,e){if(S(t))return t;if(C(t)){sa.lastIndex=0;var n=sa.exec(t);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,l=0,u=nr(r),c=7*(i-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),l=e.getMilliseconds()),new Date(r,0,u.getDate()+c,o,a,s,l)}}return NaN}function Cr(t,e){return function(n,r){var i,a;if(S(n))return n;if(C(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),ea.test(n))return new Date(n);if(t.lastIndex=0,i=t.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function kr(t,e,n,r){return function(i,o,a,s,l,u,c){function d(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function h(t){return x(t)&&!S(t)?n(t)||void 0:t}Sr(i,o,a,s),_r(i,o,a,s,l,u);var f,p=s&&s.$options.getOption("timezone");if(s.$$parserName=t,s.$parsers.push(function(t){if(s.$isEmpty(t))return null;if(e.test(t)){var r=n(t,f);return p&&(r=Q(r,p)),r}}),s.$formatters.push(function(t){if(t&&!S(t))throw Oa("datefmt","Expected `{0}` to be a date",t);return d(t)?((f=t)&&p&&(f=Q(f,p,!0)),c("date")(t,r,p)):(f=null,"")}),x(a.min)||a.ngMin){var g;s.$validators.min=function(t){return!d(t)||b(g)||n(t)>=g},a.$observe("min",function(t){g=h(t),s.$validate()})}if(x(a.max)||a.ngMax){var m;s.$validators.max=function(t){return!d(t)||b(m)||n(t)<=m},a.$observe("max",function(t){m=h(t),s.$validate()})}}}function Sr(t,e,n,r){var i=e[0];(r.$$hasNativeValidators=_(i.validity))&&r.$parsers.push(function(t){var n=e.prop(Br)||{};return n.badInput||n.typeMismatch?void 0:t})}function Mr(t){t.$$parserName="number",t.$parsers.push(function(e){return t.$isEmpty(e)?null:ia.test(e)?parseFloat(e):void 0}),t.$formatters.push(function(e){if(!t.$isEmpty(e)){if(!k(e))throw Oa("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e})}function Tr(t){return x(t)&&!k(t)&&(t=parseFloat(t)),ci(t)?void 0:t}function $r(t){return(0|t)===t}function Dr(t){var e=t.toString(),n=e.indexOf(".");if(-1===n){if(-1<t&&t<1){var r=/e-(\d+)$/.exec(e);if(r)return Number(r[1])}return 0}return e.length-n-1}function Er(t,e,n){var r=Number(t),i=!$r(r),o=!$r(e),a=!$r(n);if(i||o||a){var s=i?Dr(r):0,l=o?Dr(e):0,u=a?Dr(n):0,c=Math.max(s,l,u),d=Math.pow(10,c);r*=d,e*=d,n*=d,i&&(r=Math.round(r)),o&&(e=Math.round(e)),a&&(n=Math.round(n))}return(r-e)%n==0}function Lr(t,e,n,r,i,o){Sr(t,e,n,r),Mr(r),_r(t,e,n,r,i,o);var a,s;if((x(n.min)||n.ngMin)&&(r.$validators.min=function(t){return r.$isEmpty(t)||b(a)||t>=a},n.$observe("min",function(t){a=Tr(t),r.$validate()})),(x(n.max)||n.ngMax)&&(r.$validators.max=function(t){return r.$isEmpty(t)||b(s)||t<=s},n.$observe("max",function(t){s=Tr(t),r.$validate()})),x(n.step)||n.ngStep){var l;r.$validators.step=function(t,e){return r.$isEmpty(e)||b(l)||Er(e,a||0,l)},n.$observe("step",function(t){l=Tr(t),r.$validate()})}}function Ar(t,e,n,r,i,o){function a(t,r){e.attr(t,n[t]),n.$observe(t,r)}function s(t){if(d=Tr(t),!ci(r.$modelValue))if(c){var n=e.val();d>n&&(n=d,e.val(n)),r.$setViewValue(n)}else r.$validate()}function l(t){if(h=Tr(t),!ci(r.$modelValue))if(c){var n=e.val();h<n&&(e.val(h),n=h<d?d:h),r.$setViewValue(n)}else r.$validate()}function u(t){f=Tr(t),ci(r.$modelValue)||(c&&r.$viewValue!==e.val()?r.$setViewValue(e.val()):r.$validate())}Sr(t,e,n,r),Mr(r),_r(t,e,n,r,i,o);var c=r.$$hasNativeValidators&&"range"===e[0].type,d=c?0:void 0,h=c?100:void 0,f=c?1:void 0,p=e[0].validity,g=x(n.min),m=x(n.max),v=x(n.step),y=r.$render;r.$render=c&&x(p.rangeUnderflow)&&x(p.rangeOverflow)?function(){y(),r.$setViewValue(e.val())}:y,g&&(r.$validators.min=c?function(){return!0}:function(t,e){return r.$isEmpty(e)||b(d)||e>=d},a("min",s)),m&&(r.$validators.max=c?function(){return!0}:function(t,e){return r.$isEmpty(e)||b(h)||e<=h},a("max",l)),v&&(r.$validators.step=c?function(){return!p.stepMismatch}:function(t,e){return r.$isEmpty(e)||b(f)||Er(e,d||0,f)},a("step",u))}function Fr(t,e,n,r,i,o){_r(t,e,n,r,i,o),br(r),r.$$parserName="url",r.$validators.url=function(t,e){var n=t||e;return r.$isEmpty(n)||na.test(n)}}function Pr(t,e,n,r,i,o){_r(t,e,n,r,i,o),br(r),r.$$parserName="email",r.$validators.email=function(t,e){var n=t||e;return r.$isEmpty(n)||ra.test(n)}}function Rr(t,e,n,r){var i=!n.ngTrim||"false"!==fi(n.ngTrim);b(n.name)&&e.attr("name",l());var o=function(t){var o;e[0].checked&&(o=n.value,i&&(o=fi(o)),r.$setViewValue(o,t&&t.type))};e.on("click",o),r.$render=function(){var t=n.value;i&&(t=fi(t)),e[0].checked=t===r.$viewValue},n.$observe("value",r.$render)}function Or(t,e,n,r,i){var o;if(x(r)){if(!(o=t(r)).constant)throw Oa("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(e)}return i}function Nr(t,e,n,r,i,o,a,s){var l=Or(s,t,"ngTrueValue",n.ngTrueValue,!0),u=Or(s,t,"ngFalseValue",n.ngFalseValue,!1),c=function(t){r.$setViewValue(e[0].checked,t&&t.type)};e.on("click",c),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return!1===t},r.$formatters.push(function(t){return W(t,l)}),r.$parsers.push(function(t){return t?l:u})}function Ir(t,e){function n(t,e){if(!t||!t.length)return[];if(!e||!e.length)return t;var n=[];t:for(var r=0;r<t.length;r++){for(var i=t[r],o=0;o<e.length;o++)if(i===e[o])continue t;n.push(i)}return n}function r(t){return t&&t.split(" ")}function i(t){var e=t;return di(t)?e=t.map(i).join(" "):_(t)&&(e=Object.keys(t).filter(function(e){return t[e]}).join(" ")),e}t="ngClass"+t;var a;return["$parse",function(s){return{restrict:"AC",link:function(l,u,c){function d(t){t=p(r(t),1),c.$addClass(t)}function h(t){t=p(r(t),-1),c.$removeClass(t)}function f(t,e){var i=r(t),o=r(e),a=n(i,o),s=n(o,i),l=p(a,-1),u=p(s,1);c.$addClass(u),c.$removeClass(l)}function p(t,e){var n=[];return o(t,function(t){(e>0||y[t])&&(y[t]=(y[t]||0)+e,y[t]===+(e>0)&&n.push(t))}),n.join(" ")}function g(t){t===e?d(v):h(v),b=t}function m(t){C(t)||(t=i(t)),b===e&&f(v,t),v=t}var v,y=u.data("$classCounts"),b=!0;y||(y=vt(),u.data("$classCounts",y)),"ngClass"!==t&&(a||(a=s("$index",function(t){return 1&t})),l.$watch(a,g)),l.$watch(s(c[t],i),m)}}}]}function Yr(t,e,n,r,i,o,a,s,l){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(t),this.$$parentForm=Jo,this.$options=Na,this.$$parsedNgModel=i(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:t}),this.$$attr=n,this.$$element=r,this.$$animate=o,this.$$timeout=a,this.$$parse=i,this.$$q=s,this.$$exceptionHandler=e,mr(this),Vr(this)}function Vr(t){t.$$scope.$watch(function(e){var n=t.$$ngModelGet(e);if(n!==t.$modelValue&&(t.$modelValue===t.$modelValue||n===n)){t.$modelValue=t.$$rawModelValue=n,t.$$parserValid=void 0;for(var r=t.$formatters,i=r.length,o=n;i--;)o=r[i](o);t.$viewValue!==o&&(t.$$updateEmptyClasses(o),t.$viewValue=t.$$lastCommittedViewValue=o,t.$render(),t.$$runValidators(t.$modelValue,t.$viewValue,g))}return n})}function jr(t){this.$$options=t}function Hr(t,e){o(e,function(e,n){x(t[n])||(t[n]=e)})}function zr(t,e){t.prop("selected",e),t.attr("selected",e)}var Wr=/^\/(.+)\/([a-z]*)$/,Br="validity",Ur=Object.prototype.hasOwnProperty,Gr={objectMaxDepth:5},qr=function(t){return C(t)?t.toLowerCase():t},Kr=function(t){return C(t)?t.toUpperCase():t},Jr=function(t){return C(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},Xr=function(t){return C(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(qr=Jr,Kr=Xr);var Zr,Qr,ti,ei,ni=[].slice,ri=[].splice,ii=[].push,oi=Object.prototype.toString,ai=Object.getPrototypeOf,si=e("ng"),li=t.angular||(t.angular={}),ui=0;Zr=t.document.documentMode;var ci=Number.isNaN||function(t){return t!==t};g.$inject=[],m.$inject=[];var di=Array.isArray,hi=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,fi=function(t){return C(t)?t.trim():t},pi=function(t){return t.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},gi=function(){if(!x(gi.rules)){var e=t.document.querySelector("[ng-csp]")||t.document.querySelector("[data-ng-csp]");if(e){var n=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");gi.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else gi.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(t){return!0}}(),noInlineStyle:!1}}return gi.rules},mi=function(){if(x(mi.name_))return mi.name_;var e,n,r,i,o=yi.length;for(n=0;n<o;++n)if(r=yi[n],e=t.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=e.getAttribute(r+"jq");break}return mi.name_=i},vi=/:/g,yi=["ng-","data-ng-","ng:","x-ng-"],bi=function(e){var n=e.currentScript;if(!n)return!0;if(!(n instanceof t.HTMLScriptElement||n instanceof t.SVGScriptElement))return!1;var r=n.attributes;return[r.getNamedItem("src"),r.getNamedItem("href"),r.getNamedItem("xlink:href")].every(function(t){if(!t)return!0;if(!t.value)return!1;var n=e.createElement("a");if(n.href=t.value,e.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}(t.document),xi=/[A-Z]/g,_i=!1,wi=1,Ci=3,ki=8,Si=9,Mi=11,Ti={full:"1.6.4",major:1,minor:6,dot:4,codeName:"phenomenal-footnote"};Ft.expando="ng339";var $i=Ft.cache={},Di=1;Ft._data=function(t){return this.cache[t[this.expando]]||{}};var Ei=/-([a-z])/g,Li=/^-ms-/,Ai={mouseleave:"mouseout",mouseenter:"mouseover"},Fi=e("jqLite"),Pi=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ri=/<|&#?\w+;/,Oi=/<([\w:-]+)/,Ni=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ii={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ii.optgroup=Ii.option,Ii.tbody=Ii.tfoot=Ii.colgroup=Ii.caption=Ii.thead,Ii.th=Ii.td;var Yi=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},Vi=Ft.prototype={ready:Kt,toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Qr(t>=0?this[t]:this[this.length+t])},length:0,push:ii,sort:[].sort,splice:[].splice},ji={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){ji[qr(t)]=t});var Hi={};o("input,select,option,textarea,button,form,details".split(","),function(t){Hi[t]=!0});var zi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};o({data:Yt,removeData:Nt,hasData:Dt,cleanData:function(t){for(var e=0,n=t.length;e<n;e++)Nt(t[e])}},function(t,e){Ft[e]=t}),o({data:Yt,inheritedData:Bt,scope:function(t){return Qr.data(t,"$scope")||Bt(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Qr.data(t,"$isolateScope")||Qr.data(t,"$isolateScopeNoTemplate")},controller:Wt,injector:function(t){return Bt(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Vt,css:function(t,e,n){if(e=kt(e),!x(n))return t.style[e];t.style[e]=n},attr:function(t,e,n){var r,i=t.nodeType;if(i!==Ci&&2!==i&&i!==ki&&t.getAttribute){var o=qr(e),a=ji[o];if(!x(n))return r=t.getAttribute(e),a&&null!==r&&(r=o),null===r?void 0:r;null===n||!1===n&&a?t.removeAttribute(e):t.setAttribute(e,a?o:n)}},prop:function(t,e,n){if(!x(n))return t[e];t[e]=n},text:function(){function t(t,e){if(b(e)){var n=t.nodeType;return n===wi||n===Ci?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(b(e)){if(t.multiple&&"select"===Y(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),n}return t.value}t.value=e},html:function(t,e){if(b(e))return t.innerHTML;Rt(t,!0),t.innerHTML=e},empty:Ut},function(t,e){Ft.prototype[e]=function(e,n){var r,i,o=this.length;if(t!==Ut&&b(2===t.length&&t!==Vt&&t!==Wt?e:n)){if(_(e)){for(r=0;r<o;r++)if(t===Yt)t(this[r],e);else for(i in e)t(this[r],i,e[i]);return this}for(var a=t.$dv,s=b(a)?Math.min(o,1):o,l=0;l<s;l++){var u=t(this[l],e,n);a=a?a+u:u}return a}for(r=0;r<o;r++)t(this[r],e,n);return this}}),o({removeData:Nt,on:function(t,e,n,r){if(x(r))throw Fi("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if($t(t)){var i=It(t,!0),o=i.events,a=i.handle;a||(a=i.handle=Zt(t,o));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],l=s.length,u=function(e,r,i){var s=o[e];s||((s=o[e]=[]).specialHandlerWrapper=r,"$destroy"===e||i||t.addEventListener(e,a)),s.push(n)};l--;)e=s[l],Ai[e]?(u(Ai[e],te),u(e,void 0,!0)):u(e)}},off:Ot,one:function(t,e,n){(t=Qr(t)).on(e,function r(){t.off(e,n),t.off(e,r)}),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;Rt(t),o(new Ft(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){t.nodeType===wi&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===wi||n===Mi)for(var r=0,i=(e=new Ft(e)).length;r<i;r++){var o=e[r];t.appendChild(o)}},prepend:function(t,e){if(t.nodeType===wi){var n=t.firstChild;o(new Ft(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){At(t,Qr(e).eq(0).clone()[0])},remove:Gt,detach:function(t){Gt(t,!0)},after:function(t,e){var n=t,r=t.parentNode;if(r)for(var i=0,o=(e=new Ft(e)).length;i<o;i++){var a=e[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:Ht,removeClass:jt,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var r=n;b(r)&&(r=!Vt(t,e)),(r?Ht:jt)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==Mi?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Pt,triggerHandler:function(t,e,n){var r,i,a,s=e.type||e,l=It(t),u=l&&l.events,c=u&&u[s];c&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:g,type:s,target:t},e.type&&(r=d(r,e)),i=xt(c),a=n?[r].concat(n):[r],o(i,function(e){r.isImmediatePropagationStopped()||e.apply(t,a)}))}},function(t,e){Ft.prototype[e]=function(e,n,r){for(var i,o=0,a=this.length;o<a;o++)b(i)?x(i=t(this[o],e,n,r))&&(i=Qr(i)):zt(i,t(this[o],e,n,r));return x(i)?i:this}}),Ft.prototype.bind=Ft.prototype.on,Ft.prototype.unbind=Ft.prototype.off;var Wi=Object.create(null);re.prototype={_idx:function(t){return t===this._lastKey?this._lastIndex:(this._lastKey=t,this._lastIndex=this._keys.indexOf(t),this._lastIndex)},_transformKey:function(t){return ci(t)?Wi:t},get:function(t){t=this._transformKey(t);var e=this._idx(t);if(-1!==e)return this._values[e]},set:function(t,e){t=this._transformKey(t);var n=this._idx(t);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=t,this._values[n]=e},delete:function(t){t=this._transformKey(t);var e=this._idx(t);return-1!==e&&(this._keys.splice(e,1),this._values.splice(e,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Bi=re,Ui=[function(){this.$get=[function(){return Bi}]}],Gi=/^([^(]+?)=>/,qi=/^[^(]*\(\s*([^)]*)\)/m,Ki=/,/,Ji=/^\s*(_?)(\S+?)\1\s*$/,Xi=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Zi=e("$injector");le.$$annotate=se;var Qi=e("$animate"),to=1,eo=function(){this.$get=g},no=function(){var t=new Bi,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function i(t,e,n){var r=!1;return e&&o(e=C(e)?e.split(" "):di(e)?e:[],function(e){e&&(r=!0,t[e]=n)}),r}function a(){o(e,function(e){var n=t.get(e);if(n){var r=he(e.attr("class")),i="",a="";o(n,function(t,e){t!==!!r[e]&&(t?i+=(i.length?" ":"")+e:a+=(a.length?" ":"")+e)}),o(e,function(t){i&&Ht(t,i),a&&jt(t,a)}),t.delete(e)}}),e.length=0}function s(n,o,s){var l=t.get(n)||{},u=i(l,o,!0),c=i(l,s,!1);(u||c)&&(t.set(n,l),e.push(n),1===e.length&&r.$$postDigest(a))}return{enabled:g,on:g,off:g,pin:g,push:function(t,e,r,i){i&&i(),(r=r||{}).from&&t.css(r.from),r.to&&t.css(r.to),(r.addClass||r.removeClass)&&s(t,r.addClass,r.removeClass);var o=new n;return o.complete(),o}}}]},ro=["$provide",function(t){var e=this,n=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Qi("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";e.$$registeredAnimations[n.substr(1)]=i,t.factory(i,r)},this.classNameFilter=function(t){if(1===arguments.length&&(n=t instanceof RegExp?t:null)&&new RegExp("[(\\s|\\/)]ng-animate[(\\s|\\/)]").test(n.toString()))throw n=null,Qi("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',"ng-animate");return n},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var r=de(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,r,i,o){return r=r&&Qr(r),i=i&&Qr(i),r=r||i.parent(),e(n,r,i),t.push(n,"enter",fe(o))},move:function(n,r,i,o){return r=r&&Qr(r),i=i&&Qr(i),r=r||i.parent(),e(n,r,i),t.push(n,"move",fe(o))},leave:function(e,n){return t.push(e,"leave",fe(n),function(){e.remove()})},addClass:function(e,n,r){return r=fe(r),r.addClass=ce(r.addclass,n),t.push(e,"addClass",r)},removeClass:function(e,n,r){return r=fe(r),r.removeClass=ce(r.removeClass,n),t.push(e,"removeClass",r)},setClass:function(e,n,r,i){return i=fe(i),i.addClass=ce(i.addClass,n),i.removeClass=ce(i.removeClass,r),t.push(e,"setClass",i)},animate:function(e,n,r,i,o){return o=fe(o),o.from=o.from?d(o.from,n):n,o.to=o.to?d(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=ce(o.tempClasses,i),t.push(e,"animate",o)}}}]}],io=function(){this.$get=["$$rAF",function(t){function e(e){n.push(e),n.length>1||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}]},oo=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(t,e,n,r,i){function a(t){this.setHost(t);var e=n(),o=function(t){i(t,0,!1)};this._doneCallbacks=[],this._tick=function(t){r()?o(t):e(t)},this._state=0}return a.chain=function(t,e){function n(){r!==t.length?t[r](function(t){!1!==t?(r++,n()):e(!1)}):e(!0)}var r=0;n()},a.all=function(t,e){function n(n){i=i&&n,++r===t.length&&e(i)}var r=0,i=!0;o(t,function(t){t.done(n)})},a.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:g,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){!1===e?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._tick(function(){e._resolve(t)}))},_resolve:function(t){2!==this._state&&(o(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=2)}},a}]},ao=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,r){function i(){return t(function(){o(),s||l.complete(),s=!0}),l}function o(){a.addClass&&(e.addClass(a.addClass),a.addClass=null),a.removeClass&&(e.removeClass(a.removeClass),a.removeClass=null),a.to&&(e.css(a.to),a.to=null)}var a=r||{};a.$$prepared||(a=H(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(e.css(a.from),a.from=null);var s,l=new n;return{start:i,end:i}}}]},so=e("$compile"),lo=new ye;be.$inject=["$provide","$$sanitizeUriProvider"],xe.prototype.isFirstChange=function(){return this.previousValue===lo};var uo=/^((?:x|data)[:\-_])/i,co=/[:\-_]+(.)/g,ho=e("$controller"),fo=/^(\S+)(\s+as\s+([\w$]+))?$/,po=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof Qr&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},go="application/json",mo={"Content-Type":go+";charset=utf-8"},vo=/^\[|^\{(?!\{)/,yo={"[":/]$/,"{":/}$/},bo=/^\)]\}',?\n/,xo=e("$http"),_o=li.$interpolateMinErr=e("$interpolate");_o.throwNoconcat=function(t){throw _o("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},_o.interr=function(t,e){return _o("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var wo=function(){this.$get=function(){function t(t){var e=function(t){e.data=t,e.called=!0};return e.id=t,e}var e=li.callbacks,n={};return{createCallback:function(r){var i="_"+(e.$$counter++).toString(36),o="angular.callbacks."+i,a=t(i);return n[o]=e[i]=a,o},wasCalled:function(t){return n[t].called},getResponse:function(t){return n[t].data},removeCallback:function(t){var r=n[t];delete e[r.id],delete n[t]}}}},Co=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,ko={http:80,https:443,ftp:21},So=e("$location"),Mo=/^\s*[\\/]{2,}/,To={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:nn("$$absUrl"),url:function(t){if(b(t))return this.$$url;var e=Co.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:nn("$$protocol"),host:nn("$$host"),port:nn("$$port"),path:rn("$$path",function(t){return t=null!==t?t.toString():"","/"===t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(C(t)||k(t))t=t.toString(),this.$$search=nt(t);else{if(!_(t))throw So("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");o(t=H(t,{}),function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:b(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:rn("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([en,tn,Qe],function(t){t.prototype=Object.create(To),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==Qe||!this.$$html5)throw So("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=b(e)?null:e,this.$$urlUpdatedByLocation=!0,this}});var $o=e("$parse"),Do={}.constructor.prototype.valueOf,Eo=vt();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){Eo[t]=!0});var Lo={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Ao=function(t){this.options=t};Ao.prototype={constructor:Ao,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),r=n+this.peek(2),i=Eo[e],o=Eo[n],a=Eo[r];if(i||o||a){var s=a?r:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||""===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),r=e.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var r=x(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw $o("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=qr(this.text.charAt(this.index));if("."===n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else n+=Lo[o]||o;i=!1}else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var Fo=function(t,e){this.lexer=t,this.options=e};Fo.Program="Program",Fo.ExpressionStatement="ExpressionStatement",Fo.AssignmentExpression="AssignmentExpression",Fo.ConditionalExpression="ConditionalExpression",Fo.LogicalExpression="LogicalExpression",Fo.BinaryExpression="BinaryExpression",Fo.UnaryExpression="UnaryExpression",Fo.CallExpression="CallExpression",Fo.MemberExpression="MemberExpression",Fo.Identifier="Identifier",Fo.Literal="Literal",Fo.ArrayExpression="ArrayExpression",Fo.Property="Property",Fo.ObjectExpression="ObjectExpression",Fo.ThisExpression="ThisExpression",Fo.LocalsExpression="LocalsExpression",Fo.NGValueParameter="NGValueParameter",Fo.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Fo.Program,body:t}},expressionStatement:function(){return{type:Fo.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!fn(t))throw $o("lval","Trying to assign a value to a non l-value");t={type:Fo.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:Fo.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Fo.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Fo.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:Fo.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:Fo.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:Fo.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:Fo.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Fo.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=H(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:Fo.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:Fo.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:Fo.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:Fo.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:Fo.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do{t.push(this.filterChain())}while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Fo.Identifier,name:t.text}},constant:function(){return{type:Fo.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Fo.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:Fo.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:Fo.ObjectExpression,properties:e}},throwError:function(t,e){throw $o("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw $o("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw $o("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===r||a===i||!e&&!n&&!r&&!i)return o}return!1},expect:function(t,e,n,r){var i=this.peek(t,e,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{this:{type:Fo.ThisExpression},$locals:{type:Fo.LocalsExpression}}},vn.prototype={compile:function(t){var e=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},dn(t,e.$filter);var n,r="";if(this.stage="assign",n=pn(t)){this.state.computing="assign";var i=this.nextId();this.recurse(n,i),this.return_(i),r="fn.assign="+this.generateFunction("assign","s,v,l")}var a=hn(t.body);e.stage="inputs",o(a,function(t,n){var r="fn"+n;e.state[r]={vars:[],body:[],own:{}},e.state.computing=r;var i=e.nextId();e.recurse(t,i),e.return_(i),e.state.inputs.push(r),t.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(t);var s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+r+this.watchFns()+"return fn;",l=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,sn,ln,un);return this.state=this.stage=void 0,l},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return o(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return o(this.state.filters,function(n,r){t.push(n+"=$filter("+e.escape(r)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,n,r,i,a){var s,l,u,c,d,h=this;if(r=r||g,!a&&x(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,n,r,i,!0));switch(t.type){case Fo.Program:o(t.body,function(e,n){h.recurse(e.expression,void 0,void 0,function(t){l=t}),n!==t.body.length-1?h.current().body.push(l,";"):h.return_(l)});break;case Fo.Literal:c=this.escape(t.value),this.assign(e,c),r(e||c);break;case Fo.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(t){l=t}),c=t.operator+"("+this.ifDefined(l,0)+")",this.assign(e,c),r(c);break;case Fo.BinaryExpression:this.recurse(t.left,void 0,void 0,function(t){s=t}),this.recurse(t.right,void 0,void 0,function(t){l=t}),c="+"===t.operator?this.plus(s,l):"-"===t.operator?this.ifDefined(s,0)+t.operator+this.ifDefined(l,0):"("+s+")"+t.operator+"("+l+")",this.assign(e,c),r(c);break;case Fo.LogicalExpression:e=e||this.nextId(),h.recurse(t.left,e),h.if_("&&"===t.operator?e:h.not(e),h.lazyRecurse(t.right,e)),r(e);break;case Fo.ConditionalExpression:e=e||this.nextId(),h.recurse(t.test,e),h.if_(e,h.lazyRecurse(t.alternate,e),h.lazyRecurse(t.consequent,e)),r(e);break;case Fo.Identifier:e=e||this.nextId(),n&&(n.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),n.computed=!1,n.name=t.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",t.name)),function(){h.if_("inputs"===h.stage||"s",function(){i&&1!==i&&h.if_(h.isNull(h.nonComputedMember("s",t.name)),h.lazyAssign(h.nonComputedMember("s",t.name),"{}")),h.assign(e,h.nonComputedMember("s",t.name))})},e&&h.lazyAssign(e,h.nonComputedMember("l",t.name))),r(e);break;case Fo.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),e=e||this.nextId(),h.recurse(t.object,s,void 0,function(){h.if_(h.notNull(s),function(){t.computed?(l=h.nextId(),h.recurse(t.property,l),h.getStringValue(l),i&&1!==i&&h.if_(h.not(h.computedMember(s,l)),h.lazyAssign(h.computedMember(s,l),"{}")),c=h.computedMember(s,l),h.assign(e,c),n&&(n.computed=!0,n.name=l)):(i&&1!==i&&h.if_(h.isNull(h.nonComputedMember(s,t.property.name)),h.lazyAssign(h.nonComputedMember(s,t.property.name),"{}")),c=h.nonComputedMember(s,t.property.name),h.assign(e,c),n&&(n.computed=!1,n.name=t.property.name))},function(){h.assign(e,"undefined")}),r(e)},!!i);break;case Fo.CallExpression:e=e||this.nextId(),t.filter?(l=h.filter(t.callee.name),u=[],o(t.arguments,function(t){var e=h.nextId();h.recurse(t,e),u.push(e)}),c=l+"("+u.join(",")+")",h.assign(e,c),r(e)):(l=h.nextId(),s={},u=[],h.recurse(t.callee,l,s,function(){h.if_(h.notNull(l),function(){o(t.arguments,function(e){h.recurse(e,t.constant?void 0:h.nextId(),void 0,function(t){u.push(t)})}),c=s.name?h.member(s.context,s.name,s.computed)+"("+u.join(",")+")":l+"("+u.join(",")+")",h.assign(e,c)},function(){h.assign(e,"undefined")}),r(e)}));break;case Fo.AssignmentExpression:l=this.nextId(),s={},this.recurse(t.left,void 0,s,function(){h.if_(h.notNull(s.context),function(){h.recurse(t.right,l),c=h.member(s.context,s.name,s.computed)+t.operator+l,h.assign(e,c),r(e||c)})},1);break;case Fo.ArrayExpression:u=[],o(t.elements,function(e){h.recurse(e,t.constant?void 0:h.nextId(),void 0,function(t){u.push(t)})}),c="["+u.join(",")+"]",this.assign(e,c),r(e||c);break;case Fo.ObjectExpression:u=[],d=!1,o(t.properties,function(t){t.computed&&(d=!0)}),d?(e=e||this.nextId(),this.assign(e,"{}"),o(t.properties,function(t){t.computed?(s=h.nextId(),h.recurse(t.key,s)):s=t.key.type===Fo.Identifier?t.key.name:""+t.key.value,l=h.nextId(),h.recurse(t.value,l),h.assign(h.member(e,s,t.computed),l)})):(o(t.properties,function(e){h.recurse(e.value,t.constant?void 0:h.nextId(),void 0,function(t){u.push(h.escape(e.key.type===Fo.Identifier?e.key.name:""+e.key.value)+":"+t)})}),c="{"+u.join(",")+"}",this.assign(e,c)),r(e||c);break;case Fo.ThisExpression:this.assign(e,"s"),r(e||"s");break;case Fo.LocalsExpression:this.assign(e,"l"),r(e||"l");break;case Fo.NGValueParameter:this.assign(e,"v"),r(e||"v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),r[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(!0===t)e();else{var r=this.current().body;r.push("if(",t,"){"),e(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var n=/[^$_a-zA-Z0-9]/g;return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(e)?t+"."+e:t+'["'+e.replace(n,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,n,r,i,o){var a=this;return function(){a.recurse(t,e,n,r,i,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(C(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(k(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if(void 0===t)return"undefined";throw $o("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},yn.prototype={compile:function(t){var e=this;dn(t,e.$filter);var n,r;(n=pn(t))&&(r=this.recurse(n));var i,a=hn(t.body);a&&(i=[],o(a,function(t,n){var r=e.recurse(t);t.input=r,i.push(r),t.watchId=n}));var s=[];o(t.body,function(t){s.push(e.recurse(t.expression))});var l=0===t.body.length?g:1===t.body.length?s[0]:function(t,e){var n;return o(s,function(r){n=r(t,e)}),n};return r&&(l.assign=function(t,e,n){return r(t,n,e)}),i&&(l.inputs=i),l},recurse:function(t,e,n){var r,i,a,s=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Fo.Literal:return this.value(t.value,e);case Fo.UnaryExpression:return i=this.recurse(t.argument),this["unary"+t.operator](i,e);case Fo.BinaryExpression:case Fo.LogicalExpression:return r=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](r,i,e);case Fo.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Fo.Identifier:return s.identifier(t.name,e,n);case Fo.MemberExpression:return r=this.recurse(t.object,!1,!!n),t.computed||(i=t.property.name),t.computed&&(i=this.recurse(t.property)),t.computed?this.computedMember(r,i,e,n):this.nonComputedMember(r,i,e,n);case Fo.CallExpression:return a=[],o(t.arguments,function(t){a.push(s.recurse(t))}),t.filter&&(i=this.$filter(t.callee.name)),t.filter||(i=this.recurse(t.callee,!0)),t.filter?function(t,n,r,o){for(var s=[],l=0;l<a.length;++l)s.push(a[l](t,n,r,o));var u=i.apply(void 0,s,o);return e?{context:void 0,name:void 0,value:u}:u}:function(t,n,r,o){var s,l=i(t,n,r,o);if(null!=l.value){for(var u=[],c=0;c<a.length;++c)u.push(a[c](t,n,r,o));s=l.value.apply(l.context,u)}return e?{value:s}:s};case Fo.AssignmentExpression:return r=this.recurse(t.left,!0,1),i=this.recurse(t.right),function(t,n,o,a){var s=r(t,n,o,a),l=i(t,n,o,a);return s.context[s.name]=l,e?{value:l}:l};case Fo.ArrayExpression:return a=[],o(t.elements,function(t){a.push(s.recurse(t))}),function(t,n,r,i){for(var o=[],s=0;s<a.length;++s)o.push(a[s](t,n,r,i));return e?{value:o}:o};case Fo.ObjectExpression:return a=[],o(t.properties,function(t){t.computed?a.push({key:s.recurse(t.key),computed:!0,value:s.recurse(t.value)}):a.push({key:t.key.type===Fo.Identifier?t.key.name:""+t.key.value,computed:!1,value:s.recurse(t.value)})}),function(t,n,r,i){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(t,n,r,i)]=a[s].value(t,n,r,i):o[a[s].key]=a[s].value(t,n,r,i);return e?{value:o}:o};case Fo.ThisExpression:return function(t){return e?{value:t}:t};case Fo.LocalsExpression:return function(t,n){return e?{value:n}:n};case Fo.NGValueParameter:return function(t,n,r){return e?{value:r}:r}}},"unary+":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=x(a)?+a:0,e?{value:a}:a}},"unary-":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=x(a)?-a:-0,e?{value:a}:a}},"unary!":function(t,e){return function(n,r,i,o){var a=!t(n,r,i,o);return e?{value:a}:a}},"binary+":function(t,e,n){return function(r,i,o,a){var s=un(t(r,i,o,a),e(r,i,o,a));return n?{value:s}:s}},"binary-":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a),l=e(r,i,o,a),u=(x(s)?s:0)-(x(l)?l:0);return n?{value:u}:u}},"binary*":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)*e(r,i,o,a);return n?{value:s}:s}},"binary/":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)/e(r,i,o,a);return n?{value:s}:s}},"binary%":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)%e(r,i,o,a);return n?{value:s}:s}},"binary===":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)===e(r,i,o,a);return n?{value:s}:s}},"binary!==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!==e(r,i,o,a);return n?{value:s}:s}},"binary==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)==e(r,i,o,a);return n?{value:s}:s}},"binary!=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!=e(r,i,o,a);return n?{value:s}:s}},"binary<":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)<e(r,i,o,a);return n?{value:s}:s}},"binary>":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>e(r,i,o,a);return n?{value:s}:s}},"binary<=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)<=e(r,i,o,a);return n?{value:s}:s}},"binary>=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>=e(r,i,o,a);return n?{value:s}:s}},"binary&&":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)&&e(r,i,o,a);return n?{value:s}:s}},"binary||":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)||e(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(t,e,n,r){return function(i,o,a,s){var l=t(i,o,a,s)?e(i,o,a,s):n(i,o,a,s);return r?{value:l}:l}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,n){return function(r,i,o,a){var s=i&&t in i?i:r;n&&1!==n&&s&&null==s[t]&&(s[t]={});var l=s?s[t]:void 0;return e?{context:s,name:t,value:l}:l}},computedMember:function(t,e,n,r){return function(i,o,a,s){var l,u,c=t(i,o,a,s);return null!=c&&(l=sn(l=e(i,o,a,s)),r&&1!==r&&c&&!c[l]&&(c[l]={}),u=c[l]),n?{context:c,name:l,value:u}:u}},nonComputedMember:function(t,e,n,r){return function(i,o,a,s){var l=t(i,o,a,s);r&&1!==r&&l&&null==l[e]&&(l[e]={});var u=null!=l?l[e]:void 0;return n?{context:l,name:e,value:u}:u}},inputs:function(t,e){return function(n,r,i,o){return o?o[e]:t(n,r,i)}}},bn.prototype={constructor:bn,parse:function(t){var e=this.ast.ast(t),n=this.astCompiler.compile(e);return n.literal=gn(e),n.constant=mn(e),n}};var Po=e("$sce"),Ro={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Oo=/_([a-z])/g,No=e("$compile"),Io=t.document.createElement("a"),Yo=Nn(t.location.href);Vn.$inject=["$document"],Hn.$inject=["$provide"];var Vo=22,jo=".",Ho="0";Gn.$inject=["$locale"],qn.$inject=["$locale"];var zo={yyyy:Qn("FullYear",4,0,!1,!0),yy:Qn("FullYear",2,0,!0,!0),y:Qn("FullYear",1,0,!1,!0),MMMM:tr("Month"),MMM:tr("Month",!0),MM:Qn("Month",2,1),M:Qn("Month",1,1),LLLL:tr("Month",!1,!0),dd:Qn("Date",2),d:Qn("Date",1),HH:Qn("Hours",2),H:Qn("Hours",1),hh:Qn("Hours",2,-12),h:Qn("Hours",1,-12),mm:Qn("Minutes",2),m:Qn("Minutes",1),ss:Qn("Seconds",2),s:Qn("Seconds",1),sss:Qn("Milliseconds",3),EEEE:tr("Day"),EEE:tr("Day",!0),a:or,Z:er,ww:ir(2),w:ir(1),G:ar,GG:ar,GGG:ar,GGGG:sr},Wo=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Bo=/^-?\d+$/;lr.$inject=["$locale"];var Uo=v(qr),Go=v(Kr);hr.$inject=["$parse"];var qo=v({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===oi.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),Ko={};o(ji,function(t,e){function n(t,n,i){t.$watch(i[r],function(t){i.$set(e,!!t)})}if("multiple"!==t){var r=_e("ng-"+e),i=n;"checked"===t&&(i=function(t,e,i){i.ngModel!==i[r]&&n(t,e,i)}),Ko[r]=function(){return{restrict:"A",priority:100,link:i}}}}),o(zi,function(t,e){Ko[e]=function(){return{priority:100,link:function(t,n,r){if("ngPattern"===e&&"/"===r.ngPattern.charAt(0)){var i=r.ngPattern.match(Wr);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}t.$watch(r[e],function(t){r.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=_e("ng-"+t);Ko[e]=function(){return{priority:99,link:function(n,r,i){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===oi.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(e,function(e){e?(i.$set(a,e),Zr&&o&&r.prop(o,i[a])):"href"===t&&i.$set(a,null)})}}}});var Jo={$addControl:g,$$renameControl:pr,$removeControl:g,$setValidity:g,$setDirty:g,$setPristine:g,$setSubmitted:g},Xo="ng-pending";gr.$inject=["$element","$attrs","$scope","$animate","$interpolate"],gr.prototype={$rollbackViewValue:function(){o(this.$$controls,function(t){t.$rollbackViewValue()})},$commitViewValue:function(){o(this.$$controls,function(t){t.$commitViewValue()})},$addControl:function(t){pt(t.$name,"input"),this.$$controls.push(t),t.$name&&(this[t.$name]=t),t.$$parentForm=this},$$renameControl:function(t,e){var n=t.$name;this[n]===t&&delete this[n],this[e]=t,t.$name=e},$removeControl:function(t){t.$name&&this[t.$name]===t&&delete this[t.$name],o(this.$pending,function(e,n){this.$setValidity(n,null,t)},this),o(this.$error,function(e,n){this.$setValidity(n,null,t)},this),o(this.$$success,function(e,n){this.$setValidity(n,null,t)},this),j(this.$$controls,t),t.$$parentForm=Jo},$setDirty:function(){this.$$animate.removeClass(this.$$element,Pa),this.$$animate.addClass(this.$$element,Ra),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Pa,Ra+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,o(this.$$controls,function(t){t.$setPristine()})},$setUntouched:function(){o(this.$$controls,function(t){t.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},vr({clazz:gr,set:function(t,e,n){var r=t[e];r?-1===r.indexOf(n)&&r.push(n):t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(j(r,n),0===r.length&&delete t[e])}});var Zo=function(t){return["$timeout","$parse",function(e,n){function r(t){return""===t?n('this[""]').assign:n(t).assign||g}return{name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:gr,compile:function(n,i){n.addClass(Pa).addClass(Aa);var o=i.name?"name":!(!t||!i.ngForm)&&"ngForm";return{pre:function(t,n,i,a){var s=a[0];if(!("action"in i)){var l=function(e){t.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),e.preventDefault()};n[0].addEventListener("submit",l),n.on("$destroy",function(){e(function(){n[0].removeEventListener("submit",l)},0,!1)})}(a[1]||s.$$parentForm).$addControl(s);var u=o?r(s.$name):g;o&&(u(t,s),i.$observe(o,function(e){s.$name!==e&&(u(t,void 0),s.$$parentForm.$$renameControl(s,e),(u=r(s.$name))(t,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),u(t,void 0),d(s,Jo)})}}}}}]},Qo=Zo(),ta=Zo(!0),ea=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,na=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,ra=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,ia=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,oa=/^(\d{4,})-(\d{2})-(\d{2})$/,aa=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,sa=/^(\d{4,})-W(\d\d)$/,la=/^(\d{4,})-(\d\d)$/,ua=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ca="keydown wheel mousedown",da=vt();o("date,datetime-local,month,time,week".split(","),function(t){da[t]=!0});var ha={text:xr,date:kr("date",oa,Cr(oa,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":kr("datetimelocal",aa,Cr(aa,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:kr("time",ua,Cr(ua,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:kr("week",sa,wr,"yyyy-Www"),month:kr("month",la,Cr(la,["yyyy","MM"]),"yyyy-MM"),number:Lr,url:Fr,email:Pr,radio:Rr,range:Ar,checkbox:Nr,hidden:g,button:g,submit:g,reset:g,file:g},fa=["$browser","$sniffer","$filter","$parse",function(t,e,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(ha[qr(a.type)]||ha.text)(i,o,a,s[0],e,t,n,r)}}}}],pa=/^(true|false|\d+)$/,ga=function(){function t(t,e,n){var r=x(n)?n:9===Zr?"":null;t.prop("value",r),e.$set("value",n)}return{restrict:"A",priority:100,compile:function(e,n){return pa.test(n.ngValue)?function(e,n,r){t(n,r,e.$eval(r.ngValue))}:function(e,n,r){e.$watch(r.ngValue,function(e){t(n,r,e)})}}}},ma=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,r){t.$$addBindingInfo(n,r.ngBind),n=n[0],e.$watch(r.ngBind,function(t){n.textContent=yt(t)})}}}}],va=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,r,i){var o=t(r.attr(i.$attr.ngBindTemplate));e.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",function(t){r.textContent=b(t)?"":t})}}}}],ya=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(r,i){var o=e(i.ngBindHtml),a=e(i.ngBindHtml,function(e){return t.valueOf(e)});return n.$$addBindingClass(r),function(e,r,i){n.$$addBindingInfo(r,i.ngBindHtml),e.$watch(a,function(){var n=o(e);r.html(t.getTrustedHtml(n)||"")})}}}}],ba=v({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),xa=Ir("",!0),_a=Ir("Odd",0),wa=Ir("Even",1),Ca=fr({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),ka=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Sa={},Ma={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=_e("ng-"+t);Sa[e]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[e]);return function(e,n){n.on(t,function(n){var i=function(){a(e,{$event:n})};Ma[t]&&r.$$phase?e.$evalAsync(i):e.$apply(i)})}}}}]});var Ta=["$animate","$compile",function(t,e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,l,u;n.$watch(i.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=e.$$createComment("end ngIf",i.ngIf),s={clone:n},t.enter(n,r.parent(),r)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=mt(s.clone),t.leave(u).done(function(t){!1!==t&&(u=null)}),s=null))})}}}],$a=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:li.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,l,u,c){var d,h,f,p=0,g=function(){h&&(h.remove(),h=null),d&&(d.$destroy(),d=null),f&&(n.leave(f).done(function(t){!1!==t&&(h=null)}),h=f,f=null)};r.$watch(o,function(o){var l=function(t){!1===t||!x(s)||s&&!r.$eval(s)||e()},h=++p;o?(t(o,!0).then(function(t){if(!r.$$destroyed&&h===p){var e=r.$new();u.template=t;var s=c(e,function(t){g(),n.enter(t,null,i).done(l)});f=s,(d=e).$emit("$includeContentLoaded",o),r.$eval(a)}},function(){r.$$destroyed||h===p&&(g(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(g(),u.template=null)})}}}}],Da=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){if(oi.call(r[0]).match(/SVG/))return r.empty(),void e(Et(o.template,t.document).childNodes)(n,function(t){r.append(t)},{futureParentElement:r});r.html(o.template),e(r.contents())(n)}}}],Ea=fr({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),La=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,r){var i=n.ngList||", ",a="false"!==n.ngTrim,s=a?fi(i):i,l=function(t){if(!b(t)){var e=[];return t&&o(t.split(s),function(t){t&&e.push(a?fi(t):t)}),e}};r.$parsers.push(l),r.$formatters.push(function(t){if(di(t))return t.join(i)}),r.$isEmpty=function(t){return!t||!t.length}}}},Aa="ng-valid",Fa="ng-invalid",Pa="ng-pristine",Ra="ng-dirty",Oa=e("ngModel");Yr.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],Yr.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var t=this.$$parse(this.$$attr.ngModel+"()"),e=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(e){var n=this.$$parsedNgModel(e);return M(n)&&(n=t(e)),n},this.$$ngModelSet=function(t,n){M(this.$$parsedNgModel(t))?e(t,{$$$p:n}):this.$$parsedNgModelAssign(t,n)}}else if(!this.$$parsedNgModel.assign)throw Oa("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,tt(this.$$element))},$render:g,$isEmpty:function(t){return b(t)||""===t||null===t||t!==t},$$updateEmptyClasses:function(t){this.$isEmpty(t)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Ra),this.$$animate.addClass(this.$$element,Pa)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Pa),this.$$animate.addClass(this.$$element,Ra),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!ci(this.$modelValue)){var t=this.$$lastCommittedViewValue,e=this.$$rawModelValue,n=this.$valid,r=this.$modelValue,i=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(e,t,function(t){i||n===t||(o.$modelValue=t?e:void 0,o.$modelValue!==r&&o.$$writeModelToScope())})}},$$runValidators:function(t,e,n){function r(t,e){a===s.$$currentValidationRunId&&s.$setValidity(t,e)}function i(t){a===s.$$currentValidationRunId&&n(t)}var a=++this.$$currentValidationRunId,s=this;!function(){var t=s.$$parserName||"parse";return b(s.$$parserValid)?(r(t,null),!0):(s.$$parserValid||(o(s.$validators,function(t,e){r(e,null)}),o(s.$asyncValidators,function(t,e){r(e,null)})),r(t,s.$$parserValid),s.$$parserValid)}()?i(!1):function(){var n=!0;return o(s.$validators,function(i,o){var a=Boolean(i(t,e));n=n&&a,r(o,a)}),!!n||(o(s.$asyncValidators,function(t,e){r(e,null)}),!1)}()?function(){var n=[],a=!0;o(s.$asyncValidators,function(i,o){var s=i(t,e);if(!P(s))throw Oa("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",s);r(o,void 0),n.push(s.then(function(){r(o,!0)},function(){a=!1,r(o,!1)}))}),n.length?s.$$q.all(n).then(function(){i(a)},g):i(!0)}():i(!1)},$commitViewValue:function(){var t=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==t||""===t&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(t),this.$$lastCommittedViewValue=t,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){function t(){n.$modelValue!==i&&n.$$writeModelToScope()}var e=this.$$lastCommittedViewValue,n=this;if(this.$$parserValid=!b(e)||void 0,this.$$parserValid)for(var r=0;r<this.$parsers.length;r++)if(e=this.$parsers[r](e),b(e)){this.$$parserValid=!1;break}ci(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var i=this.$modelValue,o=this.$options.getOption("allowInvalid");this.$$rawModelValue=e,o&&(this.$modelValue=e,t()),this.$$runValidators(e,this.$$lastCommittedViewValue,function(r){o||(n.$modelValue=r?e:void 0,t())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),o(this.$viewChangeListeners,function(t){try{t()}catch(t){this.$$exceptionHandler(t)}},this)},$setViewValue:function(t,e){this.$viewValue=t,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(e)},$$debounceViewValueCommit:function(t){var e=this.$options.getOption("debounce");k(e[t])?e=e[t]:k(e.default)&&(e=e.default),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;e>0?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},e):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(t){this.$options=this.$options.createChild(t)}},vr({clazz:Yr,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]}});var Na,Ia=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Yr,priority:1,compile:function(e){return e.addClass(Pa).addClass("ng-untouched").addClass(Aa),{pre:function(t,e,n,r){var i=r[0],o=r[1]||i.$$parentForm,a=r[2];a&&(i.$options=a.$options),i.$$initGetterSetters(),o.$addControl(i),n.$observe("name",function(t){i.$name!==t&&i.$$parentForm.$$renameControl(i,t)}),t.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(e,n,r,i){function o(){a.$setTouched()}var a=i[0];a.$options.getOption("updateOn")&&n.on(a.$options.getOption("updateOn"),function(t){a.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(){a.$touched||(t.$$phase?e.$evalAsync(o):e.$apply(o))})}}}}}],Ya=/(\s+|^)default(\s+|$)/;jr.prototype={getOption:function(t){return this.$$options[t]},createChild:function(t){var e=!1;return t=d({},t),o(t,function(n,r){"$inherit"===n?"*"===r?e=!0:(t[r]=this.$$options[r],"updateOn"===r&&(t.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===r&&(t.updateOnDefault=!1,t[r]=fi(n.replace(Ya,function(){return t.updateOnDefault=!0," "})))},this),e&&(delete t["*"],Hr(t,this.$$options)),Hr(t,Na.$$options),new jr(t)}},Na=new jr({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Va=function(){function t(t,e){this.$$attrs=t,this.$$scope=e}return t.$inject=["$attrs","$scope"],t.prototype={$onInit:function(){var t=this.parentCtrl?this.parentCtrl.$options:Na,e=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=t.createChild(e)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:t}},ja=fr({terminal:!0,priority:1e3}),Ha=e("ngOptions"),za=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Wa=["$compile","$document","$parse",function(e,n,r){function a(t,e,n){function o(t,e,n,r,i){this.selectValue=t,this.viewValue=e,this.label=n,this.group=r,this.disabled=i}function a(t){var e;if(!u&&i(t))e=t;else{e=[];for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n)}return e}var s=t.match(za);if(!s)throw Ha("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,tt(e));var l=s[5]||s[7],u=s[6],c=/ as /.test(s[0])&&s[1],d=s[9],h=r(s[2]?s[1]:l),f=c&&r(c)||h,p=d&&r(d),g=d?function(t,e){return p(n,e)}:function(t){return ne(t)},m=function(t,e){return g(t,w(t,e))},v=r(s[2]||s[1]),y=r(s[3]||""),b=r(s[4]||""),x=r(s[8]),_={},w=u?function(t,e){return _[u]=e,_[l]=t,_}:function(t){return _[l]=t,_};return{trackBy:d,getTrackByValue:m,getWatchables:r(x,function(t){for(var e=[],r=a(t=t||[]),i=r.length,o=0;o<i;o++){var l=t===r?o:r[o],u=t[l],c=w(u,l),d=g(u,c);if(e.push(d),s[2]||s[1]){var h=v(n,c);e.push(h)}if(s[4]){var f=b(n,c);e.push(f)}}return e}),getOptions:function(){for(var t=[],e={},r=x(n)||[],i=a(r),s=i.length,l=0;l<s;l++){var u=r===i?l:i[l],c=w(r[u],u),h=f(n,c),p=g(h,c),_=new o(p,h,v(n,c),y(n,c),b(n,c));t.push(_),e[p]=_}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[m(t)]},getViewValueFromOption:function(t){return d?H(t.viewValue):t.viewValue}}}}}function s(t,r,i,s){function c(t,e){var n=l.cloneNode(!1);e.appendChild(n),h(t,n)}function d(t){var e=w.getOptionFromViewValue(t),n=e&&e.element;return n&&!n.selected&&(n.selected=!0),e}function h(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),e.value=t.selectValue}function f(){var t=w&&p.readValue();if(w)for(var e=w.items.length-1;e>=0;e--){var n=w.items[e];Gt(x(n.group)?n.element.parentNode:n.element)}w=C.getOptions();var i={};if(_&&r.prepend(p.emptyOption),w.items.forEach(function(t){var e;x(t.group)?((e=i[t.group])||(e=u.cloneNode(!1),k.appendChild(e),e.label=null===t.group?"null":t.group,i[t.group]=e),c(t,e)):c(t,k)}),r[0].appendChild(k),g.$render(),!g.$isEmpty(t)){var o=p.readValue();(C.trackBy||m?W(t,o):t===o)||(g.$setViewValue(o),g.$render())}}for(var p=s[0],g=s[1],m=i.multiple,v=0,y=r.children(),b=y.length;v<b;v++)if(""===y[v].value){p.hasEmptyOption=!0,p.emptyOption=y.eq(v);break}var _=!!p.emptyOption;Qr(l.cloneNode(!1)).val("?");var w,C=a(i.ngOptions,r,t),k=n[0].createDocumentFragment();p.generateUnknownOptionValue=function(t){return"?"},m?(p.writeValue=function(t){var e=t&&t.map(d)||[];w.items.forEach(function(t){t.element.selected&&!V(e,t)&&(t.element.selected=!1)})},p.readValue=function(){var t=[];return o(r.val()||[],function(e){var n=w.selectValueMap[e];n&&!n.disabled&&t.push(w.getViewValueFromOption(n))}),t},C.trackBy&&t.$watchCollection(function(){if(di(g.$viewValue))return g.$viewValue.map(function(t){return C.getTrackByValue(t)})},function(){g.$render()})):(p.writeValue=function(t){var e=w.selectValueMap[r.val()],n=w.getOptionFromViewValue(t);e&&e.element.removeAttribute("selected"),n?(r[0].value!==n.selectValue&&(p.removeUnknownOption(),p.unselectEmptyOption(),r[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):_?p.selectEmptyOption():p.unknownOption.parent().length?p.updateUnknownOption(t):p.renderUnknownOption(t)},p.readValue=function(){var t=w.selectValueMap[r.val()];return t&&!t.disabled?(p.unselectEmptyOption(),p.removeUnknownOption(),w.getViewValueFromOption(t)):null},C.trackBy&&t.$watch(function(){return C.getTrackByValue(g.$viewValue)},function(){g.$render()})),_&&(p.emptyOption.remove(),e(p.emptyOption)(t),p.emptyOption[0].nodeType===ki?(p.hasEmptyOption=!1,p.registerOption=function(t,e){""===e.val()&&(p.hasEmptyOption=!0,p.emptyOption=e,p.emptyOption.removeClass("ng-scope"),g.$render(),e.on("$destroy",function(){p.hasEmptyOption=!1,p.emptyOption=void 0}))}):p.emptyOption.removeClass("ng-scope")),r.empty(),f(),t.$watchCollection(C.getWatchables,f)}var l=t.document.createElement("option"),u=t.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,r){r[0].registerOption=g},post:s}}}],Ba=["$locale","$interpolate","$log",function(t,e,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function u(t){s.text(t||"")}var c,d=l.count,h=l.$attr.when&&s.attr(l.$attr.when),f=l.offset||0,p=a.$eval(h)||{},m={},v=e.startSymbol(),y=e.endSymbol(),x=v+d+"-"+f+y,_=li.noop;o(l,function(t,e){var n=i.exec(e);if(n){var r=(n[1]?"-":"")+qr(n[2]);p[r]=s.attr(l.$attr[e])}}),o(p,function(t,n){m[n]=e(t.replace(r,x))}),a.$watch(d,function(e){var r=parseFloat(e),i=ci(r);if(i||r in p||(r=t.pluralCat(r-f)),!(r===c||i&&ci(c))){_();var o=m[r];b(o)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+h),_=g,u()):_=a.$watch(o,u),c=r}})}}}],Ua=["$parse","$animate","$compile",function(t,n,r){var a=e("ngRepeat"),s=function(t,e,n,r,i,o,a){t[n]=r,i&&(t[i]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0==(1&e))},l=function(t){return t.clone[0]},u=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(e,c){var d=c.ngRepeat,h=r.$$createComment("end ngRepeat",d),f=d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!f)throw a("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",d);var p=f[1],g=f[2],m=f[3],v=f[4];if(!(f=p.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw a("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",p);var y=f[3]||f[1],b=f[2];if(m&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(m)))throw a("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",m);var x,_,w,C,k={$id:ne};return v?x=t(v):(w=function(t,e){return ne(e)},C=function(t){return t}),function(t,e,r,c,f){x&&(_=function(e,n,r){return b&&(k[b]=e),k[y]=n,k.$index=r,x(t,k)});var p=vt();t.$watchCollection(g,function(r){var c,g,v,x,k,S,M,T,$,D,E,L,A=e[0],F=vt();if(m&&(t[m]=r),i(r))$=r,T=_||w;else{T=_||C,$=[];for(var P in r)Ur.call(r,P)&&"$"!==P.charAt(0)&&$.push(P)}for(x=$.length,E=new Array(x),c=0;c<x;c++)if(k=r===$?c:$[c],S=r[k],M=T(k,S,c),p[M])D=p[M],delete p[M],F[M]=D,E[c]=D;else{if(F[M])throw o(E,function(t){t&&t.scope&&(p[t.id]=t)}),a("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",d,M,S);E[c]={id:M,scope:void 0,clone:void 0},F[M]=!0}for(var R in p){if(D=p[R],L=mt(D.clone),n.leave(L),L[0].parentNode)for(c=0,g=L.length;c<g;c++)L[c].$$NG_REMOVED=!0;D.scope.$destroy()}for(c=0;c<x;c++)if(k=r===$?c:$[c],S=r[k],(D=E[c]).scope){v=A;do{v=v.nextSibling}while(v&&v.$$NG_REMOVED);l(D)!==v&&n.move(mt(D.clone),null,A),A=u(D),s(D.scope,c,y,S,b,k,x)}else f(function(t,e){D.scope=e;var r=h.cloneNode(!1);t[t.length++]=r,n.enter(t,null,A),A=r,D.clone=t,F[D.id]=D,s(D.scope,c,y,S,b,k,x)});p=F})}}}}],Ga=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngShow,function(e){t[e?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],qa=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngHide,function(e){t[e?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Ka=fr(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),Ja=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=i.ngSwitch||i.on,l=[],u=[],c=[],d=[],h=function(t,e){return function(n){!1!==n&&t.splice(e,1)}};n.$watch(s,function(n){for(var r,i;c.length;)t.cancel(c.pop());for(r=0,i=d.length;r<i;++r){var s=mt(u[r].clone);d[r].$destroy(),(c[r]=t.leave(s)).done(h(c,r))}u.length=0,d.length=0,(l=a.cases["!"+n]||a.cases["?"])&&o(l,function(n){n.transclude(function(r,i){d.push(i);var o=n.element;r[r.length++]=e.$$createComment("end ngSwitchWhen");var a={clone:r};u.push(a),t.enter(r,o.parent(),o)})})})}}}],Xa=fr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){o(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(t,e,n){return n[e-1]!==t}),function(t){r.cases["!"+t]=r.cases["!"+t]||[],r.cases["!"+t].push({transclude:i,element:e})})}}),Za=fr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),Qa=e("ngTransclude"),ts=["$compile",function(t){return{restrict:"EAC",terminal:!0,compile:function(e){var n=t(e.contents());return e.empty(),function(t,e,r,i,o){function a(t,n){t.length&&l(t)?e.append(t):(s(),n.$destroy())}function s(){n(t,function(t){e.append(t)})}function l(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];if(r.nodeType!==Ci||r.nodeValue.trim())return!0}}if(!o)throw Qa("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",tt(e));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var u=r.ngTransclude||r.ngTranscludeSlot;o(a,null,u),u&&!o.isSlotFilled(u)&&s()}}}}],es=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"===n.type){var r=n.id,i=e[0].text;t.put(r,i)}}}}],ns={$setViewValue:g,$render:g},rs=["$element","$scope",function(e,n){function r(){s||(s=!0,n.$$postDigest(function(){s=!1,o.ngModelCtrl.$render()}))}function i(t){l||(l=!0,n.$$postDigest(function(){n.$$destroyed||(l=!1,o.ngModelCtrl.$setViewValue(o.readValue()),t&&o.ngModelCtrl.$render())}))}var o=this,a=new Bi;o.selectValueMap={},o.ngModelCtrl=ns,o.multiple=!1,o.unknownOption=Qr(t.document.createElement("option")),o.hasEmptyOption=!1,o.emptyOption=void 0,o.renderUnknownOption=function(t){var n=o.generateUnknownOptionValue(t);o.unknownOption.val(n),e.prepend(o.unknownOption),zr(o.unknownOption,!0),e.val(n)},o.updateUnknownOption=function(t){var n=o.generateUnknownOptionValue(t);o.unknownOption.val(n),zr(o.unknownOption,!0),e.val(n)},o.generateUnknownOptionValue=function(t){return"? "+ne(t)+" ?"},o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.selectEmptyOption=function(){o.emptyOption&&(e.val(""),zr(o.emptyOption,!0))},o.unselectEmptyOption=function(){o.hasEmptyOption&&o.emptyOption.removeAttr("selected")},n.$on("$destroy",function(){o.renderUnknownOption=g}),o.readValue=function(){var t=e.val(),n=t in o.selectValueMap?o.selectValueMap[t]:t;return o.hasOption(n)?n:null},o.writeValue=function(t){var n=e[0].options[e[0].selectedIndex];if(n&&zr(Qr(n),!1),o.hasOption(t)){o.removeUnknownOption();var r=ne(t);e.val(r in o.selectValueMap?r:t);var i=e[0].options[e[0].selectedIndex];zr(Qr(i),!0)}else null==t&&o.emptyOption?(o.removeUnknownOption(),o.selectEmptyOption()):o.unknownOption.parent().length?o.updateUnknownOption(t):o.renderUnknownOption(t)},o.addOption=function(t,e){if(e[0].nodeType!==ki){pt(t,'"option value"'),""===t&&(o.hasEmptyOption=!0,o.emptyOption=e);var n=a.get(t)||0;a.set(t,n+1),r()}},o.removeOption=function(t){var e=a.get(t);e&&(1===e?(a.delete(t),""===t&&(o.hasEmptyOption=!1,o.emptyOption=void 0)):a.set(t,e-1))},o.hasOption=function(t){return!!a.get(t)};var s=!1,l=!1;o.registerOption=function(t,e,n,a,s){if(n.$attr.ngValue){var l,u=NaN;n.$observe("value",function(t){var n,r=e.prop("selected");x(u)&&(o.removeOption(l),delete o.selectValueMap[u],n=!0),u=ne(t),l=t,o.selectValueMap[u]=t,o.addOption(t,e),e.attr("value",u),n&&r&&i()})}else a?n.$observe("value",function(t){o.readValue();var n,r=e.prop("selected");x(l)&&(o.removeOption(l),n=!0),l=t,o.addOption(t,e),n&&r&&i()}):s?t.$watch(s,function(t,r){n.$set("value",t);var a=e.prop("selected");r!==t&&o.removeOption(r),o.addOption(t,e),r&&a&&i()}):o.addOption(n.value,e);n.$observe("disabled",function(t){("true"===t||t&&e.prop("selected"))&&(o.multiple?i(!0):(o.ngModelCtrl.$setViewValue(null),o.ngModelCtrl.$render()))}),e.on("$destroy",function(){var t=o.readValue(),e=n.value;o.removeOption(e),r(),(o.multiple&&t&&-1!==t.indexOf(e)||t===e)&&i(!0)})}}],is=function(){function t(t,e,n,r){var i=r[0],a=r[1];if(a){if(i.ngModelCtrl=a,e.on("change",function(){i.removeUnknownOption(),t.$apply(function(){a.$setViewValue(i.readValue())})}),n.multiple){i.multiple=!0,i.readValue=function(){var t=[];return o(e.find("option"),function(e){if(e.selected&&!e.disabled){var n=e.value;t.push(n in i.selectValueMap?i.selectValueMap[n]:n)}}),t},i.writeValue=function(t){o(e.find("option"),function(e){var n=!!t&&(V(t,e.value)||V(t,i.selectValueMap[e.value]));n!==e.selected&&zr(Qr(e),n)})};var s,l=NaN;t.$watch(function(){l!==a.$viewValue||W(s,a.$viewValue)||(s=xt(a.$viewValue),a.$render()),l=a.$viewValue}),a.$isEmpty=function(t){return!t||0===t.length}}}else i.registerOption=g}function e(t,e,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:rs,priority:1,link:{pre:t,post:e}}},os=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){var r,i;return x(n.ngValue)||(x(n.value)?r=t(n.value,!0):(i=t(e.text(),!0))||n.$set("value",e.text())),function(t,e,n){var o=e.parent(),a=o.data("$selectController")||o.parent().data("$selectController");a&&a.registerOption(t,e,n,r,i)}}}}],as=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){r&&(n.required=!0,r.$validators.required=function(t,e){return!n.required||!r.$isEmpty(e)},n.$observe("required",function(){r.$validate()}))}}},ss=function(){return{restrict:"A",require:"?ngModel",link:function(t,n,r,i){if(i){var o,a=r.ngPattern||r.pattern;r.$observe("pattern",function(t){if(C(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw e("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,t,tt(n));o=t||void 0,i.$validate()}),i.$validators.pattern=function(t,e){return i.$isEmpty(e)||b(o)||o.test(e)}}}}},ls=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=-1;n.$observe("maxlength",function(t){var e=f(t);i=ci(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(t,e){return i<0||r.$isEmpty(e)||e.length<=i}}}}},us=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=0;n.$observe("minlength",function(t){i=f(t)||0,r.$validate()}),r.$validators.minlength=function(t,e){return r.$isEmpty(e)||e.length>=i}}}}};t.angular.bootstrap?t.console&&console.log("WARNING: Tried to load angular more than once."):(!function(){var e;if(!_i){var n=mi();(ti=b(n)?t.jQuery:n?t[n]:void 0)&&ti.fn.on?(Qr=ti,d(ti.fn,{scope:Vi.scope,isolateScope:Vi.isolateScope,controller:Vi.controller,injector:Vi.injector,inheritedData:Vi.inheritedData}),e=ti.cleanData,ti.cleanData=function(t){for(var n,r,i=0;null!=(r=t[i]);i++)(n=ti._data(r,"events"))&&n.$destroy&&ti(r).triggerHandler("$destroy");e(t)}):Qr=Ft,li.element=Qr,_i=!0}}(),function(r){d(r,{errorHandlingConfig:n,bootstrap:lt,copy:H,extend:d,merge:h,equals:W,element:Qr,forEach:o,injector:le,noop:g,bind:G,toJson:K,fromJson:J,identity:m,isUndefined:b,isDefined:x,isString:C,isFunction:M,isObject:_,isNumber:k,isElement:N,isArray:di,version:Ti,isDate:S,lowercase:qr,uppercase:Kr,callbacks:{$$counter:0},getTestability:ct,reloadWithDebugInfo:ut,$$minErr:e,$$csp:gi,$$encodeUriSegment:it,$$encodeUriQuery:ot,$$stringify:yt}),(ei=bt(t))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Tn}),t.provider("$compile",be).directive({a:qo,input:fa,textarea:fa,form:Qo,script:es,select:is,option:os,ngBind:ma,ngBindHtml:ya,ngBindTemplate:va,ngClass:xa,ngClassEven:wa,ngClassOdd:_a,ngCloak:Ca,ngController:ka,ngForm:ta,ngHide:qa,ngIf:Ta,ngInclude:$a,ngInit:Ea,ngNonBindable:ja,ngPluralize:Ba,ngRepeat:Ua,ngShow:Ga,ngStyle:Ka,ngSwitch:Ja,ngSwitchWhen:Xa,ngSwitchDefault:Za,ngOptions:Wa,ngTransclude:ts,ngModel:Ia,ngList:La,ngChange:ba,pattern:ss,ngPattern:ss,required:as,ngRequired:as,minlength:us,ngMinlength:us,maxlength:ls,ngMaxlength:ls,ngValue:ga,ngModelOptions:Va}).directive({ngInclude:Da}).directive(Ko).directive(Sa),t.provider({$anchorScroll:ue,$animate:ro,$animateCss:ao,$$animateJs:eo,$$animateQueue:no,$$AnimateRunner:oo,$$animateAsyncRun:io,$browser:ge,$cacheFactory:me,$controller:Se,$document:Me,$$isDocumentHidden:Te,$exceptionHandler:$e,$filter:Hn,$$forceReflow:po,$interpolate:He,$interval:ze,$http:Ie,$httpParamSerializer:Ee,$httpParamSerializerJQLike:Le,$httpBackend:Ve,$xhrFactory:Ye,$jsonpCallbacks:wo,$location:on,$log:an,$parse:_n,$rootScope:Mn,$q:wn,$$q:Cn,$sce:An,$sceDelegate:Ln,$sniffer:Fn,$templateCache:ve,$templateRequest:Pn,$$testability:Rn,$timeout:On,$window:Yn,$$rAF:Sn,$$jqLite:ee,$$Map:Ui,$$cookieReader:jn})}]).info({angularVersion:"1.6.4"})}(li),li.module("ngLocale",[],["$provide",function(t){function e(t){var e=(t+="").indexOf(".");return-1==e?0:t.length-e-1}function n(t,n){var r=n;void 0===r&&(r=Math.min(e(t),3));var i=Math.pow(10,r);return{v:r,f:(t*i|0)%i}}var r={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var i=0|t,o=n(t,e);return 1==i&&0==o.v?r.ONE:r.OTHER}})}]),Qr(function(){st(t.document,lt)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(){function t(t){var e=function(t,r){return n(t,i({},e,r||{}))};return i(e,{language:"en",delimiter:", ",spacer:" ",units:["year","month","week","day","hour","minute","second"],languages:{},halfUnit:!0,round:!1},t)}function e(){return u.apply(u,arguments)}function n(t,e){if(0===(t=Math.abs(t)))return"0";var n=e.languages[e.language]||l[e.language];if(!n)throw new Error("No language "+n+".");for(var i,o,a,u,c=[],d=0,h=e.units.length;d<h;d++){if("s"===(i=e.units[d])[i.length-1]&&(i=i.substring(0,i.length-1)),o=s[i],0===c.length&&e.halfUnit&&(u=t/o*2)===Math.floor(u))return r(u/2,i,n,e.spacer);d+1===h?(a=t/o,e.round&&(a=Math.round(a))):a=Math.floor(t/o),a&&c.push(r(a,i,n,e.spacer)),t-=a*o}return c.join(e.delimiter)}function r(t,e,n,r){var i,o=n[e];return i="function"==typeof o?o(t):o,t+r+i}function i(t){for(var e,n=1;n<arguments.length;n++){e=arguments[n];for(var r in e)t[r]=e[r]}return t}function o(t){return 1===t?0:Math.floor(t)!==t?1:2<=t%10&&t%10<=4&&!(10<t%100&&t%100<20)?2:3}function a(t){return Math.floor(t)!==t?2:0===t||t>=5&&t<=20||t%10>=5&&t%10<=9||t%10==0?0:1===t||t%10==1?1:t>1?2:0}var s={year:315576e5,month:26298e5,week:6048e5,day:864e5,hour:36e5,minute:6e4,second:1e3,millisecond:1},l={ca:{year:function(t){return"any"+(1!==t?"s":"")},month:function(t){return"mes"+(1!==t?"os":"")},week:function(t){return"setman"+(1!==t?"es":"a")},day:function(t){return"di"+(1!==t?"es":"a")},hour:function(t){return"hor"+(1!==t?"es":"a")},minute:function(t){return"minut"+(1!==t?"s":"")},second:function(t){return"segon"+(1!==t?"s":"")},millisecond:function(t){return"milisegon"+(1!==t?"s":"")}},da:{year:"r",month:function(t){return"mned"+(1!==t?"er":"")},week:function(t){return"uge"+(1!==t?"r":"")},day:function(t){return"dag"+(1!==t?"e":"")},hour:function(t){return"time"+(1!==t?"r":"")},minute:function(t){return"minut"+(1!==t?"ter":"")},second:function(t){return"sekund"+(1!==t?"er":"")},millisecond:function(t){return"millisekund"+(1!==t?"er":"")}},de:{year:function(t){return"jahr"+(1!==t?"e":"")},month:function(t){return"monat"+(1!==t?"e":"")},week:function(t){return"woche"+(1!==t?"n":"")},day:function(t){return"tag"+(1!==t?"e":"")},hour:function(t){return"stunde"+(1!==t?"n":"")},minute:function(t){return"minute"+(1!==t?"n":"")},second:function(t){return"sekunde"+(1!==t?"n":"")},millisecond:function(t){return"millisekunde"+(1!==t?"n":"")}},en:{year:function(t){return"year"+(1!==t?"s":"")},month:function(t){return"month"+(1!==t?"s":"")},week:function(t){return"week"+(1!==t?"s":"")},day:function(t){return"day"+(1!==t?"s":"")},hour:function(t){return"hour"+(1!==t?"s":"")},minute:function(t){return"minute"+(1!==t?"s":"")},second:function(t){return"second"+(1!==t?"s":"")},millisecond:function(t){return"millisecond"+(1!==t?"s":"")}},nl:{year:"jaar",month:function(t){return 1===t?"maand":"maanden"},week:function(t){return 1===t?"week":"weken"},day:function(t){return 1===t?"dag":"dagen"},hour:"uur",minute:function(t){return 1===t?"minuut":"minuten"},second:function(t){return 1===t?"seconde":"seconden"},millisecond:function(t){return 1===t?"milliseconde":"milliseconden"}},es:{year:function(t){return"ao"+(1!==t?"s":"")},month:function(t){return"mes"+(1!==t?"es":"")},week:function(t){return"semana"+(1!==t?"s":"")},day:function(t){return"da"+(1!==t?"s":"")},hour:function(t){return"hora"+(1!==t?"s":"")},minute:function(t){return"minuto"+(1!==t?"s":"")},second:function(t){return"segundo"+(1!==t?"s":"")},millisecond:function(t){return"milisegundo"+(1!==t?"s":"")}},fr:{year:function(t){return"an"+(1!==t?"s":"")},month:"mois",week:function(t){return"semaine"+(1!==t?"s":"")},day:function(t){return"jour"+(1!==t?"s":"")},hour:function(t){return"heure"+(1!==t?"s":"")},minute:function(t){return"minute"+(1!==t?"s":"")},second:function(t){return"seconde"+(1!==t?"s":"")},millisecond:function(t){return"milliseconde"+(1!==t?"s":"")}},hu:{year:"v",month:"hnap",week:"ht",day:"nap",hour:"ra",minute:"perc",second:"msodperc",millisecond:"ezredmsodperc"},ja:{year:"",month:"",week:"",day:"",hour:"",minute:"",second:"",millisecond:""},ko:{year:"",month:"",week:"",day:"",hour:"",minute:"",second:"",millisecond:" "},nob:{year:"r",month:function(t){return"mned"+(1!==t?"er":"")},week:function(t){return"uke"+(1!==t?"r":"")},day:function(t){return"dag"+(1!==t?"er":"")},hour:function(t){return"time"+(1!==t?"r":"")},minute:function(t){return"minutt"+(1!==t?"er":"")},second:function(t){return"sekund"+(1!==t?"er":"")},millisecond:function(t){return"millisekund"+(1!==t?"er":"")}},pl:{year:function(t){return["rok","roku","lata","lat"][o(t)]},month:function(t){return["miesic","miesica","miesice","miesicy"][o(t)]},week:function(t){return["tydzie","tygodnia","tygodnie","tygodni"][o(t)]},day:function(t){return["dzie","dnia","dni","dni"][o(t)]},hour:function(t){return["godzina","godziny","godziny","godzin"][o(t)]},minute:function(t){return["minuta","minuty","minuty","minut"][o(t)]},second:function(t){return["sekunda","sekundy","sekundy","sekund"][o(t)]},millisecond:function(t){return["milisekunda","milisekundy","milisekundy","milisekund"][o(t)]}},pt:{year:function(t){return"ano"+(1!==t?"s":"")},month:function(t){return 1!==t?"meses":"ms"},week:function(t){return"semana"+(1!==t?"s":"")},day:function(t){return"dia"+(1!==t?"s":"")},hour:function(t){return"hora"+(1!==t?"s":"")},minute:function(t){return"minuto"+(1!==t?"s":"")},second:function(t){return"segundo"+(1!==t?"s":"")},millisecond:function(t){return"milissegundo"+(1!==t?"s":"")}},ru:{year:function(t){return["","",""][a(t)]},month:function(t){return["","",""][a(t)]},week:function(t){return["","",""][a(t)]},day:function(t){return["","",""][a(t)]},hour:function(t){return["","",""][a(t)]},minute:function(t){return["","",""][a(t)]},second:function(t){return["","",""][a(t)]},millisecond:function(t){return["","",""][a(t)]}},sv:{year:"r",month:function(t){return"mnad"+(1!==t?"er":"")},week:function(t){return"veck"+(1!==t?"or":"a")},day:function(t){return"dag"+(1!==t?"ar":"")},hour:function(t){return"timm"+(1!==t?"ar":"e")},minute:function(t){return"minut"+(1!==t?"er":"")},second:function(t){return"sekund"+(1!==t?"er":"")},millisecond:function(t){return"millisekund"+(1!==t?"er":"")}},tr:{year:"yl",month:"ay",week:"hafta",day:"gn",hour:"saat",minute:"dakika",second:"saniye",millisecond:"milisaniye"},"zh-CN":{year:"",month:"",week:"",day:"",hour:"",minute:"",second:"",millisecond:""},"zh-TW":{year:"",month:"",week:"",day:"",hour:"",minute:"",second:"",millisecond:""}},u=t({});e.humanizer=t,"undefined"!=typeof module?module.exports=e:this.humanizeDuration=e}(),function(t){function e(t,e,n){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:n;default:throw new Error("Implement me")}}function n(t,e){return Ct.call(t,e)}function r(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function i(t){!1===yt.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function o(t,e){var n=!0;return f(function(){return n&&(i(t),n=!1),e.apply(this,arguments)},e)}function a(t,e){fe[t]||(i(e),fe[t]=!0)}function s(t,e){return function(n){return m(t.call(this,n),e)}}function l(t,e){var n,r=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(r,"months");return n=e-i<0?(e-i)/(i-t.clone().add(r-1,"months")):(e-i)/(t.clone().add(r+1,"months")-i),-(r+n)}function u(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((r=t.isPM(n))&&e<12&&(e+=12),r||12!==e||(e=0),e):e}function c(){}function d(t,e){!1!==e&&L(t),p(this,t),this._d=new Date(+t._d),!1===ge&&(ge=!0,yt.updateOffset(this),ge=!1)}function h(t){var e=S(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*s,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=yt.localeData(),this._bubble()}function f(t,e){for(var r in e)n(e,r)&&(t[r]=e[r]);return n(e,"toString")&&(t.toString=e.toString),n(e,"valueOf")&&(t.valueOf=e.valueOf),t}function p(t,e){var n,r,i;if(void 0!==e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),void 0!==e._i&&(t._i=e._i),void 0!==e._f&&(t._f=e._f),void 0!==e._l&&(t._l=e._l),void 0!==e._strict&&(t._strict=e._strict),void 0!==e._tzm&&(t._tzm=e._tzm),void 0!==e._isUTC&&(t._isUTC=e._isUTC),void 0!==e._offset&&(t._offset=e._offset),void 0!==e._pf&&(t._pf=e._pf),void 0!==e._locale&&(t._locale=e._locale),At.length>0)for(n in At)void 0!==(i=e[r=At[n]])&&(t[r]=i);return t}function g(t){return t<0?Math.ceil(t):Math.floor(t)}function m(t,e,n){for(var r=""+Math.abs(t),i=t>=0;r.length<e;)r="0"+r;return(i?n?"+":"":"-")+r}function v(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function y(t,e){var n;return e=O(e,t),t.isBefore(e)?n=v(t,e):((n=v(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n}function b(t,e){return function(n,r){var i,o;return null===r||isNaN(+r)||(a(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=yt.duration(n,r),x(this,i,t),this}}function x(t,e,n,r){var i=e._milliseconds,o=e._days,a=e._months;r=null==r||r,i&&t._d.setTime(+t._d+i*n),o&&ft(t,"Date",ht(t,"Date")+o*n),a&&dt(t,ht(t,"Month")+a*n),r&&yt.updateOffset(t,o||a)}function _(t){return"[object Array]"===Object.prototype.toString.call(t)}function w(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function C(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&M(t[r])!==M(e[r]))&&a++;return a+o}function k(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=ae[t]||se[e]||e}return t}function S(t){var e,r,i={};for(r in t)n(t,r)&&(e=k(r))&&(i[e]=t[r]);return i}function M(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function T(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function $(t,e,n){return st(yt([t,11,31+e-n]),e,n).week}function D(t){return E(t)?366:365}function E(t){return t%4==0&&t%100!=0||t%400==0}function L(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[St]<0||t._a[St]>11?St:t._a[Mt]<1||t._a[Mt]>T(t._a[kt],t._a[St])?Mt:t._a[Tt]<0||t._a[Tt]>24||24===t._a[Tt]&&(0!==t._a[$t]||0!==t._a[Dt]||0!==t._a[Et])?Tt:t._a[$t]<0||t._a[$t]>59?$t:t._a[Dt]<0||t._a[Dt]>59?Dt:t._a[Et]<0||t._a[Et]>999?Et:-1,t._pf._overflowDayOfYear&&(e<kt||e>Mt)&&(e=Mt),t._pf.overflow=e)}function A(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length&&e._pf.bigHour===t)),e._isValid}function F(t){return t?t.toLowerCase().replace("_","-"):t}function P(t){for(var e,n,r,i,o=0;o<t.length;){for(e=(i=F(t[o]).split("-")).length,n=(n=F(t[o+1]))?n.split("-"):null;e>0;){if(r=R(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&C(i,n,!0)>=e-1)break;e--}o++}return null}function R(t){var e=null;if(!Lt[t]&&Ft)try{e=yt.locale(),require("./locale/"+t),yt.locale(e)}catch(t){}return Lt[t]}function O(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(yt.isMoment(t)||w(t)?+t:+yt(t))-+n,n._d.setTime(+n._d+r),yt.updateOffset(n,!1),n):yt(t).local()}function N(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function I(t){var e,n,r=t.match(Nt);for(e=0,n=r.length;e<n;e++)he[r[e]]?r[e]=he[r[e]]:r[e]=N(r[e]);return function(i){var o="";for(e=0;e<n;e++)o+=r[e]instanceof Function?r[e].call(i,t):r[e];return o}}function Y(t,e){return t.isValid()?(e=V(e,t.localeData()),le[e]||(le[e]=I(e)),le[e](t)):t.localeData().invalidDate()}function V(t,e){function n(t){return e.longDateFormat(t)||t}var r=5;for(It.lastIndex=0;r>=0&&It.test(t);)t=t.replace(It,n),It.lastIndex=0,r-=1;return t}function j(t,e){var n=e._strict;switch(t){case"Q":return Kt;case"DDDD":return Xt;case"YYYY":case"GGGG":case"gggg":return n?Zt:jt;case"Y":case"G":case"g":return te;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return n?Qt:Ht;case"S":if(n)return Kt;case"SS":if(n)return Jt;case"SSS":if(n)return Xt;case"DDD":return Vt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Wt;case"a":case"A":return e._locale._meridiemParse;case"x":return Gt;case"X":return qt;case"Z":case"ZZ":return Bt;case"T":return Ut;case"SSSS":return zt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?Jt:Yt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Yt;case"Do":return n?e._locale._ordinalParse:e._locale._ordinalParseLenient;default:return new RegExp(J(K(t.replace("\\",""))))}}function H(t){var e=(t=t||"").match(Bt)||[],n=((e[e.length-1]||[])+"").match(ie)||["-",0,0],r=60*n[1]+M(n[2]);return"+"===n[0]?r:-r}function z(t,e,n){var r,i=n._a;switch(t){case"Q":null!=e&&(i[St]=3*(M(e)-1));break;case"M":case"MM":null!=e&&(i[St]=M(e)-1);break;case"MMM":case"MMMM":null!=(r=n._locale.monthsParse(e,t,n._strict))?i[St]=r:n._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(i[Mt]=M(e));break;case"Do":null!=e&&(i[Mt]=M(parseInt(e.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=e&&(n._dayOfYear=M(e));break;case"YY":i[kt]=yt.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":i[kt]=M(e);break;case"a":case"A":n._meridiem=e;break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":i[Tt]=M(e);break;case"m":case"mm":i[$t]=M(e);break;case"s":case"ss":i[Dt]=M(e);break;case"S":case"SS":case"SSS":case"SSSS":i[Et]=M(1e3*("0."+e));break;case"x":n._d=new Date(M(e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=H(e);break;case"dd":case"ddd":case"dddd":null!=(r=n._locale.weekdaysParse(e))?(n._w=n._w||{},n._w.d=r):n._pf.invalidWeekday=e;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1);case"gggg":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(n._w=n._w||{},n._w[t]=M(e));break;case"gg":case"GG":n._w=n._w||{},n._w[t]=yt.parseTwoDigitYear(e)}}function W(t){var n,r,i,o,a,s,l;null!=(n=t._w).GG||null!=n.W||null!=n.E?(a=1,s=4,r=e(n.GG,t._a[kt],st(yt(),1,4).year),i=e(n.W,1),o=e(n.E,1)):(a=t._locale._week.dow,s=t._locale._week.doy,r=e(n.gg,t._a[kt],st(yt(),a,s).year),i=e(n.w,1),null!=n.d?(o=n.d)<a&&++i:o=null!=n.e?n.e+a:a),l=lt(r,i,o,s,a),t._a[kt]=l.year,t._dayOfYear=l.dayOfYear}function B(t){var n,r,i,o,a=[];if(!t._d){for(i=G(t),t._w&&null==t._a[Mt]&&null==t._a[St]&&W(t),t._dayOfYear&&(o=e(t._a[kt],i[kt]),t._dayOfYear>D(o)&&(t._pf._overflowDayOfYear=!0),r=rt(o,0,t._dayOfYear),t._a[St]=r.getUTCMonth(),t._a[Mt]=r.getUTCDate()),n=0;n<3&&null==t._a[n];++n)t._a[n]=a[n]=i[n];for(;n<7;n++)t._a[n]=a[n]=null==t._a[n]?2===n?1:0:t._a[n];24===t._a[Tt]&&0===t._a[$t]&&0===t._a[Dt]&&0===t._a[Et]&&(t._nextDay=!0,t._a[Tt]=0),t._d=(t._useUTC?rt:nt).apply(null,a),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Tt]=24)}}function U(t){var e;t._d||(e=S(t._i),t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],B(t))}function G(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function q(e){if(e._f!==yt.ISO_8601){e._a=[],e._pf.empty=!0;var n,r,i,o,a,s=""+e._i,l=s.length,c=0;for(i=V(e._f,e._locale).match(Nt)||[],n=0;n<i.length;n++)o=i[n],(r=(s.match(j(o,e))||[])[0])&&((a=s.substr(0,s.indexOf(r))).length>0&&e._pf.unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),c+=r.length),he[o]?(r?e._pf.empty=!1:e._pf.unusedTokens.push(o),z(o,r,e)):e._strict&&!r&&e._pf.unusedTokens.push(o);e._pf.charsLeftOver=l-c,s.length>0&&e._pf.unusedInput.push(s),!0===e._pf.bigHour&&e._a[Tt]<=12&&(e._pf.bigHour=t),e._a[Tt]=u(e._locale,e._a[Tt],e._meridiem),B(e),L(e)}else Z(e)}function K(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,i){return e||n||r||i})}function J(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function X(t){var e,n,i,o,a;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)a=0,e=p({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=r(),e._f=t._f[o],q(e),A(e)&&(a+=e._pf.charsLeftOver,a+=10*e._pf.unusedTokens.length,e._pf.score=a,(null==i||a<i)&&(i=a,n=e));f(t,n||e)}function Z(t){var e,n,r=t._i,i=ee.exec(r);if(i){for(t._pf.iso=!0,e=0,n=ne.length;e<n;e++)if(ne[e][1].exec(r)){t._f=ne[e][0]+(i[6]||" ");break}for(e=0,n=re.length;e<n;e++)if(re[e][1].exec(r)){t._f+=re[e][0];break}r.match(Bt)&&(t._f+="Z"),q(t)}else t._isValid=!1}function Q(t){Z(t),!1===t._isValid&&(delete t._isValid,yt.createFromInputFallback(t))}function tt(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function et(e){var n,r=e._i;r===t?e._d=new Date:w(r)?e._d=new Date(+r):null!==(n=Pt.exec(r))?e._d=new Date(+n[1]):"string"==typeof r?Q(e):_(r)?(e._a=tt(r.slice(0),function(t){return parseInt(t,10)}),B(e)):"object"==typeof r?U(e):"number"==typeof r?e._d=new Date(r):yt.createFromInputFallback(e)}function nt(t,e,n,r,i,o,a){var s=new Date(t,e,n,r,i,o,a);return t<1970&&s.setFullYear(t),s}function rt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<1970&&e.setUTCFullYear(t),e}function it(t,e){if("string"==typeof t)if(isNaN(t)){if("number"!=typeof(t=e.weekdaysParse(t)))return null}else t=parseInt(t,10);return t}function ot(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function at(t,e,n){var r=yt.duration(t).abs(),i=wt(r.as("s")),o=wt(r.as("m")),a=wt(r.as("h")),s=wt(r.as("d")),l=wt(r.as("M")),u=wt(r.as("y")),c=i<ue.s&&["s",i]||1===o&&["m"]||o<ue.m&&["mm",o]||1===a&&["h"]||a<ue.h&&["hh",a]||1===s&&["d"]||s<ue.d&&["dd",s]||1===l&&["M"]||l<ue.M&&["MM",l]||1===u&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,ot.apply({},c)}function st(t,e,n){var r,i=n-e,o=n-t.day();return o>i&&(o-=7),o<i-7&&(o+=7),r=yt(t).add(o,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function lt(t,e,n,r,i){var o,a,s=rt(t,0,1).getUTCDay();return s=0===s?7:s,n=null!=n?n:i,o=i-s+(s>r?7:0)-(s<i?7:0),a=7*(e-1)+(n-i)+o+1,{year:a>0?t:t-1,dayOfYear:a>0?a:D(t-1)+a}}function ut(e){var n,r=e._i,i=e._f;return e._locale=e._locale||yt.localeData(e._l),null===r||i===t&&""===r?yt.invalid({nullInput:!0}):("string"==typeof r&&(e._i=r=e._locale.preparse(r)),yt.isMoment(r)?new d(r,!0):(i?_(i)?X(e):q(e):et(e),(n=new d(e))._nextDay&&(n.add(1,"d"),n._nextDay=t),n))}function ct(t,e){var n,r;if(1===e.length&&_(e[0])&&(e=e[0]),!e.length)return yt();for(n=e[0],r=1;r<e.length;++r)e[r][t](n)&&(n=e[r]);return n}function dt(t,e){var n;return"string"==typeof e&&"number"!=typeof(e=t.localeData().monthsParse(e))?t:(n=Math.min(t.date(),T(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function ht(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function ft(t,e,n){return"Month"===e?dt(t,n):t._d["set"+(t._isUTC?"UTC":"")+e](n)}function pt(t,e){return function(n){return null!=n?(ft(this,t,n),yt.updateOffset(this,e),this):ht(this,t)}}function gt(t){return 400*t/146097}function mt(t){return 146097*t/400}function vt(t){"undefined"==typeof ender&&(bt=_t.moment,_t.moment=t?o("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",yt):yt)}for(var yt,bt,xt,_t="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,wt=Math.round,Ct=Object.prototype.hasOwnProperty,kt=0,St=1,Mt=2,Tt=3,$t=4,Dt=5,Et=6,Lt={},At=[],Ft="undefined"!=typeof module&&module&&module.exports,Pt=/^\/?Date\((\-?\d+)/i,Rt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ot=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Nt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,It=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Yt=/\d\d?/,Vt=/\d{1,3}/,jt=/\d{1,4}/,Ht=/[+\-]?\d{1,6}/,zt=/\d+/,Wt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Bt=/Z|[\+\-]\d\d:?\d\d/gi,Ut=/T/i,Gt=/[\+\-]?\d+/,qt=/[\+\-]?\d+(\.\d{1,3})?/,Kt=/\d/,Jt=/\d\d/,Xt=/\d{3}/,Zt=/\d{4}/,Qt=/[+-]?\d{6}/,te=/[+-]?\d+/,ee=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ne=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],re=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ie=/([\+\-]|\d\d)/gi,oe=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ae={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},se={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},le={},ue={s:45,m:45,h:22,d:26,M:11},ce="DDD w W M D d".split(" "),de="M D H h m s w W".split(" "),he={M:function(){return this.month()+1},MMM:function(t){return this.localeData().monthsShort(this,t)},MMMM:function(t){return this.localeData().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.localeData().weekdaysMin(this,t)},ddd:function(t){return this.localeData().weekdaysShort(this,t)},dddd:function(t){return this.localeData().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return m(this.year()%100,2)},YYYY:function(){return m(this.year(),4)},YYYYY:function(){return m(this.year(),5)},YYYYYY:function(){var t=this.year();return(t>=0?"+":"-")+m(Math.abs(t),6)},gg:function(){return m(this.weekYear()%100,2)},gggg:function(){return m(this.weekYear(),4)},ggggg:function(){return m(this.weekYear(),5)},GG:function(){return m(this.isoWeekYear()%100,2)},GGGG:function(){return m(this.isoWeekYear(),4)},GGGGG:function(){return m(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return M(this.milliseconds()/100)},SS:function(){return m(M(this.milliseconds()/10),2)},SSS:function(){return m(this.milliseconds(),3)},SSSS:function(){return m(this.milliseconds(),3)},Z:function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+m(M(t/60),2)+":"+m(M(t)%60,2)},ZZ:function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+m(M(t/60),2)+m(M(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},fe={},pe=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],ge=!1;ce.length;)xt=ce.pop(),he[xt+"o"]=function(t,e){return function(n){return this.localeData().ordinal(t.call(this,n),e)}}(he[xt],xt);for(;de.length;)xt=de.pop(),he[xt+xt]=s(he[xt],2);he.DDDD=s(he.DDD,3),f(c.prototype,{set:function(t){var e,n;for(n in t)"function"==typeof(e=t[n])?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t,e,n){var r,i,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=yt.utc([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;e<7;e++)if(this._weekdaysParse[e]||(n=yt([2e3,1]).day(e),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e,n){var r=this._calendar[t];return"function"==typeof r?r.apply(e,[n]):r},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(t,e,n,r):i.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(t){return t},postformat:function(t){return t},week:function(t){return st(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),(yt=function(e,n,i,o){var a;return"boolean"==typeof i&&(o=i,i=t),a={},a._isAMomentObject=!0,a._i=e,a._f=n,a._l=i,a._strict=o,a._isUTC=!1,a._pf=r(),ut(a)}).suppressDeprecationWarnings=!1,yt.createFromInputFallback=o("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),yt.min=function(){return ct("isBefore",[].slice.call(arguments,0))},yt.max=function(){return ct("isAfter",[].slice.call(arguments,0))},yt.utc=function(e,n,i,o){var a;return"boolean"==typeof i&&(o=i,i=t),a={},a._isAMomentObject=!0,a._useUTC=!0,a._isUTC=!0,a._l=i,a._i=e,a._f=n,a._strict=o,a._pf=r(),ut(a).utc()},yt.unix=function(t){return yt(1e3*t)},yt.duration=function(t,e){var r,i,o,a,s=t,l=null;return yt.isDuration(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(s={},e?s[e]=t:s.milliseconds=t):(l=Rt.exec(t))?(r="-"===l[1]?-1:1,s={y:0,d:M(l[Mt])*r,h:M(l[Tt])*r,m:M(l[$t])*r,s:M(l[Dt])*r,ms:M(l[Et])*r}):(l=Ot.exec(t))?(r="-"===l[1]?-1:1,s={y:(o=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*r})(l[2]),M:o(l[3]),d:o(l[4]),h:o(l[5]),m:o(l[6]),s:o(l[7]),w:o(l[8])}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(a=y(yt(s.from),yt(s.to)),(s={}).ms=a.milliseconds,s.M=a.months),i=new h(s),yt.isDuration(t)&&n(t,"_locale")&&(i._locale=t._locale),i},yt.version="2.9.0",yt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",yt.ISO_8601=function(){},yt.momentProperties=At,yt.updateOffset=function(){},yt.relativeTimeThreshold=function(e,n){return ue[e]!==t&&(n===t?ue[e]:(ue[e]=n,!0))},yt.lang=o("moment.lang is deprecated. Use moment.locale instead.",function(t,e){return yt.locale(t,e)}),yt.locale=function(t,e){var n;return t&&(n=void 0!==e?yt.defineLocale(t,e):yt.localeData(t))&&(yt.duration._locale=yt._locale=n),yt._locale._abbr},yt.defineLocale=function(t,e){return null!==e?(e.abbr=t,Lt[t]||(Lt[t]=new c),Lt[t].set(e),yt.locale(t),Lt[t]):(delete Lt[t],null)},yt.langData=o("moment.langData is deprecated. Use moment.localeData instead.",function(t){return yt.localeData(t)}),yt.localeData=function(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return yt._locale;if(!_(t)){if(e=R(t))return e;t=[t]}return P(t)},yt.isMoment=function(t){return t instanceof d||null!=t&&n(t,"_isAMomentObject")},yt.isDuration=function(t){return t instanceof h};for(xt=pe.length-1;xt>=0;--xt)!function(e){var n,r;if(0===e.indexOf("week"))n=7,r="day";else{if(0!==e.indexOf("month"))return;n=12,r="month"}yt[e]=function(i,o){var a,s,l=yt._locale[e],u=[];if("number"==typeof i&&(o=i,i=t),s=function(t){var e=yt().utc().set(r,t);return l.call(yt._locale,e,i||"")},null!=o)return s(o);for(a=0;a<n;a++)u.push(s(a));return u}}(pe[xt]);yt.normalizeUnits=function(t){return k(t)},yt.invalid=function(t){var e=yt.utc(NaN);return null!=t?f(e._pf,t):e._pf.userInvalidated=!0,e},yt.parseZone=function(){return yt.apply(null,arguments).parseZone()},yt.parseTwoDigitYear=function(t){return M(t)+(M(t)>68?1900:2e3)},yt.isDate=w,f(yt.fn=d.prototype,{clone:function(){return yt(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=yt(this).utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():Y(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Y(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return A(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&C(this._a,(this._isUTC?yt.utc(this._a):yt(this._a)).toArray())>0)},parsingFlags:function(){return f({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(t){return this.utcOffset(0,t)},local:function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(t){var e=Y(this,t||yt.defaultFormat);return this.localeData().postformat(e)},add:b(1,"add"),subtract:b(-1,"subtract"),diff:function(t,e,n){var r,i,o=O(t,this),a=6e4*(o.utcOffset()-this.utcOffset());return e=k(e),"year"===e||"month"===e||"quarter"===e?(i=l(this,o),"quarter"===e?i/=3:"year"===e&&(i/=12)):(r=this-o,i="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?(r-a)/864e5:"week"===e?(r-a)/6048e5:r),n?i:g(i)},from:function(t,e){return yt.duration({to:this,from:t}).locale(this.locale()).humanize(!e)},fromNow:function(t){return this.from(yt(),t)},calendar:function(t){var e=t||yt(),n=O(e,this).startOf("day"),r=this.diff(n,"days",!0),i=r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(i,this,yt(e)))},isLeapYear:function(){return E(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=it(t,this.localeData()),this.add(t-e,"d")):e},month:pt("Month",!0),startOf:function(t){switch(t=k(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=k(e),e===t||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(t,e){return e=k(void 0!==e?e:"millisecond"),"millisecond"===e?(t=yt.isMoment(t)?t:yt(t),+this>+t):(yt.isMoment(t)?+t:+yt(t))<+this.clone().startOf(e)},isBefore:function(t,e){var n;return e=k(void 0!==e?e:"millisecond"),"millisecond"===e?(t=yt.isMoment(t)?t:yt(t),+this<+t):(n=yt.isMoment(t)?+t:+yt(t),+this.clone().endOf(e)<n)},isBetween:function(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)},isSame:function(t,e){var n;return e=k(e||"millisecond"),"millisecond"===e?(t=yt.isMoment(t)?t:yt(t),+this==+t):(n=+yt(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))},min:o("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return t=yt.apply(null,arguments),t<this?this:t}),max:o("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return t=yt.apply(null,arguments),t>this?this:t}),zone:o("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),utcOffset:function(t,e){var n,r=this._offset||0;return null!=t?("string"==typeof t&&(t=H(t)),Math.abs(t)<16&&(t*=60),!this._isUTC&&e&&(n=this._dateUtcOffset()),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),r!==t&&(!e||this._changeInProgress?x(this,yt.duration(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,yt.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(H(this._i)),this},hasAlignedHourOffset:function(t){return t=t?yt(t).utcOffset():0,(this.utcOffset()-t)%60==0},daysInMonth:function(){return T(this.year(),this.month())},dayOfYear:function(t){var e=wt((yt(this).startOf("day")-yt(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=st(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},isoWeekYear:function(t){var e=st(this,1,4).year;return null==t?e:this.add(t-e,"y")},week:function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},isoWeek:function(t){var e=st(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},weekday:function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return $(this.year(),1,4)},weeksInYear:function(){var t=this.localeData()._week;return $(this.year(),t.dow,t.doy)},get:function(t){return t=k(t),this[t]()},set:function(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else"function"==typeof this[t=k(t)]&&this[t](e);return this},locale:function(e){var n;return e===t?this._locale._abbr:(null!=(n=yt.localeData(e))&&(this._locale=n),this)},lang:o("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===t?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),yt.fn.millisecond=yt.fn.milliseconds=pt("Milliseconds",!1),yt.fn.second=yt.fn.seconds=pt("Seconds",!1),yt.fn.minute=yt.fn.minutes=pt("Minutes",!1),yt.fn.hour=yt.fn.hours=pt("Hours",!0),yt.fn.date=pt("Date",!0),yt.fn.dates=o("dates accessor is deprecated. Use date instead.",pt("Date",!0)),yt.fn.year=pt("FullYear",!0),yt.fn.years=o("years accessor is deprecated. Use year instead.",pt("FullYear",!0)),yt.fn.days=yt.fn.day,yt.fn.months=yt.fn.month,yt.fn.weeks=yt.fn.week,yt.fn.isoWeeks=yt.fn.isoWeek,yt.fn.quarters=yt.fn.quarter,yt.fn.toJSON=yt.fn.toISOString,yt.fn.isUTC=yt.fn.isUtc,f(yt.duration.fn=h.prototype,{_bubble:function(){var t,e,n,r=this._milliseconds,i=this._days,o=this._months,a=this._data,s=0;a.milliseconds=r%1e3,t=g(r/1e3),a.seconds=t%60,e=g(t/60),a.minutes=e%60,n=g(e/60),a.hours=n%24,i+=g(n/24),o+=g((i-=g(mt(s=g(gt(i)))))/30),i%=30,s+=g(o/12),o%=12,a.days=i,a.months=o,a.years=s},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return g(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*M(this._months/12)},humanize:function(t){var e=at(this,!t,this.localeData());return t&&(e=this.localeData().pastFuture(+this,e)),this.localeData().postformat(e)},add:function(t,e){var n=yt.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=yt.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=k(t),this[t.toLowerCase()+"s"]()},as:function(t){var e,n;if("month"===(t=k(t))||"year"===t)return e=this._days+this._milliseconds/864e5,n=this._months+12*gt(e),"month"===t?n:n/12;switch(e=this._days+Math.round(mt(this._months/12)),t){case"week":return e/7+this._milliseconds/6048e5;case"day":return e+this._milliseconds/864e5;case"hour":return 24*e+this._milliseconds/36e5;case"minute":return 24*e*60+this._milliseconds/6e4;case"second":return 24*e*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+t)}},lang:yt.fn.lang,locale:yt.fn.locale,toIsoString:o("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),n=Math.abs(this.days()),r=Math.abs(this.hours()),i=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(r||i||o?"T":"")+(r?r+"H":"")+(i?i+"M":"")+(o?o+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),yt.duration.fn.toString=yt.duration.fn.toISOString;for(xt in oe)n(oe,xt)&&function(t){yt.duration.fn[t]=function(){return this._data[t]}}(xt.toLowerCase());yt.duration.fn.asMilliseconds=function(){return this.as("ms")},yt.duration.fn.asSeconds=function(){return this.as("s")},yt.duration.fn.asMinutes=function(){return this.as("m")},yt.duration.fn.asHours=function(){return this.as("h")},yt.duration.fn.asDays=function(){return this.as("d")},yt.duration.fn.asWeeks=function(){return this.as("weeks")},yt.duration.fn.asMonths=function(){return this.as("M")},yt.duration.fn.asYears=function(){return this.as("y")},yt.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===M(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),function(t){!function(t){t.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(t){return/^nm$/i.test(t)},meridiem:function(t,e,n){return t<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){t.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(yt)}(),function(t){!function(t){var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]}).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"")},week:{dow:6,doy:12}})}(yt)}(),function(t){!function(t){t.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},i={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},o=function(t){return function(e,n,o,a){var s=r(e),l=i[t][r(e)];return 2===s&&(l=l[n?0:1]),l.replace(/%d/i,e)}},a=["  "," "," "," "," "," "," "," "," ","  ","  ","  "];t.defineLocale("ar",{months:a,monthsShort:a,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]}).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"")},week:{dow:6,doy:12}})}(yt)}(),function(t){!function(t){var e={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};t.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniyy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(t){return/^(gndz|axam)$/.test(t)},meridiem:function(t,e,n){return t<4?"gec":t<12?"shr":t<17?"gndz":"axam"},ordinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(t){if(0===t)return t+"-nc";var n=t%10,r=t%100-n,i=t>=100?100:null;return t+(e[n]||e[r]||e[i])},week:{dow:1,doy:7}})}(yt)}(),function(t){!function(t){function e(t,e){var n=t.split("_");return e%10==1&&e%100!=11?n[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?n[1]:n[2]}function n(t,n,r){var i={mm:n?"__":"__",hh:n?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===r?n?"":"":"h"===r?n?"":"":t+" "+e(i[r],+t)}function r(t,e){return{nominative:"___________".split("_"),accusative:"___________".split("_")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(e)?"accusative":"nominative"][t.month()]}function i(t,e){return{nominative:"______".split("_"),accusative:"______".split("_")}[/\[ ?[] ?(?:|)? ?\] ?dddd/.test(e)?"accusative":"nominative"][t.day()]}t.defineLocale("be",{months:r,monthsShort:"___________".split("_"),weekdays:i,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:n,mm:n,h:n,hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},ordinalParse:/\d{1,2}-(||)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t%10!=2&&t%10!=3||t%100==12||t%100==13?t+"-":t+"-";case"D":return t+"-";default:return t}},week:{dow:1,doy:7}})}(yt)}(),function(t){!function(t){t.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/\d{1,2}-(|||||)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-":0===n?t+"-":n>10&&n<20?t+"-":1===e?t+"-":2===e?t+"-":7===e||8===e?t+"-":t+"-"},week:{dow:1,doy:7}})}(yt)}(),function(t){!function(t){var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/||||/,isPM:function(t){return/^(||)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(yt)}(),function(t){!function(t){var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/||||/,isPM:function(t){return/^(||)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(yt)}(),function(e){!function(e){function n(t,e,n){return t+" "+o({mm:"munutenn",MM:"miz",dd:"devezh"}[n],t)}function r(t){switch(i(t)){case 1:case 3:case 4:case 5:case 9:return t+" bloaz";default:return t+" vloaz"}}function i(t){return t>9?i(t%10):t}function o(t,e){return 2===e?a(t):t}function a(e){var n={m:"v",b:"v",d:"z"};return n[e.charAt(0)]===t?e:n[e.charAt(0)]+e.substring(1)}e.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY LT",LLLL:"dddd, D [a viz] MMMM YYYY LT"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",m:"ur vunutenn",mm:n,h:"un eur",hh:"%d eur",d:"un devezh",dd:n,M:"ur miz",MM:n,y:"ur bloaz",yy:r},ordinalParse:/\d{1,2}(a|vet)/,ordinal:function(t){return t+(1===t?"a":"vet")},week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){function e(t,e,n){var r=t+" ";switch(n){case"m":return e?"jedna minuta":"jedne minute";case"mm":return r+=1===t?"minuta":2===t||3===t||4===t?"minute":"minuta";case"h":return e?"jedan sat":"jednog sata";case"hh":return r+=1===t?"sat":2===t||3===t||4===t?"sata":"sati";case"dd":return r+=1===t?"dan":"dana";case"MM":return r+=1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci";case"yy":return r+=1===t?"godina":2===t||3===t||4===t?"godine":"godina"}}t.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(yt)}(),function(t){!function(t){t.defineLocale("ca",{months:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(t,e){var n=1===t?"r":2===t?"n":3===t?"r":4===t?"t":"";return"w"!==e&&"W"!==e||(n="a"),t+n},week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){function e(t){return t>1&&t<5&&1!=~~(t/10)}function n(t,n,r,i){var o=t+" ";switch(r){case"s":return n||i?"pr sekund":"pr sekundami";case"m":return n?"minuta":i?"minutu":"minutou";case"mm":return n||i?o+(e(t)?"minuty":"minut"):o+"minutami";case"h":return n?"hodina":i?"hodinu":"hodinou";case"hh":return n||i?o+(e(t)?"hodiny":"hodin"):o+"hodinami";case"d":return n||i?"den":"dnem";case"dd":return n||i?o+(e(t)?"dny":"dn"):o+"dny";case"M":return n||i?"msc":"mscem";case"MM":return n||i?o+(e(t)?"msce":"msc"):o+"msci";case"y":return n||i?"rok":"rokem";case"yy":return n||i?o+(e(t)?"roky":"let"):o+"lety"}}var r="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),i="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_");t.defineLocale("cs",{months:r,monthsShort:i,monthsParse:function(t,e){var n,r=[];for(n=0;n<12;n++)r[n]=new RegExp("^"+t[n]+"$|^"+e[n]+"$","i");return r}(r,i),weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){t.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], LT",LLLL:"dddd, YYYY [] MMMM [] D[-], LT"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(t){return t+(/$/i.exec(t)?"":/$/i.exec(t)?"":"")},past:"%s ",s:"- ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}})}(yt)}(),function(t){!function(t){t.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(t){var e=t,n="",r=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return e>20?n=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(n=r[e]),t+n},week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){t.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd [d.] D. MMMM YYYY LT"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I gr kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){function e(t,e,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?i[n][0]:i[n][1]}t.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,M:e,MM:e,y:e,yy:e},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){function e(t,e,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?i[n][0]:i[n][1]}t.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,M:e,MM:e,y:e,yy:e},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){t.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(t,e){return/D/.test(e.substring(0,e.indexOf("MMMM")))?this._monthsGenitiveEl[t.month()]:this._monthsNominativeEl[t.month()]},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(t,e,n){return t>11?n?"":"":n?"":""},isPM:function(t){return""===(t+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(t,e){var n=this._calendarEl[t],r=e&&e.hours();return"function"==typeof n&&(n=n.apply(e)),n.replace("{}",r%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){t.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){t.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY LT",LLLL:"dddd, D MMMM, YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})}(yt)}(),function(t){!function(t){t.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){t.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"Dimano_Lundo_Mardo_Merkredo_ado_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_a_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_a_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY LT",LLLL:"dddd, [la] D[-an de] MMMM, YYYY LT"},meridiemParse:/[ap]\.t\.m/i,isPM:function(t){return"p"===t.charAt(0).toLowerCase()},meridiem:function(t,e,n){return t>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"anta %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(yt)}(),function(t){!function(t){var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");t.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,r){return/-MMM-/.test(r)?n[t.month()]:e[t.month()]},weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){function e(t,e,n,r){var i={s:["mne sekundi","mni sekund","paar sekundit"],m:["he minuti","ks minut"],mm:[t+" minuti",t+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[t+" tunni",t+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[t+" kuu",t+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[t+" aasta",t+" aastat"]};return e?i[n][2]?i[n][2]:i[n][1]:r?i[n][0]:i[n][1]}t.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:e,m:e,mm:e,h:e,hh:e,d:e,dd:"%d peva",M:e,MM:e,y:e,yy:e},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){t.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] LT",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] LT",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] LT",llll:"ddd, YYYY[ko] MMM D[a] LT"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(yt)}(),function(t){!function(t){var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},meridiemParse:/  |  /,isPM:function(t){return/  /.test(t)},meridiem:function(t,e,n){return t<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[-]/g,function(t){return n[t]}).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"")},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})}(yt)}(),function(t){!function(t){function e(t,e,r,i){var o="";switch(r){case"s":return i?"muutaman sekunnin":"muutama sekunti";case"m":return i?"minuutin":"minuutti";case"mm":o=i?"minuutin":"minuuttia";break;case"h":return i?"tunnin":"tunti";case"hh":o=i?"tunnin":"tuntia";break;case"d":return i?"pivn":"piv";case"dd":o=i?"pivn":"piv";break;case"M":return i?"kuukauden":"kuukausi";case"MM":o=i?"kuukauden":"kuukautta";break;case"y":return i?"vuoden":"vuosi";case"yy":o=i?"vuoden":"vuotta"}return o=n(t,i)+" "+o}function n(t,e){return t<10?e?i[t]:r[t]:t}var r="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),i=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",r[7],r[8],r[9]];t.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] LT",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] LT",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] LT",llll:"ddd, Do MMM YYYY, [klo] LT"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){t.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D. MMMM, YYYY LT"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnai",MM:"%d mnair",y:"eitt r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){t.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(t){return t+(1===t?"er":"")}})}(yt)}(),function(t){!function(t){t.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(t){return t+(1===t?"er":"")},week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){var e="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");t.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(t,r){return/-MMM-/.test(r)?n[t.month()]:e[t.month()]},weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){t.defineLocale("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuo_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xu._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_Mrcores_Xoves_Venres_Sbado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mr._Xov._Ven._Sb.".split("_"),weekdaysMin:"Do_Lu_Ma_M_Xo_Ve_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(t){return"uns segundos"===t?"nuns segundos":"en "+t},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:7}})}(yt)}(),function(t){!function(t){t.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY LT",LLLL:"dddd, D []MMMM YYYY LT",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:function(t){return 2===t?"":t+" "},d:"",dd:function(t){return 2===t?"":t+" "},M:"",MM:function(t){return 2===t?"":t+" "},y:"",yy:function(t){return 2===t?"":t%10==0&&10!==t?t+" ":t+" "}}})}(yt)}(),function(t){!function(t){var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(yt)}(),function(t){!function(t){function e(t,e,n){var r=t+" ";switch(n){case"m":return e?"jedna minuta":"jedne minute";case"mm":return r+=1===t?"minuta":2===t||3===t||4===t?"minute":"minuta";case"h":return e?"jedan sat":"jednog sata";case"hh":return r+=1===t?"sat":2===t||3===t||4===t?"sata":"sati";case"dd":return r+=1===t?"dan":"dana";case"MM":return r+=1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci";case"yy":return r+=1===t?"godina":2===t||3===t||4===t?"godine":"godina"}}t.defineLocale("hr",{months:"sjeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),monthsShort:"sje._vel._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(yt)}(),function(t){!function(t){function e(t,e,n,r){var i=t;switch(n){case"s":return r||e?"nhny msodperc":"nhny msodperce";case"m":return"egy"+(r||e?" perc":" perce");case"mm":return i+(r||e?" perc":" perce");case"h":return"egy"+(r||e?" ra":" rja");case"hh":return i+(r||e?" ra":" rja");case"d":return"egy"+(r||e?" nap":" napja");case"dd":return i+(r||e?" nap":" napja");case"M":return"egy"+(r||e?" hnap":" hnapja");case"MM":return i+(r||e?" hnap":" hnapja");case"y":return"egy"+(r||e?" v":" ve");case"yy":return i+(r||e?" v":" ve")}return""}function n(t){return(t?"":"[mlt] ")+"["+r[this.day()]+"] LT[-kor]"}var r="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");t.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D., LT",LLLL:"YYYY. MMMM D., dddd LT"},meridiemParse:/de|du/i,isPM:function(t){return"u"===t.charAt(1).toLowerCase()},meridiem:function(t,e,n){return t<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return n.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return n.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(yt)}(),function(t){!function(t){function e(t,e){return{nominative:"___________".split("_"),accusative:"___________".split("_")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(e)?"accusative":"nominative"][t.month()]}function n(t,e){return"___________".split("_")[t.month()]}function r(t,e){return"______".split("_")[t.day()]}t.defineLocale("hy-am",{months:e,monthsShort:n,weekdays:r,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t){return t<4?"":t<12?"":t<17?"":""},ordinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(t,e){switch(e){case"DDD":case"w":case"W":case"DDDo":return 1===t?t+"-":t+"-";default:return t}},week:{dow:1,doy:7}})}(yt)}(),function(t){!function(t){t.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"LT.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"siang"===e?t>=11?t:t+12:"sore"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"siang":t<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(yt)}(),function(t){!function(t){function e(t){return t%100==11||t%10!=1}function n(t,n,r,i){var o=t+" ";switch(r){case"s":return n||i?"nokkrar sekndur":"nokkrum sekndum";case"m":return n?"mnta":"mntu";case"mm":return e(t)?o+(n||i?"mntur":"mntum"):n?o+"mnta":o+"mntu";case"hh":return e(t)?o+(n||i?"klukkustundir":"klukkustundum"):o+"klukkustund";case"d":return n?"dagur":i?"dag":"degi";case"dd":return e(t)?n?o+"dagar":o+(i?"daga":"dgum"):n?o+"dagur":o+(i?"dag":"degi");case"M":return n?"mnuur":i?"mnu":"mnui";case"MM":return e(t)?n?o+"mnuir":o+(i?"mnui":"mnuum"):n?o+"mnuur":o+(i?"mnu":"mnui");case"y":return n||i?"r":"ri";case"yy":return e(t)?o+(n||i?"r":"rum"):o+(n||i?"r":"ri")}}t.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd, D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){t.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Luned_Marted_Mercoled_Gioved_Venerd_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){t.defineLocale("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahm",LTS:"LTs",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDLT",LLLL:"YYYYMDLT dddd"},meridiemParse:/|/i,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})}(yt)}(),function(t){!function(t){function e(t,e){return{nominative:"___________".split("_"),accusative:"___________".split("_")}[/D[oD] *MMMM?/.test(e)?"accusative":"nominative"][t.month()]}function n(t,e){return{nominative:"______".split("_"),accusative:"______".split("_")}[/(|)/.test(e)?"accusative":"nominative"][t.day()]}t.defineLocale("ka",{months:e,monthsShort:"___________".split("_"),weekdays:n,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(t){return/(|||)/.test(t)?t.replace(/$/,""):t+""},past:function(t){return/(||||)/.test(t)?t.replace(/(|)$/," ")://.test(t)?t.replace(/$/," "):void 0},s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(t){return 0===t?t:1===t?t+"-":t<20||t<=100&&t%20==0||t%100==0?"-"+t:t+"-"},week:{dow:1,doy:7}})}(yt)}(),function(t){!function(t){t.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){t.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h m",LTS:"A h m s",L:"YYYY.MM.DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D LT",LLLL:"YYYY MMMM D dddd LT"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d",m:"",mm:"%d",h:"",hh:"%d",d:"",dd:"%d",M:"",MM:"%d",y:"",yy:"%d"},ordinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""}})}(yt)}(),function(t){!function(t){function e(t,e,n,r){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return e?i[n][0]:i[n][1]}function n(t){return i(t.substr(0,t.indexOf(" ")))?"a "+t:"an "+t}function r(t){return i(t.substr(0,t.indexOf(" ")))?"viru "+t:"virun "+t}function i(t){if(t=parseInt(t,10),isNaN(t))return!1;if(t<0)return!0;if(t<10)return 4<=t&&t<=7;if(t<100){var e=t%10,n=t/10;return i(0===e?n:e)}if(t<1e4){for(;t>=10;)t/=10;return i(t)}return t/=1e3,i(t)}t.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:n,past:r,s:"e puer Sekonnen",m:e,mm:"%d Minutten",h:e,hh:"%d Stonnen",d:e,dd:"%d Deeg",M:e,MM:"%d Mint",y:e,yy:"%d Joer"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){function e(t,e,n,r){return e?"kelios sekunds":r?"keli sekundi":"kelias sekundes"}function n(t,e,n,r){return e?i(n)[0]:r?i(n)[1]:i(n)[2]}function r(t){return t%10==0||t>10&&t<20}function i(t){return s[t].split("_")}function o(t,e,o,a){var s=t+" ";return 1===t?s+n(t,e,o[0],a):e?s+(r(t)?i(o)[1]:i(o)[0]):a?s+i(o)[1]:s+(r(t)?i(o)[1]:i(o)[2])}function a(t,e){var n=-1===e.indexOf("dddd HH:mm"),r=l[t.day()];return n?r:r.substring(0,r.length-2)+""}var s={m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"},l="sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_");t.defineLocale("lt",{months:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:a,weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], LT [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, LT [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], LT [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, LT [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:e,m:n,mm:o,h:n,hh:o,d:n,dd:o,M:n,MM:o,y:n,yy:o},ordinalParse:/\d{1,2}-oji/,ordinal:function(t){return t+"-oji"},week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){function e(t,e,n){var r=t.split("_");return n?e%10==1&&11!==e?r[2]:r[3]:e%10==1&&11!==e?r[0]:r[1]}function n(t,n,i){return t+" "+e(r[i],t,n)}var r={mm:"minti_mintes_minte_mintes",hh:"stundu_stundas_stunda_stundas",dd:"dienu_dienas_diena_dienas",MM:"mnesi_mneus_mnesis_mnei",yy:"gadu_gadus_gads_gadi"};t.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, LT",LLLL:"YYYY. [gada] D. MMMM, dddd, LT"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"%s vlk",past:"%s agrk",s:"daas sekundes",m:"minti",mm:n,h:"stundu",hh:n,d:"dienu",dd:n,M:"mnesi",MM:n,y:"gadu",yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){t.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/\d{1,2}-(|||||)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-":0===n?t+"-":n>10&&n<20?t+"-":1===e?t+"-":2===e?t+"-":7===e||8===e?t+"-":t+"-"},week:{dow:1,doy:7}})}(yt)}(),function(t){!function(t){t.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,isPM:function(t){return/^( ||)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?" ":t<20?"":""}})}(yt)}(),function(t){!function(t){var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(yt)}(),function(t){!function(t){t.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"LT.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(yt)}(),function(t){!function(t){var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){t.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tirs_ons_tors_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"H.mm",LTS:"LT.ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._.__._._._.".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<3?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){return t<3?"":t<10?"":t<15?"":t<18?"":t<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})}(yt)}(),function(t){!function(t){var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");t.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,r){return/-MMM-/.test(r)?n[t.month()]:e[t.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){t.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){function e(t){return t%10<5&&t%10>1&&~~(t/10)%10!=1}function n(t,n,r){var i=t+" ";switch(r){case"m":return n?"minuta":"minut";case"mm":return i+(e(t)?"minuty":"minut");case"h":return n?"godzina":"godzin";case"hh":return i+(e(t)?"godziny":"godzin");case"MM":return i+(e(t)?"miesice":"miesicy");case"yy":return i+(e(t)?"lata":"lat")}}var r="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),i="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");t.defineLocale("pl",{months:function(t,e){return/D MMMM/.test(e)?i[t.month()]:r[t.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"nie_pon_wt_r_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:n,mm:n,h:n,hh:n,d:"1 dzie",dd:"%d dni",M:"miesic",MM:n,y:"rok",yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){t.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"dom_2_3_4_5_6_sb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] LT",LLLL:"dddd, D [de] MMMM [de] YYYY [s] LT"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrs",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d"})}(yt)}(),function(t){!function(t){t.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"dom_2_3_4_5_6_sb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){function e(t,e,n){var r={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},i=" ";return(t%100>=20||t>=100&&t%100==0)&&(i=" de "),t+i+r[n]}t.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",m:"un minut",mm:e,h:"o or",hh:e,d:"o zi",dd:e,M:"o lun",MM:e,y:"un an",yy:e},week:{dow:1,doy:7}})}(yt)}(),function(t){!function(t){function e(t,e){var n=t.split("_");return e%10==1&&e%100!=11?n[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?n[1]:n[2]}function n(t,n,r){var i={mm:n?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"};return"m"===r?n?"":"":t+" "+e(i[r],+t)}function r(t,e){return{nominative:"___________".split("_"),accusative:"___________".split("_")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(e)?"accusative":"nominative"][t.month()]}function i(t,e){return{nominative:"___________".split("_"),accusative:"___________".split("_")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(e)?"accusative":"nominative"][t.month()]}function o(t,e){return{nominative:"______".split("_"),accusative:"______".split("_")}[/\[ ?[] ?(?:||)? ?\] ?dddd/.test(e)?"accusative":"nominative"][t.day()]}t.defineLocale("ru",{months:r,monthsShort:i,weekdays:o,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:[/^/i,/^/i,/^/i,/^/i,/^[|]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT"},lastWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT";switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:n,mm:n,h:"",hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/i,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},ordinalParse:/\d{1,2}-(||)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":return t+"-";case"D":return t+"-";case"w":case"W":return t+"-";default:return t}},week:{dow:1,doy:7}})}(yt)}(),function(t){!function(t){function e(t){return t>1&&t<5}function n(t,n,r,i){var o=t+" ";switch(r){case"s":return n||i?"pr seknd":"pr sekundami";case"m":return n?"minta":i?"mintu":"mintou";case"mm":return n||i?o+(e(t)?"minty":"mint"):o+"mintami";case"h":return n?"hodina":i?"hodinu":"hodinou";case"hh":return n||i?o+(e(t)?"hodiny":"hodn"):o+"hodinami";case"d":return n||i?"de":"dom";case"dd":return n||i?o+(e(t)?"dni":"dn"):o+"dami";case"M":return n||i?"mesiac":"mesiacom";case"MM":return n||i?o+(e(t)?"mesiace":"mesiacov"):o+"mesiacmi";case"y":return n||i?"rok":"rokom";case"yy":return n||i?o+(e(t)?"roky":"rokov"):o+"rokmi"}}var r="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),i="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");t.defineLocale("sk",{months:r,monthsShort:i,monthsParse:function(t,e){var n,r=[];for(n=0;n<12;n++)r[n]=new RegExp("^"+t[n]+"$|^"+e[n]+"$","i");return r}(r,i),weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){function e(t,e,n){var r=t+" ";switch(n){case"m":return e?"ena minuta":"eno minuto";case"mm":return r+=1===t?"minuta":2===t?"minuti":3===t||4===t?"minute":"minut";case"h":return e?"ena ura":"eno uro";case"hh":return r+=1===t?"ura":2===t?"uri":3===t||4===t?"ure":"ur";case"dd":return r+=1===t?"dan":"dni";case"MM":return r+=1===t?"mesec":2===t?"meseca":3===t||4===t?"mesece":"mesecev";case"yy":return r+=1===t?"leto":2===t?"leti":3===t||4===t?"leta":"let"}}t.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[prejnja] dddd [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"%s nazaj",s:"nekaj sekund",m:e,mm:e,h:e,hh:e,d:"en dan",dd:e,M:"en mesec",MM:e,y:"eno leto",yy:e},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(yt)}(),function(t){!function(t){t.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),meridiemParse:/PD|MD/,isPM:function(t){return"M"===t.charAt(0)},meridiem:function(t,e,n){return t<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){var e={words:{m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,r){var i=e.words[r];return 1===r.length?n?i[0]:i[1]:t+" "+e.correctGrammaticalCase(t,i)}};t.defineLocale("sr-cyrl",{months:["","","","","","","","","","","",""],monthsShort:[".",".",".",".","","","",".",".",".",".","."],weekdays:["","","","","","",""],weekdaysShort:[".",".",".",".",".",".","."],weekdaysMin:["","","","","","",""],longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"",dd:e.translate,M:"",MM:e.translate,y:"",yy:e.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(yt)}(),function(t){!function(t){var e={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,r){var i=e.words[r];return 1===r.length?n?i[0]:i[1]:t+" "+e.correctGrammaticalCase(t,i)}};t.defineLocale("sr",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedelja","ponedeljak","utorak","sreda","etvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sre.","et.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","e","pe","su"],longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mesec",MM:e.translate,y:"godinu",yy:e.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(yt)}(),function(t){!function(t){t.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"dddd LT",lastWeek:"[Frra] dddd[en] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},ordinalParse:/\d{1,2}(e|a)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"e":1===e?"a":2===e?"a":"e")},week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){t.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}/,ordinal:function(t){return t+""},meridiemParse:/|||||/,meridiem:function(t,e,n){return t<2?" ":t<6?" ":t<10?" ":t<14?" ":t<18?" ":t<22?" ":" "},meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<2?t:t+12:""===e||""===e?t:""===e&&t>=10?t:t+12},week:{dow:0,doy:6}})}(yt)}(),function(t){!function(t){t.defineLocale("th",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),longDateFormat:{LT:"H  m ",LTS:"LT s ",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  LT",LLLL:"dddd D MMMM YYYY  LT"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(yt)}(),function(t){!function(t){t.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM DD, YYYY LT"},calendar:{sameDay:"[Ngayon sa] LT",nextDay:"[Bukas sa] LT",nextWeek:"dddd [sa] LT",lastDay:"[Kahapon sa] LT",lastWeek:"dddd [huling linggo] LT",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){var e={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};t.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinalParse:/\d{1,2}'(inci|nci|nc|nc|uncu|nc)/,ordinal:function(t){if(0===t)return t+"'nc";var n=t%10,r=t%100-n,i=t>=100?100:null;return t+(e[n]||e[r]||e[i])},week:{dow:1,doy:7}})}(yt)}(),function(t){!function(t){t.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(yt)}(),function(t){!function(t){t.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(yt)}(),function(t){!function(t){function e(t,e){var n=t.split("_");return e%10==1&&e%100!=11?n[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?n[1]:n[2]}function n(t,n,r){var i={mm:"__",hh:"__",dd:"__",MM:"__",yy:"__"};return"m"===r?n?"":"":"h"===r?n?"":"":t+" "+e(i[r],+t)}function r(t,e){return{nominative:"___________".split("_"),accusative:"___________".split("_")}[/D[oD]? *MMMM?/.test(e)?"accusative":"nominative"][t.month()]}function i(t,e){return{nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")}[/(\[[]\]) ?dddd/.test(e)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(e)?"genitive":"nominative"][t.day()]}function o(t){return function(){return t+""+(11===this.hours()?"":"")+"] LT"}}t.defineLocale("uk",{months:r,monthsShort:"___________".split("_"),weekdays:i,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:o("[ "),nextDay:o("[ "),lastDay:o("[ "),nextWeek:o("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return o("[] dddd [").call(this);case 1:case 2:case 4:return o("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:n,mm:n,h:"",hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},ordinalParse:/\d{1,2}-(|)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t+"-";case"D":return t+"-";default:return t}},week:{dow:1,doy:7}})}(yt)}(),function(t){!function(t){t.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"D MMMM YYYY, dddd LT"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})}(yt)}(),function(t){!function(t){t.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY LT",LLLL:"dddd, D MMMM [nm] YYYY LT",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},ordinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){t.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYY-MM-DD",LL:"YYYYMMMD",LLL:"YYYYMMMDLT",LLLL:"YYYYMMMDddddLT",l:"YYYY-MM-DD",ll:"YYYYMMMD",lll:"YYYYMMMDLT",llll:"YYYYMMMDddddLT"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e||""===e?t+12:t>=11?t:t+12},meridiem:function(t,e,n){var r=100*t+e;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},nextDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},lastDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},nextWeek:function(){var e,n;return e=t().startOf("week"),n=this.unix()-e.unix()>=604800?"[]":"[]",0===this.minutes()?n+"dddAh":n+"dddAhmm"},lastWeek:function(){var e,n;return e=t().startOf("week"),n=this.unix()<e.unix()?"[]":"[]",0===this.minutes()?n+"dddAh":n+"dddAhmm"},sameElse:"LL"},ordinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"},week:{dow:1,doy:4}})}(yt)}(),function(t){!function(t){t.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMDLT",LLLL:"YYYYMMMDddddLT",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMDLT",llll:"YYYYMMMDddddLT"},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){var r=100*t+e;return r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},ordinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d",h:"",hh:"%d",d:"",dd:"%d",M:"",MM:"%d",y:"",yy:"%d"}})}(yt)}(),yt.locale("en"),Ft?module.exports=yt:"function"==typeof define&&define.amd?(define(function(t,e,n){return n.config&&n.config()&&!0===n.config().noGlobal&&(_t.moment=bt),yt}),vt(!0)):vt()}.call(this),function(){"use strict";function t(t,e){return t.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:"",format:null}).constant("moment",e).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig","angularMomentConfig",function(e,n,r,i,o){return function(a,s,l){function u(){var t;if(i.serverTime){var e=(new Date).getTime()-x+i.serverTime;t=n(e)}else t=n();return t}function c(){m&&(e.clearTimeout(m),m=null)}function d(t){if(s.text(t.from(u(),y)),b&&!s.attr("title")&&s.attr("title",t.local().format(b)),!C){var n=Math.abs(u().diff(t,"minute")),r=3600;1>n?r=1:60>n?r=30:180>n&&(r=300),m=e.setTimeout(function(){d(t)},1e3*r)}}function h(t){k&&s.attr("datetime",t)}function f(){if(c(),p){var t=r.preprocessDate(p,_,v);d(t),h(t.toISOString())}}var p,g,m=null,v=o.format,y=i.withoutSuffix,b=i.titleFormat,x=(new Date).getTime(),_=o.preprocess,w=l.amTimeAgo.replace(/^::/,""),C=0===l.amTimeAgo.indexOf("::"),k="TIME"===s[0].nodeName.toUpperCase();g=a.$watch(w,function(t){return void 0===t||null===t||""===t?(c(),void(p&&(s.text(""),h(""),p=null))):(p=t,f(),void(void 0!==t&&C&&g()))}),t.isDefined(l.amWithoutSuffix)&&a.$watch(l.amWithoutSuffix,function(t){"boolean"==typeof t?(y=t,f()):y=i.withoutSuffix}),l.$observe("amFormat",function(t){void 0!==t&&(v=t,f())}),l.$observe("amPreprocess",function(t){_=t,f()}),a.$on("$destroy",function(){c()}),a.$on("amMoment:localeChanged",function(){f()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(e,n,r,i){var o=this;this.preprocessors={utc:e.utc,unix:e.unix},this.changeLocale=function(r){var i=(e.locale||e.lang)(r);return t.isDefined(r)&&(n.$broadcast("amMoment:localeChanged"),n.$broadcast("amMoment:languageChange")),i},this.changeLanguage=function(t){return r.warn("angular-moment: Usage of amMoment.changeLanguage() is deprecated. Please use changeLocale()"),o.changeLocale(t)},this.preprocessDate=function(n,o,a){return t.isUndefined(o)&&(o=i.preprocess),this.preprocessors[o]?this.preprocessors[o](n,a):(o&&r.warn("angular-moment: Ignoring unsupported value for preprocess: "+o),!isNaN(parseFloat(n))&&isFinite(n)?e(parseInt(n,10)):e(n,a))},this.applyTimezone=function(t){var e=i.timezone;return t&&e&&(t.tz?t=t.tz(e):r.warn("angular-moment: timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js?")),t}}]).filter("amCalendar",["moment","amMoment",function(t,e){return function(n,r){if(void 0===n||null===n)return"";n=e.preprocessDate(n,r);var i=t(n);return i.isValid()?e.applyTimezone(i).calendar():""}}]).filter("amDateFormat",["moment","amMoment",function(t,e){return function(n,r,i){if(void 0===n||null===n)return"";n=e.preprocessDate(n,i);var o=t(n);return o.isValid()?e.applyTimezone(o).format(r):""}}]).filter("amDurationFormat",["moment",function(t){return function(e,n,r){return void 0===e||null===e?"":t.duration(e,n).humanize(r)}}])}"function"==typeof define&&define.amd?define("angular-moment",["angular","moment"],t):t(angular,window.moment)}(),function(t,e,n){"use strict";function r(){var t=!1;this.$get=["$$sanitizeUri",function(n){return t&&e.extend(C,_),function(t){var e=[];return a(t,u(e,function(t,e){return!/^unsafe:/.test(n(t,e))})),e.join("")}}],this.enableSvg=function(n){return e.isDefined(n)?(t=n,this):t}}function i(t){var n=[];return u(n,e.noop).chars(t),n.join("")}function o(t,n){var r,i={},o=t.split(",");for(r=0;r<o.length;r++)i[n?e.lowercase(o[r]):o[r]]=!0;return i}function a(t,e){null===t||t===n?t="":"string"!=typeof t&&(t=""+t),d.innerHTML=t;var r=5;do{if(0===r)throw h("uinput","Failed to sanitize html because the input is unstable");r--,document.documentMode<=11&&c(d),t=d.innerHTML,d.innerHTML=t}while(t!==d.innerHTML);for(var i=d.firstChild;i;){switch(i.nodeType){case 1:e.start(i.nodeName.toLowerCase(),s(i.attributes));break;case 3:e.chars(i.textContent)}var o;if(!((o=i.firstChild)||(1==i.nodeType&&e.end(i.nodeName.toLowerCase()),o=i.nextSibling)))for(;null==o&&(i=i.parentNode)!==d;)o=i.nextSibling,1==i.nodeType&&e.end(i.nodeName.toLowerCase());i=o}for(;i=d.firstChild;)d.removeChild(i)}function s(t){for(var e={},n=0,r=t.length;n<r;n++){var i=t[n];e[i.name]=i.value}return e}function l(t){return t.replace(/&/g,"&amp;").replace(f,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(p,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(t,n){var r=!1,i=e.bind(t,t.push);return{start:function(t,o){t=e.lowercase(t),!r&&w[t]&&(r=t),r||!0!==C[t]||(i("<"),i(t),e.forEach(o,function(r,o){var a=e.lowercase(o),s="img"===t&&"src"===a||"background"===a;!0!==T[a]||!0===k[a]&&!n(r,s)||(i(" "),i(o),i('="'),i(l(r)),i('"'))}),i(">"))},end:function(t){t=e.lowercase(t),r||!0!==C[t]||!0===g[t]||(i("</"),i(t),i(">")),t==r&&(r=!1)},chars:function(t){r||i(l(t))}}}function c(t){if(t.nodeType===Node.ELEMENT_NODE)for(var e=t.attributes,n=0,r=e.length;n<r;n++){var i=e[n],o=i.name.toLowerCase();"xmlns:ns1"!==o&&0!==o.indexOf("ns1:")||(t.removeAttributeNode(i),n--,r--)}var a=t.firstChild;a&&c(a),(a=t.nextSibling)&&c(a)}var d,h=e.$$minErr("$sanitize"),f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,p=/([^\#-~ |!])/g,g=o("area,br,col,hr,img,wbr"),m=o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),v=o("rp,rt"),y=e.extend({},v,m),b=e.extend({},m,o("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),x=e.extend({},v,o("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),_=o("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),w=o("script,style"),C=e.extend({},g,b,x,y),k=o("background,cite,href,longdesc,src,xlink:href"),S=o("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),M=o("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),T=e.extend({},k,M,S);!function(t){var e;if(!t.document||!t.document.implementation)throw h("noinert","Can't create an inert html document");var n=((e=t.document.implementation.createHTMLDocument("inert")).documentElement||e.getDocumentElement()).getElementsByTagName("body");if(1===n.length)d=n[0];else{var r=e.createElement("html");d=e.createElement("body"),r.appendChild(d),e.appendChild(r)}}(t),e.module("ngSanitize",[]).provider("$sanitize",r),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,o=e.$$minErr("linky"),a=e.isString;return function(s,l,u){function c(t){t&&g.push(i(t))}if(null==s||""===s)return s;if(!a(s))throw o("notstring","Expected string but received: {0}",s);for(var d,h,f,p=s,g=[];d=p.match(n);)h=d[0],d[2]||d[4]||(h=(d[3]?"http://":"mailto:")+h),f=d.index,c(p.substr(0,f)),function(t,n){var r;if(g.push("<a "),e.isFunction(u)&&(u=u(t)),e.isObject(u))for(r in u)g.push(r+'="'+u[r]+'" ');else u={};!e.isDefined(l)||"target"in u||g.push('target="',l,'" '),g.push('href="',t.replace(/"/g,"&quot;"),'">'),c(n),g.push("</a>")}(h,d[0].replace(r,"")),p=p.substring(f+d[0].length);return c(p),t(g.join(""))}}])}(window,window.angular),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("angular")):"function"==typeof define&&define.amd?define(["exports","angular"],e):e(t["@uirouter/angularjs"]=t["@uirouter/angularjs"]||{},t.angular)}(this,function(t,e){"use strict";function n(t){function e(n){return n.length>=r?t.apply(null,n):function(){return e(n.concat([].slice.apply(arguments)))}}var n=[].slice.apply(arguments,[1]),r=t.length;return e(n)}function r(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.apply(null,[].slice.call(arguments).reverse())}function o(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.apply(null,n)&&e.apply(null,n)}}function a(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.apply(null,n)||e.apply(null,n)}}function s(t,e){return function(n){return n[t].apply(n,e)}}function l(t){return function(e){for(var n=0;n<t.length;n++)if(t[n][0](e))return t[n][1](e)}}function u(t){if(te(t)&&t.length){var e=t.slice(0,-1),n=t.slice(-1);return!(e.filter(Ot(Zt)).length||n.filter(Ot(Jt)).length)}return Jt(t)}function c(t){return t}function d(){}function h(t,e,n,r,i){void 0===i&&(i=!1);var o=function(e){return t()[e].bind(n())},a=function(t){return function(){return e[t]=o(t),e[t].apply(null,arguments)}};return(r=r||Object.keys(t())).reduce(function(t,e){return t[e]=i?a(e):o(e),t},e)}function f(t,e){return-1!==t.indexOf(e)}function p(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),t}function g(t,e){return t.push(e),e}function m(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e.concat({}).reverse(),i=he.apply(null,r);return he({},i,y(t||{},Object.keys(i)))}function v(t,e){var n=[];for(var r in t.path){if(t.path[r]!==e.path[r])break;n.push(t.path[r])}return n}function y(t,e){var n={};for(var r in t)-1!==e.indexOf(r)&&(n[r]=t[r]);return n}function b(t,e){return Object.keys(t).filter(Ot(ge(e))).reduce(function(e,n){return e[n]=t[n],e},{})}function x(t,e){return C(t,Ft(e))}function _(t,e){var n=te(t),r=n?[]:{},i=n?function(t){return r.push(t)}:function(t,e){return r[e]=t};return de(t,function(t,n){e(t,n)&&i(t,n)}),r}function w(t,e){var n;return de(t,function(t,r){n||e(t,r)&&(n=t)}),n}function C(t,e){var n=te(t)?[]:{};return de(t,function(t,r){return n[r]=e(t,r)}),n}function k(t,e){return t.push(e),t}function S(t,e){return void 0===e&&(e="assert failure"),function(n){var r=t(n);if(!r)throw new Error(Jt(e)?e(n):e);return r}}function M(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return[];var n,r=t.reduce(function(t,e){return Math.min(e.length,t)},9007199254740991),i=[];for(n=0;n<r;n++)switch(t.length){case 1:i.push([t[0][n]]);break;case 2:i.push([t[0][n],t[1][n]]);break;case 3:i.push([t[0][n],t[1][n],t[2][n]]);break;case 4:i.push([t[0][n],t[1][n],t[2][n],t[3][n]]);break;default:i.push(t.map(function(t){return t[n]}))}return i}function T(t,e){var n,r;if(te(e)&&(n=e[0],r=e[1]),!Zt(n))throw new Error("invalid parameters to applyPairs");return t[n]=r,t}function $(t){return t.length&&t[t.length-1]||void 0}function D(t,e){return e&&Object.keys(e).forEach(function(t){return delete e[t]}),e||(e={}),he(e,t)}function E(t,e,n){if(te(t))return t.forEach(e,n);Object.keys(t).forEach(function(n){return e(t[n],n)})}function L(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var r=Object.keys(n),i=0;i<r.length;i++)t[r[i]]=n[r[i]]}return t}function A(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n=typeof t;if(n!==typeof e||"object"!==n)return!1;var r=[t,e];if(Nt(te)(r))return F(t,e);if(Nt(ee)(r))return t.getTime()===e.getTime();if(Nt(ne)(r))return t.toString()===e.toString();if(Nt(Jt)(r))return!0;if([Jt,te,ee,ne].map(It).reduce(function(t,e){return t||!!e(r)},!1))return!1;var i,o={};for(i in t){if(!A(t[i],e[i]))return!1;o[i]=!0}for(i in e)if(!o[i])return!1;return!0}function F(t,e){return t.length===e.length&&M(t,e).reduce(function(t,e){return t&&A(e[0],e[1])},!0)}function P(t){return t?"[ui-view#"+t.id+" tag in template from '"+(t.creationContext&&t.creationContext.name||"(root)")+"' state]: fqn: '"+t.fqn+"', name: '"+t.name+"@"+t.creationContext+"')":"ui-view (defunct)"}function R(e){return Xt(e)?t.Category[e]:t.Category[t.Category[e]]}function O(t,e){function n(t){for(var e=r,n=0;n<e.length;n++){var i=new Ht(e[n]);if(i&&i.matches(t.name)||!i&&e[n]===t.name)return!0}return!1}var r=Zt(e)?[e]:e;return!!(Jt(r)?r:n)(t)}function N(t,e,n){function r(t,r,o){void 0===o&&(o={});var a=new qe(e,n,r,t,o);return i.push(a),function(){a._deregistered=!0,me(i)(a)}}var i=(t._registeredHooks=t._registeredHooks||{})[n.name]=[];return t[n.name]=r,r}function I(t){return void 0===t&&(t=!1),function(e,n){var r=t?-1:1,i=(e.node.state.path.length-n.node.state.path.length)*r;return 0!==i?i:n.hook.priority-e.hook.priority}}function Y(t,e){function n(t){return te(t)?t:Gt(t)?[t]:[]}function r(t){switch(t.length){case 0:return;case 1:return"auto"===e?t[0]:t;default:return t}}function i(t,e){return function(i){if(te(i)&&0===i.length)return i;var o=C(n(i),t);return!0===e?0===_(o,function(t){return!t}).length:r(o)}}function o(t){return function(e,r){var i=n(e),o=n(r);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!t(i[a],o[a]))return!1;return!0}}var a=this;["encode","decode","equals","$normalize"].forEach(function(e){var n=t[e].bind(t),r="equals"===e?o:i;a[e]=r(n)}),he(this,{dynamic:t.dynamic,name:t.name,pattern:t.pattern,inherit:t.inherit,is:i(t.is.bind(t),!0),$arrayMode:e})}function V(t){function e(){return t.value}return t=Ze(t)&&{value:t}||t,e.__cacheable=!0,he(t,{$$fn:u(t.value)?t.value:e})}function j(e,n,r,i,o){if(e.type&&n&&"string"!==n.name)throw new Error("Param '"+i+"' has two type configurations.");if(e.type&&n&&"string"===n.name&&o.type(e.type))return o.type(e.type);if(n)return n;if(!e.type){var a=r===t.DefType.CONFIG?"any":r===t.DefType.PATH?"path":r===t.DefType.SEARCH?"query":"string";return o.type(a)}return e.type instanceof Je?e.type:o.type(e.type)}function H(t,e,n){var r=t.squash;if(!e||!1===r)return!1;if(!Gt(r)||null==r)return n;if(!0===r||Zt(r))return r;throw new Error("Invalid squash policy: '"+r+"'. Valid policies: false, true, or arbitrary string")}function z(t,e,n,r){var i,o,a=[{from:"",to:n||e?void 0:""},{from:null,to:n||e?void 0:""}];return i=te(t.replace)?t.replace:[],Zt(r)&&i.push({from:r,to:void 0}),o=C(i,Ft("from")),_(a,function(t){return-1===o.indexOf(t.from)}).concat(i)}function W(t,e){return e.length<=t?e:e.substr(0,t-3)+"..."}function B(t,e){for(;e.length<t;)e+=" ";return e}function U(t){return t.replace(/^([A-Z])/,function(t){return t.toLowerCase()}).replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function G(t){var e=q(t),n=e.match(/^(function [^ ]+\([^)]*\))/),r=n?n[1]:e,i=t.name||"";return i&&r.match(/function \(/)?"function "+i+r.substr(9):r}function q(t){var e=te(t)?t.slice(-1)[0]:t;return e&&e.toString()||"undefined"}function K(t){function e(t){if(Qt(t)){if(-1!==n.indexOf(t))return"[circular ref]";n.push(t)}return gn(t)}var n=[];return JSON.stringify(t,function(t,n){return e(n)}).replace(/\\"/g,'"')}function J(t){var e=new RegExp("("+t+")","g");return function(t){return t.split(e).filter(c)}}function X(t,e){return Zt($(t))&&Zt(e)?t.slice(0,-1).concat($(t)+e):k(t,e)}function Z(t){return t.name}function Q(t){return t.self.$$state=function(){return t},t.self}function tt(t){return t.parent&&t.parent.data&&(t.data=t.self.data=pe(t.parent.data,t.data)),t.data}function et(t){return t.parent?t.parent.path.concat(t):[t]}function nt(t){var e=t.parent?he({},t.parent.includes):{};return e[t.name]=!0,e}function rt(t){var e=function(t){var e=ae.$injector;return t.$inject||e&&e.annotate(t,e.strictDi)||"deferred"},n=function(t){return!(!t.token||!t.resolveFn)},r=function(t){return!(!t.provide&&!t.token||!(t.useValue||t.useFactory||t.useExisting||t.useClass))},o=function(t){return!!(t&&t.val&&(Zt(t.val)||te(t.val)||Jt(t.val)))},a=function(t){return t.provide||t.token},s=l([[Ft("resolveFn"),function(t){return new rn(a(t),t.resolveFn,t.deps,t.policy)}],[Ft("useFactory"),function(t){return new rn(a(t),t.useFactory,t.deps||t.dependencies,t.policy)}],[Ft("useClass"),function(t){return new rn(a(t),function(){return new t.useClass},[],t.policy)}],[Ft("useValue"),function(t){return new rn(a(t),function(){return t.useValue},[],t.policy,t.useValue)}],[Ft("useExisting"),function(t){return new rn(a(t),c,[t.useExisting],t.policy)}]]),u=l([[i(Ft("val"),Zt),function(t){return new rn(t.token,c,[t.val],t.policy)}],[i(Ft("val"),te),function(t){return new rn(t.token,$(t.val),t.val.slice(0,-1),t.policy)}],[i(Ft("val"),Jt),function(t){return new rn(t.token,t.val,e(t.val),t.policy)}]]),d=l([[Yt(rn),function(t){return t}],[n,s],[r,s],[o,u],[jt(!0),function(t){throw new Error("Invalid resolve value: "+K(t))}]]),h=t.resolve;return(te(h)?h:function(t,e){return Object.keys(t||{}).map(function(n){return{token:n,val:t[n],deps:void 0,policy:e[n]}})}(h,t.resolvePolicy||{})).map(d)}function it(t,e){var n=["",""],r=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return r;switch(e.squash){case!1:n=["(",")"+(e.isOptional?"?":"")];break;case!0:r=r.replace(/\/$/,""),n=["(?:/(",")|/)?"];break;default:n=["("+e.squash+"|",")?"]}return r+n[0]+e.type.pattern.source+n[1]}function ot(t,e,n,r){return"/"===r?t:e?r.slice(0,-1)+t:n?r.slice(1)+t:t}function at(t){if(!(Jt(t)||Zt(t)||Yt(Be)(t)||Be.isDef(t)))throw new Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property");return Jt(t)?t:jt(t)}function st(t){t.addResolvable({token:Un,deps:[],resolveFn:function(){return t.router},data:t.router},""),t.addResolvable({token:fn,deps:[],resolveFn:function(){return t},data:t},""),t.addResolvable({token:"$transition$",deps:[],resolveFn:function(){return t},data:t},""),t.addResolvable({token:"$stateParams",deps:[],resolveFn:function(){return t.params()},data:t.params()},""),t.entering().forEach(function(e){t.addResolvable({token:"$state$",deps:[],resolveFn:function(){return e},data:e},e)})}function lt(t){return function(e,n){return(0,n.$$state()[t])(e,n)}}function ut(t,e){function n(e){return e&&Array.isArray(e.states)&&e.states.forEach(function(e){return t.router.stateRegistry.register(e)}),e}var r=e.$$state().lazyLoad,i=r._promise;if(!i){var o=function(t){return delete e.lazyLoad,delete e.$$state().lazyLoad,delete r._promise,t},a=function(t){return delete r._promise,ae.$q.reject(t)};i=r._promise=ae.$q.when(r(t,e)).then(n).then(o,a)}return i}function ct(t){var e=t._ignoredReason();if(e){We.traceTransitionIgnored(t);var n=t.router.globals.transition;return"SameAsCurrent"===e&&n&&n.abort(),Ie.ignored().toPromise()}}function dt(t){if(!t.valid())throw new Error(t.error())}function ht(t){var e=function(t){return t||""},n=Mr(t).map(e),r=n[0],i=n[1],o=Tr(r).map(e);return{path:o[0],search:o[1],hash:i,url:t}}function ft(t,e,n,r){return function(i){function o(t){t.dispose(a),t.dispose(s)}var a=i.locationService=new n(i),s=i.locationConfig=new r(i,e);return{name:t,service:a,configuration:s,dispose:o}}}function pt(t){return ae.$injector=kr,ae.$q=wr,{name:"vanilla.services",$q:wr,$injector:kr,dispose:function(){return null}}}function gt(){var t=null;return function(e,n){return t=t||ae.$injector.get("$templateFactory"),[new Xr(e,n,t)]}}function mt(t){if(!t.parent)return{};var e=["controller","controllerProvider","controllerAs","resolveAs"],n=["component","bindings","componentProvider"],r=["templateProvider","templateUrl","template","notify","async"].concat(e),i=n.concat(r);if(Gt(t.views)&&Kr(i,t))throw new Error("State '"+t.name+"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object):  "+i.filter(function(e){return Gt(t[e])}).join(", "));var o={},a=t.views||{$default:y(t,i)};return de(a,function(e,i){if(i=i||"$default",Zt(e)&&(e={component:e}),e=he({},e),Kr(n,e)&&Kr(r,e))throw new Error("Cannot combine: "+n.join("|")+" with: "+r.join("|")+" in stateview: '"+i+"@"+t.name+"'");e.resolveAs=e.resolveAs||"$resolve",e.$type="ng1",e.$context=t,e.$name=i;var a=On.normalizeUIViewTarget(e.$context,e.$name);e.$uiViewName=a.uiViewName,e.$uiViewContextAnchor=a.uiViewContextAnchor,o[i]=e}),o}function vt(t){var e=ae.$injector.get(t+"Directive");if(!e||!e.length)throw new Error("Unable to find component named '"+t+"'");return e.map(Qr).reduce(ke,[])}function yt(t){function e(t,e,r,i,o,a){return n._runtimeServices(i,t,r,e),delete ci.router,delete ci.$get,ci}(ci=this.router=new Un).stateProvider=new ei(ci.stateRegistry,ci.stateService),ci.stateRegistry.decorator("views",mt),ci.stateRegistry.decorator("onExit",ni("onExit")),ci.stateRegistry.decorator("onRetain",ni("onRetain")),ci.stateRegistry.decorator("onEnter",ni("onEnter")),ci.viewService._pluginapi._viewConfigFactory("ng1",gt());var n=ci.locationService=ci.locationConfig=new ri(t);return ri.monkeyPatchPathParameterType(ci),ci.router=ci,ci.$get=e,e.$inject=["$location","$browser","$sniffer","$rootScope","$http","$templateCache"],ci}function bt(t,e,n){ae.$injector=t,ae.$q=e,n.stateRegistry.get().map(function(t){return t.$$state().resolvables}).reduce(ke,[]).filter(function(t){return"deferred"===t.deps}).forEach(function(e){return e.deps=t.annotate(e.resolveFn)})}function xt(t){t.$watch(function(){We.approximateDigests++})}function _t(t){var e,n=t.match(/^\s*({[^}]*})\s*$/);if(n&&(t="("+n[1]+")"),!(e=t.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/))||4!==e.length)throw new Error("Invalid state ref '"+t+"'");return{state:e[1]||null,paramExpr:e[3]||null}}function wt(t){var e=t.parent().inheritedData("$uiView"),n=Rt("$cfg.path")(e);return n?$(n).state.name:void 0}function Ct(t,e,n){var r=n.uiState||t.current.name,i=he(Mt(e,t),n.uiStateOpts||{}),o=t.href(r,n.uiStateParams,i);return{uiState:r,uiStateParams:n.uiStateParams,uiStateOpts:i,href:o}}function kt(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),n="FORM"===t[0].nodeName;return{attr:n?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!n}}function St(t,e,n,r,i){return function(o){var a=o.which||o.button,s=i();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||t.attr("target"))){var l=n(function(){e.go(s.uiState,s.uiStateParams,s.uiStateOpts)});o.preventDefault();var u=r.isAnchor&&!s.href?1:0;o.preventDefault=function(){u--<=0&&n.cancel(l)}}}}function Mt(t,e){return{relative:wt(t)||e.$current,inherit:!0,source:"sref"}}function Tt(t,e,n,r){var i;r&&(i=r.events),te(i)||(i=["click"]);for(var o=t.on?"on":"bind",a=0,s=i;a<s.length;a++){var l=s[a];t[o](l,n)}e.$on("$destroy",function(){for(var e=t.off?"off":"unbind",r=0,o=i;r<o.length;r++){var a=o[r];t[e](a,n)}})}function $t(t){var e=function(e,n,r){return t.is(e,n,r)};return e.$stateful=!0,e}function Dt(t){var e=function(e,n,r){return t.includes(e,n,r)};return e.$stateful=!0,e}function Et(t,n,r,i,o,a){var s=Rt("viewDecl.controllerAs"),l=Rt("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(i){var a=i.html();return i.empty(),function(i,u){var c=u.data("$uiView");if(!c)return u.html(a),void t(u.contents())(i);var d=c.$cfg||{viewDecl:{},getTemplate:e.noop},h=d.path&&new cn(d.path);u.html(d.getTemplate(u,h)||a),We.traceUIViewFill(c.$uiView,u.html());var f=t(u.contents()),p=d.controller,g=s(d),m=l(d),v=h&&gi(h);if(i[m]=v,p){var y=n(p,he({},v,{$scope:i,$element:u}));g&&(i[g]=y,i[g][m]=v),u.data("$ngControllerController",y),u.children().data("$ngControllerController",y),Lt(o,r,y,i,d)}if(Zt(d.viewDecl.component))var b=d.viewDecl.component,x=U(b),_=new RegExp("^(x-|data-)?"+x+"$","i"),w=function(){var t=[].slice.call(u[0].children).filter(function(t){return t&&t.tagName&&_.exec(t.tagName)});return t&&qr.element(t).data("$"+b+"Controller")},C=i.$watch(w,function(t){t&&(Lt(o,r,t,i,d),C())});f(i)}}}}function Lt(t,e,n,r,i){!Jt(n.$onInit)||i.viewDecl.component&&bi||n.$onInit();var o=$(i.path).state.self,a={bind:n};if(Jt(n.uiOnParamsChanged)){var s=new cn(i.path).getResolvable("$transition$").data,l=function(t){if(t!==s&&-1===t.exiting().indexOf(o)){var e=t.params("to"),r=t.params("from"),i=t.treeChanges().to.map(function(t){return t.paramSchema}).reduce(ke,[]),a=t.treeChanges().from.map(function(t){return t.paramSchema}).reduce(ke,[]),l=i.filter(function(t){var n=a.indexOf(t);return-1===n||!a[n].type.equals(e[t.id],r[t.id])});if(l.length){var u=l.map(function(t){return t.id}),c=_(e,function(t,e){return-1!==u.indexOf(e)});n.uiOnParamsChanged(c,t)}}};r.$on("$destroy",e.onSuccess({},l,a))}if(Jt(n.uiCanExit)){var u=xi++,c=function(t){return!!t&&(t._uiCanExitIds&&!0===t._uiCanExitIds[u]||c(t.redirectedFrom()))},d=function(e){var r,i=e._uiCanExitIds=e._uiCanExitIds||{};return c(e)||(r=t.when(n.uiCanExit(e))).then(function(t){return i[u]=!1!==t}),r},h={exiting:o.name};r.$on("$destroy",e.onBefore(h,d,a))}}function At(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){return n(function(){t[0].scrollIntoView()},0,!1)}}]}var Ft=function(t){return function(e){return e&&e[t]}},Pt=n(function(t,e,n){return n&&n[t]===e}),Rt=function(t){return i.apply(null,t.split(".").map(Ft))},Ot=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,e)}},Nt=function(t){return function(e){return e.reduce(function(e,n){return e&&!!t(n)},!0)}},It=function(t){return function(e){return e.reduce(function(e,n){return e||!!t(n)},!1)}},Yt=function(t){return function(e){return null!=e&&e.constructor===t||e instanceof t}},Vt=function(t){return function(e){return t===e}},jt=function(t){return function(){return t}},Ht=function(){function t(t){this.text=t,this.glob=t.split(".");var e=this.text.split(".").map(function(t){return"**"===t?"(?:|(?:\\.[^.]*)*)":"*"===t?"\\.[^.]*":"\\."+t}).join("");this.regexp=new RegExp("^"+e+"$")}return t.prototype.matches=function(t){return this.regexp.test("."+t)},t.is=function(t){return!!/[!,*]+/.exec(t)},t.fromString=function(e){return t.is(e)?new t(e):null},t}(),zt=function(){function t(e){return t.create(e||{})}return t.create=function(e){e=t.isStateClass(e)?new e:e;var n=pe(pe(e,t.prototype));return e.$$state=function(){return n},n.self=e,n.__stateObjectCache={nameGlob:Ht.fromString(n.name)},n},t.prototype.is=function(t){return this===t||this.self===t||this.fqn()===t},t.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var t=this.parent.fqn();return t?t+"."+this.name:this.name},t.prototype.root=function(){return this.parent&&this.parent.root()||this},t.prototype.parameters=function(t){return((t=m(t,{inherit:!0,matchingKeys:null})).inherit&&this.parent&&this.parent.parameters()||[]).concat(_e(this.params)).filter(function(e){return!t.matchingKeys||t.matchingKeys.hasOwnProperty(e.id)})},t.prototype.parameter=function(t,e){return void 0===e&&(e={}),this.url&&this.url.parameter(t,e)||w(_e(this.params),Pt("id",t))||e.inherit&&this.parent&&this.parent.parameter(t)},t.prototype.toString=function(){return this.fqn()},t}();zt.isStateClass=function(t){return Jt(t)&&!0===t.__uiRouterState},zt.isState=function(t){return Qt(t.__stateObjectCache)};var Wt=Object.prototype.toString,Bt=function(t){return function(e){return typeof e===t}},Ut=Bt("undefined"),Gt=Ot(Ut),qt=function(t){return null===t},Kt=a(qt,Ut),Jt=Bt("function"),Xt=Bt("number"),Zt=Bt("string"),Qt=function(t){return null!==t&&"object"==typeof t},te=Array.isArray,ee=function(t){return"[object Date]"===Wt.call(t)},ne=function(t){return"[object RegExp]"===Wt.call(t)},re=zt.isState,ie=o(Qt,i(Ft("then"),Jt)),oe=function(t){return function(){throw new Error(t+"(): No coreservices implementation for UI-Router is loaded.")}},ae={$q:void 0,$injector:void 0},se=("undefined"==typeof window?{}:window).angular||{},le=se.fromJson||JSON.parse.bind(JSON),ue=se.toJson||JSON.stringify.bind(JSON),ce=se.copy||D,de=se.forEach||E,he=Object.assign||L,fe=se.equals||A,pe=function(t,e){return he(Object.create(t),e)},ge=n(f),me=n(p),ve=n(g),ye=function(t){return t.slice().forEach(function(e){"function"==typeof e&&e(),me(t,e)})},be=function(t,e){return he(t,e)},xe=C,_e=function(t){return Object.keys(t).map(function(e){return t[e]})},we=function(t,e){return t&&e},Ce=function(t,e){return t||e},ke=function(t,e){return t.concat(e)},Se=function(t,e){return te(e)?t.concat(e.reduce(Se,[])):k(t,e)},Me=function(t,e){return ge(t,e)?t:k(t,e)},Te=function(t){return t.reduce(ke,[])},$e=function(t){return t.reduce(Se,[])},De=S,Ee=S,Le=function(t){return Object.keys(t).map(function(e){return[e,t[e]]})},Ae=function(t,e){return void 0===e&&(e=jt(!0)),function(n,r){return e(n)&&e(r)?t(n)-t(r):0}},Fe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e,n){return t.reduce(function(t,r){return t||r(e,n)},0)}},Pe=function(t){return t.catch(function(t){return 0})&&t},Re=function(t){return Pe(ae.$q.reject(t))},Oe=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=null),this._items=t,this._limit=e}return t.prototype.enqueue=function(t){var e=this._items;return e.push(t),this._limit&&e.length>this._limit&&e.shift(),t},t.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},t.prototype.clear=function(){var t=this._items;return this._items=[],t},t.prototype.size=function(){return this._items.length},t.prototype.remove=function(t){var e=this._items.indexOf(t);return e>-1&&this._items.splice(e,1)[0]},t.prototype.peekTail=function(){return this._items[this._items.length-1]},t.prototype.peekHead=function(){if(this.size())return this._items[0]},t}();!function(t){t[t.SUPERSEDED=2]="SUPERSEDED",t[t.ABORTED=3]="ABORTED",t[t.INVALID=4]="INVALID",t[t.IGNORED=5]="IGNORED",t[t.ERROR=6]="ERROR"}(t.RejectType||(t.RejectType={}));var Ne=0,Ie=function(){function e(t,e,n){this.$id=Ne++,this.type=t,this.message=e,this.detail=n}return e.prototype.toString=function(){var t=function(t){return t&&t.toString!==Object.prototype.toString?t.toString():K(t)}(this.detail),e=this;return"Transition Rejection($id: "+e.$id+" type: "+e.type+", message: "+e.message+", detail: "+t+")"},e.prototype.toPromise=function(){return he(Re(this),{_transitionRejection:this})},e.isRejectionPromise=function(t){return t&&"function"==typeof t.then&&Yt(e)(t._transitionRejection)},e.superseded=function(n,r){var i=new e(t.RejectType.SUPERSEDED,"The transition has been superseded by a different transition",n);return r&&r.redirected&&(i.redirected=!0),i},e.redirected=function(t){return e.superseded(t,{redirected:!0})},e.invalid=function(n){return new e(t.RejectType.INVALID,"This transition is invalid",n)},e.ignored=function(n){return new e(t.RejectType.IGNORED,"The transition was ignored",n)},e.aborted=function(n){return new e(t.RejectType.ABORTED,"The transition has been aborted",n)},e.errored=function(n){return new e(t.RejectType.ERROR,"The transition errored",n)},e.normalize=function(t){return Yt(e)(t)?t:e.errored(t)},e}(),Ye=function(t){return"[ViewConfig#"+t.$id+" from '"+(t.viewDecl.$context.name||"(root)")+"' state]: target ui-view: '"+t.viewDecl.$uiViewName+"@"+t.viewDecl.$uiViewContextAnchor+"'"};!function(t){t[t.RESOLVE=0]="RESOLVE",t[t.TRANSITION=1]="TRANSITION",t[t.HOOK=2]="HOOK",t[t.UIVIEW=3]="UIVIEW",t[t.VIEWCONFIG=4]="VIEWCONFIG"}(t.Category||(t.Category={}));var Ve=Rt("$id"),je=Rt("router.$id"),He=function(t){return"Transition #"+Ve(t)+"-"+je(t)},ze=function(){function e(){this._enabled={},this.approximateDigests=0}return e.prototype._set=function(e,n){var r=this;n.length||(n=Object.keys(t.Category).map(function(t){return parseInt(t,10)}).filter(function(t){return!isNaN(t)}).map(function(e){return t.Category[e]})),n.map(R).forEach(function(t){return r._enabled[t]=e})},e.prototype.enable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._set(!0,t)},e.prototype.disable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._set(!1,t)},e.prototype.enabled=function(t){return!!this._enabled[R(t)]},e.prototype.traceTransitionStart=function(e){this.enabled(t.Category.TRANSITION)&&console.log(He(e)+": Started  -> "+K(e))},e.prototype.traceTransitionIgnored=function(e){this.enabled(t.Category.TRANSITION)&&console.log(He(e)+": Ignored  <> "+K(e))},e.prototype.traceHookInvocation=function(e,n,r){if(this.enabled(t.Category.HOOK)){var i=Rt("traceData.hookType")(r)||"internal",o=Rt("traceData.context.state.name")(r)||Rt("traceData.context")(r)||"unknown",a=G(e.registeredHook.callback);console.log(He(n)+":   Hook -> "+i+" context: "+o+", "+W(200,a))}},e.prototype.traceHookResult=function(e,n,r){this.enabled(t.Category.HOOK)&&console.log(He(n)+":   <- Hook returned: "+W(200,K(e)))},e.prototype.traceResolvePath=function(e,n,r){this.enabled(t.Category.RESOLVE)&&console.log(He(r)+":         Resolving "+e+" ("+n+")")},e.prototype.traceResolvableResolved=function(e,n){this.enabled(t.Category.RESOLVE)&&console.log(He(n)+":               <- Resolved  "+e+" to: "+W(200,K(e.data)))},e.prototype.traceError=function(e,n){this.enabled(t.Category.TRANSITION)&&console.log(He(n)+": <- Rejected "+K(n)+", reason: "+e)},e.prototype.traceSuccess=function(e,n){this.enabled(t.Category.TRANSITION)&&console.log(He(n)+": <- Success  "+K(n)+", final state: "+e.name)},e.prototype.traceUIViewEvent=function(e,n,r){void 0===r&&(r=""),this.enabled(t.Category.UIVIEW)&&console.log("ui-view: "+B(30,e)+" "+P(n)+r)},e.prototype.traceUIViewConfigUpdated=function(e,n){this.enabled(t.Category.UIVIEW)&&this.traceUIViewEvent("Updating",e," with ViewConfig from context='"+n+"'")},e.prototype.traceUIViewFill=function(e,n){this.enabled(t.Category.UIVIEW)&&this.traceUIViewEvent("Fill",e," with: "+W(200,n))},e.prototype.traceViewServiceEvent=function(e,n){this.enabled(t.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+Ye(n))},e.prototype.traceViewServiceUIViewEvent=function(e,n){this.enabled(t.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+P(n))},e}(),We=new ze;!function(t){t[t.CREATE=0]="CREATE",t[t.BEFORE=1]="BEFORE",t[t.RUN=2]="RUN",t[t.SUCCESS=3]="SUCCESS",t[t.ERROR=4]="ERROR"}(t.TransitionHookPhase||(t.TransitionHookPhase={})),function(t){t[t.TRANSITION=0]="TRANSITION",t[t.STATE=1]="STATE"}(t.TransitionHookScope||(t.TransitionHookScope={}));var Be=function(){function t(t,e,n,r){void 0===r&&(r={}),this._identifier=t,this._definition=e,this._options=r,this._params=n||{}}return t.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},t.prototype.identifier=function(){return this._identifier},t.prototype.params=function(){return this._params},t.prototype.$state=function(){return this._definition},t.prototype.state=function(){return this._definition&&this._definition.self},t.prototype.options=function(){return this._options},t.prototype.exists=function(){return!(!this._definition||!this._definition.self)},t.prototype.valid=function(){return!this.error()},t.prototype.error=function(){var t=this.options().relative;if(!this._definition&&t){var e=t.name?t.name:t;return"Could not resolve '"+this.name()+"' from state '"+e+"'"}return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},t.prototype.toString=function(){return"'"+this.name()+"'"+ue(this.params())},t}();Be.isDef=function(t){return t&&t.state&&(Zt(t.state)||Zt(t.state.name))};var Ue={current:d,transition:null,traceData:{},bind:null},Ge=function(){function e(e,n,r,i){var o=this;this.transition=e,this.stateContext=n,this.registeredHook=r,this.options=i,this.isSuperseded=function(){return o.type.hookPhase===t.TransitionHookPhase.RUN&&!o.options.transition.isActive()},this.options=m(i,Ue),this.type=r.eventType}return e.prototype.logError=function(t){this.transition.router.stateService.defaultErrorHandler()(t)},e.prototype.invokeHook=function(){var t=this,e=this.registeredHook;if(!e._deregistered){var n=this.getNotCurrentRejection();if(n)return n;var r=this.options;We.traceHookInvocation(this,this.transition,r);var i=function(t){return Ie.normalize(t).toPromise()},o=function(n){return e.eventType.getErrorHandler(t)(n)},a=function(n){return e.eventType.getResultHandler(t)(n)};try{var s=function(){return e.callback.call(r.bind,t.transition,t.stateContext)}();return!this.type.synchronous&&ie(s)?s.catch(i).then(a,o):a(s)}catch(t){return o(Ie.normalize(t))}}},e.prototype.handleHookResult=function(t){var e=this;return this.getNotCurrentRejection()||(ie(t)?t.then(function(t){return e.handleHookResult(t)}):(We.traceHookResult(t,this.transition,this.options),!1===t?Ie.aborted("Hook aborted transition").toPromise():Yt(Be)(t)?Ie.redirected(t).toPromise():void 0))},e.prototype.getNotCurrentRejection=function(){var t=this.transition.router;return t._disposed?Ie.aborted("UIRouter instance #"+t.$id+" has been stopped (disposed)").toPromise():this.transition._aborted?Ie.aborted().toPromise():this.isSuperseded()?Ie.superseded(this.options.current()).toPromise():void 0},e.prototype.toString=function(){var t=this,e=t.options,n=t.registeredHook;return(Rt("traceData.hookType")(e)||"internal")+" context: "+(Rt("traceData.context.state.name")(e)||Rt("traceData.context")(e)||"unknown")+", "+W(200,q(n.callback))},e.chain=function(t,e){var n=function(t,e){return t.then(function(){return e.invokeHook()})};return t.reduce(n,e||ae.$q.when())},e.invokeHooks=function(t,n){for(var r=0;r<t.length;r++){var i=t[r].invokeHook();if(ie(i)){var o=t.slice(r+1);return e.chain(o,i).then(n)}}return n()},e.runAllHooks=function(t){t.forEach(function(t){return t.invokeHook()})},e}();Ge.HANDLE_RESULT=function(t){return function(e){return t.handleHookResult(e)}},Ge.LOG_REJECTED_RESULT=function(t){return function(e){ie(e)&&e.catch(function(e){return t.logError(Ie.normalize(e))})}},Ge.LOG_ERROR=function(t){return function(e){return t.logError(e)}},Ge.REJECT_ERROR=function(t){return function(t){return Re(t)}},Ge.THROW_ERROR=function(t){return function(t){throw t}};var qe=function(){function e(t,e,n,r,i){void 0===i&&(i={}),this.tranSvc=t,this.eventType=e,this.callback=n,this.matchCriteria=r,this.priority=i.priority||0,this.bind=i.bind||null,this._deregistered=!1}return e.prototype._matchingNodes=function(t,e){if(!0===e)return t;var n=t.filter(function(t){return O(t.state,e)});return n.length?n:null},e.prototype._getDefaultMatchCriteria=function(){return C(this.tranSvc._pluginapi._getPathTypes(),function(){return!0})},e.prototype._getMatchingNodes=function(e){var n=this,r=he(this._getDefaultMatchCriteria(),this.matchCriteria);return _e(this.tranSvc._pluginapi._getPathTypes()).reduce(function(i,o){var a=o.scope===t.TransitionHookScope.STATE,s=e[o.name]||[],l=a?s:[$(s)];return i[o.name]=n._matchingNodes(l,r[o.name]),i},{})},e.prototype.matches=function(t){var e=this._getMatchingNodes(t);return _e(e).every(c)?e:null},e}(),Ke=function(){function e(t){this.transition=t}return e.prototype.buildHooksForPhase=function(t){var e=this;return this.transition.router.transitionService._pluginapi._getEvents(t).map(function(t){return e.buildHooks(t)}).reduce(ke,[]).filter(c)},e.prototype.buildHooks=function(e){var n=this.transition,r=n.treeChanges(),i=this.getMatchingHooks(e,r);if(!i)return[];var o={transition:n,current:n.options().current},a=function(i){return i.matches(r)[e.criteriaMatchPath.name].map(function(r){var a=he({bind:i.bind,traceData:{hookType:e.name,context:r}},o),s=e.criteriaMatchPath.scope===t.TransitionHookScope.STATE?r.state.self:null,l=new Ge(n,s,i,a);return{hook:i,node:r,transitionHook:l}})};return i.map(a).reduce(ke,[]).sort(I(e.reverseSort)).map(function(t){return t.transitionHook})},e.prototype.getMatchingHooks=function(e,n){var r=e.hookPhase===t.TransitionHookPhase.CREATE,i=this.transition.router.transitionService;return(r?[i]:[this.transition,i]).map(function(t){return t.getHooks(e.name)}).filter(De(te,"broken event named: "+e.name)).reduce(ke,[]).filter(function(t){return t.matches(n)})},e}(),Je=function(){function t(t){this.pattern=/.*/,this.inherit=!0,he(this,t)}return t.prototype.is=function(t,e){return!0},t.prototype.encode=function(t,e){return t},t.prototype.decode=function(t,e){return t},t.prototype.equals=function(t,e){return t==e},t.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},t.prototype.toString=function(){return"{ParamType:"+this.name+"}"},t.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},t.prototype.$asArray=function(t,e){if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new Y(this,t)},t}(),Xe=Object.prototype.hasOwnProperty,Ze=function(t){return 0===["value","type","squash","array","dynamic"].filter(Xe.bind(t||{})).length};!function(t){t[t.PATH=0]="PATH",t[t.SEARCH=1]="SEARCH",t[t.CONFIG=2]="CONFIG"}(t.DefType||(t.DefType={}));var Qe=function(){function e(e,n,r,i,o){n=j(r=V(r),n,i,e,o.paramTypes);var a=function(){var n={array:i===t.DefType.SEARCH&&"auto"},o=e.match(/\[\]$/)?{array:!0}:{};return he(n,o,r).array}();n=a?n.$asArray(a,i===t.DefType.SEARCH):n;var s=void 0!==r.value||i===t.DefType.SEARCH,l=Gt(r.dynamic)?!!r.dynamic:!!n.dynamic,u=Gt(r.raw)?!!r.raw:!!n.raw,c=H(r,s,o.defaultSquashPolicy()),d=z(r,a,s,c),h=Gt(r.inherit)?!!r.inherit:!!n.inherit;he(this,{id:e,type:n,location:i,isOptional:s,dynamic:l,raw:u,squash:c,replace:d,inherit:h,array:a,config:r})}return e.prototype.isDefaultValue=function(t){return this.isOptional&&this.type.equals(this.value(),t)},e.prototype.value=function(t){var e=this;return t=function(t){for(var n=0,r=e.replace;n<r.length;n++){var i=r[n];if(i.from===t)return i.to}return t}(t),Ut(t)?function(){if(e._defaultValueCache)return e._defaultValueCache.defaultValue;if(!ae.$injector)throw new Error("Injectable functions cannot be called at configuration time");var t=ae.$injector.invoke(e.config.$$fn);if(null!==t&&void 0!==t&&!e.type.is(t))throw new Error("Default value ("+t+") for parameter '"+e.id+"' is not an instance of ParamType ("+e.type.name+")");return e.config.$$fn.__cacheable&&(e._defaultValueCache={defaultValue:t}),t}():this.type.$normalize(t)},e.prototype.isSearch=function(){return this.location===t.DefType.SEARCH},e.prototype.validates=function(t){if((Ut(t)||null===t)&&this.isOptional)return!0;var e=this.type.$normalize(t);if(!this.type.is(e))return!1;var n=this.type.encode(e);return!(Zt(n)&&!this.type.pattern.exec(n))},e.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},e.values=function(t,e){void 0===e&&(e={});for(var n={},r=0,i=t;r<i.length;r++){var o=i[r];n[o.id]=o.value(e[o.id])}return n},e.changed=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),t.filter(function(t){return!t.type.equals(e[t.id],n[t.id])})},e.equals=function(t,n,r){return void 0===n&&(n={}),void 0===r&&(r={}),0===e.changed(t,n,r).length},e.validates=function(t,e){return void 0===e&&(e={}),t.map(function(t){return t.validates(e[t.id])}).reduce(we,!0)},e}(),tn=function(){function t(e){if(e instanceof t){var n=e;this.state=n.state,this.paramSchema=n.paramSchema.slice(),this.paramValues=he({},n.paramValues),this.resolvables=n.resolvables.slice(),this.views=n.views&&n.views.slice()}else{var r=e;this.state=r,this.paramSchema=r.parameters({inherit:!1}),this.paramValues={},this.resolvables=r.resolvables.map(function(t){return t.clone()})}}return t.prototype.applyRawParams=function(t){var e=function(e){return[e.id,e.value(t[e.id])]};return this.paramValues=this.paramSchema.reduce(function(t,n){return T(t,e(n))},{}),this},t.prototype.parameter=function(t){return w(this.paramSchema,Pt("id",t))},t.prototype.equals=function(t,e){var n=this.diff(t,e);return n&&0===n.length},t.prototype.diff=function(t,e){if(this.state!==t.state)return!1;var n=e?e(this):this.paramSchema;return Qe.changed(n,this.paramValues,t.paramValues)},t.clone=function(e){return new t(e)},t}(),en=function(){function t(){}return t.makeTargetState=function(t){var e=$(t).state;return new Be(e,e,t.map(Ft("paramValues")).reduce(be,{}))},t.buildPath=function(t){var e=t.params();return t.$state().path.map(function(t){return new tn(t).applyRawParams(e)})},t.buildToPath=function(e,n){var r=t.buildPath(n);return n.options().inherit?t.inheritParams(e,r,Object.keys(n.params())):r},t.applyViewConfigs=function(e,n,r){n.filter(function(t){return ge(r,t.state)}).forEach(function(r){var i=_e(r.state.views||{}),o=t.subPath(n,function(t){return t===r}),a=i.map(function(t){return e.createViewConfig(o,t)});r.views=a.reduce(ke,[])})},t.inheritParams=function(t,e,n){function r(t,e){var n=w(t,Pt("state",e));return he({},n&&n.paramValues)}function i(e){var i=he({},e&&e.paramValues),a=y(i,n);i=b(i,n);var s=b(r(t,e.state)||{},o),l=he(i,s,a);return new tn(e.state).applyRawParams(l)}void 0===n&&(n=[]);var o=t.map(function(t){return t.paramSchema}).reduce(ke,[]).filter(function(t){return!t.inherit}).map(Ft("id"));return e.map(i)},t.treeChanges=function(e,n,r){function i(t,e){var r=tn.clone(t);return r.paramValues=n[e].paramValues,r}for(var o=0,a=Math.min(e.length,n.length);o<a&&e[o].state!==r&&function(e,n){return e.equals(n,t.nonDynamicParams)}(e[o],n[o]);)o++;var s,l,u,c,d;l=(s=e).slice(0,o),u=s.slice(o);var h=l.map(i);return c=n.slice(o),d=h.concat(c),{from:s,to:d,retained:l,exiting:u,entering:c}},t.matching=function(t,e,n){var r=!1;return M(t,e).reduce(function(t,e){var i=e[0],o=e[1];return r=r||!i.equals(o,n),r?t:t.concat(i)},[])},t.equals=function(e,n,r){return e.length===n.length&&t.matching(e,n,r).length===e.length},t.subPath=function(t,e){var n=w(t,e),r=t.indexOf(n);return-1===r?void 0:t.slice(0,r+1)},t}();en.nonDynamicParams=function(t){return t.state.parameters({inherit:!1}).filter(function(t){return!t.dynamic})},en.paramValues=function(t){return t.reduce(function(t,e){return he(t,e.paramValues)},{})};var nn={when:"LAZY",async:"WAIT"},rn=function(){function t(e,n,r,i,o){if(this.resolved=!1,this.promise=void 0,e instanceof t)he(this,e);else if(Jt(n)){if(null==e||void 0==e)throw new Error("new Resolvable(): token argument is required");if(!Jt(n))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=e,this.policy=i,this.resolveFn=n,this.deps=r||[],this.data=o,this.resolved=void 0!==o,this.promise=this.resolved?ae.$q.when(this.data):void 0}else if(Qt(e)&&e.token&&Jt(e.resolveFn)){var a=e;return new t(a.token,a.resolveFn,a.deps,a.policy,a.data)}}return t.prototype.getPolicy=function(t){var e=this.policy||{},n=t&&t.resolvePolicy||{};return{when:e.when||n.when||nn.when,async:e.async||n.async||nn.async}},t.prototype.resolve=function(t,e){var n=this,r=ae.$q,i=function(){return r.all(t.getDependencies(n).map(function(n){return n.get(t,e)}))},o=function(t){return n.resolveFn.apply(null,t)},a=function(t){var e=t.cache(1);return e.take(1).toPromise().then(function(){return e})},s=t.findNode(this),l=s&&s.state,u="RXWAIT"===this.getPolicy(l).async?a:c,d=function(t){return n.data=t,n.resolved=!0,We.traceResolvableResolved(n,e),n.data};return this.promise=r.when().then(i).then(o).then(u).then(d)},t.prototype.get=function(t,e){return this.promise||this.resolve(t,e)},t.prototype.toString=function(){return"Resolvable(token: "+K(this.token)+", requires: ["+this.deps.map(K)+"])"},t.prototype.clone=function(){return new t(this)},t}();rn.fromData=function(t,e){return new rn(t,function(){return e},null,null,e)};var on={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT",RXWAIT:"RXWAIT"}},an=on.when,sn=[an.EAGER,an.LAZY],ln=[an.EAGER],un="Native Injector",cn=function(){function t(t){this._path=t}return t.prototype.getTokens=function(){return this._path.reduce(function(t,e){return t.concat(e.resolvables.map(function(t){return t.token}))},[]).reduce(Me,[])},t.prototype.getResolvable=function(t){return $(this._path.map(function(t){return t.resolvables}).reduce(ke,[]).filter(function(e){return e.token===t}))},t.prototype.getPolicy=function(t){var e=this.findNode(t);return t.getPolicy(e.state)},t.prototype.subContext=function(e){return new t(en.subPath(this._path,function(t){return t.state===e}))},t.prototype.addResolvables=function(t,e){var n=w(this._path,Pt("state",e)),r=t.map(function(t){return t.token});n.resolvables=n.resolvables.filter(function(t){return-1===r.indexOf(t.token)}).concat(t)},t.prototype.resolvePath=function(t,e){var n=this;void 0===t&&(t="LAZY");var r=(ge(sn,t)?t:"LAZY")===on.when.EAGER?ln:sn;We.traceResolvePath(this._path,t,e);var i=function(t,e){return function(r){return ge(t,n.getPolicy(r)[e])}},o=this._path.reduce(function(t,o){var a=o.resolvables.filter(i(r,"when")),s=a.filter(i(["NOWAIT"],"async")),l=a.filter(Ot(i(["NOWAIT"],"async"))),u=n.subContext(o.state),c=function(t){return t.get(u,e).then(function(e){return{token:t.token,value:e}})};return s.forEach(c),t.concat(l.map(c))},[]);return ae.$q.all(o)},t.prototype.injector=function(){return this._injector||(this._injector=new dn(this))},t.prototype.findNode=function(t){return w(this._path,function(e){return ge(e.resolvables,t)})},t.prototype.getDependencies=function(t){var e=this,n=this.findNode(t),r=(en.subPath(this._path,function(t){return t===n})||this._path).reduce(function(t,e){return t.concat(e.resolvables)},[]).filter(function(e){return e!==t}),i=function(t){var n=r.filter(function(e){return e.token===t});if(n.length)return $(n);var i=e.injector().getNative(t);if(!i)throw new Error("Could not find Dependency Injection token: "+K(t));return new rn(t,function(){return i},[],i)};return t.deps.map(i)},t}(),dn=function(){function t(t){this.context=t,this.native=this.get(un)||ae.$injector}return t.prototype.get=function(t){var e=this.context.getResolvable(t);if(e){if("NOWAIT"===this.context.getPolicy(e).async)return e.get(this.context);if(!e.resolved)throw new Error("Resolvable async .get() not complete:"+K(e.token));return e.data}return this.native&&this.native.get(t)},t.prototype.getAsync=function(t){var e=this.context.getResolvable(t);return e?e.get(this.context):ae.$q.when(this.native.get(t))},t.prototype.getNative=function(t){return this.native&&this.native.get(t)},t}(),hn=Ft("self"),fn=function(){function e(e,n,r){var i=this;if(this._deferred=ae.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this._hookBuilder=new Ke(this),this.isActive=function(){return i.router.globals.transition===i},this.router=r,this._targetState=n,!n.valid())throw new Error(n.error());this._options=he({current:jt(this)},n.options()),this.$id=r.transitionService._transitionCount++;var o=en.buildToPath(e,n);this._treeChanges=en.treeChanges(e,o,this._options.reloadState),this.createTransitionHookRegFns();var a=this._hookBuilder.buildHooksForPhase(t.TransitionHookPhase.CREATE);Ge.invokeHooks(a,function(){return null}),this.applyViewConfigs(r)}return e.prototype.onBefore=function(t,e,n){},e.prototype.onStart=function(t,e,n){},e.prototype.onExit=function(t,e,n){},e.prototype.onRetain=function(t,e,n){},e.prototype.onEnter=function(t,e,n){},e.prototype.onFinish=function(t,e,n){},e.prototype.onSuccess=function(t,e,n){},e.prototype.onError=function(t,e,n){},e.prototype.createTransitionHookRegFns=function(){var e=this;this.router.transitionService._pluginapi._getEvents().filter(function(e){return e.hookPhase!==t.TransitionHookPhase.CREATE}).forEach(function(t){return N(e,e.router.transitionService,t)})},e.prototype.getHooks=function(t){return this._registeredHooks[t]},e.prototype.applyViewConfigs=function(t){var e=this._treeChanges.entering.map(function(t){return t.state});en.applyViewConfigs(t.transitionService.$view,this._treeChanges.to,e)},e.prototype.$from=function(){return $(this._treeChanges.from).state},e.prototype.$to=function(){return $(this._treeChanges.to).state},e.prototype.from=function(){return this.$from().self},e.prototype.to=function(){return this.$to().self},e.prototype.targetState=function(){return this._targetState},e.prototype.is=function(t){return t instanceof e?this.is({to:t.$to().name,from:t.$from().name}):!(t.to&&!O(this.$to(),t.to)||t.from&&!O(this.$from(),t.from))},e.prototype.params=function(t){return void 0===t&&(t="to"),Object.freeze(this._treeChanges[t].map(Ft("paramValues")).reduce(be,{}))},e.prototype.injector=function(t,e){void 0===e&&(e="to");var n=this._treeChanges[e];return t&&(n=en.subPath(n,function(e){return e.state===t||e.state.name===t})),new cn(n).injector()},e.prototype.getResolveTokens=function(t){return void 0===t&&(t="to"),new cn(this._treeChanges[t]).getTokens()},e.prototype.addResolvable=function(t,e){void 0===e&&(e=""),t=Yt(rn)(t)?t:new rn(t);var n="string"==typeof e?e:e.name,r=this._treeChanges.to,i=w(r,function(t){return t.state.name===n});new cn(r).addResolvables([t],i.state)},e.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},e.prototype.originalTransition=function(){var t=this.redirectedFrom();return t&&t.originalTransition()||this},e.prototype.options=function(){return this._options},e.prototype.entering=function(){return C(this._treeChanges.entering,Ft("state")).map(hn)},e.prototype.exiting=function(){return C(this._treeChanges.exiting,Ft("state")).map(hn).reverse()},e.prototype.retained=function(){return C(this._treeChanges.retained,Ft("state")).map(hn)},e.prototype.views=function(t,e){void 0===t&&(t="entering");var n=this._treeChanges[t];return(n=e?n.filter(Pt("state",e)):n).map(Ft("views")).filter(c).reduce(ke,[])},e.prototype.treeChanges=function(t){return t?this._treeChanges[t]:this._treeChanges},e.prototype.redirect=function(t){for(var e=1,n=this;null!=(n=n.redirectedFrom());)if(++e>20)throw new Error("Too many consecutive Transition redirects (20+)");var r={redirectedFrom:this,source:"redirect"};"url"===this.options().source&&!1!==t.options().location&&(r.location="replace");var i=he({},this.options(),t.options(),r);t=new Be(t.identifier(),t.$state(),t.params(),i);var o=this.router.transitionService.create(this._treeChanges.from,t),a=this._treeChanges.entering,s=o._treeChanges.entering;return en.matching(s,a,en.nonDynamicParams).filter(Ot(function(t){return function(e){return t&&e.state.includes[t.name]}}(t.options().reloadState))).forEach(function(t,e){t.resolvables=a[e].resolvables}),o},e.prototype._changedParams=function(){var t=this._treeChanges;if(!(this._options.reload||t.exiting.length||t.entering.length||t.to.length!==t.from.length||M(t.to,t.from).map(function(t){return t[0].state!==t[1].state}).reduce(Ce,!1))){var e=t.to.map(function(t){return t.paramSchema}),n=[t.to,t.from].map(function(t){return t.map(function(t){return t.paramValues})});return M(e,n[0],n[1]).map(function(t){var e=t[0],n=t[1],r=t[2];return Qe.changed(e,n,r)}).reduce(ke,[])}},e.prototype.dynamic=function(){var t=this._changedParams();return!!t&&t.map(function(t){return t.dynamic}).reduce(Ce,!1)},e.prototype.ignored=function(){return!!this._ignoredReason()},e.prototype._ignoredReason=function(){var t=this.router.globals.transition,e=this._options.reloadState,n=function(t,n){if(t.length!==n.length)return!1;var r=en.matching(t,n);return t.length===r.filter(function(t){return!e||!t.state.includes[e.name]}).length},r=this.treeChanges(),i=t&&t.treeChanges();return i&&n(i.to,r.to)&&n(i.exiting,r.exiting)?"SameAsPending":0===r.exiting.length&&0===r.entering.length&&n(r.from,r.to)?"SameAsCurrent":void 0},e.prototype.run=function(){var e=this,n=Ge.runAllHooks,r=function(t){return e._hookBuilder.buildHooksForPhase(t)},i=function(){We.traceSuccess(e.$to(),e),e.success=!0,e._deferred.resolve(e.to()),n(r(t.TransitionHookPhase.SUCCESS))},o=function(i){We.traceError(i,e),e.success=!1,e._deferred.reject(i),e._error=i,n(r(t.TransitionHookPhase.ERROR))},a=function(){var e=r(t.TransitionHookPhase.RUN),n=function(){return ae.$q.when(void 0)};return Ge.invokeHooks(e,n)},s=function(){var t=e.router.globals;return t.lastStartedTransitionId=e.$id,t.transition=e,t.transitionHistory.enqueue(e),We.traceTransitionStart(e),ae.$q.when(void 0)},l=r(t.TransitionHookPhase.BEFORE);return Ge.invokeHooks(l,s).then(a).then(i,o),this.promise},e.prototype.valid=function(){return!this.error()||void 0!==this.success},e.prototype.abort=function(){Ut(this.success)&&(this._aborted=!0)},e.prototype.error=function(){var t=this.$to();return t.self.abstract?"Cannot transition to abstract state '"+t.name+"'":Qe.validates(t.parameters(),this.params())?!1===this.success?this._error:void 0:"Param values not valid for state '"+t.name+"'"},e.prototype.toString=function(){var t=this.from(),e=this.to(),n=function(t){return null!==t["#"]&&void 0!==t["#"]?t:b(t,["#"])};return"Transition#"+this.$id+"( '"+(Qt(t)?t.name:t)+"'"+ue(n(this._treeChanges.from.map(Ft("paramValues")).reduce(be,{})))+" -> "+(this.valid()?"":"(X) ")+"'"+(Qt(e)?e.name:e)+"'"+ue(n(this.params()))+" )"},e}();fn.diToken=fn;var pn=null,gn=function(t){var e=Ie.isRejectionPromise;return(pn=pn||l([[Ot(Gt),jt("undefined")],[qt,jt("null")],[ie,jt("[Promise]")],[e,function(t){return t._transitionRejection.toString()}],[Yt(Ie),s("toString")],[Yt(fn),s("toString")],[Yt(rn),s("toString")],[u,G],[jt(!0),c]]))(t)},mn=function(t){return function(e){if(!e)return["",""];var n=e.indexOf(t);return-1===n?[e,""]:[e.substr(0,n),e.substr(n+1)]}},vn=function(){function t(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes=y(t.prototype,["hash","string","query","path","int","bool","date","json","any"]);var e=function(t,e){return new Je(he({name:e},t))};this.types=pe(C(this.defaultTypes,e),{})}return t.prototype.dispose=function(){this.types={}},t.prototype.type=function(t,e,n){if(!Gt(e))return this.types[t];if(this.types.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return this.types[t]=new Je(he({name:t},e)),n&&(this.typeQueue.push({name:t,def:n}),this.enqueue||this._flushTypeQueue()),this},t.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var t=this.typeQueue.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");he(this.types[t.name],ae.$injector.invoke(t.def))}},t}();!function(){var t=function(t){var e=function(t){return null!=t?t.toString():t},n={encode:e,decode:e,is:Yt(String),pattern:/.*/,equals:function(t,e){return t==e}};return he({},n,t)};he(vn.prototype,{string:t({}),path:t({pattern:/[^\/]*/}),query:t({}),hash:t({inherit:!1}),int:t({decode:function(t){return parseInt(t,10)},is:function(t){return!Kt(t)&&this.decode(t.toString())===t},pattern:/-?\d+/}),bool:t({encode:function(t){return t&&1||0},decode:function(t){return 0!==parseInt(t,10)},is:Yt(Boolean),pattern:/0|1/}),date:t({encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):void 0},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):void 0},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return["getFullYear","getMonth","getDate"].reduce(function(n,r){return n&&t[r]()===e[r]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:t({encode:ue,decode:le,is:Yt(Object),equals:fe,pattern:/[^\/]*/}),any:t({encode:c,decode:c,is:function(){return!0},equals:fe})})}();var yn=function(){function t(t){void 0===t&&(t={}),he(this,t)}return t.prototype.$inherit=function(t,e,n){var r,i=v(e,n),o={},a=[];for(var s in i)if(i[s]&&i[s].params&&(r=Object.keys(i[s].params)).length)for(var l in r)a.indexOf(r[l])>=0||(a.push(r[l]),o[r[l]]=this[r[l]]);return he({},o,t)},t}(),bn=function(t){if(!Zt(t))return!1;var e="^"===t.charAt(0);return{val:e?t.substring(1):t,root:e}},xn=function(t,e){return function(n){var r=n;r&&r.url&&r.name&&r.name.match(/\.\*\*$/)&&(r.url+="{remainder:any}");var i=bn(r.url),o=n.parent,a=i?t.compile(i.val,{params:n.params||{},paramMap:function(t,e){return!1===r.reloadOnSearch&&e&&(t=he(t||{},{dynamic:!0})),t}}):r.url;if(!a)return null;if(!t.isMatcher(a))throw new Error("Invalid url '"+a+"' in state '"+n+"'");return i&&i.root?a:(o&&o.navigable||e()).url.append(a)}},_n=function(t){return function(e){return!t(e)&&e.url?e:e.parent?e.parent.navigable:null}},wn=function(t){return function(e){var n=function(e,n){return t.fromConfig(n,null,e)},r=e.url&&e.url.parameters({inherit:!1})||[],i=_e(xe(b(e.params||{},r.map(Ft("id"))),n));return r.concat(i).map(function(t){return[t.id,t]}).reduce(T,{})}},Cn=function(){function t(t,e){function n(e){return o(e)?null:t.find(r.parentName(e))||i()}this.matcher=t;var r=this,i=function(){return t.find("")},o=function(t){return""===t.name};this.builders={name:[Z],self:[Q],parent:[n],data:[tt],url:[xn(e,i)],navigable:[_n(o)],params:[wn(e.paramFactory)],views:[],path:[et],includes:[nt],resolvables:[rt]}}return t.prototype.builder=function(t,e){var n=this.builders,r=n[t]||[];return Zt(t)&&!Gt(e)?r.length>1?r:r[0]:Zt(t)&&Jt(e)?(n[t]=r,n[t].push(e),function(){return n[t].splice(n[t].indexOf(e,1))&&null}):void 0},t.prototype.build=function(t){var e=this,n=e.matcher,r=e.builders,i=this.parentName(t);if(i&&!n.find(i,void 0,!1))return null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o].reduce(function(t,e){return function(n){return e(n,t)}},d);t[o]=a(t)}return t},t.prototype.parentName=function(t){var e=t.name||"",n=e.split(".");if(n.length>1){if(t.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+e+")");return"**"===n.pop()&&n.pop(),n.join(".")}return t.parent?Zt(t.parent)?t.parent:t.parent.name:""},t.prototype.name=function(t){var e=t.name;if(-1!==e.indexOf(".")||!t.parent)return e;var n=Zt(t.parent)?t.parent:t.parent.name;return n?n+"."+e:e},t}(),kn=function(){function t(t){this._states=t}return t.prototype.isRelative=function(t){return 0===(t=t||"").indexOf(".")||0===t.indexOf("^")},t.prototype.find=function(t,e,n){if(void 0===n&&(n=!0),t||""===t){var r=Zt(t),i=r?t:t.name;this.isRelative(i)&&(i=this.resolvePath(i,e));var o=this._states[i];if(o&&(r||!(r||o!==t&&o.self!==t)))return o;if(r&&n){var a=_e(this._states).filter(function(t){return t.__stateObjectCache.nameGlob&&t.__stateObjectCache.nameGlob.matches(i)});return a.length>1&&console.log("stateMatcher.find: Found multiple matches for "+i+" using glob: ",a.map(function(t){return t.name})),a[0]}}},t.prototype.resolvePath=function(t,e){if(!e)throw new Error("No reference point given for path '"+t+"'");for(var n=this.find(e),r=t.split("."),i=0,o=r.length,a=n;i<o;i++)if(""!==r[i]||0!==i){if("^"!==r[i])break;if(!a.parent)throw new Error("Path '"+t+"' not valid for state '"+n.name+"'");a=a.parent}else a=n;var s=r.slice(i).join(".");return a.name+(a.name&&s?".":"")+s},t}(),Sn=function(){function t(t,e,n,r,i){this.$registry=t,this.$urlRouter=e,this.states=n,this.builder=r,this.listeners=i,this.queue=[],this.matcher=t.matcher}return t.prototype.dispose=function(){this.queue=[]},t.prototype.register=function(t){var e=this.queue,n=zt.create(t),r=n.name;if(!Zt(r))throw new Error("State must have a valid name");if(this.states.hasOwnProperty(r)||ge(e.map(Ft("name")),r))throw new Error("State '"+r+"' is already defined");return e.push(n),this.flush(),n},t.prototype.flush=function(){for(var t=this,e=this,n=e.queue,r=e.states,i=e.builder,o=[],a=[],s={},l=function(e){return t.states.hasOwnProperty(e)&&t.states[e]};n.length>0;){var u=n.shift(),c=u.name,d=i.build(u),h=a.indexOf(u);if(d){var f=l(c);if(f&&f.name===c)throw new Error("State '"+c+"' is already defined");var p=l(c+".**");p&&this.$registry.deregister(p),r[c]=u,this.attachRoute(u),h>=0&&a.splice(h,1),o.push(u)}else{var g=s[c];if(s[c]=n.length,h>=0&&g===n.length)return n.push(u),r;h<0&&a.push(u),n.push(u)}}return o.length&&this.listeners.forEach(function(t){return t("registered",o.map(function(t){return t.self}))}),r},t.prototype.attachRoute=function(t){!t.abstract&&t.url&&this.$urlRouter.rule(this.$urlRouter.urlRuleFactory.create(t))},t}(),Mn=function(){function t(t){this._router=t,this.states={},this.listeners=[],this.matcher=new kn(this.states),this.builder=new Cn(this.matcher,t.urlMatcherFactory),this.stateQueue=new Sn(this,t.urlRouter,this.states,this.builder,this.listeners),this._registerRoot()}return t.prototype._registerRoot=function(){var t={name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0};(this._root=this.stateQueue.register(t)).navigable=null},t.prototype.dispose=function(){var t=this;this.stateQueue.dispose(),this.listeners=[],this.get().forEach(function(e){return t.get(e)&&t.deregister(e)})},t.prototype.onStatesChanged=function(t){return this.listeners.push(t),function(){me(this.listeners)(t)}.bind(this)},t.prototype.root=function(){return this._root},t.prototype.register=function(t){return this.stateQueue.register(t)},t.prototype._deregisterTree=function(t){var e=this,n=this.get().map(function(t){return t.$$state()}),r=function(t){var e=n.filter(function(e){return-1!==t.indexOf(e.parent)});return 0===e.length?e:e.concat(r(e))},i=r([t]),o=[t].concat(i).reverse();return o.forEach(function(t){var n=e._router.urlRouter;n.rules().filter(Pt("state",t)).forEach(n.removeRule.bind(n)),delete e.states[t.name]}),o},t.prototype.deregister=function(t){var e=this.get(t);if(!e)throw new Error("Can't deregister state; not found: "+t);var n=this._deregisterTree(e.$$state());return this.listeners.forEach(function(t){return t("deregistered",n.map(function(t){return t.self}))}),n},t.prototype.get=function(t,e){var n=this;if(0===arguments.length)return Object.keys(this.states).map(function(t){return n.states[t].self});var r=this.matcher.find(t,e);return r&&r.self||null},t.prototype.decorator=function(t,e){return this.builder.builder(t,e)},t}(),Tn=function(t,e,n){return t[e]=t[e]||n()},$n=J("/"),Dn=function(){function e(t,n,r,i){var o=this;this.config=i,this._cache={path:[this]},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.pattern=t,this.config=m(this.config,{params:{},strict:!0,caseInsensitive:!1,paramMap:c});for(var a,s,l,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h=0,f=[],p=function(n){if(!e.nameValidator.test(n))throw new Error("Invalid parameter name '"+n+"' in pattern '"+t+"'");if(w(o._params,Pt("id",n)))throw new Error("Duplicate parameter name '"+n+"' in pattern '"+t+"'")},g=function(e,r){var i=e[2]||e[3],a=r?e[4]:e[4]||("*"===e[1]?".*":null);return{id:i,regexp:a,cfg:o.config.params[i],segment:t.substring(h,e.index),type:a?n.type(a)||function(t){return pe(n.type(r?"query":"path"),{pattern:new RegExp(t,o.config.caseInsensitive?"i":void 0)})}(a):null}};(a=u.exec(t))&&!((s=g(a,!1)).segment.indexOf("?")>=0);)p(s.id),this._params.push(r.fromPath(s.id,s.type,this.config.paramMap(s.cfg,!1))),this._segments.push(s.segment),f.push([s.segment,$(this._params)]),h=u.lastIndex;var v=(l=t.substring(h)).indexOf("?");if(v>=0){var y=l.substring(v);if(l=l.substring(0,v),y.length>0)for(h=0;a=d.exec(y);)s=g(a,!0),p(s.id),this._params.push(r.fromSearch(s.id,s.type,this.config.paramMap(s.cfg,!0))),h=u.lastIndex}this._segments.push(l),this._compiled=f.map(function(t){return it.apply(null,t)}).concat(it(l))}return e.prototype.append=function(t){return this._children.push(t),t._cache={path:this._cache.path.concat(t),parent:this,pattern:null},t},e.prototype.isRoot=function(){return this._cache.path[0]===this},e.prototype.toString=function(){return this.pattern},e.prototype.exec=function(t,e,n,r){var i=this;void 0===e&&(e={}),void 0===r&&(r={});var o=Tn(this._cache,"pattern",function(){return new RegExp(["^",Te(i._cache.path.map(Ft("_compiled"))).join(""),!1===i.config.strict?"/?":"","$"].join(""),i.config.caseInsensitive?"i":void 0)}).exec(t);if(!o)return null;var a=this.parameters(),s=a.filter(function(t){return!t.isSearch()}),l=a.filter(function(t){return t.isSearch()}),u=this._cache.path.map(function(t){return t._segments.length-1}).reduce(function(t,e){return t+e}),c={};if(u!==o.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var d=0;d<u;d++){for(var h=s[d],f=o[d+1],p=0;p<h.replace.length;p++)h.replace[p].from===f&&(f=h.replace[p].to);f&&!0===h.array&&(f=function(t){var e=function(t){return t.split("").reverse().join("")},n=function(t){return t.replace(/\\-/g,"-")};return C(C(e(t).split(/-(?!\\)/),e),n).reverse()}(f)),Gt(f)&&(f=h.type.decode(f)),c[h.id]=h.value(f)}return l.forEach(function(t){for(var n=e[t.id],r=0;r<t.replace.length;r++)t.replace[r].from===n&&(n=t.replace[r].to);Gt(n)&&(n=t.type.decode(n)),c[t.id]=t.value(n)}),n&&(c["#"]=n),c},e.prototype.parameters=function(t){return void 0===t&&(t={}),!1===t.inherit?this._params:Te(this._cache.path.map(function(t){return t._params}))},e.prototype.parameter=function(t,e){var n=this;void 0===e&&(e={});var r=this._cache.parent;return function(){for(var e=0,r=n._params;e<r.length;e++){var i=r[e];if(i.id===t)return i}}()||!1!==e.inherit&&r&&r.parameter(t,e)||null},e.prototype.validates=function(t){var e=function(t,e){return!t||t.validates(e)};return t=t||{},this.parameters().filter(function(e){return t.hasOwnProperty(e.id)}).map(function(n){return e(n,t[n.id])}).reduce(we,!0)},e.prototype.format=function(t){function n(e){var n=e.value(t[e.id]),r=e.validates(n),i=e.isDefaultValue(n);return{param:e,value:n,isValid:r,isDefaultValue:i,squash:!!i&&e.squash,encoded:e.type.encode(n)}}void 0===t&&(t={});var r=this._cache.path,i=r.map(e.pathSegmentsAndParams).reduce(ke,[]).map(function(t){return Zt(t)?t:n(t)}),o=r.map(e.queryParams).reduce(ke,[]).map(n),a=function(t){return!1===t.isValid};if(i.concat(o).filter(a).length)return null;var s=i.reduce(function(t,n){if(Zt(n))return t+n;var r=n.squash,i=n.encoded,o=n.param;return!0===r?t.match(/\/$/)?t.slice(0,-1):t:Zt(r)?t+r:!1!==r?t:null==i?t:te(i)?t+C(i,e.encodeDashes).join("-"):o.raw?t+i:t+encodeURIComponent(i)},""),l=o.map(function(t){var e=t.param,n=t.squash,r=t.encoded,i=t.isDefaultValue;if(!(null==r||i&&!1!==n)&&(te(r)||(r=[r]),0!==r.length))return e.raw||(r=C(r,encodeURIComponent)),r.map(function(t){return e.id+"="+t})}).filter(c).reduce(ke,[]).join("&");return s+(l?"?"+l:"")+(t["#"]?"#"+t["#"]:"")},e.encodeDashes=function(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})},e.pathSegmentsAndParams=function(e){return M(e._segments,e._params.filter(function(e){return e.location===t.DefType.PATH}).concat(void 0)).reduce(ke,[]).filter(function(t){return""!==t&&Gt(t)})},e.queryParams=function(e){return e._params.filter(function(e){return e.location===t.DefType.SEARCH})},e.compare=function(t,n){var r,i,o=function(t){return t._cache.segments=t._cache.segments||t._cache.path.map(e.pathSegmentsAndParams).reduce(ke,[]).reduce(X,[]).map(function(t){return Zt(t)?$n(t):t}).reduce(ke,[])},a=function(t){return t._cache.weights=t._cache.weights||o(t).map(function(t){return"/"===t?1:Zt(t)?2:t instanceof Qe?3:void 0})},s=M(a(t),a(n));for(i=0;i<s.length;i++)if(0!=(r=s[i][0]-s[i][1]))return r;return 0},e}();Dn.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/;var En=function(){function e(){var e=this;this.paramTypes=new vn,this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1,this._getConfig=function(t){return he({strict:e._isStrictMode,caseInsensitive:e._isCaseInsensitive},t)},this.paramFactory={fromConfig:function(n,r,i){return new Qe(n,r,i,t.DefType.CONFIG,e)},fromPath:function(n,r,i){return new Qe(n,r,i,t.DefType.PATH,e)},fromSearch:function(n,r,i){return new Qe(n,r,i,t.DefType.SEARCH,e)}},he(this,{UrlMatcher:Dn,Param:Qe})}return e.prototype.caseInsensitive=function(t){return this._isCaseInsensitive=Gt(t)?t:this._isCaseInsensitive},e.prototype.strictMode=function(t){return this._isStrictMode=Gt(t)?t:this._isStrictMode},e.prototype.defaultSquashPolicy=function(t){if(Gt(t)&&!0!==t&&!1!==t&&!Zt(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=Gt(t)?t:this._defaultSquashPolicy},e.prototype.compile=function(t,e){return new Dn(t,this.paramTypes,this.paramFactory,this._getConfig(e))},e.prototype.isMatcher=function(t){if(!Qt(t))return!1;var e=!0;return de(Dn.prototype,function(n,r){Jt(n)&&(e=e&&Gt(t[r])&&Jt(t[r]))}),e},e.prototype.type=function(t,e,n){var r=this.paramTypes.type(t,e,n);return Gt(e)?this:r},e.prototype.$get=function(){return this.paramTypes.enqueue=!1,this.paramTypes._flushTypeQueue(),this},e.prototype.dispose=function(){this.paramTypes.dispose()},e}(),Ln=function(){function t(t){this.router=t}return t.prototype.compile=function(t){return this.router.urlMatcherFactory.compile(t)},t.prototype.create=function(t,e){var n=this,r=l([[Zt,function(t){return r(n.compile(t))}],[Yt(Dn),function(t){return n.fromUrlMatcher(t,e)}],[re,function(t){return n.fromState(t,n.router)}],[Yt(RegExp),function(t){return n.fromRegExp(t,e)}],[Jt,function(t){return new Fn(t,e)}]]),i=r(t);if(!i)throw new Error("invalid 'what' in when()");return i},t.prototype.fromUrlMatcher=function(t,e){function n(e){var n=t.exec(e.path,e.search,e.hash);return t.validates(n)&&n}function r(e){var n=t.parameters().filter(function(t){return t.isOptional});return n.length?n.filter(function(t){return e[t.id]}).length/n.length:1e-6}var i=e;Zt(e)&&(e=this.router.urlMatcherFactory.compile(e)),Yt(Dn)(e)&&(i=function(t){return e.format(t)});var o={urlMatcher:t,matchPriority:r,type:"URLMATCHER"};return he(new Fn(n,i),o)},t.prototype.fromState=function(t,e){var n=function(n){var r=e.stateService,i=e.globals;r.href(t,n)!==r.href(i.current,i.params)&&r.transitionTo(t,n,{inherit:!0,source:"url"})},r={state:t,type:"STATE"};return he(this.fromUrlMatcher(t.url,n),r)},t.prototype.fromRegExp=function(t,e){if(t.global||t.sticky)throw new Error("Rule RegExp must not be global or sticky");var n=function(t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})},r=Zt(e)?n:e,i={regexp:t,type:"REGEXP"};return he(new Fn(function(e){return t.exec(e.path)},r),i)},t}();Ln.isUrlRule=function(t){return t&&["type","match","handler"].every(function(e){return Gt(t[e])})};var An,Fn=function(){function t(t,e){var n=this;this.match=t,this.type="RAW",this.matchPriority=function(t){return 0-n.$id},this.handler=e||c}return t}(),Pn=Ft("urlMatcher");An=Fe(Ae(i(Ft("priority"),function(t){return-t})),Ae(i(Ft("type"),function(t){return{STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1}[t]})),function(t,e){return Pn(t)&&Pn(e)?Dn.compare(Pn(t),Pn(e)):0},Ae(Ft("$id"),ge(["REGEXP","RAW","OTHER"])));var Rn=function(){function t(e){this._sortFn=An,this._rules=[],this.interceptDeferred=!1,this._id=0,this._sorted=!1,this._router=e,this.urlRuleFactory=new Ln(e),h(jt(t.prototype),this,jt(this))}return t.prototype.dispose=function(){this.listen(!1),this._rules=[],delete this._otherwiseFn},t.prototype.sort=function(t){this._rules.sort(this._sortFn=t||this._sortFn),this._sorted=!0},t.prototype.ensureSorted=function(){this._sorted||this.sort()},t.prototype.match=function(t){var e=this;this.ensureSorted(),t=he({path:"",search:{},hash:""},t);var n=this.rules();this._otherwiseFn&&n.push(this._otherwiseFn);for(var r,i=0;i<n.length&&(!r||0===this._sortFn(n[i],r.rule));i++){var o=function(n){var r=n.match(t,e._router);return r&&{match:r,rule:n,weight:n.matchPriority(r)}}(n[i]);r=!r||o&&o.weight>r.weight?o:r}return r},t.prototype.sync=function(t){if(!t||!t.defaultPrevented){var e=this._router,n=e.urlService,r=e.stateService,i={path:n.path(),search:n.search(),hash:n.hash()},o=this.match(i);l([[Zt,function(t){return n.url(t,!0)}],[Be.isDef,function(t){return r.go(t.state,t.params,t.options)}],[Yt(Be),function(t){return r.go(t.state(),t.params(),t.options())}]])(o&&o.rule.handler(o.match,i,e))}},t.prototype.listen=function(t){var e=this;if(!1!==t)return this._stopFn=this._stopFn||this._router.urlService.onChange(function(t){return e.sync(t)});this._stopFn&&this._stopFn(),delete this._stopFn},t.prototype.update=function(t){var e=this._router.locationService;t?this.location=e.path():e.path()!==this.location&&e.url(this.location,!0)},t.prototype.push=function(t,e,n){var r=n&&!!n.replace;this._router.urlService.url(t.format(e||{}),r)},t.prototype.href=function(t,e,n){var r=t.format(e);if(null==r)return null;n=n||{absolute:!1};var i=this._router.urlService.config,o=i.html5Mode();if(o||null===r||(r="#"+i.hashPrefix()+r),r=ot(r,o,n.absolute,i.baseHref()),!n.absolute||!r)return r;var a=!o&&r?"/":"",s=i.port();return s=80===s||443===s?"":":"+s,[i.protocol(),"://",i.host(),s,a,r].join("")},t.prototype.rule=function(t){var e=this;if(!Ln.isUrlRule(t))throw new Error("invalid rule");return t.$id=this._id++,t.priority=t.priority||0,this._rules.push(t),this._sorted=!1,function(){return e.removeRule(t)}},t.prototype.removeRule=function(t){me(this._rules,t)},t.prototype.rules=function(){return this.ensureSorted(),this._rules.slice()},t.prototype.otherwise=function(t){var e=at(t);this._otherwiseFn=this.urlRuleFactory.create(jt(!0),e),this._sorted=!1},t.prototype.initial=function(t){var e=at(t),n=function(t,e){return 0===e.globals.transitionHistory.size()&&!!/^\/?$/.exec(t.path)};this.rule(this.urlRuleFactory.create(n,e))},t.prototype.when=function(t,e,n){var r=this.urlRuleFactory.create(t,e);return Gt(n&&n.priority)&&(r.priority=n.priority),this.rule(r),r},t.prototype.deferIntercept=function(t){void 0===t&&(t=!0),this.interceptDeferred=t},t}(),On=function(){function t(){var t=this;this._uiViews=[],this._viewConfigs=[],this._viewConfigFactories={},this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIViews:function(){return t._uiViews},_activeViewConfigs:function(){return t._viewConfigs}}}return t.prototype._rootViewContext=function(t){return this._rootContext=t||this._rootContext},t.prototype._viewConfigFactory=function(t,e){this._viewConfigFactories[t]=e},t.prototype.createViewConfig=function(t,e){var n=this._viewConfigFactories[e.$type];if(!n)throw new Error("ViewService: No view config factory registered for type "+e.$type);var r=n(t,e);return te(r)?r:[r]},t.prototype.deactivateViewConfig=function(t){We.traceViewServiceEvent("<- Removing",t),me(this._viewConfigs,t)},t.prototype.activateViewConfig=function(t){We.traceViewServiceEvent("-> Registering",t),this._viewConfigs.push(t)},t.prototype.sync=function(){function e(t){var e=function(t){return t&&t.parent?e(t.parent)+1:1};return 1e4*t.fqn.split(".").length+e(t.creationContext)}function r(t){for(var e=t.viewDecl.$context,n=0;++n&&e.parent;)e=e.parent;return n}var i=this,o=this._uiViews.map(function(t){return[t.fqn,t]}).reduce(T,{}),a=n(function(t,e,n,r){return e*(t(n)-t(r))}),s=function(e){var n=i._viewConfigs.filter(t.matches(o,e));return n.length>1&&n.sort(a(r,-1)),[e,n[0]]},l=function(t){var e=t[0],n=t[1];-1!==i._uiViews.indexOf(e)&&e.configUpdated(n)};this._uiViews.sort(a(e,1)).map(s).forEach(l)},t.prototype.registerUIView=function(t){We.traceViewServiceUIViewEvent("-> Registering",t);var e=this._uiViews,n=function(e){return e.fqn===t.fqn};return e.filter(n).length&&We.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",t),e.push(t),this.sync(),function(){-1!==e.indexOf(t)?(We.traceViewServiceUIViewEvent("<- Deregistering",t),me(e)(t)):We.traceViewServiceUIViewEvent("Tried removing non-registered uiView",t)}},t.prototype.available=function(){return this._uiViews.map(Ft("fqn"))},t.prototype.active=function(){return this._uiViews.filter(Ft("$config")).map(Ft("name"))},t.normalizeUIViewTarget=function(t,e){void 0===e&&(e="");var n=e.split("@"),r=n[0]||"$default",i=Zt(n[1])?n[1]:"^",o=/^(\^(?:\.\^)*)\.(.*$)/.exec(r);return o&&(i=o[1],r=o[2]),"!"===r.charAt(0)&&(r=r.substr(1),i=""),/^(\^(?:\.\^)*)$/.exec(i)?i=i.split(".").reduce(function(t,e){return t.parent},t).name:"."===i&&(i=t.name),{uiViewName:r,uiViewContextAnchor:i}},t}();On.matches=function(t,e){return function(n){if(e.$type!==n.viewDecl.$type)return!1;var r=n.viewDecl,i=r.$uiViewName.split("."),o=e.fqn.split(".");if(!fe(i,o.slice(0-i.length)))return!1;var a=1-i.length||void 0,s=o.slice(0,a).join("."),l=t[s].creationContext;return r.$uiViewContextAnchor===(l&&l.name)}};var Nn=function(){function t(){this.params=new yn,this.lastStartedTransitionId=-1,this.transitionHistory=new Oe([],1),this.successfulTransitions=new Oe([],1)}return t.prototype.dispose=function(){this.transitionHistory.clear(),this.successfulTransitions.clear(),this.transition=null},t}(),In=function(t){return t.reduce(function(t,e){return t[e]=oe(e),t},{dispose:d})},Yn=["url","path","search","hash","onChange"],Vn=["port","protocol","host","baseHref","html5Mode","hashPrefix"],jn=["type","caseInsensitive","strictMode","defaultSquashPolicy"],Hn=["sort","when","initial","otherwise","rules","rule","removeRule"],zn=["deferIntercept","listen","sync","match"],Wn=function(){function t(t,e){void 0===e&&(e=!0),this.router=t,this.rules={},this.config={};var n=function(){return t.locationService};h(n,this,n,Yn,e);var r=function(){return t.locationConfig};h(r,this.config,r,Vn,e);var i=function(){return t.urlMatcherFactory};h(i,this.config,i,jn);var o=function(){return t.urlRouter};h(o,this.rules,o,Hn),h(o,this,o,zn)}return t.prototype.url=function(t,e,n){},t.prototype.path=function(){},t.prototype.search=function(){},t.prototype.hash=function(){},t.prototype.onChange=function(t){},t.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},t.prototype.dispose=function(){},t.prototype.sync=function(t){},t.prototype.listen=function(t){},t.prototype.deferIntercept=function(t){},t.prototype.match=function(t){},t}();Wn.locationServiceStub=In(Yn),Wn.locationConfigStub=In(Vn);var Bn=0,Un=function(){function t(t,e){void 0===t&&(t=Wn.locationServiceStub),void 0===e&&(e=Wn.locationConfigStub),this.locationService=t,this.locationConfig=e,this.$id=Bn++,this._disposed=!1,this._disposables=[],this.trace=We,this.viewService=new On,this.transitionService=new xr(this),this.globals=new Nn,this.urlMatcherFactory=new En,this.urlRouter=new Rn(this),this.stateRegistry=new Mn(this),this.stateService=new _r(this),this.urlService=new Wn(this),this._plugins={},this.viewService._pluginapi._rootViewContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self,this.disposable(this.globals),this.disposable(this.stateService),this.disposable(this.stateRegistry),this.disposable(this.transitionService),this.disposable(this.urlRouter),this.disposable(t),this.disposable(e)}return t.prototype.disposable=function(t){this._disposables.push(t)},t.prototype.dispose=function(t){var e=this;t&&Jt(t.dispose)?t.dispose(this):(this._disposed=!0,this._disposables.slice().forEach(function(t){try{"function"==typeof t.dispose&&t.dispose(e),me(e._disposables,t)}catch(t){}}))},t.prototype.plugin=function(t,e){void 0===e&&(e={});var n=new t(this,e);if(!n.name)throw new Error("Required property `name` missing on plugin: "+n);return this._disposables.push(n),this._plugins[n.name]=n},t.prototype.getPlugin=function(t){return t?this._plugins[t]:_e(this._plugins)},t}(),Gn=function(t){return t.onCreate({},st)},qn=function(t){function e(e){if(e)return e instanceof Be?e:Zt(e)?r.target(e,t.params(),t.options()):e.state||e.params?r.target(e.state||t.to(),e.params||t.params(),t.options()):void 0}var n=t.to().redirectTo;if(n){var r=t.router.stateService;return Jt(n)?ae.$q.when(n(t)).then(e):e(n)}},Kn=function(t){return t.onStart({to:function(t){return!!t.redirectTo}},qn)},Jn=lt("onExit"),Xn=function(t){return t.onExit({exiting:function(t){return!!t.onExit}},Jn)},Zn=lt("onRetain"),Qn=function(t){return t.onRetain({retained:function(t){return!!t.onRetain}},Zn)},tr=lt("onEnter"),er=function(t){return t.onEnter({entering:function(t){return!!t.onEnter}},tr)},nr=function(t){return new cn(t.treeChanges().to).resolvePath("EAGER",t).then(d)},rr=function(t){return t.onStart({},nr,{priority:1e3})},ir=function(t,e){return new cn(t.treeChanges().to).subContext(e.$$state()).resolvePath("LAZY",t).then(d)},or=function(t){return t.onEnter({entering:jt(!0)},ir,{priority:1e3})},ar=function(t){var e=ae.$q,n=t.views("entering");if(n.length)return e.all(n.map(function(t){return e.when(t.load())})).then(d)},sr=function(t){return t.onFinish({},ar)},lr=function(t){var e=t.views("entering"),n=t.views("exiting");if(e.length||n.length){var r=t.router.viewService;n.forEach(function(t){return r.deactivateViewConfig(t)}),e.forEach(function(t){return r.activateViewConfig(t)}),r.sync()}},ur=function(t){return t.onSuccess({},lr)},cr=function(t){var e=t.router.globals,n=function(){e.successfulTransitions.enqueue(t),e.$current=t.$to(),e.current=e.$current.self,ce(t.params(),e.params)},r=function(){e.transition===t&&(e.transition=null)};t.onSuccess({},n,{priority:1e4}),t.promise.then(r,r)},dr=function(t){return t.onCreate({},cr)},hr=function(t){var e=t.options(),n=t.router.stateService,r=t.router.urlRouter;if("url"!==e.source&&e.location&&n.$current.navigable){var i={replace:"replace"===e.location};r.push(n.$current.navigable.url,n.params,i)}r.update(!0)},fr=function(t){return t.onSuccess({},hr,{priority:9999})},pr=function(t){function e(){if("url"!==t.originalTransition().options().source){var e=t.targetState();return n.stateService.target(e.identifier(),e.params(),e.options())}var r=n.urlService,i=r.match(r.parts()),o=i&&i.rule;if(o&&"STATE"===o.type){var a=o.state,s=i.match;return n.stateService.target(a,s,t.options())}n.urlService.sync()}var n=t.router,r=t.entering().filter(function(t){return!!t.$$state().lazyLoad}).map(function(e){return ut(t,e)});return ae.$q.all(r).then(e)},gr=function(t){return t.onBefore({entering:function(t){return!!t.lazyLoad}},pr)},mr=function(){function t(t,e,n,r,i,o,a,s){void 0===i&&(i=!1),void 0===o&&(o=Ge.HANDLE_RESULT),void 0===a&&(a=Ge.REJECT_ERROR),void 0===s&&(s=!1),this.name=t,this.hookPhase=e,this.hookOrder=n,this.criteriaMatchPath=r,this.reverseSort=i,this.getResultHandler=o,this.getErrorHandler=a,this.synchronous=s}return t}(),vr=function(t){return t.onBefore({},ct,{priority:-9999})},yr=function(t){return t.onBefore({},dt,{priority:-1e4})},br={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null},source:"unknown"},xr=function(){function e(t){this._transitionCount=0,this._eventTypes=[],this._registeredHooks={},this._criteriaPaths={},this._router=t,this.$view=t.viewService,this._deregisterHookFns={},this._pluginapi=h(jt(this),{},jt(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]),this._defineCorePaths(),this._defineCoreEvents(),this._registerCoreTransitionHooks()}return e.prototype.onCreate=function(t,e,n){},e.prototype.onBefore=function(t,e,n){},e.prototype.onStart=function(t,e,n){},e.prototype.onExit=function(t,e,n){},e.prototype.onRetain=function(t,e,n){},e.prototype.onEnter=function(t,e,n){},e.prototype.onFinish=function(t,e,n){},e.prototype.onSuccess=function(t,e,n){},e.prototype.onError=function(t,e,n){},e.prototype.dispose=function(t){_e(this._registeredHooks).forEach(function(t){return t.forEach(function(e){e._deregistered=!0,me(t,e)})})},e.prototype.create=function(t,e){return new fn(t,e,this._router)},e.prototype._defineCoreEvents=function(){var e=t.TransitionHookPhase,n=Ge,r=this._criteriaPaths;this._defineEvent("onCreate",e.CREATE,0,r.to,!1,n.LOG_REJECTED_RESULT,n.THROW_ERROR,!0),this._defineEvent("onBefore",e.BEFORE,0,r.to),this._defineEvent("onStart",e.RUN,0,r.to),this._defineEvent("onExit",e.RUN,100,r.exiting,!0),this._defineEvent("onRetain",e.RUN,200,r.retained),this._defineEvent("onEnter",e.RUN,300,r.entering),this._defineEvent("onFinish",e.RUN,400,r.to),this._defineEvent("onSuccess",e.SUCCESS,0,r.to,!1,n.LOG_REJECTED_RESULT,n.LOG_ERROR,!0),this._defineEvent("onError",e.ERROR,0,r.to,!1,n.LOG_REJECTED_RESULT,n.LOG_ERROR,!0)},e.prototype._defineCorePaths=function(){var e=t.TransitionHookScope.STATE,n=t.TransitionHookScope.TRANSITION;this._definePathType("to",n),this._definePathType("from",n),this._definePathType("exiting",e),this._definePathType("retained",e),this._definePathType("entering",e)},e.prototype._defineEvent=function(t,e,n,r,i,o,a,s){void 0===i&&(i=!1),void 0===o&&(o=Ge.HANDLE_RESULT),void 0===a&&(a=Ge.REJECT_ERROR),void 0===s&&(s=!1);var l=new mr(t,e,n,r,i,o,a,s);this._eventTypes.push(l),N(this,this,l)},e.prototype._getEvents=function(t){return(Gt(t)?this._eventTypes.filter(function(e){return e.hookPhase===t}):this._eventTypes.slice()).sort(function(t,e){var n=t.hookPhase-e.hookPhase;return 0===n?t.hookOrder-e.hookOrder:n})},e.prototype._definePathType=function(t,e){this._criteriaPaths[t]={name:t,scope:e}},e.prototype._getPathTypes=function(){return this._criteriaPaths},e.prototype.getHooks=function(t){return this._registeredHooks[t]},e.prototype._registerCoreTransitionHooks=function(){var t=this._deregisterHookFns;t.addCoreResolves=Gn(this),t.ignored=vr(this),t.invalid=yr(this),t.redirectTo=Kn(this),t.onExit=Xn(this),t.onRetain=Qn(this),t.onEnter=er(this),t.eagerResolve=rr(this),t.lazyResolve=or(this),t.loadViews=sr(this),t.activateViews=ur(this),t.updateGlobals=dr(this),t.updateUrl=fr(this),t.lazyLoad=gr(this)},e}(),_r=function(){function e(t){this.router=t,this.invalidCallbacks=[],this._defaultErrorHandler=function(t){t instanceof Error&&t.stack?(console.error(t),console.error(t.stack)):t instanceof Ie?(console.error(t.toString()),t.detail&&t.detail.stack&&console.error(t.detail.stack)):console.error(t)};var n=["current","$current","params","transition"],r=Object.keys(e.prototype).filter(Ot(ge(n)));h(jt(e.prototype),this,jt(this),r)}return Object.defineProperty(e.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.defaultErrorHandler(d),this.invalidCallbacks=[]},e.prototype._handleInvalidTargetState=function(t,e){function n(){var t=l.dequeue();return void 0===t?Ie.invalid(e.error()).toPromise():ae.$q.when(t(e,i,u)).then(c).then(function(t){return t||n()})}var r=this,i=en.makeTargetState(t),o=this.router.globals,a=function(){return o.transitionHistory.peekTail()},s=a(),l=new Oe(this.invalidCallbacks.slice()),u=new cn(t).injector(),c=function(t){if(t instanceof Be){var e=t;return e=r.target(e.identifier(),e.params(),e.options()),e.valid()?a()!==s?Ie.superseded().toPromise():r.transitionTo(e.identifier(),e.params(),e.options()):Ie.invalid(e.error()).toPromise()}};return n()},e.prototype.onInvalid=function(t){return this.invalidCallbacks.push(t),function(){me(this.invalidCallbacks)(t)}.bind(this)},e.prototype.reload=function(t){return this.transitionTo(this.current,this.params,{reload:!Gt(t)||t,inherit:!1,notify:!1})},e.prototype.go=function(t,e,n){var r=m(n,{relative:this.$current,inherit:!0},br);return this.transitionTo(t,e,r)},e.prototype.target=function(t,e,n){if(void 0===n&&(n={}),Qt(n.reload)&&!n.reload.name)throw new Error("Invalid reload state object");var r=this.router.stateRegistry;if(n.reloadState=!0===n.reload?r.root():r.matcher.find(n.reload,n.relative),n.reload&&!n.reloadState)throw new Error("No such reload state '"+(Zt(n.reload)?n.reload:n.reload.name)+"'");var i=r.matcher.find(t,n.relative);return new Be(t,i,e,n)},e.prototype.getCurrentPath=function(){var t=this,e=this.router.globals.successfulTransitions.peekTail();return e?e.treeChanges().to:function(){return[new tn(t.router.stateRegistry.root())]}()},e.prototype.transitionTo=function(e,n,r){var i=this;void 0===n&&(n={}),void 0===r&&(r={});var o=this.router,a=o.globals;r=m(r,br),r=he(r,{current:function(){return a.transition}});var s=this.target(e,n,r),l=this.getCurrentPath();if(!s.exists())return this._handleInvalidTargetState(l,s);if(!s.valid())return Re(s.error());var u=function(e){return function(n){if(n instanceof Ie){var r=o.globals.lastStartedTransitionId===e.$id;if(n.type===t.RejectType.IGNORED)return r&&o.urlRouter.update(),ae.$q.when(a.current);var s=n.detail;if(n.type===t.RejectType.SUPERSEDED&&n.redirected&&s instanceof Be){var l=e.redirect(s);return l.run().catch(u(l))}if(n.type===t.RejectType.ABORTED)return r&&o.urlRouter.update(),ae.$q.reject(n)}return i.defaultErrorHandler()(n),ae.$q.reject(n)}},c=this.router.transitionService.create(l,s),d=c.run().catch(u(c));return Pe(d),he(d,{transition:c})},e.prototype.is=function(t,e,n){n=m(n,{relative:this.$current});var r=this.router.stateRegistry.matcher.find(t,n.relative);if(Gt(r)){if(this.$current!==r)return!1;if(!e)return!0;var i=r.parameters({inherit:!0,matchingKeys:e});return Qe.equals(i,Qe.values(i,e),this.params)}},e.prototype.includes=function(t,e,n){n=m(n,{relative:this.$current});var r=Zt(t)&&Ht.fromString(t);if(r){if(!r.matches(this.$current.name))return!1;t=this.$current.name}var i=this.router.stateRegistry.matcher.find(t,n.relative),o=this.$current.includes;if(Gt(i)){if(!Gt(o[i.name]))return!1;if(!e)return!0;var a=i.parameters({inherit:!0,matchingKeys:e});return Qe.equals(a,Qe.values(a,e),this.params)}},e.prototype.href=function(t,e,n){n=m(n,{lossy:!0,inherit:!0,absolute:!1,relative:this.$current}),e=e||{};var r=this.router.stateRegistry.matcher.find(t,n.relative);if(!Gt(r))return null;n.inherit&&(e=this.params.$inherit(e,this.$current,r));var i=r&&n.lossy?r.navigable:r;return i&&void 0!==i.url&&null!==i.url?this.router.urlRouter.href(i.url,e,{absolute:n.absolute}):null},e.prototype.defaultErrorHandler=function(t){return this._defaultErrorHandler=t||this._defaultErrorHandler},e.prototype.get=function(t,e){var n=this.router.stateRegistry;return 0===arguments.length?n.get():n.get(t,e||this.$current)},e.prototype.lazyLoad=function(t,e){var n=this.get(t);if(!n||!n.lazyLoad)throw new Error("Can not lazy load "+t);var r=this.getCurrentPath(),i=en.makeTargetState(r);return e=e||this.router.transitionService.create(r,i),ut(e,n)},e}(),wr={when:function(t){return new Promise(function(e,n){return e(t)})},reject:function(t){return new Promise(function(e,n){n(t)})},defer:function(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t},all:function(t){if(te(t))return Promise.all(t);if(Qt(t)){var e=Object.keys(t).map(function(e){return t[e].then(function(t){return{key:e,val:t}})});return wr.all(e).then(function(t){return t.reduce(function(t,e){return t[e.key]=e.val,t},{})})}}},Cr={},kr={get:function(t){return Cr[t]},has:function(t){return null!=kr.get(t)},invoke:function(t,e,n){var r=he({},Cr,n||{}),i=kr.annotate(t),o=De(function(t){return r.hasOwnProperty(t)},function(t){return"DI can't find injectable: '"+t+"'"}),a=i.filter(o).map(function(t){return r[t]});return Jt(t)?t.apply(e,a):t.slice(-1)[0].apply(e,a)},annotate:function(t){if(!u(t))throw new Error("Not an injectable function: "+t);if(t&&t.$inject)return t.$inject;if(te(t))return t.slice(0,-1);var e=t.toString().replace(/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,"");return e.slice(e.indexOf("(")+1,e.indexOf(")")).match(/([^\s,]+)/g)||[]}},Sr=function(t){return function(e){if(!e)return["",""];var n=e.indexOf(t);return-1===n?[e,""]:[e.substr(0,n),e.substr(n+1)]}},Mr=Sr("#"),Tr=Sr("?"),$r=Sr("="),Dr=function(t){return t?t.replace(/^#/,""):""},Er=function(t,e){var n=e[0],r=e[1];return t.hasOwnProperty(n)?te(t[n])?t[n].push(r):t[n]=[t[n],r]:t[n]=r,t},Lr=function(t){return t.split("&").filter(c).map($r).reduce(Er,{})},Ar=function(t){var e=t.path(),n=t.search(),r=t.hash(),i=Object.keys(n).map(function(t){var e=n[t];return(te(e)?e:[e]).map(function(e){return t+"="+e})}).reduce(ke,[]).join("&");return e+(i?"?"+i:"")+(r?"#"+r:"")},Fr=function(){function t(t,e){var n=this;this.fireAfterUpdate=e,this._listener=function(t){return n._listeners.forEach(function(e){return e(t)})},this._listeners=[],this.hash=function(){return ht(n._get()).hash},this.path=function(){return ht(n._get()).path},this.search=function(){return Lr(ht(n._get()).search)},this._location=window&&window.location,this._history=window&&window.history}return t.prototype.url=function(t,e){if(void 0===e&&(e=!0),Gt(t)&&t!==this._get()&&(this._set(null,null,t,e),this.fireAfterUpdate)){var n=he(new Event("locationchange"),{url:t});this._listeners.forEach(function(t){return t(n)})}return Ar(this)},t.prototype.onChange=function(t){var e=this;return this._listeners.push(t),function(){return me(e._listeners,t)}},t.prototype.dispose=function(t){ye(this._listeners)},t}(),Pr=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rr=function(t){function e(e){var n=t.call(this,e,!1)||this;return window.addEventListener("hashchange",n._listener,!1),n}return Pr(e,t),e.prototype._get=function(){return Dr(this._location.hash)},e.prototype._set=function(t,e,n,r){this._location.hash=n},e.prototype.dispose=function(e){t.prototype.dispose.call(this,e),window.removeEventListener("hashchange",this._listener)},e}(Fr),Or=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nr=function(t){function e(e){return t.call(this,e,!0)||this}return Or(e,t),e.prototype._get=function(){return this._url},e.prototype._set=function(t,e,n,r){this._url=n},e}(Fr),Ir=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yr=function(t){function e(e){var n=t.call(this,e,!0)||this;return n._config=e.urlService.config,window.addEventListener("popstate",n._listener,!1),n}return Ir(e,t),e.prototype._get=function(){var t=this._location,e=t.pathname,n=t.hash,r=t.search;return r=Tr(r)[1],n=Mr(n)[1],e+(r?"?"+r:"")+(n?"$"+r:"")},e.prototype._set=function(t,e,n,r){var i=this,o=i._config,a=i._history,s=o.baseHref()+n;r?a.replaceState(t,e,s):a.pushState(t,e,s)},e.prototype.dispose=function(e){t.prototype.dispose.call(this,e),window.removeEventListener("popstate",this._listener)},e}(Fr),Vr=function(){function t(){var t=this;this._baseHref="",this._port=80,this._protocol="http",this._host="localhost",this._hashPrefix="",this.port=function(){return t._port},this.protocol=function(){return t._protocol},this.host=function(){return t._host},this.baseHref=function(){return t._baseHref},this.html5Mode=function(){return!1},this.hashPrefix=function(e){return Gt(e)?t._hashPrefix=e:t._hashPrefix},this.dispose=d}return t}(),jr=function(){function t(t,e){void 0===e&&(e=!1),this._isHtml5=e,this._baseHref=void 0,this._hashPrefix=""}return t.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80},t.prototype.protocol=function(){return location.protocol.replace(/:/g,"")},t.prototype.host=function(){return location.host},t.prototype.html5Mode=function(){return this._isHtml5},t.prototype.hashPrefix=function(t){return Gt(t)?this._hashPrefix=t:this._hashPrefix},t.prototype.baseHref=function(t){return Gt(t)?this._baseHref=t:this._baseHref||this.applyDocumentBaseHref()},t.prototype.applyDocumentBaseHref=function(){var t=document.getElementsByTagName("base");return this._baseHref=t.length?t[0].href.substr(location.origin.length):""},t.prototype.dispose=function(){},t}(),Hr=ft("vanilla.hashBangLocation",!1,Rr,jr),zr=ft("vanilla.pushStateLocation",!0,Yr,jr),Wr=ft("vanilla.memoryLocation",!1,Nr,Vr),Br=function(){function t(){}return t.prototype.dispose=function(t){},t}(),Ur=Object.freeze({fromJson:le,toJson:ue,copy:ce,forEach:de,extend:he,equals:fe,identity:c,noop:d,createProxyFunctions:h,inherit:pe,inArray:ge,_inArray:f,removeFrom:me,_removeFrom:p,pushTo:ve,_pushTo:g,deregAll:ye,defaults:m,mergeR:be,ancestors:v,pick:y,omit:b,pluck:x,filter:_,find:w,mapObj:xe,map:C,values:_e,allTrueR:we,anyTrueR:Ce,unnestR:ke,flattenR:Se,pushR:k,uniqR:Me,unnest:Te,flatten:$e,assertPredicate:De,assertMap:Ee,assertFn:S,pairs:Le,arrayTuples:M,applyPairs:T,tail:$,_extend:L,sortBy:Ae,composeSort:Fe,silenceUncaughtInPromise:Pe,silentRejection:Re,notImplemented:oe,services:ae,Glob:Ht,curry:n,compose:r,pipe:i,prop:Ft,propEq:Pt,parse:Rt,not:Ot,and:o,or:a,all:Nt,any:It,is:Yt,eq:Vt,val:jt,invoke:s,pattern:l,isUndefined:Ut,isDefined:Gt,isNull:qt,isNullOrUndefined:Kt,isFunction:Jt,isNumber:Xt,isString:Zt,isObject:Qt,isArray:te,isDate:ee,isRegExp:ne,isState:re,isInjectable:u,isPromise:ie,Queue:Oe,maxLength:W,padString:B,kebobString:U,functionToString:G,fnToString:q,stringify:K,beforeAfterSubstr:mn,splitOnDelim:J,joinNeighborsR:X,get Category(){return t.Category},Trace:ze,trace:We,get DefType(){return t.DefType},Param:Qe,ParamTypes:vn,StateParams:yn,ParamType:Je,PathNode:tn,PathUtils:en,resolvePolicies:on,defaultResolvePolicy:nn,Resolvable:rn,NATIVE_INJECTOR_TOKEN:un,ResolveContext:cn,resolvablesBuilder:rt,StateBuilder:Cn,StateObject:zt,StateMatcher:kn,StateQueueManager:Sn,StateRegistry:Mn,StateService:_r,TargetState:Be,get TransitionHookPhase(){return t.TransitionHookPhase},get TransitionHookScope(){return t.TransitionHookScope},HookBuilder:Ke,matchState:O,RegisteredHook:qe,makeEvent:N,get RejectType(){return t.RejectType},Rejection:Ie,Transition:fn,TransitionHook:Ge,TransitionEventType:mr,defaultTransOpts:br,TransitionService:xr,UrlMatcher:Dn,UrlMatcherFactory:En,UrlRouter:Rn,UrlRuleFactory:Ln,BaseUrlRule:Fn,UrlService:Wn,ViewService:On,UIRouterGlobals:Nn,UIRouter:Un,$q:wr,$injector:kr,BaseLocationServices:Fr,HashLocationService:Rr,MemoryLocationService:Nr,PushStateLocationService:Yr,MemoryLocationConfig:Vr,BrowserLocationConfig:jr,splitHash:Mr,splitQuery:Tr,splitEqual:$r,trimHashVal:Dr,keyValsToObjectR:Er,getParams:Lr,parseUrl:ht,buildUrl:Ar,locationPluginFactory:ft,servicesPlugin:pt,hashLocationPlugin:Hr,pushStateLocationPlugin:zr,memoryLocationPlugin:Wr,UIRouterPluginBase:Br}),Gr=angular,qr=e&&e.module?e:Gr,Kr=function(t,e){return t.reduce(function(t,n){return t||Gt(e[n])},!1)},Jr=0,Xr=function(){function t(t,e,n){var r=this;this.path=t,this.viewDecl=e,this.factory=n,this.$id=Jr++,this.loaded=!1,this.getTemplate=function(t,e){return r.component?r.factory.makeComponentTemplate(t,e,r.component,r.viewDecl.bindings):r.template}}return t.prototype.load=function(){var t=this,e=ae.$q,n=new cn(this.path),r=this.path.reduce(function(t,e){return he(t,e.paramValues)},{}),i={template:e.when(this.factory.fromConfig(this.viewDecl,r,n)),controller:e.when(this.getController(n))};return e.all(i).then(function(e){return We.traceViewServiceEvent("Loaded",t),t.controller=e.controller,he(t,e.template),t})},t.prototype.getController=function(t){var e=this.viewDecl.controllerProvider;if(!u(e))return this.viewDecl.controller;var n=ae.$injector.annotate(e),r=te(e)?$(e):e;return new rn("",r,n).get(t)},t}(),Zr=function(){function t(){var t=this;this._useHttp=qr.version.minor<3,this.$get=["$http","$templateCache","$injector",function(e,n,r){return t.$templateRequest=r.has&&r.has("$templateRequest")&&r.get("$templateRequest"),t.$http=e,t.$templateCache=n,t}]}return t.prototype.useHttpService=function(t){this._useHttp=t},t.prototype.fromConfig=function(t,e,n){var r=function(t){return ae.$q.when(t).then(function(t){return{template:t}})},i=function(t){return ae.$q.when(t).then(function(t){return{component:t}})};return Gt(t.template)?r(this.fromString(t.template,e)):Gt(t.templateUrl)?r(this.fromUrl(t.templateUrl,e)):Gt(t.templateProvider)?r(this.fromProvider(t.templateProvider,e,n)):Gt(t.component)?i(t.component):Gt(t.componentProvider)?i(this.fromComponentProvider(t.componentProvider,e,n)):r("<ui-view></ui-view>")},t.prototype.fromString=function(t,e){return Jt(t)?t(e):t},t.prototype.fromUrl=function(t,e){return Jt(t)&&(t=t(e)),null==t?null:this._useHttp?this.$http.get(t,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then(function(t){return t.data}):this.$templateRequest(t)},t.prototype.fromProvider=function(t,e,n){var r=ae.$injector.annotate(t),i=te(t)?$(t):t;return new rn("",i,r).get(n)},t.prototype.fromComponentProvider=function(t,e,n){var r=ae.$injector.annotate(t),i=te(t)?$(t):t;return new rn("",i,r).get(n)},t.prototype.makeComponentTemplate=function(t,e,n,r){r=r||{};var i=qr.version.minor>=3?"::":"",o=function(t){var e=U(t);return/^(x|data)-/.exec(e)?"x-"+e:e},a=function(n){var a=n.name,s=n.type,l=o(a);if(t.attr(l)&&!r[a])return l+"='"+t.attr(l)+"'";var u=r[a]||a;if("@"===s)return l+"='{{"+i+"$resolve."+u+"}}'";if("&"===s){var c=e.getResolvable(u),d=c&&c.data,h=d&&ae.$injector.annotate(d)||[];return l+"='$resolve."+u+(te(d)?"["+(d.length-1)+"]":"")+"("+h.join(",")+")'"}return l+"='"+i+"$resolve."+u+"'"},s=vt(n).map(a).join(" "),l=o(n);return"<"+l+" "+s+"></"+l+">"},t}(),Qr=function(t){return ti(Qt(t.bindToController)?t.bindToController:t.scope)},ti=function(t){return Object.keys(t||{}).map(function(e){return[e,/^([=<@&])[?]?(.*)/.exec(t[e])]}).filter(function(t){return Gt(t)&&te(t[1])}).map(function(t){return{name:t[1][2]||t[0],type:t[1][1]}})},ei=function(){function t(e,n){this.stateRegistry=e,this.stateService=n,h(jt(t.prototype),this,jt(this))}return t.prototype.decorator=function(t,e){return this.stateRegistry.decorator(t,e)||this},t.prototype.state=function(t,e){return Qt(t)?e=t:e.name=t,this.stateRegistry.register(e),this},t.prototype.onInvalid=function(t){return this.stateService.onInvalid(t)},t}(),ni=function(t){return function(e,n){function r(t,e){var n=new cn(t.treeChanges(o)),r=he(gi(n),{$state$:e,$transition$:t});return ae.$injector.invoke(i,this,r)}var i=e[t],o="onExit"===t?"from":"to";return i?r:void 0}},ri=function(){function t(t){this._urlListeners=[],this.$locationProvider=t;var e=jt(t);h(e,this,e,["hashPrefix"])}return t.prototype.dispose=function(){},t.prototype.onChange=function(t){var e=this;return this._urlListeners.push(t),function(){return me(e._urlListeners)(t)}},t.prototype.html5Mode=function(){var t=this.$locationProvider.html5Mode();return(t=Qt(t)?t.enabled:t)&&this.$sniffer.history},t.prototype.url=function(t,e,n){return void 0===e&&(e=!1),t&&this.$location.url(t),e&&this.$location.replace(),n&&this.$location.state(n),this.$location.url()},t.prototype._runtimeServices=function(t,e,n,r){var i=this;this.$location=e,this.$sniffer=n,t.$on("$locationChangeSuccess",function(t){return i._urlListeners.forEach(function(e){return e(t)})});var o=jt(e),a=jt(r);h(o,this,o,["replace","path","search","hash"]),h(o,this,o,["port","protocol","host"]),h(a,this,a,["baseHref"])},t.monkeyPatchPathParameterType=function(t){var e=t.urlMatcherFactory.type("path");e.encode=function(t){return null!=t?t.toString().replace(/(~|\/)/g,function(t){return{"~":"~~","/":"~2F"}[t]}):t},e.decode=function(t){return null!=t?t.toString().replace(/(~~|~2F)/g,function(t){return{"~~":"~","~2F":"/"}[t]}):t}},t}(),ii=function(){function t(t){this._router=t,this._urlRouter=t.urlRouter}return t.prototype.$get=function(){var t=this._urlRouter;return t.update(!0),t.interceptDeferred||t.listen(),t},t.prototype.rule=function(t){var e=this;if(!Jt(t))throw new Error("'rule' must be a function");var n=new Fn(function(){return t(ae.$injector,e._router.locationService)},c);return this._urlRouter.rule(n),this},t.prototype.otherwise=function(t){var e=this,n=this._urlRouter;if(Zt(t))n.otherwise(t);else{if(!Jt(t))throw new Error("'rule' must be a string or function");n.otherwise(function(){return t(ae.$injector,e._router.locationService)})}return this},t.prototype.when=function(e,n){return(te(n)||Jt(n))&&(n=t.injectableHandler(this._router,n)),this._urlRouter.when(e,n),this},t.injectableHandler=function(t,e){return function(n){return ae.$injector.invoke(e,null,{$match:n,$stateParams:t.globals.params})}},t.prototype.deferIntercept=function(t){this._urlRouter.deferIntercept(t)},t}();qr.module("ui.router.angular1",[]);var oi=qr.module("ui.router.init",[]),ai=qr.module("ui.router.util",["ng","ui.router.init"]),si=qr.module("ui.router.router",["ui.router.util"]),li=qr.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),ui=qr.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),ci=(qr.module("ui.router.compat",["ui.router"]),null);yt.$inject=["$locationProvider"];var di=function(t){return["$uiRouterProvider",function(e){var n=e.router[t];return n.$get=function(){return n},n}]};bt.$inject=["$injector","$q","$uiRouter"];var hi=function(t){return t.urlRouterProvider=new ii(t)},fi=function(){return he(ci.stateProvider,{$get:function(){return ci.stateService}})};xt.$inject=["$rootScope"],oi.provider("$uiRouter",yt),si.provider("$urlRouter",["$uiRouterProvider",hi]),ai.provider("$urlService",di("urlService")),ai.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return ci.urlMatcherFactory}]),ai.provider("$templateFactory",function(){return new Zr}),li.provider("$stateRegistry",di("stateRegistry")),li.provider("$uiRouterGlobals",di("globals")),li.provider("$transitions",di("transitionService")),li.provider("$state",["$uiRouterProvider",fi]),li.factory("$stateParams",["$uiRouter",function(t){return t.globals.params}]),ui.factory("$view",function(){return ci.viewService}),ui.service("$trace",function(){return We}),ui.run(xt),ai.run(["$urlMatcherFactory",function(t){}]),li.run(["$state",function(t){}]),si.run(["$urlRouter",function(t){}]),oi.run(bt);var pi,gi=function(t){return t.getTokens().filter(Zt).map(function(e){var n=t.getResolvable(e);return[e,"NOWAIT"===t.getPolicy(n).async?n.promise:n.data]}).reduce(T,{})};pi=["$uiRouter","$timeout",function(t,e){var n=t.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,i,o,a){function s(){var t=f();d&&d(),c&&(d=c.$$addStateInfo(t.uiState,t.uiStateParams)),null!=t.href&&o.$set(u.attr,t.href)}var l,u=kt(i),c=a[1]||a[0],d=null,h={},f=function(){return Ct(n,i,h)},p=_t(o.uiSref);h.uiState=p.state,h.uiStateOpts=o.uiSrefOpts?r.$eval(o.uiSrefOpts):{},p.paramExpr&&(r.$watch(p.paramExpr,function(t){h.uiStateParams=he({},t),s()},!0),h.uiStateParams=he({},r.$eval(p.paramExpr))),s(),r.$on("$destroy",t.stateRegistry.onStatesChanged(s)),r.$on("$destroy",t.transitionService.onSuccess({},s)),u.clickable&&(l=St(i,n,e,u,f),Tt(i,r,l,h.uiStateOpts))}}}];var mi;mi=["$uiRouter","$timeout",function(t,e){var n=t.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,i,o,a){function s(){var t=p();h&&h(),c&&(h=c.$$addStateInfo(t.uiState,t.uiStateParams)),null!=t.href&&o.$set(u.attr,t.href)}var l,u=kt(i),c=a[1]||a[0],h=null,f={},p=function(){return Ct(n,i,f)},g=["uiState","uiStateParams","uiStateOpts"],m=g.reduce(function(t,e){return t[e]=d,t},{});g.forEach(function(t){f[t]=o[t]?r.$eval(o[t]):null,o.$observe(t,function(e){m[t](),m[t]=r.$watch(e,function(e){f[t]=e,s()},!0)})}),s(),r.$on("$destroy",t.stateRegistry.onStatesChanged(s)),r.$on("$destroy",t.transitionService.onSuccess({},s)),u.clickable&&(l=St(i,n,e,u,p),Tt(i,r,l,f.uiStateOpts))}}}];var vi;vi=["$state","$stateParams","$interpolate","$uiRouter",function(t,e,n,r){return{restrict:"A",controller:["$scope","$element","$attrs",function(e,i,o){function a(t){t.promise.then(l)}function s(e,n,r){var o={state:t.get(e,wt(i))||{name:e},params:n,activeClass:r};return h.push(o),function(){me(h)(o)}}function l(){var n=function(t){return t.split(/\s/).filter(c)},r=function(t){return t.map(function(t){return t.activeClass}).map(n).reduce(ke,[])},o=r(h).concat(n(u)).reduce(Me,[]),a=r(h.filter(function(e){return t.includes(e.state.name,e.params)})),s=!!h.filter(function(e){return t.is(e.state.name,e.params)}).length?n(u):[],l=a.concat(s).reduce(Me,[]),d=o.filter(function(t){return!ge(l,t)});e.$evalAsync(function(){l.forEach(function(t){return i.addClass(t)}),d.forEach(function(t){return i.removeClass(t)})})}var u,d,h=[];u=n(o.uiSrefActiveEq||"",!1)(e);try{d=e.$eval(o.uiSrefActive)}catch(t){}d=d||n(o.uiSrefActive||"",!1)(e),Qt(d)&&de(d,function(t,n){if(Zt(t)){var r=_t(t);s(r.state,e.$eval(r.paramExpr),n)}}),this.$$addStateInfo=function(t,e){if(!(Qt(d)&&h.length>0)){var n=s(t,e,d);return l(),n}},e.$on("$stateChangeSuccess",l),e.$on("$destroy",r.transitionService.onStart({},a)),r.globals.transition&&a(r.globals.transition),l()}]}}],qr.module("ui.router.state").directive("uiSref",pi).directive("uiSrefActive",vi).directive("uiSrefActiveEq",vi).directive("uiState",mi),$t.$inject=["$state"],Dt.$inject=["$state"],qr.module("ui.router.state").filter("isState",$t).filter("includedByState",Dt);var yi;yi=["$view","$animate","$uiViewScroll","$interpolate","$q",function(t,e,n,r,i){function o(t,n){return{enter:function(t,n,r){qr.version.minor>2?e.enter(t,null,n).then(r):e.enter(t,null,n,r)},leave:function(t,n){qr.version.minor>2?e.leave(t).then(n):e.leave(t,n)}}}function a(t,e){return t===e}var s={$cfg:{viewDecl:{$context:t._pluginapi._rootViewContext()}},$uiView:{}},l={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(e,u,c){return function(e,u,d){function h(t){(!t||t instanceof Xr)&&(a(w,t)||(We.traceUIViewConfigUpdated(S,t&&t.viewDecl&&t.viewDecl.$context),w=t,p(t)))}function f(){if(g&&(We.traceUIViewEvent("Removing (previous) el",g.data("$uiView")),g.remove(),g=null),v&&(We.traceUIViewEvent("Destroying scope",S),v.$destroy(),v=null),m){var t=m.data("$uiViewAnim");We.traceUIViewEvent("Animate out",t),_.leave(m,function(){t.$$animLeave.resolve(),g=null}),g=m,m=null}}function p(t){var r=e.$new(),o=i.defer(),a=i.defer(),s={$cfg:t,$uiView:S},l={$animEnter:o.promise,$animLeave:a.promise,$$animLeave:a};r.$emit("$viewContentLoading",k);var d=c(r,function(t){t.data("$uiViewAnim",l),t.data("$uiView",s),_.enter(t,u,function(){o.resolve(),v&&v.$emit("$viewContentAnimationEnded"),(Gt(x)&&!x||e.$eval(x))&&n(t)}),f()});m=d,(v=r).$emit("$viewContentLoaded",t||w),v.$eval(b)}var g,m,v,y,b=d.onload||"",x=d.autoscroll,_=o(d,e),w=void 0,C=u.inheritedData("$uiView")||s,k=r(d.uiView||d.name||"")(e)||"$default",S={$type:"ng1",id:l.count++,name:k,fqn:C.$uiView.fqn?C.$uiView.fqn+"."+k:k,config:null,configUpdated:h,get creationContext(){var t=Rt("$cfg.viewDecl.$context")(C),e=Rt("$uiView.creationContext")(C);return t||e}};We.traceUIViewEvent("Linking",S),u.data("$uiView",{$uiView:S}),p(),y=t.registerUIView(S),e.$on("$destroy",function(){We.traceUIViewEvent("Destroying/Unregistering",S),y()})}}};return l}],Et.$inject=["$compile","$controller","$transitions","$view","$q","$timeout"];var bi="function"==typeof qr.module("ui.router").component,xi=0;qr.module("ui.router.state").directive("uiView",yi),qr.module("ui.router.state").directive("uiView",Et),qr.module("ui.router.state").provider("$uiViewScroll",At),t.core=Ur,t.default="ui.router",t.fromJson=le,t.toJson=ue,t.copy=ce,t.forEach=de,t.extend=he,t.equals=fe,t.identity=c,t.noop=d,t.createProxyFunctions=h,t.inherit=pe,t.inArray=ge,t._inArray=f,t.removeFrom=me,t._removeFrom=p,t.pushTo=ve,t._pushTo=g,t.deregAll=ye,t.defaults=m,t.mergeR=be,t.ancestors=v,t.pick=y,t.omit=b,t.pluck=x,t.filter=_,t.find=w,t.mapObj=xe,t.map=C,t.values=_e,t.allTrueR=we,t.anyTrueR=Ce,t.unnestR=ke,t.flattenR=Se,t.pushR=k,t.uniqR=Me,t.unnest=Te,t.flatten=$e,t.assertPredicate=De,t.assertMap=Ee,t.assertFn=S,t.pairs=Le,t.arrayTuples=M,t.applyPairs=T,t.tail=$,t._extend=L,t.sortBy=Ae,t.composeSort=Fe,t.silenceUncaughtInPromise=Pe,t.silentRejection=Re,t.notImplemented=oe,t.services=ae,t.Glob=Ht,t.curry=n,t.compose=r,t.pipe=i,t.prop=Ft,t.propEq=Pt,t.parse=Rt,t.not=Ot,t.and=o,t.or=a,t.all=Nt,t.any=It,t.is=Yt,t.eq=Vt,t.val=jt,t.invoke=s,t.pattern=l,t.isUndefined=Ut,t.isDefined=Gt,t.isNull=qt,t.isNullOrUndefined=Kt,t.isFunction=Jt,t.isNumber=Xt,t.isString=Zt,t.isObject=Qt,t.isArray=te,t.isDate=ee,t.isRegExp=ne,t.isState=re,t.isInjectable=u,t.isPromise=ie,t.Queue=Oe,t.maxLength=W,t.padString=B,t.kebobString=U,t.functionToString=G,t.fnToString=q,t.stringify=K,t.beforeAfterSubstr=mn,t.splitOnDelim=J,t.joinNeighborsR=X,t.Trace=ze,t.trace=We,t.Param=Qe,t.ParamTypes=vn,t.StateParams=yn,t.ParamType=Je,t.PathNode=tn,t.PathUtils=en,t.resolvePolicies=on,t.defaultResolvePolicy=nn,t.Resolvable=rn,t.NATIVE_INJECTOR_TOKEN=un,t.ResolveContext=cn,t.resolvablesBuilder=rt,t.StateBuilder=Cn,t.StateObject=zt,t.StateMatcher=kn,t.StateQueueManager=Sn,t.StateRegistry=Mn,t.StateService=_r,t.TargetState=Be,t.HookBuilder=Ke,t.matchState=O,t.RegisteredHook=qe,t.makeEvent=N,t.Rejection=Ie,t.Transition=fn,t.TransitionHook=Ge,t.TransitionEventType=mr,t.defaultTransOpts=br,t.TransitionService=xr,t.UrlMatcher=Dn,t.UrlMatcherFactory=En,t.UrlRouter=Rn,t.UrlRuleFactory=Ln,t.BaseUrlRule=Fn,t.UrlService=Wn,t.ViewService=On,t.UIRouterGlobals=Nn,t.UIRouter=Un,t.$q=wr,t.$injector=kr,t.BaseLocationServices=Fr,t.HashLocationService=Rr,t.MemoryLocationService=Nr,t.PushStateLocationService=Yr,t.MemoryLocationConfig=Vr,t.BrowserLocationConfig=jr,t.splitHash=Mr,t.splitQuery=Tr,t.splitEqual=$r,t.trimHashVal=Dr,t.keyValsToObjectR=Er,t.getParams=Lr,t.parseUrl=ht,t.buildUrl=Ar,t.locationPluginFactory=ft,t.servicesPlugin=pt,t.hashLocationPlugin=Hr,t.pushStateLocationPlugin=zr,t.memoryLocationPlugin=Wr,t.UIRouterPluginBase=Br,t.watchDigests=xt,t.getLocals=gi,t.getNg1ViewConfigFactory=gt,t.ng1ViewsBuilder=mt,t.Ng1ViewConfig=Xr,t.StateProvider=ei,t.UrlRouterProvider=ii,Object.defineProperty(t,"__esModule",{value:!0})}),function(){"use strict";angular.module("base64",[]).constant("$base64",function(){function t(t,e){var n=o.indexOf(t.charAt(e));if(-1==n)throw"Cannot decode base64";return n}function e(e){var n,r,o,a=(e=""+e).length;if(0==a)return e;if(a%4!=0)throw"Cannot decode base64";n=0,e.charAt(a-1)==i&&(n=1,e.charAt(a-2)==i&&(n=2),a-=4);var s=[];for(r=0;r<a;r+=4)o=t(e,r)<<18|t(e,r+1)<<12|t(e,r+2)<<6|t(e,r+3),s.push(String.fromCharCode(o>>16,o>>8&255,255&o));switch(n){case 1:o=t(e,r)<<18|t(e,r+1)<<12|t(e,r+2)<<6,s.push(String.fromCharCode(o>>16,o>>8&255));break;case 2:o=t(e,r)<<18|t(e,r+1)<<12,s.push(String.fromCharCode(o>>16))}return s.join("")}function n(t,e){var n=t.charCodeAt(e);if(n>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return n}function r(t){if(1!=arguments.length)throw"SyntaxError: Not enough arguments";var e,r,a=[],s=(t=""+t).length-t.length%3;if(0==t.length)return t;for(e=0;e<s;e+=3)r=n(t,e)<<16|n(t,e+1)<<8|n(t,e+2),a.push(o.charAt(r>>18)),a.push(o.charAt(r>>12&63)),a.push(o.charAt(r>>6&63)),a.push(o.charAt(63&r));switch(t.length-s){case 1:r=n(t,e)<<16,a.push(o.charAt(r>>18)+o.charAt(r>>12&63)+i+i);break;case 2:r=n(t,e)<<16|n(t,e+1)<<8,a.push(o.charAt(r>>18)+o.charAt(r>>12&63)+o.charAt(r>>6&63)+i)}return a.join("")}var i="=",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";return{encode:r,decode:e}}())}(),function(){"use strict";angular.module("nvd3",[]).directive("nvd3",["nvd3Utils",function(t){return{restrict:"AE",scope:{data:"=",options:"=",api:"=?",events:"=?",config:"=?",onReady:"&?"},link:function(e,n,r){function i(t,n,r){t&&n&&angular.forEach(t,function(a,s){"_"===s[0]||("dispatch"===s?(void 0!==n[s]&&null!==n[s]||e._config.extended&&(n[s]={}),o(a,n[s])):"tooltip"===s?(void 0!==n[s]&&null!==n[s]||e._config.extended&&(n[s]={}),i(t[s],n[s],r)):"contentGenerator"===s?n[s]&&t[s](n[s]):-1===["axis","clearHighlights","defined","highlightPoint","nvPointerEventsClass","options","rangeBand","rangeBands","scatter","open","close","node"].indexOf(s)&&(void 0===n[s]||null===n[s]?e._config.extended&&(n[s]=a()):t[s](n[s])))})}function o(t,n){t&&n&&angular.forEach(t,function(r,i){void 0===n[i]||null===n[i]?e._config.extended&&(n[i]=r.on):t.on(i+"._",n[i])})}function a(r){var i=t.deepExtend(l(r),e.options[r]||{});e._config.extended&&(e.options[r]=i);var o=angular.element("<div></div>").html(i.html||"").addClass(r).addClass(i.className).removeAttr("style").css(i.css);i.html||o.text(i.text),i.enable&&("title"===r?n.prepend(o):"subtitle"===r?angular.element(n[0].querySelector(".title")).after(o):"caption"===r&&n.append(o))}function s(){var r=t.deepExtend({classes:{"with-3d-shadow":!0,"with-transitions":!0,gallery:!1},css:{}},e.options.styles||{});e._config.extended&&(e.options.styles=r),angular.forEach(r.classes,function(t,e){t?n.addClass(e):n.removeClass(e)}),n.removeAttr("style").css(r.css)}function l(t){switch(t){case"title":return{enable:!1,text:"Write Your Title",className:"h4",css:{width:e.options.chart.width+"px",textAlign:"center"}};case"subtitle":return{enable:!1,text:"Write Your Subtitle",css:{width:e.options.chart.width+"px",textAlign:"center"}};case"caption":return{enable:!1,text:"Figure 1. Write Your Caption text.",css:{width:e.options.chart.width+"px",textAlign:"center"}}}}function u(t,n){t!==n&&(e._config.disabled||(e._config.refreshDataOnly?e.api.update():e.api.refresh()))}var c={extended:!1,visible:!0,disabled:!1,refreshDataOnly:!0,deepWatchOptions:!0,deepWatchData:!0,deepWatchDataDepth:2,debounce:10,debounceImmediate:!0};e.isReady=!1,e._config=angular.extend(c,e.config),e.api={refresh:function(){e.api.updateWithOptions(e.options),e.isReady=!0},refreshWithTimeout:function(t){setTimeout(function(){e.api.refresh()},t)},update:function(){e.chart&&e.svg?e.svg.datum(e.data).call(e.chart):e.api.refresh()},updateWithTimeout:function(t){setTimeout(function(){e.api.update()},t)},updateWithOptions:function(n){e.api.clearElement(),!1!==angular.isDefined(n)&&e._config.visible&&(e.chart=nv.models[n.chart.type](),e.chart.id=Math.random().toString(36).substr(2,15),angular.forEach(e.chart,function(t,r){"_"===r[0]||["clearHighlights","highlightPoint","id","options","resizeHandler","state","open","close","tooltipContent"].indexOf(r)>=0||("dispatch"===r?(void 0!==n.chart[r]&&null!==n.chart[r]||e._config.extended&&(n.chart[r]={}),o(e.chart[r],n.chart[r])):["bars","bars1","bars2","boxplot","bullet","controls","discretebar","distX","distY","interactiveLayer","legend","lines","lines1","lines2","multibar","pie","scatter","scatters1","scatters2","sparkline","stack1","stack2","sunburst","tooltip","x2Axis","xAxis","y1Axis","y2Axis","y3Axis","y4Axis","yAxis","yAxis1","yAxis2"].indexOf(r)>=0||"stacked"===r&&"stackedAreaChart"===n.chart.type?(void 0!==n.chart[r]&&null!==n.chart[r]||e._config.extended&&(n.chart[r]={}),i(e.chart[r],n.chart[r],n.chart.type)):"focusHeight"===r&&"lineChart"===n.chart.type||"focusHeight"===r&&"lineWithFocusChart"===n.chart.type||("xTickFormat"!==r&&"yTickFormat"!==r||"lineWithFocusChart"!==n.chart.type)&&("tooltips"===r&&"boxPlotChart"===n.chart.type||("tooltipXContent"!==r&&"tooltipYContent"!==r||"scatterChart"!==n.chart.type)&&("x"!==r&&"y"!==r||"forceDirectedGraph"!==n.chart.type)&&(void 0===n.chart[r]||null===n.chart[r]?e._config.extended&&(n.chart[r]="barColor"===r?t()():t()):e.chart[r](n.chart[r]))))}),"sunburstChart"===n.chart.type?e.api.updateWithData(angular.copy(e.data)):e.api.updateWithData(e.data),(n.title||e._config.extended)&&a("title"),(n.subtitle||e._config.extended)&&a("subtitle"),(n.caption||e._config.extended)&&a("caption"),(n.styles||e._config.extended)&&s(),nv.addGraph(function(){if(e.chart)return e.chart.resizeHandler&&e.chart.resizeHandler.clear(),e.chart.resizeHandler=nv.utils.windowResize(function(){e.chart&&e.chart.update&&e.chart.update()}),void 0!==n.chart.zoom&&["scatterChart","lineChart","candlestickBarChart","cumulativeLineChart","historicalBarChart","ohlcBarChart","stackedAreaChart"].indexOf(n.chart.type)>-1&&t.zoom(e,n),e.chart},n.chart.callback))},updateWithData:function(t){if(t){d3.select(n[0]).select("svg").remove();var r,i;e.svg=d3.select(n[0]).append("svg"),(r=e.options.chart.height)&&(isNaN(+r)||(r+="px"),e.svg.attr("height",r).style({height:r})),(i=e.options.chart.width)?(isNaN(+i)||(i+="px"),e.svg.attr("width",i).style({width:i})):e.svg.attr("width","100%").style({width:"100%"}),e.svg.datum(t).call(e.chart)}},clearElement:function(){if(n.find(".title").remove(),n.find(".subtitle").remove(),n.find(".caption").remove(),n.empty(),e.chart&&e.chart.tooltip&&e.chart.tooltip.id&&d3.select("#"+e.chart.tooltip.id()).remove(),nv.graphs&&e.chart)for(var t=nv.graphs.length-1;t>=0;t--)nv.graphs[t]&&nv.graphs[t].id===e.chart.id&&nv.graphs.splice(t,1);nv.tooltip&&nv.tooltip.cleanup&&nv.tooltip.cleanup(),e.chart&&e.chart.resizeHandler&&e.chart.resizeHandler.clear(),e.chart=null},getScope:function(){return e},getElement:function(){return n}},e._config.deepWatchOptions&&e.$watch("options",t.debounce(function(t){e._config.disabled||e.api.refresh()},e._config.debounce,e._config.debounceImmediate),!0),e._config.deepWatchData&&(1===e._config.deepWatchDataDepth?e.$watchCollection("data",u):e.$watch("data",u,2===e._config.deepWatchDataDepth)),e.$watch("config",function(t,n){t!==n&&(e._config=angular.extend(c,t),e.api.refresh())},!0),e._config.deepWatchOptions||e._config.deepWatchData||e.api.refresh(),angular.forEach(e.events,function(t,n){e.$on(n,function(n,r){return t(n,e,r)})}),n.on("$destroy",function(){e.api.clearElement()}),e.$watch("isReady",function(t){t&&e.onReady&&"function"==typeof e.onReady()&&e.onReady()(e,n)})}}}]).factory("nvd3Utils",function(){return{debounce:function(t,e,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||t.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(i,o)}},deepExtend:function(t){var e=this;return angular.forEach(arguments,function(n){n!==t&&angular.forEach(n,function(n,r){t[r]&&t[r].constructor&&t[r].constructor===Object?e.deepExtend(t[r],n):t[r]=n})}),t},zoom:function(t,e){var n=e.chart.zoom;if(void 0===n.enabled||null===n.enabled||n.enabled){var r,i,o,a,s,l=t.chart.xAxis.scale(),u=t.chart.yAxis.scale(),c=t.chart.xDomain||l.domain,d=t.chart.yDomain||u.domain,h=l.domain().slice(),f=u.domain().slice(),p=n.scale||1,g=n.translate||[0,0],m=n.scaleExtent||[1,10],v=n.useFixedDomain||!1,y=n.useNiceScale||!1,b=n.horizontalOff||!1,x=n.verticalOff||!1,_=n.unzoomEventType||"dblclick.zoom";y&&(l.nice(),u.nice()),r=function(t,e){return t[0]=Math.min(Math.max(t[0],e[0]),e[1]-e[1]/m[1]),t[1]=Math.max(e[0]+e[1]/m[1],Math.min(t[1],e[1])),t},o=function(){if(void 0!==n.zoomed){var e=n.zoomed(l.domain(),u.domain());b||c([e.x1,e.x2]),x||d([e.y1,e.y2])}else b||c(v?r(l.domain(),h):l.domain()),x||d(v?r(u.domain(),f):u.domain());t.chart.update()},a=function(){if(void 0!==n.unzoomed){var e=n.unzoomed(l.domain(),u.domain());b||c([e.x1,e.x2]),x||d([e.y1,e.y2])}else b||c(h),x||d(f);i.scale(p).translate(g),t.chart.update()},s=function(){void 0!==n.zoomend&&n.zoomend()},i=d3.behavior.zoom().x(l).y(u).scaleExtent(m).on("zoom",o).on("zoomend",s),t.svg.call(i),i.scale(p).translate(g).event(t.svg),"none"!==_&&t.svg.on(_,a)}}}})}(),angular.module("angularUUID2",[]).factory("uuid2",[function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return{newuuid:function(){for(var t=[],e=0;e<36;e++)t[e]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]="0123456789abcdef".substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")},newguid:function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}}]),angular.module("ui.bootstrap.contextMenu",[]).directive("contextMenu",["$parse","$q",function(t,e){var n=[],r=function(t){for(;n.length&&(!t||n.length>t);)n.pop().remove();0==n.length&&i&&i.remove()},i=null,o=function(t,a,s,l,u){if(u||(u=0),!c)var c=angular.element;c(a.currentTarget).addClass("context");var d=c("<div>");i?d=i:i=d,d.addClass("dropdown clearfix");var h=c("<ul>");h.addClass("dropdown-menu"),h.attr({role:"menu"}),h.css({display:"block",position:"absolute",left:a.pageX+"px",top:a.pageY+"px","z-index":1e4});var f=[];angular.forEach(s,function(n,i){var s=c("<li>");if(null===n)s.addClass("divider");else{var d=angular.isArray(n[1])?n[1]:angular.isArray(n[2])?n[2]:angular.isArray(n[3])?n[3]:null,p=c("<a>");p.css("padding-right","8px"),p.attr({tabindex:"-1",href:"#"});var g="string"==typeof n[0]?n[0]:n[0].call(t,t,a,l);if($promise=e.when(g),f.push($promise),$promise.then(function(t){p.text(t),d&&(p.css("cursor","default"),p.append(c('<strong style="font-family:monospace;font-weight:bold;float:right;">&gt;</strong>')))}),s.append(p),!angular.isFunction(n[2])||n[2].call(t,t,a,l,g)){var m=function(e){r(u+1);var n={pageX:a.pageX+h[0].offsetWidth-1,pageY:h[0].offsetTop+s[0].offsetTop-3};o(t,n,d,l,u+1)};s.on("click",function(e){e.preventDefault(),t.$apply(function(){d?m():(c(a.currentTarget).removeClass("context"),r(),n[1].call(t,t,a,l,g))})}),s.on("mouseover",function(e){t.$apply(function(){d&&m()})})}else s.on("click",function(t){t.preventDefault()}),s.addClass("disabled")}h.append(s)}),d.append(h);var p=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight);d.css({width:"100%",height:p+"px",position:"absolute",top:0,left:0,zIndex:9999}),c(document).find("body").append(d),e.all(f).then(function(){if(0===u){var t=a.pageY,e=angular.element(h[0]).prop("offsetHeight"),n=a.view.innerHeight;t>e&&n-t<e&&(t=a.pageY-e);var r=a.pageX,i=angular.element(h[0]).prop("offsetWidth"),o=a.view.innerWidth;r>i&&o-r<i&&(r=a.pageX-i),h.css({display:"block",position:"absolute",left:r+"px",top:t+"px"})}}),d.on("mousedown",function(t){c(t.target).hasClass("dropdown")&&(c(a.currentTarget).removeClass("context"),r())}).on("contextmenu",function(t){c(t.currentTarget).removeClass("context"),t.preventDefault(),r(u)}),t.$on("$destroy",function(){r()}),n.push(h)};return function(t,e,n){e.on("contextmenu",function(e){e.stopPropagation(),t.$apply(function(){e.preventDefault();var r=t.$eval(n.contextMenu),i=t.$eval(n.model);if(!(r instanceof Array))throw'"'+n.contextMenu+'" not an array';0!==r.length&&o(t,e,r,i)})})}}]),function(){function t(t){return["$rootScope","$window","$log",function(e,n,r){for(var i,o,a,s=n[t]||(r.warn("This browser does not support Web Storage!"),{}),l={$default:function(t){for(var e in t)angular.isDefined(l[e])||(l[e]=t[e]);return l},$reset:function(t){for(var e in l)"$"===e[0]||delete l[e];return l.$default(t)}},u=0;u<s.length;u++)(a=s.key(u))&&"ngStorage-"===a.slice(0,10)&&(l[a.slice(10)]=angular.fromJson(s.getItem(a)));return i=angular.copy(l),e.$watch(function(){o||(o=setTimeout(function(){if(o=null,!angular.equals(l,i)){angular.forEach(l,function(t,e){angular.isDefined(t)&&"$"!==e[0]&&s.setItem("ngStorage-"+e,angular.toJson(t)),delete i[e]});for(var t in i)s.removeItem("ngStorage-"+t);i=angular.copy(l)}},100))}),"localStorage"===t&&n.addEventListener&&n.addEventListener("storage",function(t){"ngStorage-"===t.key.slice(0,10)&&(t.newValue?l[t.key.slice(10)]=angular.fromJson(t.newValue):delete l[t.key.slice(10)],i=angular.copy(l),e.$apply())}),l}]}angular.module("ngStorage",[]).factory("$localStorage",t("localStorage")).factory("$sessionStorage",t("sessionStorage"))}(),function(t,e){"use strict";function n(t,e,n){if(!t)throw K("areq",e||"?",n||"required");return t}function r(t,e){return t||e?t?e?(O(t)&&(t=t.join(" ")),O(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function i(t){var e={};return t&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e}function o(t,e,n){var r="";return t=O(t)?t:t&&j(t)&&t.length?t.split(/\s+/):[],R(t,function(t,i){t&&0<t.length&&(r+=0<i?" ":"",r+=n?e+t:t+e)}),r}function a(t){if(t instanceof z)switch(t.length){case 0:return t;case 1:if(1===t[0].nodeType)return t;break;default:return z(s(t))}if(1===t.nodeType)return z(t)}function s(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(1===n.nodeType)return n}}function l(t,e,n){R(e,function(e){t.addClass(e,n)})}function u(t,e,n){R(e,function(e){t.removeClass(e,n)})}function c(t){return function(e,n){n.addClass&&(l(t,e,n.addClass),n.addClass=null),n.removeClass&&(u(t,e,n.removeClass),n.removeClass=null)}}function d(t){if(!(t=t||{}).$$prepared){var e=t.domOperation||W;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=W},t.$$prepared=!0}return t}function h(t,e){f(t,e),p(t,e)}function f(t,e){e.from&&(t.css(e.from),e.from=null)}function p(t,e){e.to&&(t.css(e.to),e.to=null)}function g(t,e,n){var r=e.options||{};n=n.options||{};var i=(r.addClass||"")+" "+(n.addClass||""),o=(r.removeClass||"")+" "+(n.removeClass||"");return t=m(t.attr("class"),i,o),n.preparationClasses&&(r.preparationClasses=w(n.preparationClasses,r.preparationClasses),delete n.preparationClasses),i=r.domOperation!==W?r.domOperation:null,P(r,n),i&&(r.domOperation=i),r.addClass=t.addClass?t.addClass:null,r.removeClass=t.removeClass?t.removeClass:null,e.addClass=r.addClass,e.removeClass=r.removeClass,r}function m(t,e,n){function r(t){j(t)&&(t=t.split(" "));var e={};return R(t,function(t){t.length&&(e[t]=!0)}),e}var i={};t=r(t),e=r(e),R(e,function(t,e){i[e]=1}),n=r(n),R(n,function(t,e){i[e]=1===i[e]?null:-1});var o={addClass:"",removeClass:""};return R(i,function(e,n){var r,i;1===e?(r="addClass",i=!t[n]||t[n+"-remove"]):-1===e&&(r="removeClass",i=t[n]||t[n+"-add"]),i&&(o[r].length&&(o[r]+=" "),o[r]+=n)}),o}function v(t){return t instanceof z?t[0]:t}function y(t,e,n){var r="";e&&(r=o(e,"ng-",!0)),n.addClass&&(r=w(r,o(n.addClass,"-add"))),n.removeClass&&(r=w(r,o(n.removeClass,"-remove"))),r.length&&(n.preparationClasses=r,t.addClass(r))}function b(t,e){var n=e?"-"+e+"s":"";return _(t,[G,n]),[G,n]}function x(t,e){var n=e?"paused":"",r=L+"PlayState";return _(t,[r,n]),[r,n]}function _(t,e){t.style[e[0]]=e[1]}function w(t,e){return t?e?t+" "+e:t:e}function C(t,e,n){var r=Object.create(null),i=t.getComputedStyle(e)||{};return R(n,function(t,e){var n=i[t];if(n){var o=n.charAt(0);("-"===o||"+"===o||0<=o)&&(n=k(n)),0===n&&(n=null),r[e]=n}}),r}function k(t){var e=0;return t=t.split(/\s*,\s*/),R(t,function(t){"s"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,e=e?Math.max(t,e):t}),e}function S(t){return 0===t||null!=t}function M(t,e){var n=D,r=t+"s";return e?n+="Duration":r+=" linear all",[n,r]}function T(){var t=Object.create(null);return{flush:function(){t=Object.create(null)},count:function(e){return(e=t[e])?e.total:0},get:function(e){return(e=t[e])&&e.value},put:function(e,n){t[e]?t[e].total++:t[e]={total:1,value:n}}}}function $(t,e,n){R(n,function(n){t[n]=N(t[n])?t[n]:e.style.getPropertyValue(n)})}var D,E,L,A;void 0===t.ontransitionend&&void 0!==t.onwebkittransitionend?(D="WebkitTransition",E="webkitTransitionEnd transitionend"):(D="transition",E="transitionend"),void 0===t.onanimationend&&void 0!==t.onwebkitanimationend?(L="WebkitAnimation",A="webkitAnimationEnd animationend"):(L="animation",A="animationend");var F,P,R,O,N,I,Y,V,j,H,z,W,B=L+"Delay",U=L+"Duration",G=D+"Delay",q=D+"Duration",K=e.$$minErr("ng"),J={transitionDuration:q,transitionDelay:G,transitionProperty:D+"Property",animationDuration:U,animationDelay:B,animationIterationCount:L+"IterationCount"},X={transitionDuration:q,transitionDelay:G,animationDuration:U,animationDelay:B};e.module("ngAnimate",[],function(){W=e.noop,F=e.copy,P=e.extend,z=e.element,R=e.forEach,O=e.isArray,j=e.isString,V=e.isObject,H=e.isUndefined,N=e.isDefined,Y=e.isFunction,I=e.isElement}).info({angularVersion:"1.6.4"}).directive("ngAnimateSwap",["$animate","$rootScope",function(t,e){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(e,n,r,i,o){var a,s;e.$watchCollection(r.ngAnimateSwap||r.for,function(r){a&&t.leave(a),s&&(s.$destroy(),s=null),(r||0===r)&&(s=e.$new(),o(s,function(e){a=e,t.enter(e,null,n)}))})}}}]).directive("ngAnimateChildren",["$interpolate",function(t){return{link:function(e,n,r){function i(t){n.data("$$ngAnimateChildren","on"===t||"true"===t)}var o=r.ngAnimateChildren;j(o)&&0===o.length?n.data("$$ngAnimateChildren",!0):(i(t(o)(e)),r.$observe("ngAnimateChildren",i))}}}]).factory("$$rAFScheduler",["$$rAF",function(t){function e(t){r=r.concat(t),n()}function n(){if(r.length){for(var e=r.shift(),o=0;o<e.length;o++)e[o]();i||t(function(){i||n()})}}var r,i;return r=e.queue=[],e.waitUntilQuiet=function(e){i&&i(),i=t(function(){i=null,e(),n()})},e}]).provider("$$animateQueue",["$animateProvider",function(e){function r(t){if(!t)return null;t=t.split(" ");var e=Object.create(null);return R(t,function(t){e[t]=!0}),e}function i(t,e){if(t&&e){var n=r(e);return t.split(" ").some(function(t){return n[t]})}}function o(t,e,n){return u[t].some(function(t){return t(e,n)})}function l(t,e){var n=0<(t.addClass||"").length,r=0<(t.removeClass||"").length;return e?n&&r:n||r}var u=this.rules={skip:[],cancel:[],join:[]};u.join.push(function(t,e){return!t.structural&&l(t)}),u.skip.push(function(t,e){return!t.structural&&!l(t)}),u.skip.push(function(t,e){return"leave"===e.event&&t.structural}),u.skip.push(function(t,e){return e.structural&&2===e.state&&!t.structural}),u.cancel.push(function(t,e){return e.structural&&t.structural}),u.cancel.push(function(t,e){return 2===e.state&&t.structural}),u.cancel.push(function(t,e){if(e.structural)return!1;var n=t.addClass,r=t.removeClass,o=e.addClass,a=e.removeClass;return!(H(n)&&H(r)||H(o)&&H(a))&&(i(n,a)||i(r,o))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(r,i,u,f,p,m,b,x,_,w,C){function k(){var t=!1;return function(e){t?e():i.$$postDigest(function(){t=!0,e()})}}function S(t,e,n){var r=[],i=U[n];return i&&R(i,function(i){J.call(i.node,e)?r.push(i.callback):"leave"===n&&J.call(i.node,t)&&r.push(i.callback)}),r}function M(t,e,n){var r=s(e);return t.filter(function(t){return!(t.node===r&&(!n||t.callback===n))})}function T(t,e,n){function s(t,e,n,i){w(function(){var t=S(x,p,e);t.length?r(function(){R(t,function(t){t(f,n,i)}),"close"!==n||p.parentNode||X.off(p)}):"close"!==n||p.parentNode||X.off(p)}),t.progress(e,n,i)}function u(t){var e=f,n=c;n.preparationClasses&&(e.removeClass(n.preparationClasses),n.preparationClasses=null),n.activeClasses&&(e.removeClass(n.activeClasses),n.activeClasses=null),K(f,c),h(f,c),c.domOperation(),_.complete(!t)}var c=F(n),f=a(t),p=v(f),x=p&&p.parentNode,c=d(c),_=new b,w=k();if(O(c.addClass)&&(c.addClass=c.addClass.join(" ")),c.addClass&&!j(c.addClass)&&(c.addClass=null),O(c.removeClass)&&(c.removeClass=c.removeClass.join(" ")),c.removeClass&&!j(c.removeClass)&&(c.removeClass=null),c.from&&!V(c.from)&&(c.from=null),c.to&&!V(c.to)&&(c.to=null),!p)return u(),_;if(n=[p.getAttribute("class"),c.addClass,c.removeClass].join(" "),!q(n))return u(),_;var M=0<=["enter","move","leave"].indexOf(e),T=C(),P=!W||T||Y.get(p),N=!!(n=!P&&A.get(p)||{}).state;if(P||N&&1===n.state||(P=!E(p,x,e)),P)return T&&s(_,e,"start"),u(),T&&s(_,e,"close"),_;if(M&&$(p),T={structural:M,element:f,event:e,addClass:c.addClass,removeClass:c.removeClass,close:u,options:c,runner:_},N){if(o("skip",T,n))return 2===n.state?(u(),_):(g(f,n,T),n.runner);if(o("cancel",T,n))if(2===n.state)n.runner.end();else{if(!n.structural)return g(f,n,T),n.runner;n.close()}else if(o("join",T,n)){if(2!==n.state)return y(f,M?e:null,c),e=T.event=n.event,c=g(f,n,T),n.runner;g(f,T,{})}}else g(f,T,{});if((N=T.structural)||(N="animate"===T.event&&0<Object.keys(T.options.to||{}).length||l(T)),!N)return u(),D(p),_;var I=(n.counter||0)+1;return T.counter=I,L(p,1,T),i.$$postDigest(function(){f=a(t);var n=!(r=A.get(p)),r=r||{},i=0<(f.parent()||[]).length&&("animate"===r.event||r.structural||l(r));n||r.counter!==I||!i?(n&&(K(f,c),h(f,c)),(n||M&&r.event!==e)&&(c.domOperation(),_.end()),i||D(p)):(e=!r.structural&&l(r,!0)?"setClass":r.event,L(p,2),r=m(f,e,r.options),_.setHost(r),s(_,e,"start",{}),r.done(function(t){u(!t),(t=A.get(p))&&t.counter===I&&D(p),s(_,e,"close",{})}))}),_}function $(t){t=t.querySelectorAll("[data-ng-animate]"),R(t,function(t){var e=parseInt(t.getAttribute("data-ng-animate"),10),n=A.get(t);if(n)switch(e){case 2:n.runner.end();case 1:A.delete(t)}})}function D(t){t.removeAttribute("data-ng-animate"),A.delete(t)}function E(t,e,n){n=f[0].body;var r,i=v(u),o=t===n||"HTML"===t.nodeName,a=t===i,s=!1,l=Y.get(t);for((t=z.data(t,"$ngAnimatePin"))&&(e=v(t));e&&(a||(a=e===i),1===e.nodeType);){if(t=A.get(e)||{},!s){var c=Y.get(e);if(!0===c&&!1!==l){l=!0;break}!1===c&&(l=!1),s=t.structural}if((H(r)||!0===r)&&(t=z.data(e,"$$ngAnimateChildren"),N(t)&&(r=t)),s&&!1===r)break;if(o||(o=e===n),o&&a)break;e=a||!(t=z.data(e,"$ngAnimatePin"))?e.parentNode:v(t)}return(!s||r)&&!0!==l&&a&&o}function L(t,e,n){(n=n||{}).state=e,t.setAttribute("data-ng-animate",e),n=(e=A.get(t))?P(e,n):n,A.set(t,n)}var A=new p,Y=new p,W=null,B=i.$watch(function(){return 0===x.totalPendingRequests},function(t){t&&(B(),i.$$postDigest(function(){i.$$postDigest(function(){null===W&&(W=!0)})}))}),U=Object.create(null),G=e.classNameFilter(),q=G?function(t){return G.test(t)}:function(){return!0},K=c(_),J=t.Node.prototype.contains||function(t){return this===t||!!(16&this.compareDocumentPosition(t))},X={on:function(t,e,n){var r=s(e);U[t]=U[t]||[],U[t].push({node:r,callback:n}),z(e).on("$destroy",function(){A.get(r)||X.off(t,e,n)})},off:function(t,e,n){if(1!==arguments.length||j(arguments[0])){var r=U[t];r&&(U[t]=1===arguments.length?null:M(r,e,n))}else for(r in e=arguments[0],U)U[r]=M(U[r],e)},pin:function(t,e){n(I(t),"element","not an element"),n(I(e),"parentElement","not an element"),t.data("$ngAnimatePin",e)},push:function(t,e,n,r){return n=n||{},n.domOperation=r,T(t,e,n)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!W;else if(I(t)){var r=v(t);1===n?e=!Y.get(r):Y.set(r,!e)}else e=W=!!t;return e}};return X}]}]).provider("$$animation",["$animateProvider",function(t){var e=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(t,n,i,o,a,s){function l(t){function e(t){if(t.processed)return t;t.processed=!0;var n=t.domNode,o=n.parentNode;i.set(n,t);for(var a;o;){if(a=i.get(o)){a.processed||(a=e(a));break}o=o.parentNode}return(a||r).children.push(t),t}var n,r={children:[]},i=new a;for(n=0;n<t.length;n++){var o=t[n];i.set(o.domNode,t[n]={domNode:o.domNode,fn:o.fn,children:[]})}for(n=0;n<t.length;n++)e(t[n]);return function(t){var e,n=[],r=[];for(e=0;e<t.children.length;e++)r.push(t.children[e]);t=r.length;var i=0,o=[];for(e=0;e<r.length;e++){var a=r[e];0>=t&&(t=i,i=0,n.push(o),o=[]),o.push(a.fn),a.children.forEach(function(t){i++,r.push(t)}),t--}return o.length&&n.push(o),n}(r)}var u=[],f=c(t);return function(a,c,p){function g(t){t=t.hasAttribute("ng-animate-ref")?[t]:t.querySelectorAll("[ng-animate-ref]");var e=[];return R(t,function(t){var n=t.getAttribute("ng-animate-ref");n&&n.length&&e.push(t)}),e}function m(t){var e=[],n={};R(t,function(t,r){var i=v(t.element),o=0<=["enter","move"].indexOf(t.event);if((i=t.structural?g(i):[]).length){var a=o?"to":"from";R(i,function(t){var e=t.getAttribute("ng-animate-ref");n[e]=n[e]||{},n[e][a]={animationID:r,element:z(t)}})}else e.push(t)});var r={},i={};return R(n,function(n,o){var a=n.from,s=n.to;if(a&&s){var l=t[a.animationID],u=t[s.animationID],c=a.animationID.toString();if(!i[c]){var d=i[c]={structural:!0,beforeStart:function(){l.beforeStart(),u.beforeStart()},close:function(){l.close(),u.close()},classes:y(l.classes,u.classes),from:l,to:u,anchors:[]};d.classes.length?e.push(d):(e.push(l),e.push(u))}i[c].anchors.push({out:a.element,in:s.element})}else a=a?a.animationID:s.animationID,s=a.toString(),r[s]||(r[s]=!0,e.push(t[a]))}),e}function y(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],r=0;r<t.length;r++){var i=t[r];if("ng-"!==i.substring(0,3))for(var o=0;o<e.length;o++)if(i===e[o]){n.push(i);break}}return n.join(" ")}function b(t){for(var n=e.length-1;0<=n;n--){var r=i.get(e[n])(t);if(r)return r}}function x(t,e){function n(t){(t=t.data("$$animationRunner"))&&t.setHost(e)}t.from&&t.to?(n(t.from.element),n(t.to.element)):n(t.element)}function _(){var t=a.data("$$animationRunner");!t||"leave"===c&&p.$$domOperationFired||t.end()}function w(e){a.off("$destroy",_),a.removeData("$$animationRunner"),f(a,p),h(a,p),p.domOperation(),M&&t.removeClass(a,M),a.removeClass("ng-animate"),k.complete(!e)}p=d(p);var C=0<=["enter","move","leave"].indexOf(c),k=new o({end:function(){w()},cancel:function(){w(!0)}});if(!e.length)return w(),k;a.data("$$animationRunner",k);var S=r(a.attr("class"),r(p.addClass,p.removeClass)),M=p.tempClasses;M&&(S+=" "+M,p.tempClasses=null);var T;return C&&(T="ng-"+c+"-prepare",t.addClass(a,T)),u.push({element:a,classes:S,event:c,structural:C,options:p,beforeStart:function(){a.addClass("ng-animate"),M&&t.addClass(a,M),T&&(t.removeClass(a,T),T=null)},close:w}),a.on("$destroy",_),1<u.length?k:(n.$$postDigest(function(){var t=[];R(u,function(e){e.element.data("$$animationRunner")?t.push(e):e.close()}),u.length=0;var e=m(t),n=[];R(e,function(t){n.push({domNode:v(t.from?t.from.element:t.element),fn:function(){t.beforeStart();var e,n=t.close;if((t.anchors?t.from.element||t.to.element:t.element).data("$$animationRunner")){var r=b(t);r&&(e=r.start)}e?((e=e()).done(function(t){n(!t)}),x(t,e)):n()}})}),s(l(n))}),k)}}]}]).provider("$animateCss",["$animateProvider",function(t){var e=T(),n=T();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(t,r,a,s,l,u,g,m){function y(t,e){var n=t.parentNode;return(n.$$ngAnimateParentKey||(n.$$ngAnimateParentKey=++N))+"-"+t.getAttribute("class")+"-"+e}function w(i,a,s,l){var u;return 0<e.count(s)&&((u=n.get(s))||(a=o(a,"-stagger"),r.addClass(i,a),u=C(t,i,l),u.animationDuration=Math.max(u.animationDuration,0),u.transitionDuration=Math.max(u.transitionDuration,0),r.removeClass(i,a),n.put(s,u))),u||{}}function k(t){I.push(t),g.waitUntilQuiet(function(){e.flush(),n.flush();for(var t=l(),r=0;r<I.length;r++)I[r](t);I.length=0})}function T(n,r,i){return(r=e.get(i))||"infinite"===(r=C(t,n,J)).animationIterationCount&&(r.animationIterationCount=1),e.put(i,r),n=r,i=n.animationDelay,r=n.transitionDelay,n.maxDelay=i&&r?Math.max(i,r):i||r,n.maxDuration=Math.max(n.animationDuration*n.animationIterationCount,n.transitionDuration),n}var P=c(r),N=0,I=[];return function(t,n){function l(){g()}function c(){g(!0)}function g(e){if(!(z||K&&q)){z=!0,q=!1,V.$$skipPreparationClasses||r.removeClass(t,dt),r.removeClass(t,ft),x(H,!1),b(H,!1),R(it,function(t){H.style[t[0]]=""}),P(t,V),h(t,V),Object.keys(j).length&&R(j,function(t,e){t?H.style.setProperty(e,t):H.style.removeProperty(e)}),V.onDone&&V.onDone(),st&&st.length&&t.off(st.join(" "),I);var n=t.data("$$animateCss");n&&(s.cancel(n[0].timer),t.removeData("$$animateCss")),J&&J.complete(!e)}}function C(t){bt.blockTransition&&b(H,t),bt.blockKeyframeAnimation&&x(H,!!t)}function N(){return J=new a({end:l,cancel:c}),k(W),g(),{$$willAnimate:!1,start:function(){return J},end:l}}function I(t){t.stopPropagation();var e=t.originalEvent||t;t=e.$manualTimeStamp||Date.now(),e=parseFloat(e.elapsedTime.toFixed(3)),Math.max(t-rt,0)>=tt&&e>=et&&(K=!0,g())}function Y(){function e(){if(!z){if(C(!1),R(it,function(t){H.style[t[0]]=t[1]}),P(t,V),r.addClass(t,ft),bt.recalculateTimingStyles){if(ht=H.getAttribute("class")+" "+dt,pt=y(H,ht),vt=T(H,ht,pt),yt=vt.maxDelay,Q=Math.max(yt,0),0===(et=vt.maxDuration))return void g();bt.hasTransitions=0<vt.transitionDuration,bt.hasAnimations=0<vt.animationDuration}if(bt.applyAnimationDelay&&(yt="boolean"!=typeof V.delay&&S(V.delay)?parseFloat(V.delay):yt,Q=Math.max(yt,0),vt.animationDelay=yt,xt=[B,yt+"s"],it.push(xt),H.style[xt[0]]=xt[1]),tt=1e3*Q,nt=1e3*et,V.easing){var e,i=V.easing;bt.hasTransitions&&(e=D+"TimingFunction",it.push([e,i]),H.style[e]=i),bt.hasAnimations&&(e=L+"TimingFunction",it.push([e,i]),H.style[e]=i)}vt.transitionDuration&&st.push(E),vt.animationDuration&&st.push(A),rt=Date.now();var o=tt+1.5*nt;e=rt+o;var a=!0;if((i=t.data("$$animateCss")||[]).length){var l=i[0];(a=e>l.expectedEndTime)?s.cancel(l.timer):i.push(g)}a&&(o=s(n,o,!1),i[0]={timer:o,expectedEndTime:e},i.push(g),t.data("$$animateCss",i)),st.length&&t.on(st.join(" "),I),V.to&&(V.cleanupStyles&&$(j,H,Object.keys(V.to)),p(t,V))}}function n(){var e=t.data("$$animateCss");if(e){for(var n=1;n<e.length;n++)e[n]();t.removeData("$$animateCss")}}if(!z)if(H.parentNode){var i=function(t){if(K)q&&t&&(q=!1,g());else if(q=!t,vt.animationDuration)if(t=x(H,q),q)it.push(t);else{var e=it,n=e.indexOf(t);0<=t&&e.splice(n,1)}},o=0<mt&&(vt.transitionDuration&&0===gt.transitionDuration||vt.animationDuration&&0===gt.animationDuration)&&Math.max(gt.animationDelay,gt.transitionDelay);o?s(e,Math.floor(o*mt*1e3),!1):e(),Z.resume=function(){i(!0)},Z.pause=function(){i(!1)}}else g()}var V=n||{};V.$$prepared||(V=d(F(V)));var j={},H=v(t);if(!H||!H.parentNode||!m.enabled())return N();var z,q,K,J,Z,Q,tt,et,nt,rt,it=[],ot=t.attr("class"),at=i(V),st=[];if(0===V.duration||!u.animations&&!u.transitions)return N();var lt=V.event&&O(V.event)?V.event.join(" "):V.event,ut="",ct="";lt&&V.structural?ut=o(lt,"ng-",!0):lt&&(ut=lt),V.addClass&&(ct+=o(V.addClass,"-add")),V.removeClass&&(ct.length&&(ct+=" "),ct+=o(V.removeClass,"-remove")),V.applyClassesEarly&&ct.length&&P(t,V);var dt=[ut,ct].join(" ").trim(),ht=ot+" "+dt,ft=o(dt,"-active"),ot=at.to&&0<Object.keys(at.to).length;if(!(0<(V.keyframeStyle||"").length||ot||dt))return N();var pt,gt;0<V.stagger?(at=parseFloat(V.stagger),gt={transitionDelay:at,animationDelay:at,transitionDuration:0,animationDuration:0}):(pt=y(H,ht),gt=w(H,dt,pt,X)),V.$$skipPreparationClasses||r.addClass(t,dt),V.transitionStyle&&(at=[D,V.transitionStyle],_(H,at),it.push(at)),0<=V.duration&&(at=0<H.style[D].length,at=M(V.duration,at),_(H,at),it.push(at)),V.keyframeStyle&&(at=[L,V.keyframeStyle],_(H,at),it.push(at));var mt=gt?0<=V.staggerIndex?V.staggerIndex:e.count(pt):0;(lt=0===mt)&&!V.skipBlocking&&b(H,9999);var vt=T(H,ht,pt),yt=vt.maxDelay;Q=Math.max(yt,0),et=vt.maxDuration;var bt={};if(bt.hasTransitions=0<vt.transitionDuration,bt.hasAnimations=0<vt.animationDuration,bt.hasTransitionAll=bt.hasTransitions&&"all"===vt.transitionProperty,bt.applyTransitionDuration=ot&&(bt.hasTransitions&&!bt.hasTransitionAll||bt.hasAnimations&&!bt.hasTransitions),bt.applyAnimationDuration=V.duration&&bt.hasAnimations,bt.applyTransitionDelay=S(V.delay)&&(bt.applyTransitionDuration||bt.hasTransitions),bt.applyAnimationDelay=S(V.delay)&&bt.hasAnimations,bt.recalculateTimingStyles=0<ct.length,(bt.applyTransitionDuration||bt.applyAnimationDuration)&&(et=V.duration?parseFloat(V.duration):et,bt.applyTransitionDuration&&(bt.hasTransitions=!0,vt.transitionDuration=et,at=0<H.style[D+"Property"].length,it.push(M(et,at))),bt.applyAnimationDuration&&(bt.hasAnimations=!0,vt.animationDuration=et,it.push([U,et+"s"]))),0===et&&!bt.recalculateTimingStyles)return N();if(null!=V.delay){var xt;"boolean"!=typeof V.delay&&(xt=parseFloat(V.delay),Q=Math.max(xt,0)),bt.applyTransitionDelay&&it.push([G,xt+"s"]),bt.applyAnimationDelay&&it.push([B,xt+"s"])}return null==V.duration&&0<vt.transitionDuration&&(bt.recalculateTimingStyles=bt.recalculateTimingStyles||lt),tt=1e3*Q,nt=1e3*et,V.skipBlocking||(bt.blockTransition=0<vt.transitionDuration,bt.blockKeyframeAnimation=0<vt.animationDuration&&0<gt.animationDelay&&0===gt.animationDuration),V.from&&(V.cleanupStyles&&$(j,H,Object.keys(V.from)),f(t,V)),bt.blockTransition||bt.blockKeyframeAnimation?C(et):V.skipBlocking||b(H,!1),{$$willAnimate:!0,end:l,start:function(){if(!z)return Z={end:l,cancel:c,resume:null,pause:null},J=new a(Z),k(Y),J}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(t){t.drivers.push("$$animateCssDriver"),this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(t,e,n,r,i,o,a){function s(t){return t.replace(/\bng-\S+\b/g,"")}function l(t,e){return j(t)&&(t=t.split(" ")),j(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function u(e,r,i){function o(t){var e={},n=v(t).getBoundingClientRect();return R(["width","height","top","left"],function(t){var r=n[t];switch(t){case"top":r+=h.scrollTop;break;case"left":r+=h.scrollLeft}e[t]=Math.floor(r)+"px"}),e}function a(){var e=l(n=s(i.attr("class")||""),d),n=l(d,n);return(e=t(c,{to:o(i),addClass:"ng-anchor-in "+e,removeClass:"ng-anchor-out "+n,delay:!0})).$$willAnimate?e:null}function u(){c.remove(),r.removeClass("ng-animate-shim"),i.removeClass("ng-animate-shim")}var c=z(v(r).cloneNode(!0)),d=s(c.attr("class")||"");r.addClass("ng-animate-shim"),i.addClass("ng-animate-shim"),c.addClass("ng-anchor"),f.append(c);var p;if(!(e=function(){var e=t(c,{addClass:"ng-anchor-out",delay:!0,from:o(r)});return e.$$willAnimate?e:null}())&&!(p=a()))return u();var g=e||p;return{start:function(){function t(){r&&r.end()}var e,r=g.start();return r.done(function(){if(r=null,!p&&(p=a()))return(r=p.start()).done(function(){r=null,u(),e.complete()}),r;u(),e.complete()}),e=new n({end:t,cancel:t})}}}function c(t,e,r,i){var o=d(t),a=d(e),s=[];if(R(i,function(t){(t=u(r,t.out,t.in))&&s.push(t)}),o||a||0!==s.length)return{start:function(){function t(){R(e,function(t){t.end()})}var e=[];o&&e.push(o.start()),a&&e.push(a.start()),R(s,function(t){e.push(t.start())});var r=new n({end:t,cancel:t});return n.all(e,function(t){r.complete(t)}),r}}}function d(e){var n=e.element,r=e.options||{};return e.structural&&(r.event=e.event,r.structural=!0,r.applyClassesEarly=!0,"leave"===e.event&&(r.onDone=r.domOperation)),r.preparationClasses&&(r.event=w(r.event,r.preparationClasses)),e=t(n,r),e.$$willAnimate?e:null}if(!i.animations&&!i.transitions)return W;var h=a[0].body;e=v(r);var f=z(e.parentNode&&11===e.parentNode.nodeType||h.contains(e)?e:h);return function(t){return t.from&&t.to?c(t.from,t.to,t.classes,t.anchors):d(t)}}]}]).provider("$$animateJs",["$animateProvider",function(t){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(e,n,r){function i(n){n=O(n)?n:n.split(" ");for(var r=[],i={},o=0;o<n.length;o++){var a=n[o],s=t.$$registeredAnimations[a];s&&!i[a]&&(r.push(e.get(s)),i[a]=!0)}return r}var o=c(r);return function(t,e,r,a){function s(){a.domOperation(),o(t,a)}function l(t,e,r,i,o){switch(r){case"animate":e=[e,i.from,i.to,o];break;case"setClass":e=[e,m,v,o];break;case"addClass":e=[e,m,o];break;case"removeClass":e=[e,v,o];break;default:e=[e,o]}if(e.push(i),t=t.apply(t,e))if(Y(t.start)&&(t=t.start()),t instanceof n)t.done(o);else if(Y(t))return t;return W}function u(t,e,r,i,o){var a=[];return R(i,function(i){var s=i[o];s&&a.push(function(){var i,o,a=!1,u=function(t){a||(a=!0,(o||W)(t),i.complete(!t))};return i=new n({end:function(){u()},cancel:function(){u(!0)}}),o=l(s,t,e,r,function(t){u(!1===t)}),i})}),a}function c(t,e,r,i,o){var a=u(t,e,r,i,o);if(0===a.length){var s,l;"beforeSetClass"===o?(s=u(t,"removeClass",r,i,"beforeRemoveClass"),l=u(t,"addClass",r,i,"beforeAddClass")):"setClass"===o&&(s=u(t,"removeClass",r,i,"removeClass"),l=u(t,"addClass",r,i,"addClass")),s&&(a=a.concat(s)),l&&(a=a.concat(l))}if(0!==a.length)return function(t){var e=[];return a.length&&R(a,function(t){e.push(t())}),e.length?n.all(e,t):t(),function(t){R(e,function(e){t?e.cancel():e.end()})}}}var f=!1;3===arguments.length&&V(r)&&(a=r,r=null),a=d(a),r||(r=t.attr("class")||"",a.addClass&&(r+=" "+a.addClass),a.removeClass&&(r+=" "+a.removeClass));var p,g,m=a.addClass,v=a.removeClass,y=i(r);if(y.length){var b,x;"leave"===e?(x="leave",b="afterLeave"):(x="before"+e.charAt(0).toUpperCase()+e.substr(1),b=e),"enter"!==e&&"move"!==e&&(p=c(t,e,a,y,x)),g=c(t,e,a,y,b)}if(p||g){var _;return{$$willAnimate:!0,end:function(){return _?_.end():(f=!0,s(),h(t,a),(_=new n).complete(!0)),_},start:function(){function e(e){f=!0,s(),h(t,a),_.complete(e)}if(_)return _;_=new n;var r,i=[];return p&&i.push(function(t){r=p(t)}),i.length?i.push(function(t){s(),t(!0)}):s(),g&&i.push(function(t){r=g(t)}),_.setHost({end:function(){f||((r||W)(void 0),e(void 0))},cancel:function(){f||((r||W)(!0),e(!0))}}),n.chain(i,e),_}}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,e){function n(e){return t(e.element,e.event,e.classes,e.options)}return function(t){if(!t.from||!t.to)return n(t);var r=n(t.from),i=n(t.to);return r||i?{start:function(){function t(){return function(){R(n,function(t){t.end()})}}var n=[];r&&n.push(r.start()),i&&n.push(i.start()),e.all(n,function(t){o.complete(t)});var o=new e({end:t(),cancel:t()});return o}}:void 0}}]}])}(window,window.angular),function(){"use strict";function t(t){var e={lg:"(min-width: 1200px)",md:"(min-width: 992px) and (max-width: 1199px)",sm:"(min-width: 768px) and (max-width: 991px)",xs:"(max-width: 767px)"};this.isRetina=window.devicePixelRatio>1||window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),(-moz-min-device-pixel-ratio: 1.5),(min-device-pixel-ratio: 1.5),(min-resolution: 192dpi),(min-resolution: 2dppx)").matches;var n=this,r=function(e,n){var r=(n=n||t).$root.$$phase;"$apply"===r||"$digest"===r?e&&"function"==typeof e&&e():n.$apply(e)},i=function(t){if("string"!=typeof t&&"[object Array]"!==Object.prototype.toString.call(t))throw new Error("screenSize requires array or comma-separated list");return"string"==typeof t?t.split(/\s*,\s*/):t},o=function(){var t=n.rules||e;for(var r in t)if(t.hasOwnProperty(r)&&window.matchMedia(t[r]).matches)return r};this.get=o,this.is=function(t){return-1!==(t=i(t)).indexOf(o())},this.on=function(t,e,i){function o(){r(e(n.is(t)),i)}return window.addEventListener("resize",o),i&&i.$on("$destroy",function(){window.removeEventListener("resize",o)}),n.is(t)},this.onChange=function(t,e,a){function s(){var n=l;l=o();var i=-1!==e.indexOf(n),s=-1!==e.indexOf(l);i!==s&&r(a(s),t)}var l=o();if(e=i(e),!t)throw"scope has to be applied for cleanup reasons. (destroy)";return window.addEventListener("resize",s),t.$on("$destroy",function(){window.removeEventListener("resize",s)}),n.is(e)},this.when=function(t,e,i){function o(){!0===n.is(t)&&r(e(n.is(t)),i)}return window.addEventListener("resize",o),i&&i.$on("$destroy",function(){window.removeEventListener("resize",o)}),n.is(t)}}var e=angular.module("matchMedia",[]);e.run(function(){window.matchMedia||(window.matchMedia=function(){var t=window.styleMedia||window.media;if(!t){var e=document.createElement("style"),n=document.getElementsByTagName("script")[0],r=null;e.type="text/css",e.id="matchmediajs-test",n.parentNode.insertBefore(e,n),r="getComputedStyle"in window&&window.getComputedStyle(e,null)||e.currentStyle,t={matchMedium:function(t){var n="@media "+t+"{ #matchmediajs-test { width: 1px; } }";return e.styleSheet?e.styleSheet.cssText=n:e.textContent=n,"1px"===r.width}}}return function(e){return{matches:t.matchMedium(e||"all"),media:e||"all"}}}())}),e.service("screenSize",t),t.$inject=["$rootScope"],e.filter("media",["screenSize",function(t){var e=function(e,n){var r=t.get(),i="";if(!n)return r;if(n.groups){for(var o in n.groups)n.groups.hasOwnProperty(o)&&n.groups[o].indexOf(r)>=0&&(i=o);""===i&&(i=r)}return n.replace&&"string"==typeof n.replace&&n.replace.length>0?e.replace(n.replace,i):i};return e.$stateful=!0,e}])}(),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(0,function(){function t(t){"use strict";var e=t.storageKey(),n=t.storage(),r=function(){var r=t.preferredLanguage();angular.isString(r)?t.use(r):n.put(e,t.use())};r.displayName="fallbackFromIncorrectStorageValue",n?n.get(e)?t.use(n.get(e)).catch(r):r():angular.isString(t.preferredLanguage())&&t.use(t.preferredLanguage())}function e(){"use strict";var t,e,n,r=null,i=!1,o=!1;(n={sanitize:function(t,e){return"text"===e&&(t=s(t)),t},escape:function(t,e){return"text"===e&&(t=a(t)),t},sanitizeParameters:function(t,e){return"params"===e&&(t=u(t,s)),t},escapeParameters:function(t,e){return"params"===e&&(t=u(t,a)),t},sce:function(t,e,n){return"text"===e?t=l(t):"params"===e&&"filter"!==n&&(t=u(t,a)),t},sceParameters:function(t,e){return"params"===e&&(t=u(t,l)),t}}).escaped=n.escapeParameters,this.addStrategy=function(t,e){return n[t]=e,this},this.removeStrategy=function(t){return delete n[t],this},this.useStrategy=function(t){return i=!0,r=t,this},this.$get=["$injector","$log",function(a,s){var l={},u=function(t,e,r,i){return angular.forEach(i,function(i){if(angular.isFunction(i))t=i(t,e,r);else if(angular.isFunction(n[i]))t=n[i](t,e,r);else{if(!angular.isString(n[i]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+i+"'");if(!l[n[i]])try{l[n[i]]=a.get(n[i])}catch(t){throw l[n[i]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+i+"'")}t=l[n[i]](t,e,r)}}),t},c=function(){i||o||(s.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),o=!0)};return a.has("$sanitize")&&(t=a.get("$sanitize")),a.has("$sce")&&(e=a.get("$sce")),{useStrategy:function(t){return function(e){t.useStrategy(e)}}(this),sanitize:function(t,e,n,i){if(r||c(),n||null===n||(n=r),!n)return t;i||(i="service");var o=angular.isArray(n)?n:[n];return u(t,e,i,o)}}}];var a=function(t){var e=angular.element("<div></div>");return e.text(t),e.html()},s=function(e){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return t(e)},l=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.");return e.trustAsHtml(t)},u=function(t,e,n){if(angular.isDate(t))return t;if(angular.isObject(t)){var r=angular.isArray(t)?[]:{};if(n){if(n.indexOf(t)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else n=[];return n.push(t),angular.forEach(t,function(t,i){angular.isFunction(t)||(r[i]=u(t,e,n))}),n.splice(-1,1),r}return angular.isNumber(t)?t:angular.isUndefined(t)||null===t?t:e(t)}}function n(t,e,n,r){"use strict";var i,o,a,s,l,u,c,d,h,f,p,g,m,v,y,b,x={},_=[],w=t,C=[],k="translate-cloak",S=!1,M=!1,T=".",$=!1,D=!1,E=0,L=!0,A="default",F={default:function(t){return(t||"").split("-").join("_")},java:function(t){var e=(t||"").split("-").join("_"),n=e.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():e},bcp47:function(t){var e=(t||"").split("_").join("-"),n=e.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():e},"iso639-1":function(t){return(t||"").split("_").join("-").split("-")[0].toLowerCase()}},P=function(){if(angular.isFunction(r.getLocale))return r.getLocale();var t,n,i=e.$get().navigator,o=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(i.languages))for(t=0;t<i.languages.length;t++)if((n=i.languages[t])&&n.length)return n;for(t=0;t<o.length;t++)if((n=i[o[t]])&&n.length)return n;return null};P.displayName="angular-translate/service: getFirstBrowserLanguage";var R=function(){var t=P()||"";return F[A]&&(t=F[A](t)),t};R.displayName="angular-translate/service: getLocale";var O=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},N=function(){return this.toString().replace(/^\s+|\s+$/g,"")},I=function(t){if(t){for(var e=[],n=angular.lowercase(t),r=0,i=_.length;r<i;r++)e.push(angular.lowercase(_[r]));if(O(e,n)>-1)return t;if(o){var a;for(var s in o)if(o.hasOwnProperty(s)){var l=!1,u=Object.prototype.hasOwnProperty.call(o,s)&&angular.lowercase(s)===angular.lowercase(t);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===t.slice(0,s.length-1)),(u||l)&&(a=o[s],O(e,angular.lowercase(a))>-1))return a}}var c=t.split("_");return c.length>1&&O(e,angular.lowercase(c[0]))>-1?c[0]:void 0}},Y=function(t,e){if(!t&&!e)return x;if(t&&!e){if(angular.isString(t))return x[t]}else angular.isObject(x[t])||(x[t]={}),angular.extend(x[t],V(e));return this};this.translations=Y,this.cloakClassName=function(t){return t?(k=t,this):k},this.nestedObjectDelimeter=function(t){return t?(T=t,this):T};var V=function(t,e,n,r){var i,o,a;e||(e=[]),n||(n={});for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(a=t[i],angular.isObject(a)?V(a,e.concat(i),n,i):(o=e.length?""+e.join(T)+T+i:i,e.length&&i===r&&(n[""+e.join(T)]="@:"+o),n[o]=a));return n};V.displayName="flatObject",this.addInterpolation=function(t){return C.push(t),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(t){return f=t,this},this.useSanitizeValueStrategy=function(t){return n.useStrategy(t),this},this.preferredLanguage=function(t){return t?(j(t),this):i};var j=function(t){return t&&(i=t),i};this.translationNotFoundIndicator=function(t){return this.translationNotFoundIndicatorLeft(t),this.translationNotFoundIndicatorRight(t),this},this.translationNotFoundIndicatorLeft=function(t){return t?(m=t,this):m},this.translationNotFoundIndicatorRight=function(t){return t?(v=t,this):v},this.fallbackLanguage=function(t){return H(t),this};var H=function(t){return t?(angular.isString(t)?(s=!0,a=[t]):angular.isArray(t)&&(s=!1,a=t),angular.isString(i)&&O(a,i)<0&&a.push(i),this):s?a[0]:a};this.use=function(t){if(t){if(!x[t]&&!p)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");return l=t,this}return l},this.resolveClientLocale=function(){return R()};var z=function(t){return t?(w=t,this):d?d+w:w};this.storageKey=z,this.useUrlLoader=function(t,e){return this.useLoader("$translateUrlLoader",angular.extend({url:t},e))},this.useStaticFilesLoader=function(t){return this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){return p=t,g=e||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(t){return c=t,this},this.storagePrefix=function(t){return t?(d=t,this):t},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){return h=t,this},this.usePostCompiling=function(t){return S=!!t,this},this.forceAsyncReload=function(t){return M=!!t,this},this.uniformLanguageTag=function(t){return t?angular.isString(t)&&(t={standard:t}):t={},A=t.standard,this},this.determinePreferredLanguage=function(t){var e=t&&angular.isFunction(t)?t():R();return i=_.length?I(e)||e:e,this},this.registerAvailableLanguageKeys=function(t,e){return t?(_=t,e&&(o=e),this):_},this.useLoaderCache=function(t){return!1===t?y=void 0:!0===t?y=!0:void 0===t?y="$translationCache":t&&(y=t),this},this.directivePriority=function(t){return void 0===t?E:(E=t,this)},this.statefulFilter=function(t){return void 0===t?L:(L=t,this)},this.postProcess=function(t){return b=t||void 0,this},this.keepContent=function(t){return D=!!t,this},this.$get=["$log","$injector","$rootScope","$q",function(t,e,n,r){var o,d,A,F=e.get(f||"$translateDefaultInterpolation"),P=!1,W={},B={},U=function(t,e,n,s,u){!l&&i&&(l=i);var h=u&&u!==l?I(u)||u:l;if(u&&ut(u),angular.isArray(t)){return function(t){for(var i={},o=[],a=0,l=t.length;a<l;a++)o.push(function(t){var o=r.defer(),a=function(e){i[t]=e,o.resolve([t,e])};return U(t,e,n,s,u).then(a,a),o.promise}(t[a]));return r.all(o).then(function(){return i})}(t)}var f=r.defer();t&&(t=N.apply(t));var p=function(){var t=i?B[i]:B[h];if(d=0,c&&!t){var e=o.get(w);if(t=B[e],a&&a.length){var n=O(a,e);d=0===n?1:0,O(a,i)<0&&a.push(i)}}return t}();if(p){var g=function(){u||(h=l),ot(t,e,n,s,h).then(f.resolve,f.reject)};g.displayName="promiseResolved",p.finally(g).catch(angular.noop)}else ot(t,e,n,s,h).then(f.resolve,f.reject);return f.promise},G=function(t){return m&&(t=[m,t].join(" ")),v&&(t=[t,v].join(" ")),t},q=function(t){l=t,c&&o.put(U.storageKey(),l),n.$emit("$translateChangeSuccess",{language:t}),F.setLocale(l);var e=function(t,e){W[e].setLocale(l)};e.displayName="eachInterpolatorLocaleSetter",angular.forEach(W,e),n.$emit("$translateChangeEnd",{language:t})},K=function(t){if(!t)throw"No language key specified for loading.";var i=r.defer();n.$emit("$translateLoadingStart",{language:t}),P=!0;var o=y;"string"==typeof o&&(o=e.get(o));var a=angular.extend({},g,{key:t,$http:angular.extend({},{cache:o},g.$http)}),s=function(e){var r={};n.$emit("$translateLoadingSuccess",{language:t}),angular.isArray(e)?angular.forEach(e,function(t){angular.extend(r,V(t))}):angular.extend(r,V(e)),P=!1,i.resolve({key:t,table:r}),n.$emit("$translateLoadingEnd",{language:t})};s.displayName="onLoaderSuccess";var l=function(t){n.$emit("$translateLoadingError",{language:t}),i.reject(t),n.$emit("$translateLoadingEnd",{language:t})};return l.displayName="onLoaderError",e.get(p)(a).then(s,l),i.promise};if(c&&(!(o=e.get(c)).get||!o.put))throw new Error("Couldn't use storage '"+c+"', missing get() or put() method!");if(C.length){var J=function(t){var n=e.get(t);n.setLocale(i||l),W[n.getInterpolationIdentifier()]=n};J.displayName="interpolationFactoryAdder",angular.forEach(C,J)}var X=function(t){var e=r.defer();if(Object.prototype.hasOwnProperty.call(x,t))e.resolve(x[t]);else if(B[t]){var n=function(t){Y(t.key,t.table),e.resolve(t.table)};n.displayName="translationTableResolver",B[t].then(n,e.reject)}else e.reject();return e.promise},Z=function(t,e,n,i,o){var a=r.defer(),s=function(r){if(Object.prototype.hasOwnProperty.call(r,e)&&null!==r[e]){i.setLocale(t);var s=r[e];if("@:"===s.substr(0,2))Z(t,s.substr(2),n,i,o).then(a.resolve,a.reject);else{var u=i.interpolate(r[e],n,"service",o,e);u=lt(e,r[e],u,n,t),a.resolve(u)}i.setLocale(l)}else a.reject()};return s.displayName="fallbackTranslationResolver",X(t).then(s,a.reject),a.promise},Q=function(t,e,n,r,i){var o,a=x[t];if(a&&Object.prototype.hasOwnProperty.call(a,e)&&null!==a[e]){if(r.setLocale(t),o=r.interpolate(a[e],n,"filter",i,e),o=lt(e,a[e],o,n,t,i),!angular.isString(o)&&angular.isFunction(o.$$unwrapTrustedValue)){var s=o.$$unwrapTrustedValue();if("@:"===s.substr(0,2))return Q(t,s.substr(2),n,r,i)}else if("@:"===o.substr(0,2))return Q(t,o.substr(2),n,r,i);r.setLocale(l)}return o},tt=function(t,n,r,i){return h?e.get(h)(t,l,n,r,i):t},et=function(t,e,n,i,o,s){var l=r.defer();if(t<a.length){var u=a[t];Z(u,e,n,i,s).then(function(t){l.resolve(t)},function(){return et(t+1,e,n,i,o,s).then(l.resolve,l.reject)})}else if(o)l.resolve(o);else{var c=tt(e,n,o);h&&c?l.resolve(c):l.reject(G(e))}return l.promise},nt=function(t,e,n,r,i){var o;if(t<a.length){var s=a[t];(o=Q(s,e,n,r,i))||""===o||(o=nt(t+1,e,n,r))}return o},rt=function(t,e,n,r,i){return et(A>0?A:d,t,e,n,r,i)},it=function(t,e,n,r){return nt(A>0?A:d,t,e,n,r)},ot=function(t,e,n,i,o,s){var l=r.defer(),u=o?x[o]:x,c=n?W[n]:F;if(u&&Object.prototype.hasOwnProperty.call(u,t)&&null!==u[t]){var d=u[t];if("@:"===d.substr(0,2))U(d.substr(2),e,n,i,o).then(l.resolve,l.reject);else{var f=c.interpolate(d,e,"service",s,t);f=lt(t,d,f,e,o),l.resolve(f)}}else{var p;h&&!P&&(p=tt(t,e,i)),o&&a&&a.length?rt(t,e,c,i,s).then(function(t){l.resolve(t)},function(t){l.reject(G(t))}):h&&!P&&p?i?l.resolve(i):l.resolve(p):i?l.resolve(i):l.reject(G(t))}return l.promise},at=function(t,e,n,r,i){var o,s=r?x[r]:x,l=F;if(W&&Object.prototype.hasOwnProperty.call(W,n)&&(l=W[n]),s&&Object.prototype.hasOwnProperty.call(s,t)&&null!==s[t]){var u=s[t];"@:"===u.substr(0,2)?o=at(u.substr(2),e,n,r,i):(o=l.interpolate(u,e,"filter",i,t),o=lt(t,u,o,e,r,i))}else{var c;h&&!P&&(c=tt(t,e,i)),r&&a&&a.length?(d=0,o=it(t,e,l,i)):o=h&&!P&&c?c:G(t)}return o},st=function(t){u===t&&(u=void 0),B[t]=void 0},lt=function(t,n,r,i,o,a){var s=b;return s&&("string"==typeof s&&(s=e.get(s)),s)?s(t,n,r,i,o,a):r},ut=function(t){x[t]||!p||B[t]||(B[t]=K(t).then(function(t){return Y(t.key,t.table),t}))};U.preferredLanguage=function(t){return t&&j(t),i},U.cloakClassName=function(){return k},U.nestedObjectDelimeter=function(){return T},U.fallbackLanguage=function(t){if(void 0!==t&&null!==t){if(H(t),p&&a&&a.length)for(var e=0,n=a.length;e<n;e++)B[a[e]]||(B[a[e]]=K(a[e]));U.use(U.use())}return s?a[0]:a},U.useFallbackLanguage=function(t){if(void 0!==t&&null!==t)if(t){var e=O(a,t);e>-1&&(A=e)}else A=0},U.proposedLanguage=function(){return u},U.storage=function(){return o},U.negotiateLocale=I,U.use=function(t){if(!t)return l;var e=r.defer();e.promise.then(null,angular.noop),n.$emit("$translateChangeStart",{language:t});var i=I(t);return _.length>0&&!i?r.reject(t):(i&&(t=i),u=t,!M&&x[t]||!p||B[t]?B[t]?B[t].then(function(t){return u===t.key&&q(t.key),e.resolve(t.key),t},function(t){return!l&&a&&a.length>0&&a[0]!==t?U.use(a[0]).then(e.resolve,e.reject):e.reject(t)}):(e.resolve(t),q(t)):(B[t]=K(t).then(function(n){return Y(n.key,n.table),e.resolve(n.key),u===t&&q(n.key),n},function(t){return n.$emit("$translateChangeError",{language:t}),e.reject(t),n.$emit("$translateChangeEnd",{language:t}),r.reject(t)}),B[t].finally(function(){st(t)}).catch(angular.noop)),e.promise)},U.resolveClientLocale=function(){return R()},U.storageKey=function(){return z()},U.isPostCompilingEnabled=function(){return S},U.isForceAsyncReloadEnabled=function(){return M},U.isKeepContent=function(){return D},U.refresh=function(t){function e(t){var e=K(t);return B[t]=e,e.then(function(e){x[t]={},Y(t,e.table),o[t]=!0},angular.noop),e}if(!p)throw new Error("Couldn't refresh translation table, no loader registered!");n.$emit("$translateRefreshStart",{language:t});var i=r.defer(),o={};if(i.promise.then(function(){for(var t in x)x.hasOwnProperty(t)&&(t in o||delete x[t]);l&&q(l)},angular.noop).finally(function(){n.$emit("$translateRefreshEnd",{language:t})}),t)x[t]?e(t).then(i.resolve,i.reject):i.reject();else{var s=a&&a.slice()||[];l&&-1===s.indexOf(l)&&s.push(l),r.all(s.map(e)).then(i.resolve,i.reject)}return i.promise},U.instant=function(t,e,n,r,o){var s=r&&r!==l?I(r)||r:l;if(null===t||angular.isUndefined(t))return t;if(r&&ut(r),angular.isArray(t)){for(var u={},c=0,d=t.length;c<d;c++)u[t[c]]=U.instant(t[c],e,n,r,o);return u}if(angular.isString(t)&&t.length<1)return t;t&&(t=N.apply(t));var f,p=[];i&&p.push(i),s&&p.push(s),a&&a.length&&(p=p.concat(a));for(var g=0,y=p.length;g<y;g++){var b=p[g];if(x[b]&&void 0!==x[b][t]&&(f=at(t,e,n,s,o)),void 0!==f)break}if(!f&&""!==f)if(m||v)f=G(t);else{f=F.interpolate(t,e,"filter",o);var _;h&&!P&&(_=tt(t,e,o)),h&&!P&&_&&(f=_)}return f},U.versionInfo=function(){return"2.15.1"},U.loaderCache=function(){return y},U.directivePriority=function(){return E},U.statefulFilter=function(){return L},U.isReady=function(){return $};var ct=r.defer();ct.promise.then(function(){$=!0}),U.onReady=function(t){var e=r.defer();return angular.isFunction(t)&&e.promise.then(t),$?e.resolve():ct.promise.then(e.resolve),e.promise},U.getAvailableLanguageKeys=function(){return _.length>0?_:null},U.getTranslationTable=function(t){return t=t||U.use(),t&&x[t]?angular.copy(x[t]):null};var dt=n.$on("$translateReady",function(){ct.resolve(),dt(),dt=null}),ht=n.$on("$translateChangeEnd",function(){ct.resolve(),ht(),ht=null});if(p){if(angular.equals(x,{})&&U.use()&&U.use(U.use()),a&&a.length)for(var ft=function(t){return Y(t.key,t.table),n.$emit("$translateChangeEnd",{language:t.key}),t},pt=0,gt=a.length;pt<gt;pt++){var mt=a[pt];!M&&x[mt]||(B[mt]=K(mt).then(ft))}}else n.$emit("$translateReady",{language:U.use()});return U}]}function r(t,e){"use strict";var n,r={};return r.setLocale=function(t){n=t},r.getInterpolationIdentifier=function(){return"default"},r.useSanitizeValueStrategy=function(t){return e.useStrategy(t),this},r.interpolate=function(n,r,i,o,a){r=r||{},r=e.sanitize(r,"params",o,i);var s;return angular.isNumber(n)?s=""+n:angular.isString(n)?(s=t(n)(r),s=e.sanitize(s,"text",o,i)):s="",s},r}function i(t,e,n,r,i){"use strict";var a=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:t.directivePriority(),compile:function(s,l){var u=l.translateValues?l.translateValues:void 0,c=l.translateInterpolation?l.translateInterpolation:void 0,d=s[0].outerHTML.match(/translate-value-+/i),h="^(.*)("+e.startSymbol()+".*"+e.endSymbol()+")(.*)",f="^(.*)"+e.startSymbol()+"(.*)"+e.endSymbol()+"(.*)";return function(s,p,g){s.interpolateParams={},s.preText="",s.postText="",s.translateNamespace=o(s);var m={},v=function(t){if(angular.isFunction(v._unwatchOld)&&(v._unwatchOld(),v._unwatchOld=void 0),angular.equals(t,"")||!angular.isDefined(t)){var n=a.apply(p.text()),r=n.match(h);if(angular.isArray(r)){s.preText=r[1],s.postText=r[3],m.translate=e(r[2])(s.$parent);var i=n.match(f);angular.isArray(i)&&i[2]&&i[2].length&&(v._unwatchOld=s.$watch(i[2],function(t){m.translate=t,_()}))}else m.translate=n||void 0}else m.translate=t;_()};!function(t,e,n){if(e.translateValues&&angular.extend(t,r(e.translateValues)(s.$parent)),d)for(var i in n)Object.prototype.hasOwnProperty.call(e,i)&&"translateValue"===i.substr(0,14)&&"translateValues"!==i&&(t[angular.lowercase(i.substr(14,1))+i.substr(15)]=n[i])}(s.interpolateParams,g,l);var y=!0;g.$observe("translate",function(t){void 0===t?v(""):""===t&&y||(m.translate=t,_()),y=!1});for(var b in g)g.hasOwnProperty(b)&&"translateAttr"===b.substr(0,13)&&b.length>13&&function(t){g.$observe(t,function(e){m[t]=e,_()})}(b);if(g.$observe("translateDefault",function(t){s.defaultText=t,_()}),u&&g.$observe("translateValues",function(t){t&&s.$parent.$watch(function(){angular.extend(s.interpolateParams,r(t)(s.$parent))})}),d){for(var x in g)Object.prototype.hasOwnProperty.call(g,x)&&"translateValue"===x.substr(0,14)&&"translateValues"!==x&&function(t){g.$observe(t,function(e){var n=angular.lowercase(t.substr(14,1))+t.substr(15);s.interpolateParams[n]=e})}(x)}var _=function(){for(var t in m)m.hasOwnProperty(t)&&void 0!==m[t]&&w(t,m[t],s,s.interpolateParams,s.defaultText,s.translateNamespace)},w=function(e,n,r,i,o,a){n?(a&&"."===n.charAt(0)&&(n=a+n),t(n,i,c,o,r.translateLanguage).then(function(t){C(t,r,!0,e)},function(t){C(t,r,!1,e)})):C(n,r,!1,e)},C=function(e,r,i,o){if(i||void 0!==r.defaultText&&(e=r.defaultText),"translate"===o){(i||!i&&!t.isKeepContent()&&void 0===g.translateKeepContent)&&p.empty().append(r.preText+e+r.postText);var a=t.isPostCompilingEnabled(),s=void 0!==l.translateCompile,u=s&&"false"!==l.translateCompile;(a&&!s||u)&&n(p.contents())(r)}else{var c=g.$attr[o];"data-"===c.substr(0,5)&&(c=c.substr(5)),c=c.substr(15),p.attr(c,e)}};(u||d||g.translateDefault)&&s.$watch("interpolateParams",_,!0),s.$on("translateLanguageChanged",_);var k=i.$on("$translateChangeSuccess",_);p.text().length?v(g.translate?g.translate:""):g.translate&&v(g.translate),_(),s.$on("$destroy",k)}}}}function o(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?o(t.$parent):void 0}function a(t,e){"use strict";return{restrict:"A",priority:t.directivePriority(),link:function(n,r,i){var o,a,l={},u=function(){angular.forEach(o,function(e,o){e&&(l[o]=!0,n.translateNamespace&&"."===e.charAt(0)&&(e=n.translateNamespace+e),t(e,a,i.translateInterpolation,void 0,n.translateLanguage).then(function(t){r.attr(o,t)},function(t){r.attr(o,t)}))}),angular.forEach(l,function(t,e){o[e]||(r.removeAttr(e),delete l[e])})};s(n,i.translateAttr,function(t){o=t},u),s(n,i.translateValues,function(t){a=t},u),i.translateValues&&n.$watch(i.translateValues,u,!0),n.$on("translateLanguageChanged",u);var c=e.$on("$translateChangeSuccess",u);u(),n.$on("$destroy",c)}}}function s(t,e,n,r){"use strict";e&&("::"===e.substr(0,2)?e=e.substr(2):t.$watch(e,function(t){n(t),r()},!0),n(t.$eval(e)))}function l(t,e){"use strict";return{compile:function(n){var r=function(e){e.addClass(t.cloakClassName())},i=function(e){e.removeClass(t.cloakClassName())};return r(n),function(n,o,a){var s=i.bind(this,o),l=r.bind(this,o);a.translateCloak&&a.translateCloak.length?(a.$observe("translateCloak",function(e){t(e).then(s,l)}),e.$on("$translateChangeSuccess",function(){t(a.translateCloak).then(s,l)})):t.onReady(s)}}}}function u(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t,e,n){t.translateNamespace=o(t),t.translateNamespace&&"."===n.translateNamespace.charAt(0)?t.translateNamespace+=n.translateNamespace:t.translateNamespace=n.translateNamespace}}}}}function o(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?o(t.$parent):void 0}function c(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(t,e,n){n.$observe("translateLanguage",function(e){t.translateLanguage=e}),t.$watch("translateLanguage",function(){t.$broadcast("translateLanguageChanged")})}}}}function d(t,e){"use strict";var n=function(n,r,i,o){if(!angular.isObject(r)){var a=this||{__SCOPE_IS_NOT_AVAILABLE:"More info at https://github.com/angular/angular.js/commit/8863b9d04c722b278fa93c5d66ad1e578ad6eb1f"};r=t(r)(a)}return e.instant(n,r,i,o)};return e.statefulFilter()&&(n.$stateful=!0),n}function h(t){"use strict";return t("translations")}return t.$inject=["$translate"],n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],r.$inject=["$interpolate","$translateSanitization"],i.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],a.$inject=["$translate","$rootScope"],l.$inject=["$translate","$rootScope"],d.$inject=["$parse","$translate"],h.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(t),t.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",e),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",r),r.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",i),i.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",a),a.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",l),l.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",u),u.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",c),c.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",d),d.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",h),h.displayName="$translationCache","pascalprecht.translate"}),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(0,function(){function t(t,e){"use strict";return function(n){if(!(n&&(angular.isArray(n.files)||angular.isString(n.prefix)&&angular.isString(n.suffix))))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");n.files||(n.files=[{prefix:n.prefix,suffix:n.suffix}]);for(var r=[],i=n.files.length,o=0;o<i;o++)r.push(function(r){if(!r||!angular.isString(r.prefix)||!angular.isString(r.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");var i=[r.prefix,n.key,r.suffix].join("");return angular.isObject(n.fileMap)&&n.fileMap[i]&&(i=n.fileMap[i]),e(angular.extend({url:i,method:"GET"},n.$http)).then(function(t){return t.data},function(){return t.reject(n.key)})}({prefix:n.files[o].prefix,key:n.key,suffix:n.files[o].suffix}));return t.all(r).then(function(t){for(var e=t.length,n={},r=0;r<e;r++)for(var i in t[r])n[i]=t[r][i];return n})}}return t.$inject=["$q","$http"],angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",t),t.displayName="$translateStaticFilesLoader","pascalprecht.translate"}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.bootbox=e(t.jQuery)}(this,function t(e,n){"use strict";function r(t){var e=m[p.locale];return e?e[t]:m.en[t]}function i(t,n,r){t.stopPropagation(),t.preventDefault(),e.isFunction(r)&&!1===r.call(n,t)||n.modal("hide")}function o(t){var e,n=0;for(e in t)n++;return n}function a(t,n){var r=0;e.each(t,function(t,e){n(t,e,r++)})}function s(t){var n,r;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return(t=e.extend({},p,t)).buttons||(t.buttons={}),n=t.buttons,r=o(n),a(n,function(t,i,o){if(e.isFunction(i)&&(i=n[t]={callback:i}),"object"!==e.type(i))throw new Error("button with key "+t+" must be an object");i.label||(i.label=t),i.className||(i.className=r<=2&&o===r-1?"btn-primary":"btn-default")}),t}function l(t,e){var n=t.length,r={};if(n<1||n>2)throw new Error("Invalid argument length");return 2===n||"string"==typeof t[0]?(r[e[0]]=t[0],r[e[1]]=t[1]):r=t[0],r}function u(t,n,r){return e.extend(!0,{},t,l(n,r))}function c(t,e,n,r){return h(u({className:"bootbox-"+t,buttons:d.apply(null,e)},r,n),e)}function d(){for(var t={},e=0,n=arguments.length;e<n;e++){var i=arguments[e],o=i.toLowerCase(),a=i.toUpperCase();t[o]={label:r(a)}}return t}function h(t,e){var r={};return a(e,function(t,e){r[e]=!0}),a(t.buttons,function(t){if(r[t]===n)throw new Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")}),t}var f={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},p={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},g={};g.alert=function(){var t;if((t=c("alert",["ok"],["message","callback"],arguments)).callback&&!e.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return!e.isFunction(t.callback)||t.callback.call(this)},g.dialog(t)},g.confirm=function(){var t;if(t=c("confirm",["cancel","confirm"],["message","callback"],arguments),t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,!1)},t.buttons.confirm.callback=function(){return t.callback.call(this,!0)},!e.isFunction(t.callback))throw new Error("confirm requires a callback");return g.dialog(t)},g.prompt=function(){var t,r,i,o,s,l,c;if(o=e(f.form),r={className:"bootbox-prompt",buttons:d("cancel","confirm"),value:"",inputType:"text"},t=h(u(r,arguments,["title","callback"]),["cancel","confirm"]),l=t.show===n||t.show,t.message=o,t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,null)},t.buttons.confirm.callback=function(){var n;switch(t.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":n=s.val();break;case"checkbox":var r=s.find("input:checked");n=[],a(r,function(t,r){n.push(e(r).val())})}return t.callback.call(this,n)},t.show=!1,!t.title)throw new Error("prompt requires a title");if(!e.isFunction(t.callback))throw new Error("prompt requires a callback");if(!f.inputs[t.inputType])throw new Error("invalid prompt type");switch(s=e(f.inputs[t.inputType]),t.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":s.val(t.value);break;case"select":var p={};if(c=t.inputOptions||[],!e.isArray(c))throw new Error("Please pass an array of input options");if(!c.length)throw new Error("prompt with select requires options");a(c,function(t,r){var i=s;if(r.value===n||r.text===n)throw new Error("given options in wrong format");r.group&&(p[r.group]||(p[r.group]=e("<optgroup/>").attr("label",r.group)),i=p[r.group]),i.append("<option value='"+r.value+"'>"+r.text+"</option>")}),a(p,function(t,e){s.append(e)}),s.val(t.value);break;case"checkbox":var m=e.isArray(t.value)?t.value:[t.value];if(!(c=t.inputOptions||[]).length)throw new Error("prompt with checkbox requires options");if(!c[0].value||!c[0].text)throw new Error("given options in wrong format");s=e("<div/>"),a(c,function(n,r){var i=e(f.inputs[t.inputType]);i.find("input").attr("value",r.value),i.find("label").append(r.text),a(m,function(t,e){e===r.value&&i.find("input").prop("checked",!0)}),s.append(i)})}return t.placeholder&&s.attr("placeholder",t.placeholder),t.pattern&&s.attr("pattern",t.pattern),t.maxlength&&s.attr("maxlength",t.maxlength),o.append(s),o.on("submit",function(t){t.preventDefault(),t.stopPropagation(),i.find(".btn-primary").click()}),(i=g.dialog(t)).off("shown.bs.modal"),i.on("shown.bs.modal",function(){s.focus()}),!0===l&&i.modal("show"),i},g.dialog=function(t){t=s(t);var r=e(f.dialog),o=r.find(".modal-dialog"),l=r.find(".modal-body"),u=t.buttons,c="",d={onEscape:t.onEscape};if(e.fn.modal===n)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(a(u,function(t,e){c+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",d[t]=e.callback}),l.find(".bootbox-body").html(t.message),!0===t.animate&&r.addClass("fade"),t.className&&r.addClass(t.className),"large"===t.size?o.addClass("modal-lg"):"small"===t.size&&o.addClass("modal-sm"),t.title&&l.before(f.header),t.closeButton){var h=e(f.closeButton);t.title?r.find(".modal-header").prepend(h):h.css("margin-top","-10px").prependTo(l)}return t.title&&r.find(".modal-title").html(t.title),c.length&&(l.after(f.footer),r.find(".modal-footer").html(c)),r.on("hidden.bs.modal",function(t){t.target===this&&r.remove()}),r.on("shown.bs.modal",function(){r.find(".btn-primary:first").focus()}),"static"!==t.backdrop&&r.on("click.dismiss.bs.modal",function(t){r.children(".modal-backdrop").length&&(t.currentTarget=r.children(".modal-backdrop").get(0)),t.target===t.currentTarget&&r.trigger("escape.close.bb")}),r.on("escape.close.bb",function(t){d.onEscape&&i(t,r,d.onEscape)}),r.on("click",".modal-footer button",function(t){var n=e(this).data("bb-handler");i(t,r,d[n])}),r.on("click",".bootbox-close-button",function(t){i(t,r,d.onEscape)}),r.on("keyup",function(t){27===t.which&&r.trigger("escape.close.bb")}),e(t.container).append(r),r.modal({backdrop:!!t.backdrop&&"static",keyboard:!1,show:!1}),t.show&&r.modal("show"),r},g.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],e.extend(p,t)},g.hideAll=function(){return e(".bootbox").modal("hide"),g};var m={bg_BG:{OK:"",CANCEL:"",CONFIRM:""},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zruit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"",CANCEL:"",CONFIRM:""},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"",CANCEL:"",CONFIRM:""},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"",CANCEL:"",CONFIRM:""},hu:{OK:"OK",CANCEL:"Mgsem",CONFIRM:"Megerst"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"",CONFIRM:""},lt:{OK:"Gerai",CANCEL:"Ataukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprint"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"",CONFIRM:""},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"",CANCEL:"",CONFIRM:""},tr:{OK:"Tamam",CANCEL:"ptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"",CONFIRM:""},zh_TW:{OK:"OK",CANCEL:"",CONFIRM:""}};return g.addLocale=function(t,n){return e.each(["OK","CANCEL","CONFIRM"],function(t,e){if(!n[e])throw new Error("Please supply a translation for '"+e+"'")}),m[t]={OK:n.OK,CANCEL:n.CANCEL,CONFIRM:n.CONFIRM},g},g.removeLocale=function(t){return delete m[t],g},g.setLocale=function(t){return g.setDefaults("locale",t)},g.init=function(n){return t(n||e)},g}),"function"==typeof define&&define.amd&&define(["bootbox"],function(t){window.bootbox=t}),angular.module("ngBootbox",[]).provider("$ngBootboxConfig",function(){var t="";return{setDefaultLocale:function(e){t=e,window.bootbox.setLocale(e)},addLocale:function(t,e){window.bootbox.addLocale(t,e)},removeLocale:function(t){window.bootbox.removeLocale(t)},$get:function(){return{getDefaultLocale:function(){return t}}}}}).directive("ngBootboxAlert",["$ngBootbox",function(t){return{restrict:"A",scope:!1,link:function(e,n,r){var i=r.ngBootboxAlert||"Yo!";n.bind("click",function(){t.alert(i)})}}}]).directive("ngBootboxConfirm",["$ngBootbox",function(t){return{restrict:"A",scope:{actionOK:"&ngBootboxConfirmAction",actionCancel:"&ngBootboxConfirmActionCancel"},link:function(e,n,r){var i=r.ngBootboxConfirm||"Are you sure?";n.bind("click",function(){t.confirm(i).then(function(){e.actionOK()},function(){e.actionCancel()})})}}}]).directive("ngBootboxPrompt",["$ngBootbox",function(t){return{restrict:"A",scope:{actionOK:"&ngBootboxPromptAction",actionCancel:"&ngBootboxPromptActionCancel",value:"@ngBootboxPromptDefaultValue",selectAllOnFocus:"@ngBootboxPromptSelectAllOnFocus"},link:function(e,n,r){var i=r.ngBootboxPrompt||"Are you sure?",o=r.ngBootboxPromptDefaultValue||"",a=e.$eval(r.ngBootboxPromptSelectAllOnFocus)||!1;n.bind("click",function(){t.prompt(i,o,a).then(function(t){e.actionOK({result:t})},function(){e.actionCancel()})})}}}]).directive("ngBootboxCustomDialog",["$ngBootbox",function(t){return{restrict:"A",scope:{title:"@ngBootboxTitle",buttons:"=ngBootboxButtons",className:"@ngBootboxClassName",data:"=ngBootboxData",options:"=ngBootboxOptions"},link:function(e,n,r){var i={},o=r.ngBootboxCustomDialogTemplate;e.options&&(i=e.options),e.title&&(i.title=e.title),e.buttons&&(i.buttons=e.buttons),e.className&&(i.className=e.className),e.data&&(i.data=e.data),o?i.templateUrl=o:i.message=r.ngBootboxCustomDialog,n.bind("click",function(){t.customDialog(i)})}}}]).factory("$ngBootbox",["$q","$templateCache","$compile","$rootScope","$http","$window",function(t,e,n,r,i,o){function a(n){var r=t.defer(),o=e.get(n);return void 0===o?i.get(n).success(function(t){e.put(n,t),r.resolve(t)}):r.resolve(o),r.promise}return{alert:function(e){var n=t.defer();return o.bootbox.alert(e,function(){n.resolve()}),n.promise},confirm:function(e){var n=t.defer();return o.bootbox.confirm(e,function(t){t?n.resolve():n.reject()}),n.promise},prompt:function(e,n,r){var i=t.defer();return o.bootbox.prompt({title:e,value:n||"",selectAllOnFocus:r||!1,callback:function(t){null!==t?i.resolve(t):i.reject()}}),i.promise},customDialog:function(t){t.templateUrl?a(t.templateUrl).then(function(e){t.scope=t.scope||r,t.message=n(e)(t.scope),o.bootbox.dialog(t)},function(){o.bootbox.dialog(t)}):o.bootbox.dialog(t)},setDefaults:function(t){o.bootbox.setDefaults(t)},hideAll:function(){o.bootbox.hideAll()},setLocale:function(t){o.bootbox.setLocale(t)},addLocale:function(t,e){o.bootbox.addLocale(t,e)},removeLocale:function(t){o.bootbox.removeLocale(t)}}}]),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(t,e,n,r){var i=r.has("$animateCss")?r.get("$animateCss"):null;return{link:function(r,o,a){function s(t){return m?{width:t.scrollWidth+"px"}:{height:t.scrollHeight+"px"}}function l(){o.hasClass("collapse")&&o.hasClass("in")||e.resolve(h(r)).then(function(){o.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),i?i(o,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:s(o[0])}).start().finally(u):t.addClass(o,"in",{css:{overflow:"hidden"},to:s(o[0])}).then(u)},angular.noop)}function u(){o.removeClass("collapsing").addClass("collapse").css(v),f(r)}function c(){if(!o.hasClass("collapse")&&!o.hasClass("in"))return d();e.resolve(p(r)).then(function(){o.css(s(o[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),i?i(o,{removeClass:"in",to:y}).start().finally(d):t.removeClass(o,"in",{to:y}).then(d)},angular.noop)}function d(){o.css(y),o.removeClass("collapsing").addClass("collapse"),g(r)}var h=n(a.expanding),f=n(a.expanded),p=n(a.collapsing),g=n(a.collapsed),m=!1,v={},y={};!function(){(m=!!("horizontal"in a))?(v={width:""},y={width:"0"}):(v={height:""},y={height:"0"}),r.$eval(a.uibCollapse)||o.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(v)}(),r.$watch(a.uibCollapse,function(t){t?c():l()})}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(t,e,n){n.$observe("disabled",function(t){n.$set("tabindex",t?-1:null)})}}}),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(t,e,n){this.groups=[],this.closeOthers=function(r){(angular.isDefined(e.closeOthers)?t.$eval(e.closeOthers):n.closeOthers)&&angular.forEach(this.groups,function(t){t!==r&&(t.isOpen=!1)})},this.addGroup=function(t){var e=this;this.groups.push(t),t.$on("$destroy",function(n){e.removeGroup(t)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(t,e){return e.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(t,e,n,r){e.addClass("panel"),r.addGroup(t),t.openClass=n.openClass||"panel-open",t.panelClass=n.panelClass||"panel-default",t.$watch("isOpen",function(n){e.toggleClass(t.openClass,!!n),n&&r.closeOthers(t)}),t.toggleOpen=function(e){t.isDisabled||e&&32!==e.which||(t.isOpen=!t.isOpen)};var i="accordiongroup-"+t.$id+"-"+Math.floor(1e4*Math.random());t.headingId=i+"-tab",t.panelId=i+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(t,e,n,r,i){r.setHeading(i(t,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(t,e,n,r){t.$watch(function(){return r[n.uibAccordionTransclude]},function(t){if(t){var n=angular.element(e[0].querySelector("uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"));n.html(""),n.append(t)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(t,e,n,r,i){t.closeable=!!n.close,e.addClass("alert"),n.$set("role","alert"),t.closeable&&e.addClass("alert-dismissible");var o=angular.isDefined(n.dismissOnTimeout)?r(n.dismissOnTimeout)(t.$parent):null;o&&i(function(){t.close()},parseInt(o,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(t,e){return e.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(t){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(e,n,r,i){var o=i[0],a=i[1],s=t(r.uibUncheckable);n.find("input").css({display:"none"}),a.$render=function(){n.toggleClass(o.activeClass,angular.equals(a.$modelValue,e.$eval(r.uibBtnRadio)))},n.on(o.toggleEvent,function(){if(!r.disabled){var t=n.hasClass(o.activeClass);t&&!angular.isDefined(r.uncheckable)||e.$apply(function(){a.$setViewValue(t?null:e.$eval(r.uibBtnRadio)),a.$render()})}}),r.uibUncheckable&&e.$watch(s,function(t){r.$set("uncheckable",t?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(t,e,n,r){function i(){return a(n.btnCheckboxTrue,!0)}function o(){return a(n.btnCheckboxFalse,!1)}function a(e,n){return angular.isDefined(e)?t.$eval(e):n}var s=r[0],l=r[1];e.find("input").css({display:"none"}),l.$render=function(){e.toggleClass(s.activeClass,angular.equals(l.$modelValue,i()))},e.on(s.toggleEvent,function(){n.disabled||t.$apply(function(){l.$setViewValue(e.hasClass(s.activeClass)?o():i()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(t,e,n,r,i){function o(t){for(var e=0;e<g.length;e++)g[e].slide.active=e===t}function a(n,r,a){if(!y){if(angular.extend(n,{direction:a}),angular.extend(g[v].slide||{},{direction:a}),i.enabled(e)&&!t.$currentTransition&&g[r].element&&p.slides.length>1){g[r].element.data(m,n.direction);var s=p.getCurrentIndex();angular.isNumber(s)&&g[s].element&&g[s].element.data(m,n.direction),t.$currentTransition=!0,i.on("addClass",g[r].element,function(e,n){"close"===n&&(t.$currentTransition=null,i.off("addClass",e))})}t.active=n.index,v=n.index,o(r),c()}}function s(t){for(var e=0;e<g.length;e++)if(g[e].slide===t)return e}function l(){h&&(n.cancel(h),h=null)}function u(e){e.length||(t.$currentTransition=null)}function c(){l();var e=+t.interval;!isNaN(e)&&e>0&&(h=n(d,e))}function d(){var e=+t.interval;f&&!isNaN(e)&&e>0&&g.length?t.next():t.pause()}var h,f,p=this,g=p.slides=t.slides=[],m="uib-slideDirection",v=t.active,y=!1;e.addClass("carousel"),p.addSlide=function(e,n){g.push({slide:e,element:n}),g.sort(function(t,e){return+t.slide.index-+e.slide.index}),(e.index===t.active||1===g.length&&!angular.isNumber(t.active))&&(t.$currentTransition&&(t.$currentTransition=null),v=e.index,t.active=e.index,o(v),p.select(g[s(e)]),1===g.length&&t.play())},p.getCurrentIndex=function(){for(var t=0;t<g.length;t++)if(g[t].slide.index===v)return t},p.next=t.next=function(){var e=(p.getCurrentIndex()+1)%g.length;{if(0!==e||!t.noWrap())return p.select(g[e],"next");t.pause()}},p.prev=t.prev=function(){var e=p.getCurrentIndex()-1<0?g.length-1:p.getCurrentIndex()-1;{if(!t.noWrap()||e!==g.length-1)return p.select(g[e],"prev");t.pause()}},p.removeSlide=function(e){var n=s(e);g.splice(n,1),g.length>0&&v===n?n>=g.length?(v=g.length-1,t.active=v,o(v),p.select(g[g.length-1])):(v=n,t.active=v,o(v),p.select(g[n])):v>n&&(v--,t.active=v),0===g.length&&(v=null,t.active=null)},p.select=t.select=function(e,n){var r=s(e.slide);void 0===n&&(n=r>p.getCurrentIndex()?"next":"prev"),e.slide.index===v||t.$currentTransition||a(e.slide,r,n)},t.indexOfSlide=function(t){return+t.slide.index},t.isActive=function(e){return t.active===e.slide.index},t.isPrevDisabled=function(){return 0===t.active&&t.noWrap()},t.isNextDisabled=function(){return t.active===g.length-1&&t.noWrap()},t.pause=function(){t.noPause||(f=!1,l())},t.play=function(){f||(f=!0,c())},e.on("mouseenter",t.pause),e.on("mouseleave",t.play),t.$on("$destroy",function(){y=!0,l()}),t.$watch("noTransition",function(t){i.enabled(e,!t)}),t.$watch("interval",c),t.$watchCollection("slides",u),t.$watch("active",function(t){if(angular.isNumber(t)&&v!==t){for(var e=0;e<g.length;e++)if(g[e].slide.index===t){t=e;break}g[t]&&(o(t),p.select(g[t]),v=t)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(t,e){return e.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(t){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(e,n,r,i){n.addClass("item"),i.addSlide(e,n),e.$on("$destroy",function(){i.removeSlide(e)}),e.$watch("active",function(e){t[e?"addClass":"removeClass"](n,"active")})}}}]).animation(".item",["$animateCss",function(t){function e(t,e,n){t.removeClass(e),n&&n()}return{beforeAddClass:function(n,r,i){if("active"===r){var o=!1,a=n.data("uib-slideDirection"),s="next"===a?"left":"right",l=e.bind(this,n,s+" "+a,i);return n.addClass(a),t(n,{addClass:s}).start().done(l),function(){o=!0}}i()},beforeRemoveClass:function(n,r,i){if("active"===r){var o=!1,a="next"===n.data("uib-slideDirection")?"left":"right",s=e.bind(this,n,a,i);return t(n,{addClass:a}).start().done(s),function(){o=!0}}i()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function(t,e,n,r,i){function o(t){return i(y,{key:t},!0)[0]}function a(t){var e=[],n=t.split(""),i=t.indexOf("'");if(i>-1){var o=!1;t=t.split("");for(var a=i;a<t.length;a++)o?("'"===t[a]&&(a+1<t.length&&"'"===t[a+1]?(t[a+1]="$",n[a+1]=""):(n[a]="",o=!1)),t[a]="$"):"'"===t[a]&&(t[a]="$",n[a]="",o=!0);t=t.join("")}return angular.forEach(y,function(r){var i=t.indexOf(r.key);if(i>-1){t=t.split(""),n[i]="("+r.regex+")",t[i]="$";for(var o=i+1,a=i+r.key.length;o<a;o++)n[o]="",t[o]="$";t=t.join(""),e.push({index:i,key:r.key,apply:r.apply,matcher:r.regex})}}),{regex:new RegExp("^"+n.join("")+"$"),map:r(e,"index")}}function s(t){for(var e,n,r=[],i=0;i<t.length;)if(angular.isNumber(n)){if("'"===t.charAt(i))(i+1>=t.length||"'"!==t.charAt(i+1))&&(r.push(l(t,n,i)),n=null);else if(i===t.length)for(;n<t.length;)e=u(t,n),r.push(e),n=e.endIdx;i++}else"'"!==t.charAt(i)?(e=u(t,i),r.push(e.parser),i=e.endIdx):(n=i,i++);return r}function l(t,e,n){return function(){return t.substr(e+1,n-e-1)}}function u(t,e){for(var n=t.substr(e),r=0;r<y.length;r++)if(new RegExp("^"+y[r].key).test(n)){var i=y[r];return{endIdx:e+i.key.length,parser:i.formatter}}return{endIdx:e+1,parser:function(){return n.charAt(0)}}}function c(t,e,n){return!(n<1)&&(1===e&&n>28?29===n&&(t%4==0&&t%100!=0||t%400==0):3!==e&&5!==e&&8!==e&&10!==e||n<31)}function d(t){return parseInt(t,10)}function h(t,e){return t&&e?m(t,e):t}function f(t,e){return t&&e?m(t,e,!0):t}function p(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function g(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}function m(t,e,n){n=n?-1:1;var r=t.getTimezoneOffset();return g(t,n*(p(e,r)-r))}var v,y,b=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){v=e.id,this.parsers={},this.formatters={},y=[{key:"yyyy",regex:"\\d{4}",apply:function(t){this.year=+t},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(t){t=+t,this.year=t<69?t+2e3:t+1900},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(t){this.year=+t},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){var e=t.getMonth();return/^[0-9]$/.test(e)?n(t,"MM"):n(t,"M")}},{key:"MMMM",regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)},formatter:function(t){return n(t,"MMMM")}},{key:"MMM",regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)},formatter:function(t){return n(t,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){return n(t,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){return n(t,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){var e=t.getDate();return/^[1-9]$/.test(e)?n(t,"dd"):n(t,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){return n(t,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){return n(t,"d")}},{key:"EEEE",regex:e.DATETIME_FORMATS.DAY.join("|"),formatter:function(t){return n(t,"EEEE")}},{key:"EEE",regex:e.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(t){return n(t,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(t){this.minutes=+t},formatter:function(t){return n(t,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(t){this.minutes=+t},formatter:function(t){return n(t,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(t){this.milliseconds=+t},formatter:function(t){return n(t,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(t){this.seconds=+t},formatter:function(t){return n(t,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(t){this.seconds=+t},formatter:function(t){return n(t,"s")}},{key:"a",regex:e.DATETIME_FORMATS.AMPMS.join("|"),apply:function(t){12===this.hours&&(this.hours=0),"PM"===t&&(this.hours+=12)},formatter:function(t){return n(t,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(t){var e=t.match(/([+-])(\d{2})(\d{2})/),n=e[1],r=e[2],i=e[3];this.hours+=d(n+r),this.minutes+=d(n+i)},formatter:function(t){return n(t,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(t){return n(t,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(t){return n(t,"w")}},{key:"GGGG",regex:e.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(t){return n(t,"GGGG")}},{key:"GGG",regex:e.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"GGG")}},{key:"GG",regex:e.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"GG")}},{key:"G",regex:e.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"G")}}],angular.version.major>=1&&angular.version.minor>4&&y.push({key:"LLLL",regex:e.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.STANDALONEMONTH.indexOf(t)},formatter:function(t){return n(t,"LLLL")}})},this.init(),this.getParser=function(t){var e=o(t);return e&&e.apply||null},this.overrideParser=function(t,e){var n=o(t);n&&angular.isFunction(e)&&(this.parsers={},n.apply=e)}.bind(this),this.filter=function(t,n){return angular.isDate(t)&&!isNaN(t)&&n?(n=e.DATETIME_FORMATS[n]||n,e.id!==v&&this.init(),this.formatters[n]||(this.formatters[n]=s(n)),this.formatters[n].reduce(function(e,n){return e+n(t)},"")):""},this.parse=function(n,r,i){if(!angular.isString(n)||!r)return n;r=(r=e.DATETIME_FORMATS[r]||r).replace(b,"\\$&"),e.id!==v&&this.init(),this.parsers[r]||(this.parsers[r]=a(r));var o=this.parsers[r],s=o.regex,l=o.map,u=n.match(s),d=!1;if(u&&u.length){var h,f;angular.isDate(i)&&!isNaN(i.getTime())?h={year:i.getFullYear(),month:i.getMonth(),date:i.getDate(),hours:i.getHours(),minutes:i.getMinutes(),seconds:i.getSeconds(),milliseconds:i.getMilliseconds()}:(i&&t.warn("dateparser:","baseDate is not a valid date"),h={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var p=1,g=u.length;p<g;p++){var m=l[p-1];"Z"===m.matcher&&(d=!0),m.apply&&m.apply.call(h,u[p])}var y=d?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,x=d?Date.prototype.setUTCHours:Date.prototype.setHours;return c(h.year,h.month,h.date)&&(!angular.isDate(i)||isNaN(i.getTime())||d?(f=new Date(0),y.call(f,h.year,h.month,h.date),x.call(f,h.hours||0,h.minutes||0,h.seconds||0,h.milliseconds||0)):(f=new Date(i),y.call(f,h.year,h.month,h.date),x.call(f,h.hours,h.minutes,h.seconds,h.milliseconds))),f}},this.toTimezone=h,this.fromTimezone=f,this.timezoneToOffset=p,this.addDateMinutes=g,this.convertTimezoneToLocal=m}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(t){var e=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(r,i){function o(t,e,n){l.push(t),u.push({scope:t,element:e}),f.forEach(function(e,n){a(e,t)}),t.$on("$destroy",s)}function a(e,r){var i=e.match(n),o=r.$eval(i[1]),a=i[2],s=c[e];if(!s){var l=function(e){var n=null;u.some(function(t){if(t.scope.$eval(h)===e)return n=t,!0}),s.lastActivated!==n&&(s.lastActivated&&t.removeClass(s.lastActivated.element,o),n&&t.addClass(n.element,o),s.lastActivated=n)};c[e]=s={lastActivated:null,scope:r,watchFn:l,compareWithExp:a,watcher:r.$watch(a,l)}}s.watchFn(r.$eval(a))}function s(t){var e=t.targetScope,n=l.indexOf(e);if(l.splice(n,1),u.splice(n,1),l.length){var r=l[0];angular.forEach(c,function(t){t.scope===e&&(t.watcher=r.$watch(t.compareWithExp,t.watchFn),t.scope=r)})}else c={}}var l=[],u=[],c={},d=i.uibIsClass.match(e),h=d[2],f=d[1].split(",");return o}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(t,e,n,r,i,o,a,s,l,u,c,d){function h(e){t.datepickerMode=e,t.datepickerOptions.datepickerMode=e}function f(e){var n;if(angular.version.minor<6)(n=e.$options||t.datepickerOptions.ngModelOptions||l.ngModelOptions||{}).getOption=function(t){return n[t]};else{var r=e.$options.getOption("timezone")||(t.datepickerOptions.ngModelOptions?t.datepickerOptions.ngModelOptions.timezone:null)||(l.ngModelOptions?l.ngModelOptions.timezone:null);n=e.$options.createChild(l.ngModelOptions).createChild(t.datepickerOptions.ngModelOptions).createChild(e.$options).createChild({timezone:r})}return n}var p=this,g={$setViewValue:angular.noop},m={},v=[];e.addClass("uib-datepicker"),n.$set("role","application"),t.datepickerOptions||(t.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(e){switch(e){case"customClass":case"dateDisabled":t[e]=t.datepickerOptions[e]||angular.noop;break;case"datepickerMode":t.datepickerMode=angular.isDefined(t.datepickerOptions.datepickerMode)?t.datepickerOptions.datepickerMode:l.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":p[e]=angular.isDefined(t.datepickerOptions[e])?i(t.datepickerOptions[e])(t.$parent):l[e];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":p[e]=angular.isDefined(t.datepickerOptions[e])?t.datepickerOptions[e]:l[e];break;case"startingDay":angular.isDefined(t.datepickerOptions.startingDay)?p.startingDay=t.datepickerOptions.startingDay:angular.isNumber(l.startingDay)?p.startingDay=l.startingDay:p.startingDay=(o.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":t.$watch("datepickerOptions."+e,function(t){t?angular.isDate(t)?p[e]=d.fromTimezone(new Date(t),m.getOption("timezone")):(u&&a.warn("Literal date support has been deprecated, please switch to date object usage"),p[e]=new Date(s(t,"medium"))):p[e]=l[e]?d.fromTimezone(new Date(l[e]),m.getOption("timezone")):null,p.refreshView()});break;case"maxMode":case"minMode":t.datepickerOptions[e]?t.$watch(function(){return t.datepickerOptions[e]},function(n){p[e]=t[e]=angular.isDefined(n)?n:t.datepickerOptions[e],("minMode"===e&&p.modes.indexOf(t.datepickerOptions.datepickerMode)<p.modes.indexOf(p[e])||"maxMode"===e&&p.modes.indexOf(t.datepickerOptions.datepickerMode)>p.modes.indexOf(p[e]))&&(t.datepickerMode=p[e],t.datepickerOptions.datepickerMode=p[e])}):p[e]=t[e]=l[e]||null}}),t.uniqueId="datepicker-"+t.$id+"-"+Math.floor(1e4*Math.random()),t.disabled=angular.isDefined(n.disabled)||!1,angular.isDefined(n.ngDisabled)&&v.push(t.$parent.$watch(n.ngDisabled,function(e){t.disabled=e,p.refreshView()})),t.isActive=function(e){return 0===p.compare(e.date,p.activeDate)&&(t.activeDateId=e.uid,!0)},this.init=function(e){m=f(g=e),t.datepickerOptions.initDate?(p.activeDate=d.fromTimezone(t.datepickerOptions.initDate,m.getOption("timezone"))||new Date,t.$watch("datepickerOptions.initDate",function(t){t&&(g.$isEmpty(g.$modelValue)||g.$invalid)&&(p.activeDate=d.fromTimezone(t,m.getOption("timezone")),p.refreshView())})):p.activeDate=new Date;var n=g.$modelValue?new Date(g.$modelValue):new Date;this.activeDate=isNaN(n)?d.fromTimezone(new Date,m.getOption("timezone")):d.fromTimezone(n,m.getOption("timezone")),g.$render=function(){p.render()}},this.render=function(){if(g.$viewValue){var t=new Date(g.$viewValue);!isNaN(t)?this.activeDate=d.fromTimezone(t,m.getOption("timezone")):c||a.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){t.selectedDt=null,this._refreshView(),t.activeDt&&(t.activeDateId=t.activeDt.uid);var e=g.$viewValue?new Date(g.$viewValue):null;e=d.fromTimezone(e,m.getOption("timezone")),g.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,n){var r=g.$viewValue?new Date(g.$viewValue):null;r=d.fromTimezone(r,m.getOption("timezone"));var i=new Date;i=d.fromTimezone(i,m.getOption("timezone"));var o=this.compare(e,i),a={date:e,label:d.filter(e,n),selected:r&&0===this.compare(e,r),disabled:this.isDisabled(e),past:o<0,current:0===o,future:o>0,customClass:this.customClass(e)||null};return r&&0===this.compare(e,r)&&(t.selectedDt=a),p.activeDate&&0===this.compare(a.date,p.activeDate)&&(t.activeDt=a),a},this.isDisabled=function(e){return t.disabled||this.minDate&&this.compare(e,this.minDate)<0||this.maxDate&&this.compare(e,this.maxDate)>0||t.dateDisabled&&t.dateDisabled({date:e,mode:t.datepickerMode})},this.customClass=function(e){return t.customClass({date:e,mode:t.datepickerMode})},this.split=function(t,e){for(var n=[];t.length>0;)n.push(t.splice(0,e));return n},t.select=function(e){if(t.datepickerMode===p.minMode){var n=g.$viewValue?d.fromTimezone(new Date(g.$viewValue),m.getOption("timezone")):new Date(0,0,0,0,0,0,0);n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n=d.toTimezone(n,m.getOption("timezone")),g.$setViewValue(n),g.$render()}else p.activeDate=e,h(p.modes[p.modes.indexOf(t.datepickerMode)-1]),t.$emit("uib:datepicker.mode");t.$broadcast("uib:datepicker.focus")},t.move=function(t){var e=p.activeDate.getFullYear()+t*(p.step.years||0),n=p.activeDate.getMonth()+t*(p.step.months||0);p.activeDate.setFullYear(e,n,1),p.refreshView()},t.toggleMode=function(e){e=e||1,t.datepickerMode===p.maxMode&&1===e||t.datepickerMode===p.minMode&&-1===e||(h(p.modes[p.modes.indexOf(t.datepickerMode)+e]),t.$emit("uib:datepicker.mode"))},t.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var y=function(){p.element[0].focus()};t.$on("uib:datepicker.focus",y),t.keydown=function(e){var n=t.keys[e.which];if(n&&!e.shiftKey&&!e.altKey&&!t.disabled)if(e.preventDefault(),p.shortcutPropagation||e.stopPropagation(),"enter"===n||"space"===n){if(p.isDisabled(p.activeDate))return;t.select(p.activeDate)}else!e.ctrlKey||"up"!==n&&"down"!==n?(p.handleKeyDown(n,e),p.refreshView()):t.toggleMode("up"===n?1:-1)},e.on("keydown",function(e){t.$apply(function(){t.keydown(e)})}),t.$on("$destroy",function(){for(;v.length;)v.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(t,e,n){function r(t,e){return 1!==e||t%4!=0||t%100==0&&t%400!=0?o[e]:29}function i(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}var o=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=e,this.init=function(e){angular.extend(e,this),t.showWeeks=e.showWeeks,e.refreshView()},this.getDates=function(t,e){for(var n,r=new Array(e),i=new Date(t),o=0;o<e;)n=new Date(i),r[o++]=n,i.setDate(i.getDate()+1);return r},this._refreshView=function(){var e=this.activeDate.getFullYear(),r=this.activeDate.getMonth(),o=new Date(this.activeDate);o.setFullYear(e,r,1);var a=this.startingDay-o.getDay(),s=a>0?7-a:-a,l=new Date(o);s>0&&l.setDate(1-s);for(var u=this.getDates(l,42),c=0;c<42;c++)u[c]=angular.extend(this.createDateObject(u[c],this.formatDay),{secondary:u[c].getMonth()!==r,uid:t.uniqueId+"-"+c});t.labels=new Array(7);for(var d=0;d<7;d++)t.labels[d]={abbr:n(u[d].date,this.formatDayHeader),full:n(u[d].date,"EEEE")};if(t.title=n(this.activeDate,this.formatDayTitle),t.rows=this.split(u,7),t.showWeeks){t.weekNumbers=[];for(var h=(11-this.startingDay)%7,f=t.rows.length,p=0;p<f;p++)t.weekNumbers.push(i(t.rows[p][h].date))}},this.compare=function(t,e){var n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate());return n.setFullYear(t.getFullYear()),r.setFullYear(e.getFullYear()),n-r},this.handleKeyDown=function(t,e){var n=this.activeDate.getDate();if("left"===t)n-=1;else if("up"===t)n-=7;else if("right"===t)n+=1;else if("down"===t)n+=7;else if("pageup"===t||"pagedown"===t){var i=this.activeDate.getMonth()+("pageup"===t?-1:1);this.activeDate.setMonth(i,1),n=Math.min(r(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===t?n=1:"end"===t&&(n=r(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(t,e,n){this.step={years:1},this.element=e,this.init=function(t){angular.extend(t,this),t.refreshView()},this._refreshView=function(){for(var e,r=new Array(12),i=this.activeDate.getFullYear(),o=0;o<12;o++)(e=new Date(this.activeDate)).setFullYear(i,o,1),r[o]=angular.extend(this.createDateObject(e,this.formatMonth),{uid:t.uniqueId+"-"+o});t.title=n(this.activeDate,this.formatMonthTitle),t.rows=this.split(r,this.monthColumns),t.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(t,e){var n=new Date(t.getFullYear(),t.getMonth()),r=new Date(e.getFullYear(),e.getMonth());return n.setFullYear(t.getFullYear()),r.setFullYear(e.getFullYear()),n-r},this.handleKeyDown=function(t,e){var n=this.activeDate.getMonth();if("left"===t)n-=1;else if("up"===t)n-=this.monthColumns;else if("right"===t)n+=1;else if("down"===t)n+=this.monthColumns;else if("pageup"===t||"pagedown"===t){var r=this.activeDate.getFullYear()+("pageup"===t?-1:1);this.activeDate.setFullYear(r)}else"home"===t?n=0:"end"===t&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(t,e,n){function r(t){return parseInt((t-1)/o,10)*o+1}var i,o;this.element=e,this.yearpickerInit=function(){i=this.yearColumns,o=this.yearRows*i,this.step={years:o}},this._refreshView=function(){for(var e,n=new Array(o),a=0,s=r(this.activeDate.getFullYear());a<o;a++)(e=new Date(this.activeDate)).setFullYear(s+a,0,1),n[a]=angular.extend(this.createDateObject(e,this.formatYear),{uid:t.uniqueId+"-"+a});t.title=[n[0].label,n[o-1].label].join(" - "),t.rows=this.split(n,i),t.columns=i},this.compare=function(t,e){return t.getFullYear()-e.getFullYear()},this.handleKeyDown=function(t,e){var n=this.activeDate.getFullYear();"left"===t?n-=1:"up"===t?n-=i:"right"===t?n+=1:"down"===t?n+=i:"pageup"===t||"pagedown"===t?n+=("pageup"===t?-1:1)*o:"home"===t?n=r(this.activeDate.getFullYear()):"end"===t&&(n=r(this.activeDate.getFullYear())+o-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(t,e,n,r){var i=r[0],o=r[1];i.init(o)}}}).directive("uibDaypicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(t,e,n,r){var i=r[0];r[1].init(i)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(t,e,n,r){var i=r[0];r[1].init(i)}}}).directive("uibYearpicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(t,e,n,r){var i=r[0];angular.extend(i,r[1]),i.yearpickerInit(),i.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(t,e){var n,r,i={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},o={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},a=/(HTML|BODY)/;return{getRawNode:function(t){return t.nodeName?t:t[0]||t},parseStyle:function(t){return t=parseFloat(t),isFinite(t)?t:0},offsetParent:function(n){for(var r=(n=this.getRawNode(n)).offsetParent||t[0].documentElement;r&&r!==t[0].documentElement&&function(t){return"static"===(e.getComputedStyle(t).position||"static")}(r);)r=r.offsetParent;return r||t[0].documentElement},scrollbarWidth:function(i){if(i){if(angular.isUndefined(r)){var o=t.find("body");o.addClass("uib-position-body-scrollbar-measure"),r=e.innerWidth-o[0].clientWidth,r=isFinite(r)?r:0,o.removeClass("uib-position-body-scrollbar-measure")}return r}if(angular.isUndefined(n)){var a=angular.element('<div class="uib-position-scrollbar-measure"></div>');t.find("body").append(a),n=a[0].offsetWidth-a[0].clientWidth,n=isFinite(n)?n:0,a.remove()}return n},scrollbarPadding:function(t){t=this.getRawNode(t);var n=e.getComputedStyle(t),r=this.parseStyle(n.paddingRight),i=this.parseStyle(n.paddingBottom),o=this.scrollParent(t,!1,!0),s=this.scrollbarWidth(a.test(o.tagName));return{scrollbarWidth:s,widthOverflow:o.scrollWidth>o.clientWidth,right:r+s,originalRight:r,heightOverflow:o.scrollHeight>o.clientHeight,bottom:i+s,originalBottom:i}},isScrollable:function(t,n){t=this.getRawNode(t);var r=n?i.hidden:i.normal,o=e.getComputedStyle(t);return r.test(o.overflow+o.overflowY+o.overflowX)},scrollParent:function(n,r,o){n=this.getRawNode(n);var a=r?i.hidden:i.normal,s=t[0].documentElement,l=e.getComputedStyle(n);if(o&&a.test(l.overflow+l.overflowY+l.overflowX))return n;var u="absolute"===l.position,c=n.parentElement||s;if(c===s||"fixed"===l.position)return s;for(;c.parentElement&&c!==s;){var d=e.getComputedStyle(c);if(u&&"static"!==d.position&&(u=!1),!u&&a.test(d.overflow+d.overflowY+d.overflowX))break;c=c.parentElement}return c},position:function(n,r){n=this.getRawNode(n);var i=this.offset(n);if(r){var o=e.getComputedStyle(n);i.top-=this.parseStyle(o.marginTop),i.left-=this.parseStyle(o.marginLeft)}var a=this.offsetParent(n),s={top:0,left:0};return a!==t[0].documentElement&&((s=this.offset(a)).top+=a.clientTop-a.scrollTop,s.left+=a.clientLeft-a.scrollLeft),{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top-s.top),left:Math.round(i.left-s.left)}},offset:function(n){var r=(n=this.getRawNode(n)).getBoundingClientRect();return{width:Math.round(angular.isNumber(r.width)?r.width:n.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:n.offsetHeight),top:Math.round(r.top+(e.pageYOffset||t[0].documentElement.scrollTop)),left:Math.round(r.left+(e.pageXOffset||t[0].documentElement.scrollLeft))}},viewportOffset:function(n,r,i){i=!1!==i;var o=(n=this.getRawNode(n)).getBoundingClientRect(),a={top:0,left:0,bottom:0,right:0},s=r?t[0].documentElement:this.scrollParent(n),l=s.getBoundingClientRect();if(a.top=l.top+s.clientTop,a.left=l.left+s.clientLeft,s===t[0].documentElement&&(a.top+=e.pageYOffset,a.left+=e.pageXOffset),a.bottom=a.top+s.clientHeight,a.right=a.left+s.clientWidth,i){var u=e.getComputedStyle(s);a.top+=this.parseStyle(u.paddingTop),a.bottom-=this.parseStyle(u.paddingBottom),a.left+=this.parseStyle(u.paddingLeft),a.right-=this.parseStyle(u.paddingRight)}return{top:Math.round(o.top-a.top),bottom:Math.round(a.bottom-o.bottom),left:Math.round(o.left-a.left),right:Math.round(a.right-o.right)}},parsePlacement:function(t){var e=o.auto.test(t);return e&&(t=t.replace(o.auto,"")),t=t.split("-"),t[0]=t[0]||"top",o.primary.test(t[0])||(t[0]="top"),t[1]=t[1]||"center",o.secondary.test(t[1])||(t[1]="center"),t[2]=!!e,t},positionElements:function(t,n,r,i){t=this.getRawNode(t),n=this.getRawNode(n);var a=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),s=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");r=this.parsePlacement(r);var l=i?this.offset(t):this.position(t),u={top:0,left:0,placement:""};if(r[2]){var c=this.viewportOffset(t,i),d=e.getComputedStyle(n),h={width:a+Math.round(Math.abs(this.parseStyle(d.marginLeft)+this.parseStyle(d.marginRight))),height:s+Math.round(Math.abs(this.parseStyle(d.marginTop)+this.parseStyle(d.marginBottom)))};if(r[0]="top"===r[0]&&h.height>c.top&&h.height<=c.bottom?"bottom":"bottom"===r[0]&&h.height>c.bottom&&h.height<=c.top?"top":"left"===r[0]&&h.width>c.left&&h.width<=c.right?"right":"right"===r[0]&&h.width>c.right&&h.width<=c.left?"left":r[0],r[1]="top"===r[1]&&h.height-l.height>c.bottom&&h.height-l.height<=c.top?"bottom":"bottom"===r[1]&&h.height-l.height>c.top&&h.height-l.height<=c.bottom?"top":"left"===r[1]&&h.width-l.width>c.right&&h.width-l.width<=c.left?"right":"right"===r[1]&&h.width-l.width>c.left&&h.width-l.width<=c.right?"left":r[1],"center"===r[1])if(o.vertical.test(r[0])){var f=l.width/2-a/2;c.left+f<0&&h.width-l.width<=c.right?r[1]="left":c.right+f<0&&h.width-l.width<=c.left&&(r[1]="right")}else{var p=l.height/2-h.height/2;c.top+p<0&&h.height-l.height<=c.bottom?r[1]="top":c.bottom+p<0&&h.height-l.height<=c.top&&(r[1]="bottom")}}switch(r[0]){case"top":u.top=l.top-s;break;case"bottom":u.top=l.top+l.height;break;case"left":u.left=l.left-a;break;case"right":u.left=l.left+l.width}switch(r[1]){case"top":u.top=l.top;break;case"bottom":u.top=l.top+l.height-s;break;case"left":u.left=l.left;break;case"right":u.left=l.left+l.width-a;break;case"center":o.vertical.test(r[0])?u.left=l.left+l.width/2-a/2:u.top=l.top+l.height/2-s/2}return u.top=Math.round(u.top),u.left=Math.round(u.left),u.placement="center"===r[1]?r[0]:r[0]+"-"+r[1],u},adjustTop:function(t,e,n,r){if(-1!==t.indexOf("top")&&n!==r)return{top:e.top-r+"px"}},positionArrow:function(t,n){var r=(t=this.getRawNode(t)).querySelector(".tooltip-inner, .popover-inner");if(r){var i=angular.element(r).hasClass("tooltip-inner"),a=i?t.querySelector(".tooltip-arrow"):t.querySelector(".arrow");if(a){var s={top:"",bottom:"",left:"",right:""};if("center"!==(n=this.parsePlacement(n))[1]){var l="border-"+n[0]+"-width",u=e.getComputedStyle(a)[l],c="border-";o.vertical.test(n[0])?c+=n[0]+"-"+n[1]:c+=n[1]+"-"+n[0],c+="-radius";var d=e.getComputedStyle(i?r:t)[c];switch(n[0]){case"top":s.bottom=i?"0":"-"+u;break;case"bottom":s.top=i?"0":"-"+u;break;case"left":s.right=i?"0":"-"+u;break;case"right":s.left=i?"0":"-"+u}s[n[1]]=d,angular.element(a).css(s)}else angular.element(a).css(s)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(t,e,n,r,i,o,a,s,l,u,c,d,h,f,p,g){function m(e){var n=d.parse(e,C,t.date);if(isNaN(n))for(var r=0;r<R.length;r++)if(n=d.parse(e,R[r],t.date),!isNaN(n))return n;return n}function v(t){if(angular.isNumber(t)&&(t=new Date(t)),!t)return null;if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var e=m(t);if(!isNaN(e))return d.toTimezone(e,F.getOption("timezone"))}return F.getOption("allowInvalid")?t:void 0}function y(t,e){var r=t||e;return!n.ngRequired&&!r||(angular.isNumber(r)&&(r=new Date(r)),!r||(!(!angular.isDate(r)||isNaN(r))||!!angular.isString(r)&&!isNaN(m(r))))}function b(n){if(t.isOpen||!t.disabled){var r=P[0],i=e[0].contains(n.target),o=void 0!==r.contains&&r.contains(n.target);!t.isOpen||i||o||t.$apply(function(){t.isOpen=!1})}}function x(n){27===n.which&&t.isOpen?(n.preventDefault(),n.stopPropagation(),t.$apply(function(){t.isOpen=!1}),e[0].focus()):40!==n.which||t.isOpen||(n.preventDefault(),n.stopPropagation(),t.$apply(function(){t.isOpen=!0}))}function _(){if(t.isOpen){var r=angular.element(P[0].querySelector(".uib-datepicker-popup")),i=n.popupPlacement?n.popupPlacement:h.placement,o=u.positionElements(e,r,i,S);r.css({top:o.top+"px",left:o.left+"px"}),r.hasClass("uib-position-measure")&&r.removeClass("uib-position-measure")}}function w(t){var e;return angular.version.minor<6?(e=angular.isObject(t.$options)?t.$options:{timezone:null}).getOption=function(t){return e[t]}:e=t.$options,e}var C,k,S,M,T,$,D,E,L,A,F,P,R,O=!1,N=[];this.init=function(i){if(A=i,F=w(A),k=angular.isDefined(n.closeOnDateSelection)?t.$parent.$eval(n.closeOnDateSelection):h.closeOnDateSelection,S=angular.isDefined(n.datepickerAppendToBody)?t.$parent.$eval(n.datepickerAppendToBody):h.appendToBody,M=angular.isDefined(n.onOpenFocus)?t.$parent.$eval(n.onOpenFocus):h.onOpenFocus,T=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:h.datepickerPopupTemplateUrl,$=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:h.datepickerTemplateUrl,R=angular.isDefined(n.altInputFormats)?t.$parent.$eval(n.altInputFormats):h.altInputFormats,t.showButtonBar=angular.isDefined(n.showButtonBar)?t.$parent.$eval(n.showButtonBar):h.showButtonBar,h.html5Types[n.type]?(C=h.html5Types[n.type],O=!0):(C=n.uibDatepickerPopup||h.datepickerPopup,n.$observe("uibDatepickerPopup",function(t,e){var n=t||h.datepickerPopup;if(n!==C&&(C=n,A.$modelValue=null,!C))throw new Error("uibDatepickerPopup must have a date format specified.")})),!C)throw new Error("uibDatepickerPopup must have a date format specified.");if(O&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");(D=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>")).attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":T}),(E=angular.element(D.children()[0])).attr("template-url",$),t.datepickerOptions||(t.datepickerOptions={}),O&&"month"===n.type&&(t.datepickerOptions.datepickerMode="month",t.datepickerOptions.minMode="month"),E.attr("datepicker-options","datepickerOptions"),O?A.$formatters.push(function(e){return t.date=d.fromTimezone(e,F.getOption("timezone")),e}):(A.$$parserName="date",A.$validators.date=y,A.$parsers.unshift(v),A.$formatters.push(function(e){return A.$isEmpty(e)?(t.date=e,e):(angular.isNumber(e)&&(e=new Date(e)),t.date=d.fromTimezone(e,F.getOption("timezone")),d.filter(t.date,C))})),A.$viewChangeListeners.push(function(){t.date=m(A.$viewValue)}),e.on("keydown",x),P=r(D)(t),D.remove(),S?s.find("body").append(P):e.after(P),t.$on("$destroy",function(){for(!0===t.isOpen&&(l.$$phase||t.$apply(function(){t.isOpen=!1})),P.remove(),e.off("keydown",x),s.off("click",b),L&&L.off("scroll",_),angular.element(a).off("resize",_);N.length;)N.shift()()})},t.getText=function(e){return t[e+"Text"]||h[e+"Text"]},t.isDisabled=function(e){"today"===e&&(e=d.fromTimezone(new Date,F.getOption("timezone")));var n={};return angular.forEach(["minDate","maxDate"],function(e){t.datepickerOptions[e]?angular.isDate(t.datepickerOptions[e])?n[e]=new Date(t.datepickerOptions[e]):(g&&i.warn("Literal date support has been deprecated, please switch to date object usage"),n[e]=new Date(c(t.datepickerOptions[e],"medium"))):n[e]=null}),t.datepickerOptions&&n.minDate&&t.compare(e,n.minDate)<0||n.maxDate&&t.compare(e,n.maxDate)>0},t.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},t.dateSelection=function(n){t.date=n;var r=t.date?d.filter(t.date,C):null;e.val(r),A.$setViewValue(r),k&&(t.isOpen=!1,e[0].focus())},t.keydown=function(n){27===n.which&&(n.stopPropagation(),t.isOpen=!1,e[0].focus())},t.select=function(e,n){if(n.stopPropagation(),"today"===e){var r=new Date;angular.isDate(t.date)?(e=new Date(t.date)).setFullYear(r.getFullYear(),r.getMonth(),r.getDate()):(e=d.fromTimezone(r,F.getOption("timezone"))).setHours(0,0,0,0)}t.dateSelection(e)},t.close=function(n){n.stopPropagation(),t.isOpen=!1,e[0].focus()},t.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&N.push(t.$parent.$watch(o(n.ngDisabled),function(e){t.disabled=e})),t.$watch("isOpen",function(r){r?t.disabled?t.isOpen=!1:f(function(){_(),M&&t.$broadcast("uib:datepicker.focus"),s.on("click",b);var r=n.popupPlacement?n.popupPlacement:h.placement;S||u.parsePlacement(r)[2]?(L=L||angular.element(u.scrollParent(e)))&&L.on("scroll",_):L=null,angular.element(a).on("resize",_)},0,!1):(s.off("click",b),L&&L.off("scroll",_),angular.element(a).off("resize",_))}),t.$on("uib:datepicker.mode",function(){f(_,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(t,e,n,r){var i=r[0];r[1].init(i)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(t){return function(e,n){var r;return function(){var i=this,o=Array.prototype.slice.call(arguments);r&&t.cancel(r),r=t(function(){e.apply(i,o)},n)}}}]),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var t={};return{entries:function(){return Object.keys(t).map(function(e){return{key:e,value:t[e]}})},get:function(e){return t[e]},hasKey:function(e){return!!t[e]},keys:function(){return Object.keys(t)},put:function(e,n){t[e]||(t[e]=[]),t[e].push(n)},remove:function(e,n){var r=t[e];if(r){var i=r.indexOf(n);-1!==i&&r.splice(i,1),r.length||delete t[e]}}}}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.multiMap","ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope","$$multiMap",function(t,e,n){var r=null,i=n.createNew();this.isOnlyOpen=function(t,e){var n=i.get(e);return!(!n||!n.reduce(function(e,n){return n.scope===t?n:e},{}))&&1===n.length},this.open=function(e,n,a){if(r||t.on("click",o),r&&r!==e&&(r.isOpen=!1),r=e,a){var s=i.get(a);s?-1===s.map(function(t){return t.scope}).indexOf(e)&&i.put(a,{scope:e}):i.put(a,{scope:e})}},this.close=function(e,n,a){if(r===e&&(t.off("click",o),t.off("keydown",this.keybindFilter),r=null),a){var s=i.get(a);if(s){var l=s.reduce(function(t,n){return n.scope===e?n:t},{});l&&i.remove(a,l)}}};var o=function(t){if(r&&r.isOpen&&!(t&&"disabled"===r.getAutoClose()||t&&3===t.which)){var n=r.getToggleElement();if(!(t&&n&&n[0].contains(t.target))){var i=r.getDropdownElement();t&&"outsideClick"===r.getAutoClose()&&i&&i[0].contains(t.target)||(r.focusToggleElement(),r.isOpen=!1,e.$$phase||r.$apply())}}};this.keybindFilter=function(t){if(r){var e=r.getDropdownElement(),n=r.getToggleElement(),i=e&&e[0].contains(t.target),a=n&&n[0].contains(t.target);27===t.which?(t.stopPropagation(),r.focusToggleElement(),o()):r.isKeynavEnabled()&&-1!==[38,40].indexOf(t.which)&&r.isOpen&&(i||a)&&(t.preventDefault(),t.stopPropagation(),r.focusDropdownEntry(t.which))}}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(t,e,n,r,i,o,a,s,l,u,c){function d(){e.append(p.dropdownMenu)}var h,f,p=this,g=t.$new(),m=i.appendToOpenClass,v=i.openClass,y=angular.noop,b=n.onToggle?r(n.onToggle):angular.noop,x=!1,_=l.find("body");e.addClass("dropdown"),this.init=function(){n.isOpen&&(f=r(n.isOpen),y=f.assign,t.$watch(f,function(t){g.isOpen=!!t})),x=angular.isDefined(n.keyboardNav)},this.toggle=function(t){return g.isOpen=arguments.length?!!t:!g.isOpen,angular.isFunction(y)&&y(g,g.isOpen),g.isOpen},this.isOpen=function(){return g.isOpen},g.getToggleElement=function(){return p.toggleElement},g.getAutoClose=function(){return n.autoClose||"always"},g.getElement=function(){return e},g.isKeynavEnabled=function(){return x},g.focusDropdownEntry=function(t){var n=p.dropdownMenu?angular.element(p.dropdownMenu).find("a"):e.find("ul").eq(0).find("a");switch(t){case 40:angular.isNumber(p.selectedOption)?p.selectedOption=p.selectedOption===n.length-1?p.selectedOption:p.selectedOption+1:p.selectedOption=0;break;case 38:angular.isNumber(p.selectedOption)?p.selectedOption=0===p.selectedOption?0:p.selectedOption-1:p.selectedOption=n.length-1}n[p.selectedOption].focus()},g.getDropdownElement=function(){return p.dropdownMenu},g.focusToggleElement=function(){p.toggleElement&&p.toggleElement[0].focus()},g.$watch("isOpen",function(i,f){var x=null,w=!1;if(angular.isDefined(n.dropdownAppendTo)){var C=r(n.dropdownAppendTo)(g);C&&(x=angular.element(C))}if(angular.isDefined(n.dropdownAppendToBody)&&!1!==r(n.dropdownAppendToBody)(g)&&(w=!0),w&&!x&&(x=_),x&&p.dropdownMenu&&(i?(x.append(p.dropdownMenu),e.on("$destroy",d)):(e.off("$destroy",d),d())),x&&p.dropdownMenu){var k,S,M,T=s.positionElements(e,p.dropdownMenu,"bottom-left",!0),$=0;if(k={top:T.top+"px",display:i?"block":"none"},S=p.dropdownMenu.hasClass("dropdown-menu-right"),S?(k.left="auto",(M=s.scrollbarPadding(x)).heightOverflow&&M.scrollbarWidth&&($=M.scrollbarWidth),k.right=window.innerWidth-$-(T.left+e.prop("offsetWidth"))+"px"):(k.left=T.left+"px",k.right="auto"),!w){var D=s.offset(x);k.top=T.top-D.top+"px",S?k.right=window.innerWidth-(T.left-D.left+e.prop("offsetWidth"))+"px":k.left=T.left-D.left+"px"}p.dropdownMenu.css(k)}var E=x||e,L=x?m:v,A=E.hasClass(L),F=o.isOnlyOpen(t,x);if(A===!i){a[x?F?"removeClass":"addClass":i?"addClass":"removeClass"](E,L).then(function(){angular.isDefined(i)&&i!==f&&b(t,{open:!!i})})}if(i)p.dropdownMenuTemplateUrl?c(p.dropdownMenuTemplateUrl).then(function(t){h=g.$new(),u(t.trim())(h,function(t){var e=t;p.dropdownMenu.replaceWith(e),p.dropdownMenu=e,l.on("keydown",o.keybindFilter)})}):l.on("keydown",o.keybindFilter),g.focusToggleElement(),o.open(g,e,x);else{if(o.close(g,e,x),p.dropdownMenuTemplateUrl){h&&h.$destroy();var P=angular.element('<ul class="dropdown-menu"></ul>');p.dropdownMenu.replaceWith(P),p.dropdownMenu=P}p.selectedOption=null}angular.isFunction(y)&&y(t,i)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(t,e,n,r){r.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(t,e,n,r){if(r&&!angular.isDefined(n.dropdownNested)){e.addClass("dropdown-menu");var i=n.templateUrl;i&&(r.dropdownMenuTemplateUrl=i),r.dropdownMenu||(r.dropdownMenu=e)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(t,e,n,r){if(r){e.addClass("dropdown-toggle"),r.toggleElement=e;var i=function(i){i.preventDefault(),e.hasClass("disabled")||n.disabled||t.$apply(function(){r.toggle()})};e.on("click",i),e.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(r.isOpen,function(t){e.attr("aria-expanded",!!t)}),t.$on("$destroy",function(){e.off("click",i)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var t=[];return{add:function(e,n){t.push({key:e,value:n})},get:function(e){for(var n=0;n<t.length;n++)if(e===t[n].key)return t[n]},keys:function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n].key);return e},top:function(){return t[t.length-1]},remove:function(e){for(var n=-1,r=0;r<t.length;r++)if(e===t[r].key){n=r;break}return t.splice(n,1)[0]},removeTop:function(){return t.pop()},length:function(){return t.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var t=this;this.resolver=null,this.setResolver=function(t){this.resolver=t},this.$get=["$injector","$q",function(e,n){var r=t.resolver?e.get(t.resolver):null;return{resolve:function(t,i,o,a){if(r)return r.resolve(t,i,o,a);var s=[];return angular.forEach(t,function(t){angular.isFunction(t)||angular.isArray(t)?s.push(n.resolve(e.invoke(t))):angular.isString(t)?s.push(n.resolve(e.get(t))):s.push(n.resolve(t))}),n.all(s).then(function(e){var n={},r=0;return angular.forEach(t,function(t,i){n[i]=e[r++]}),n})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(t,e,n){function r(e,r,i){i.modalInClass&&(t.addClass(r,i.modalInClass),e.$on(n.NOW_CLOSING_EVENT,function(n,o){var a=o();e.modalOptions.animation?t.removeClass(r,i.modalInClass).then(a):a()}))}return{restrict:"A",compile:function(t,e){return t.addClass(e.backdropClass),r}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(t,e,n,r){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/modal/window.html"},link:function(i,o,a){o.addClass(a.windowTopClass||""),i.size=a.size,i.close=function(e){var n=t.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),t.dismiss(n.key,"backdrop click"))},o.on("click",i.close),i.$isRendered=!0;var s=e.defer();i.$$postDigest(function(){s.resolve()}),s.promise.then(function(){var s=null;a.modalInClass&&(s=n(o,{addClass:a.modalInClass}).start(),i.$on(t.NOW_CLOSING_EVENT,function(t,e){var r=e();n(o,{removeClass:a.modalInClass}).start().then(r)})),e.when(s).then(function(){var e=t.getTop();if(e&&t.modalRendered(e.key),!r[0].activeElement||!o[0].contains(r[0].activeElement)){var n=o[0].querySelector("[autofocus]");n?n.focus():o[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(t,e){e.modalAnimation&&t.addClass(e.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(t){return{link:function(e,n,r,i,o){o(e.$parent,function(e){n.empty(),t.enter(e,n)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(t,e,n,r,i,o,a,s,l){function u(t){return t.replace(D,function(t,e){return(e?"-":"")+t.toLowerCase()})}function c(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}function d(){for(var t=-1,e=C.keys(),n=0;n<e.length;n++)C.get(e[n]).value.backdrop&&(t=n);return t>-1&&t<M&&(t=M),t}function h(t,e){var n=C.get(t).value,r=n.appendTo;C.remove(t),(T=C.top())&&(M=parseInt(T.value.modalDomEl.attr("index"),10)),g(n.modalDomEl,n.modalScope,function(){var e=n.openedClass||w;k.remove(e,t);var i=k.hasKey(e);r.toggleClass(e,i),!i&&_&&_.heightOverflow&&_.scrollbarWidth&&(_.originalRight?r.css({paddingRight:_.originalRight+"px"}):r.css({paddingRight:""}),_=null),f(!0)},n.closedDeferred),p(),e&&e.focus?e.focus():r.focus&&r.focus()}function f(t){var e;C.length()>0&&(e=C.top().value).modalDomEl.toggleClass(e.windowTopClass||"",t)}function p(){if(b&&-1===d()){var t=x;g(b,x,function(){t=null}),b=void 0,x=void 0}}function g(e,n,r,i){function a(){a.done||(a.done=!0,t.leave(e).then(function(){r&&r(),e.remove(),i&&i.resolve()}),n.$destroy())}var s,l=null,u=function(){return s||(s=o.defer(),l=s.promise),function(){s.resolve()}};return n.$broadcast(S.NOW_CLOSING_EVENT,u),o.when(l).then(a)}function m(t){if(t.isDefaultPrevented())return t;var e=C.top();if(e)switch(t.which){case 27:e.value.keyboard&&(t.preventDefault(),i.$apply(function(){S.dismiss(e.key,"escape key press")}));break;case 9:var n=S.loadFocusElementList(e),r=!1;t.shiftKey?(S.isFocusInFirstItem(t,n)||S.isModalFocused(t,e))&&(r=S.focusLastFocusableElement(n)):S.isFocusInLastItem(t,n)&&(r=S.focusFirstFocusableElement(n)),r&&(t.preventDefault(),t.stopPropagation())}}function v(t,e,n){return!t.value.modalScope.$broadcast("modal.closing",e,n).defaultPrevented}function y(){Array.prototype.forEach.call(document.querySelectorAll("["+$+"]"),function(t){var e=parseInt(t.getAttribute($),10)-1;t.setAttribute($,e),e||(t.removeAttribute($),t.removeAttribute("aria-hidden"))})}var b,x,_,w="modal-open",C=s.createNew(),k=a.createNew(),S={NOW_CLOSING_EVENT:"modal.stack.now-closing"},M=0,T=null,$="data-bootstrap-modal-aria-hidden-count",D=/[A-Z]/g;return i.$watch(d,function(t){x&&(x.index=t)}),n.on("keydown",m),i.$on("$destroy",function(){n.off("keydown",m)}),S.open=function(e,o){function a(t){if(t&&"BODY"!==t[0].tagName)return function(t){var e=t.parent()?t.parent().children():[];return Array.prototype.filter.call(e,function(e){return e!==t[0]})}(t).forEach(function(t){var e="true"===t.getAttribute("aria-hidden"),n=parseInt(t.getAttribute($),10);n||(n=e?1:0),t.setAttribute($,n+1),t.setAttribute("aria-hidden","true")}),a(t.parent())}var s=n[0].activeElement,c=o.openedClass||w;f(!1),T=C.top(),C.add(e,{deferred:o.deferred,renderDeferred:o.renderDeferred,closedDeferred:o.closedDeferred,modalScope:o.scope,backdrop:o.backdrop,keyboard:o.keyboard,openedClass:o.openedClass,windowTopClass:o.windowTopClass,animation:o.animation,appendTo:o.appendTo}),k.put(c,e);var h=o.appendTo,p=d();p>=0&&!b&&((x=i.$new(!0)).modalOptions=o,x.index=p,(b=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>')).attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),o.backdropClass&&b.addClass(o.backdropClass),o.animation&&b.attr("modal-animation","true"),r(b)(x),t.enter(b,h),l.isScrollable(h)&&(_=l.scrollbarPadding(h)).heightOverflow&&_.scrollbarWidth&&h.css({paddingRight:_.right+"px"}));var g;o.component?(g=document.createElement(u(o.component.name)),(g=angular.element(g)).attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):g=o.content,M=T?parseInt(T.value.modalDomEl.attr("index"),10)+1:0;var m=angular.element('<div uib-modal-window="modal-window"></div>');m.attr({class:"modal","template-url":o.windowTemplateUrl,"window-top-class":o.windowTopClass,role:"dialog","aria-labelledby":o.ariaLabelledBy,"aria-describedby":o.ariaDescribedBy,size:o.size,index:M,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(g),o.windowClass&&m.addClass(o.windowClass),o.animation&&m.attr("modal-animation","true"),h.addClass(c),o.scope&&(o.scope.$$topModalIndex=M),t.enter(r(m)(o.scope),h),C.top().value.modalDomEl=m,C.top().value.modalOpener=s,a(m)},S.close=function(t,e){var n=C.get(t);return y(),n&&v(n,e,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(e),h(t,n.value.modalOpener),!0):!n},S.dismiss=function(t,e){var n=C.get(t);return y(),n&&v(n,e,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(e),h(t,n.value.modalOpener),!0):!n},S.dismissAll=function(t){for(var e=this.getTop();e&&this.dismiss(e.key,t);)e=this.getTop()},S.getTop=function(){return C.top()},S.modalRendered=function(t){var e=C.get(t);e&&e.value.renderDeferred.resolve()},S.focusFirstFocusableElement=function(t){return t.length>0&&(t[0].focus(),!0)},S.focusLastFocusableElement=function(t){return t.length>0&&(t[t.length-1].focus(),!0)},S.isModalFocused=function(t,e){if(t&&e){var n=e.value.modalDomEl;if(n&&n.length)return(t.target||t.srcElement)===n[0]}return!1},S.isFocusInFirstItem=function(t,e){return e.length>0&&(t.target||t.srcElement)===e[0]},S.isFocusInLastItem=function(t,e){return e.length>0&&(t.target||t.srcElement)===e[e.length-1]},S.loadFocusElementList=function(t){if(t){var e=t.value.modalDomEl;if(e&&e.length){var n=e[0].querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]");return n?Array.prototype.filter.call(n,function(t){return c(t)}):n}}},S}]).provider("$uibModal",function(){var t={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(e,n,r,i,o,a,s){function l(t){return t.template?n.when(t.template):i(angular.isFunction(t.templateUrl)?t.templateUrl():t.templateUrl)}var u={},c=null;return u.getPromiseChain=function(){return c},u.open=function(i){function u(){return m}var d=n.defer(),h=n.defer(),f=n.defer(),p=n.defer(),g={result:d.promise,opened:h.promise,closed:f.promise,rendered:p.promise,close:function(t){return s.close(g,t)},dismiss:function(t){return s.dismiss(g,t)}};if(i=angular.extend({},t.options,i),i.resolve=i.resolve||{},i.appendTo=i.appendTo||r.find("body").eq(0),!i.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(!i.component&&!i.template&&!i.templateUrl)throw new Error("One of component or template or templateUrl options is required.");var m;m=i.component?n.when(a.resolve(i.resolve,{},null,null)):n.all([l(i),a.resolve(i.resolve,{},null,null)]);var v;return v=c=n.all([c]).then(u,u).then(function(t){function n(e,n,r,i){e.$scope=a,e.$scope.$resolve={},r?e.$scope.$uibModalInstance=g:e.$uibModalInstance=g;var o=n?t[1]:t;angular.forEach(o,function(t,n){i&&(e[n]=t),e.$scope.$resolve[n]=t})}var r=i.scope||e,a=r.$new();a.$close=g.close,a.$dismiss=g.dismiss,a.$on("$destroy",function(){a.$$uibDestructionScheduled||a.$dismiss("$uibUnscheduledDestruction")});var l,u,c={scope:a,deferred:d,renderDeferred:p,closedDeferred:f,animation:i.animation,backdrop:i.backdrop,keyboard:i.keyboard,backdropClass:i.backdropClass,windowTopClass:i.windowTopClass,windowClass:i.windowClass,windowTemplateUrl:i.windowTemplateUrl,ariaLabelledBy:i.ariaLabelledBy,ariaDescribedBy:i.ariaDescribedBy,size:i.size,openedClass:i.openedClass,appendTo:i.appendTo},m={},v={};i.component?(n(m,!1,!0,!1),m.name=i.component,c.component=m):i.controller&&(n(v,!0,!1,!0),u=o(i.controller,v,!0,i.controllerAs),i.controllerAs&&i.bindToController&&((l=u.instance).$close=a.$close,l.$dismiss=a.$dismiss,angular.extend(l,{$resolve:v.$scope.$resolve},r)),l=u(),angular.isFunction(l.$onInit)&&l.$onInit()),i.component||(c.content=t[0]),s.open(g,c),h.resolve(!0)},function(t){h.reject(t),d.reject(t)}).finally(function(){c===v&&(c=null)}),g},u}]};return t}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(t){return{create:function(e,n,r){e.setNumPages=r.numPages?t(r.numPages).assign:angular.noop,e.ngModelCtrl={$setViewValue:angular.noop},e._watchers=[],e.init=function(t,i){e.ngModelCtrl=t,e.config=i,t.$render=function(){e.render()},r.itemsPerPage?e._watchers.push(n.$parent.$watch(r.itemsPerPage,function(t){e.itemsPerPage=parseInt(t,10),n.totalPages=e.calculateTotalPages(),e.updatePage()})):e.itemsPerPage=i.itemsPerPage,n.$watch("totalItems",function(t,r){(angular.isDefined(t)||t!==r)&&(n.totalPages=e.calculateTotalPages(),e.updatePage())})},e.calculateTotalPages=function(){var t=e.itemsPerPage<1?1:Math.ceil(n.totalItems/e.itemsPerPage);return Math.max(t||0,1)},e.render=function(){n.page=parseInt(e.ngModelCtrl.$viewValue,10)||1},n.selectPage=function(t,r){r&&r.preventDefault(),(!n.ngDisabled||!r)&&n.page!==t&&t>0&&t<=n.totalPages&&(r&&r.target&&r.target.blur(),e.ngModelCtrl.$setViewValue(t),e.ngModelCtrl.$render())},n.getText=function(t){return n[t+"Text"]||e.config[t+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},e.updatePage=function(){e.setNumPages(n.$parent,n.totalPages),n.page>n.totalPages?n.selectPage(n.totalPages):e.ngModelCtrl.$render()},n.$on("$destroy",function(){for(;e._watchers.length;)e._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(t,e,n,r){t.align=angular.isDefined(e.align)?t.$parent.$eval(e.align):r.align,n.create(this,t,e)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("uibPager",["uibPagerConfig",function(t){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(t,e){return e.templateUrl||"uib/template/pager/pager.html"},link:function(e,n,r,i){n.addClass("pager");var o=i[0],a=i[1];a&&o.init(a,t)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(t,e,n,r,i){function o(t,e,n){return{number:t,text:e,active:n}}function a(t,e){var n=[],r=1,i=e,a=angular.isDefined(l)&&l<e;a&&(u?(i=(r=Math.max(t-Math.floor(l/2),1))+l-1)>e&&(r=(i=e)-l+1):(r=(Math.ceil(t/l)-1)*l+1,i=Math.min(r+l-1,e)));for(var s=r;s<=i;s++){var f=o(s,h(s),s===t);n.push(f)}if(a&&l>0&&(!u||c||d)){if(r>1){if(!d||r>3){var p=o(r-1,"...",!1);n.unshift(p)}if(d){if(3===r){var g=o(2,"2",!1);n.unshift(g)}var m=o(1,"1",!1);n.unshift(m)}}if(i<e){if(!d||i<e-2){var v=o(i+1,"...",!1);n.push(v)}if(d){if(i===e-2){var y=o(e-1,e-1,!1);n.push(y)}var b=o(e,e,!1);n.push(b)}}}return n}var s=this,l=angular.isDefined(e.maxSize)?t.$parent.$eval(e.maxSize):i.maxSize,u=angular.isDefined(e.rotate)?t.$parent.$eval(e.rotate):i.rotate,c=angular.isDefined(e.forceEllipses)?t.$parent.$eval(e.forceEllipses):i.forceEllipses,d=angular.isDefined(e.boundaryLinkNumbers)?t.$parent.$eval(e.boundaryLinkNumbers):i.boundaryLinkNumbers,h=angular.isDefined(e.pageLabel)?function(n){return t.$parent.$eval(e.pageLabel,{$page:n})}:angular.identity;t.boundaryLinks=angular.isDefined(e.boundaryLinks)?t.$parent.$eval(e.boundaryLinks):i.boundaryLinks,t.directionLinks=angular.isDefined(e.directionLinks)?t.$parent.$eval(e.directionLinks):i.directionLinks,e.$set("role","menu"),r.create(this,t,e),e.maxSize&&s._watchers.push(t.$parent.$watch(n(e.maxSize),function(t){l=parseInt(t,10),s.render()}));var f=this.render;this.render=function(){f(),t.page>0&&t.page<=t.totalPages&&(t.pages=a(t.page,t.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(t,e){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(t,e){return e.templateUrl||"uib/template/pagination/pagination.html"},link:function(t,n,r,i){n.addClass("pagination");var o=i[0],a=i[1];a&&o.init(a,e)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function t(t){var e=/[A-Z]/g;return t.replace(e,function(t,e){return(e?"-":"")+t.toLowerCase()})}var e={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},r={};this.options=function(t){angular.extend(r,t)},this.setTriggers=function(t){angular.extend(n,t)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(i,o,a,s,l,u,c,d,h){function f(t){if(27===t.which){var e=p.top();e&&(e.value.close(),e=null)}}var p=h.createNew();return s.on("keyup",f),c.$on("$destroy",function(){s.off("keyup",f)}),function(i,c,h,f){function g(t){var e=(t||f.trigger||h).split(" ");return{show:e,hide:e.map(function(t){return n[t]||t})}}f=angular.extend({},e,r,f);var m=t(i),v=u.startSymbol(),y=u.endSymbol(),b="<div "+m+'-popup uib-title="'+v+"title"+y+'" '+(f.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+y+'" ')+'origin-scope="origScope" class="uib-position-measure '+c+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(t,e){var n=o(b);return function(t,e,r,o){function u(){V.isOpen?m():h()}function h(){Y&&!t.$eval(r[c+"Enable"])||(x(),C(),V.popupDelay?A||(A=a(v,V.popupDelay,!1)):v())}function m(){y(),V.popupCloseDelay?F||(F=a(b,V.popupCloseDelay,!1)):b()}function v(){if(y(),x(),!V.content)return angular.noop;_(),V.$evalAsync(function(){V.isOpen=!0,k(!0),B()})}function y(){A&&(a.cancel(A),A=null),P&&(a.cancel(P),P=null)}function b(){V&&V.$evalAsync(function(){V&&(V.isOpen=!1,k(!1),V.animation?L||(L=a(w,150,!1)):w())})}function x(){F&&(a.cancel(F),F=null),L&&(a.cancel(L),L=null)}function _(){D||(E=V.$new(),D=n(E,function(t){N?s.find("body").append(t):e.after(t)}),p.add(V,{close:b}),S())}function w(){y(),x(),M(),D&&(D.remove(),D=null,R&&a.cancel(R)),p.remove(V),E&&(E.$destroy(),E=null)}function C(){V.title=r[c+"Title"],V.content=z?z(t):r[i],V.popupClass=r[c+"Class"],V.placement=angular.isDefined(r[c+"Placement"])?r[c+"Placement"]:f.placement;var e=l.parsePlacement(V.placement);O=e[1]?e[0]+"-"+e[1]:e[0];var n=parseInt(r[c+"PopupDelay"],10),o=parseInt(r[c+"PopupCloseDelay"],10);V.popupDelay=isNaN(n)?f.popupDelay:n,V.popupCloseDelay=isNaN(o)?f.popupCloseDelay:o}function k(e){H&&angular.isFunction(H.assign)&&H.assign(t,e)}function S(){W.length=0,z?(W.push(t.$watch(z,function(t){V.content=t,!t&&V.isOpen&&b()})),W.push(E.$watch(function(){j||(j=!0,E.$$postDigest(function(){j=!1,V&&V.isOpen&&B()}))}))):W.push(r.$observe(i,function(t){V.content=t,!t&&V.isOpen?b():B()})),W.push(r.$observe(c+"Title",function(t){V.title=t,V.isOpen&&B()})),W.push(r.$observe(c+"Placement",function(t){V.placement=t||f.placement,V.isOpen&&B()}))}function M(){W.length&&(angular.forEach(W,function(t){t()}),W.length=0)}function T(t){V&&V.isOpen&&D&&(e[0].contains(t.target)||D[0].contains(t.target)||m())}function $(t){27===t.which&&m()}var D,E,L,A,F,P,R,O,N=!!angular.isDefined(f.appendToBody)&&f.appendToBody,I=g(void 0),Y=angular.isDefined(r[c+"Enable"]),V=t.$new(!0),j=!1,H=!!angular.isDefined(r[c+"IsOpen"])&&d(r[c+"IsOpen"]),z=!!f.useContentExp&&d(r[i]),W=[],B=function(){D&&D.html()&&(P||(P=a(function(){var t=l.positionElements(e,D,V.placement,N),n=angular.isDefined(D.offsetHeight)?D.offsetHeight:D.prop("offsetHeight"),r=N?l.offset(e):l.position(e);D.css({top:t.top+"px",left:t.left+"px"});var i=t.placement.split("-");D.hasClass(i[0])||(D.removeClass(O.split("-")[0]),D.addClass(i[0])),D.hasClass(f.placementClassPrefix+t.placement)||(D.removeClass(f.placementClassPrefix+O),D.addClass(f.placementClassPrefix+t.placement)),R=a(function(){var t=angular.isDefined(D.offsetHeight)?D.offsetHeight:D.prop("offsetHeight"),e=l.adjustTop(i,r,n,t);e&&D.css(e),R=null},0,!1),D.hasClass("uib-position-measure")?(l.positionArrow(D,t.placement),D.removeClass("uib-position-measure")):O!==t.placement&&l.positionArrow(D,t.placement),O=t.placement,P=null},0,!1)))};V.origScope=t,V.isOpen=!1,V.contentExp=function(){return V.content},r.$observe("disabled",function(t){t&&y(),t&&V.isOpen&&b()}),H&&t.$watch(H,function(t){V&&!t===V.isOpen&&u()});var U=function(){I.show.forEach(function(t){"outsideClick"===t?e.off("click",u):(e.off(t,h),e.off(t,u)),e.off("keypress",$)}),I.hide.forEach(function(t){"outsideClick"===t?s.off("click",T):e.off(t,m)})};!function(){var n=[],i=[],o=t.$eval(r[c+"Trigger"]);U(),angular.isObject(o)?(Object.keys(o).forEach(function(t){n.push(t),i.push(o[t])}),I={show:n,hide:i}):I=g(o),"none"!==I.show&&I.show.forEach(function(t,n){"outsideClick"===t?(e.on("click",u),s.on("click",T)):t===I.hide[n]?e.on(t,u):t&&(e.on(t,h),e.on(I.hide[n],m)),e.on("keypress",$)})}();var G=t.$eval(r[c+"Animation"]);V.animation=angular.isDefined(G)?!!G:f.animation;var q,K=c+"AppendToBody";q=K in r&&void 0===r[K]||t.$eval(r[K]),N=angular.isDefined(q)?q:N,t.$on("$destroy",function(){U(),w(),V=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(t,e,n,r){return{link:function(i,o,a){var s,l,u,c=i.$eval(a.tooltipTemplateTranscludeScope),d=0,h=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),u&&(t.leave(u).then(function(){l=null}),l=u,u=null)};i.$watch(e.parseAsResourceUrl(a.uibTooltipTemplateTransclude),function(e){var a=++d;e?(r(e,!0).then(function(r){if(a===d){var i=c.$new(),l=n(r)(i,function(e){h(),t.enter(e,o)});u=l,(s=i).$emit("$includeContentLoaded",e)}},function(){a===d&&(h(),i.$emit("$includeContentError",e))}),i.$emit("$includeContentRequested",e)):h()}),i.$on("$destroy",h)}}}]).directive("uibTooltipClasses",["$uibPosition",function(t){return{restrict:"A",link:function(e,n,r){if(e.placement){var i=t.parsePlacement(e.placement);n.addClass(i[0])}e.popupClass&&n.addClass(e.popupClass),e.animation&&n.addClass(r.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(t){return t("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(t){return t("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(t){return t("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(t){return t("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(t){return t("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(t){return t("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(t,e,n){function r(){return angular.isDefined(t.maxParam)?t.maxParam:n.max}var i=this,o=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):n.animate;this.bars=[],t.max=r(),this.addBar=function(t,e,n){o||e.css({transition:"none"}),this.bars.push(t),t.max=r(),t.title=n&&angular.isDefined(n.title)?n.title:"progressbar",t.$watch("value",function(e){t.recalculatePercentage()}),t.recalculatePercentage=function(){var e=i.bars.reduce(function(t,e){return e.percent=+(100*e.value/e.max).toFixed(2),t+e.percent},0);e>100&&(t.percent-=e-100)},t.$on("$destroy",function(){e=null,i.removeBar(t)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1),this.bars.forEach(function(t){t.recalculatePercentage()})},t.$watch("maxParam",function(t){i.bars.forEach(function(t){t.max=r(),t.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(t,e,n,r){r.addBar(t,e,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(t,e,n,r){r.addBar(t,angular.element(e.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(t,e,n){var r={$setViewValue:angular.noop},i=this;this.init=function(i){(r=i).$render=this.render,r.$formatters.push(function(t){return angular.isNumber(t)&&t<<0!==t&&(t=Math.round(t)),t}),this.stateOn=angular.isDefined(e.stateOn)?t.$parent.$eval(e.stateOn):n.stateOn,this.stateOff=angular.isDefined(e.stateOff)?t.$parent.$eval(e.stateOff):n.stateOff,this.enableReset=angular.isDefined(e.enableReset)?t.$parent.$eval(e.enableReset):n.enableReset;var o=angular.isDefined(e.titles)?t.$parent.$eval(e.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var a=angular.isDefined(e.ratingStates)?t.$parent.$eval(e.ratingStates):new Array(angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max);t.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(t){for(var e=0,n=t.length;e<n;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(e)},t[e]);return t},this.getTitle=function(t){return t>=this.titles.length?t+1:this.titles[t]},t.rate=function(e){if(!t.readonly&&e>=0&&e<=t.range.length){var n=i.enableReset&&r.$viewValue===e?0:e;r.$setViewValue(n),r.$render()}},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=r.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=r.$viewValue,t.title=i.getTitle(t.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(t,e,n,r){var i=r[0],o=r[1];i.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(t){function e(t){for(var e=0;e<r.tabs.length;e++)if(r.tabs[e].index===t)return e}var n,r=this;r.tabs=[],r.select=function(t,o){if(!i){var a=e(n),s=r.tabs[a];if(s){if(s.tab.onDeselect({$event:o,$selectedIndex:t}),o&&o.isDefaultPrevented())return;s.tab.active=!1}var l=r.tabs[t];l?(l.tab.onSelect({$event:o}),l.tab.active=!0,r.active=l.index,n=l.index):!l&&angular.isDefined(n)&&(r.active=null,n=null)}},r.addTab=function(t){if(r.tabs.push({tab:t,index:t.index}),r.tabs.sort(function(t,e){return t.index>e.index?1:t.index<e.index?-1:0}),t.index===r.active||!angular.isDefined(r.active)&&1===r.tabs.length){var n=e(t.index);r.select(n)}},r.removeTab=function(t){for(var e,n=0;n<r.tabs.length;n++)if(r.tabs[n].tab===t){e=n;break}if(r.tabs[e].index===r.active){var i=e===r.tabs.length-1?e-1:e+1%r.tabs.length;r.select(i)}r.tabs.splice(e,1)},t.$watch("tabset.active",function(t){angular.isDefined(t)&&t!==n&&r.select(e(t))});var i;t.$on("$destroy",function(){i=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(t,e){return e.templateUrl||"uib/template/tabs/tabset.html"},link:function(t,e,n){t.vertical=!!angular.isDefined(n.vertical)&&t.$parent.$eval(n.vertical),t.justified=!!angular.isDefined(n.justified)&&t.$parent.$eval(n.justified)}}}).directive("uibTab",["$parse",function(t){return{require:"^uibTabset",replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(e,n,r,i,o){e.disabled=!1,r.disable&&e.$parent.$watch(t(r.disable),function(t){e.disabled=!!t}),angular.isUndefined(r.index)&&(i.tabs&&i.tabs.length?e.index=Math.max.apply(null,i.tabs.map(function(t){return t.index}))+1:e.index=0),angular.isUndefined(r.classes)&&(e.classes=""),e.select=function(t){if(!e.disabled){for(var n,r=0;r<i.tabs.length;r++)if(i.tabs[r].tab===e){n=r;break}i.select(n,t)}},i.addTab(e),e.$on("$destroy",function(){i.removeTab(e)}),e.$transcludeFn=o}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(t,e){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}).directive("uibTabContentTransclude",function(){function t(t){return t.tagName&&(t.hasAttribute("uib-tab-heading")||t.hasAttribute("data-uib-tab-heading")||t.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===t.tagName.toLowerCase()||"data-uib-tab-heading"===t.tagName.toLowerCase()||"x-uib-tab-heading"===t.tagName.toLowerCase()||"uib:tab-heading"===t.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(e,n,r){var i=e.$eval(r.uibTabContentTransclude).tab;i.$transcludeFn(i.$parent,function(e){angular.forEach(e,function(e){t(e)?i.headingElement=e:n.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(t,e,n,r,i,o,a){function s(){var e=+t.hours;if((t.showMeridian?e>0&&e<13:e>=0&&e<24)&&""!==t.hours)return t.showMeridian&&(12===e&&(e=0),t.meridian===k[1]&&(e+=12)),e}function l(){var e=+t.minutes;if(e>=0&&e<60&&""!==t.minutes)return e}function u(){var e=+t.seconds;return e>=0&&e<60?e:void 0}function c(t,e){return null===t?"":angular.isDefined(t)&&t.toString().length<2&&!e?"0"+t:t.toString()}function d(t){h(),C.$setViewValue(new Date(_)),f(t)}function h(){y&&y.$setValidity("hours",!0),b&&b.$setValidity("minutes",!0),x&&x.$setValidity("seconds",!0),C.$setValidity("time",!0),t.invalidHours=!1,t.invalidMinutes=!1,t.invalidSeconds=!1}function f(e){if(C.$modelValue){var n=_.getHours(),r=_.getMinutes(),i=_.getSeconds();t.showMeridian&&(n=0===n||12===n?12:n%12),t.hours="h"===e?n:c(n,!S),"m"!==e&&(t.minutes=c(r)),t.meridian=_.getHours()<12?k[0]:k[1],"s"!==e&&(t.seconds=c(i)),t.meridian=_.getHours()<12?k[0]:k[1]}else t.hours=null,t.minutes=null,t.seconds=null,t.meridian=k[0]}function p(t){_=m(_,t),d()}function g(t,e){return m(t,60*e)}function m(t,e){var n=new Date(t.getTime()+1e3*e),r=new Date(t);return r.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),r}function v(){return(null===t.hours||""===t.hours)&&(null===t.minutes||""===t.minutes)&&(!t.showSeconds||t.showSeconds&&(null===t.seconds||""===t.seconds))}var y,b,x,_=new Date,w=[],C={$setViewValue:angular.noop},k=angular.isDefined(n.meridians)?t.$parent.$eval(n.meridians):a.meridians||o.DATETIME_FORMATS.AMPMS,S=!angular.isDefined(n.padHours)||t.$parent.$eval(n.padHours);t.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,e.removeAttr("tabindex"),this.init=function(e,r){(C=e).$render=this.render,C.$formatters.unshift(function(t){return t?new Date(t):null});var i=r.eq(0),o=r.eq(1),s=r.eq(2);y=i.controller("ngModel"),b=o.controller("ngModel"),x=s.controller("ngModel"),(angular.isDefined(n.mousewheel)?t.$parent.$eval(n.mousewheel):a.mousewheel)&&this.setupMousewheelEvents(i,o,s),(angular.isDefined(n.arrowkeys)?t.$parent.$eval(n.arrowkeys):a.arrowkeys)&&this.setupArrowkeyEvents(i,o,s),t.readonlyInput=angular.isDefined(n.readonlyInput)?t.$parent.$eval(n.readonlyInput):a.readonlyInput,this.setupInputEvents(i,o,s)};var M=a.hourStep;n.hourStep&&w.push(t.$parent.$watch(r(n.hourStep),function(t){M=+t}));var T=a.minuteStep;n.minuteStep&&w.push(t.$parent.$watch(r(n.minuteStep),function(t){T=+t}));var $;w.push(t.$parent.$watch(r(n.min),function(t){var e=new Date(t);$=isNaN(e)?void 0:e}));var D;w.push(t.$parent.$watch(r(n.max),function(t){var e=new Date(t);D=isNaN(e)?void 0:e}));var E=!1;n.ngDisabled&&w.push(t.$parent.$watch(r(n.ngDisabled),function(t){E=t})),t.noIncrementHours=function(){var t=g(_,60*M);return E||t>D||t<_&&t<$},t.noDecrementHours=function(){var t=g(_,60*-M);return E||t<$||t>_&&t>D},t.noIncrementMinutes=function(){var t=g(_,T);return E||t>D||t<_&&t<$},t.noDecrementMinutes=function(){var t=g(_,-T);return E||t<$||t>_&&t>D},t.noIncrementSeconds=function(){var t=m(_,L);return E||t>D||t<_&&t<$},t.noDecrementSeconds=function(){var t=m(_,-L);return E||t<$||t>_&&t>D},t.noToggleMeridian=function(){return _.getHours()<12?E||g(_,720)>D:E||g(_,-720)<$};var L=a.secondStep;n.secondStep&&w.push(t.$parent.$watch(r(n.secondStep),function(t){L=+t})),t.showSeconds=a.showSeconds,n.showSeconds&&w.push(t.$parent.$watch(r(n.showSeconds),function(e){t.showSeconds=!!e})),t.showMeridian=a.showMeridian,n.showMeridian&&w.push(t.$parent.$watch(r(n.showMeridian),function(e){if(t.showMeridian=!!e,C.$error.time){var n=s(),r=l();angular.isDefined(n)&&angular.isDefined(r)&&(_.setHours(n),d())}else f()})),this.setupMousewheelEvents=function(e,n,r){var i=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||e>0};e.on("mousewheel wheel",function(e){E||t.$apply(i(e)?t.incrementHours():t.decrementHours()),e.preventDefault()}),n.on("mousewheel wheel",function(e){E||t.$apply(i(e)?t.incrementMinutes():t.decrementMinutes()),e.preventDefault()}),r.on("mousewheel wheel",function(e){E||t.$apply(i(e)?t.incrementSeconds():t.decrementSeconds()),e.preventDefault()})},this.setupArrowkeyEvents=function(e,n,r){e.on("keydown",function(e){E||(38===e.which?(e.preventDefault(),t.incrementHours(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementHours(),t.$apply()))}),n.on("keydown",function(e){E||(38===e.which?(e.preventDefault(),t.incrementMinutes(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementMinutes(),t.$apply()))}),r.on("keydown",function(e){E||(38===e.which?(e.preventDefault(),t.incrementSeconds(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementSeconds(),t.$apply()))})},this.setupInputEvents=function(e,n,r){if(t.readonlyInput)return t.updateHours=angular.noop,t.updateMinutes=angular.noop,void(t.updateSeconds=angular.noop);var i=function(e,n,r){C.$setViewValue(null),C.$setValidity("time",!1),angular.isDefined(e)&&(t.invalidHours=e,y&&y.$setValidity("hours",!1)),angular.isDefined(n)&&(t.invalidMinutes=n,b&&b.$setValidity("minutes",!1)),angular.isDefined(r)&&(t.invalidSeconds=r,x&&x.$setValidity("seconds",!1))};t.updateHours=function(){var t=s(),e=l();C.$setDirty(),angular.isDefined(t)&&angular.isDefined(e)?(_.setHours(t),_.setMinutes(e),_<$||_>D?i(!0):d("h")):i(!0)},e.on("blur",function(e){C.$setTouched(),v()?h():null===t.hours||""===t.hours?i(!0):!t.invalidHours&&t.hours<10&&t.$apply(function(){t.hours=c(t.hours,!S)})}),t.updateMinutes=function(){var t=l(),e=s();C.$setDirty(),angular.isDefined(t)&&angular.isDefined(e)?(_.setHours(e),_.setMinutes(t),_<$||_>D?i(void 0,!0):d("m")):i(void 0,!0)},n.on("blur",function(e){C.$setTouched(),v()?h():null===t.minutes?i(void 0,!0):!t.invalidMinutes&&t.minutes<10&&t.$apply(function(){t.minutes=c(t.minutes)})}),t.updateSeconds=function(){var t=u();C.$setDirty(),angular.isDefined(t)?(_.setSeconds(t),d("s")):i(void 0,void 0,!0)},r.on("blur",function(e){v()?h():!t.invalidSeconds&&t.seconds<10&&t.$apply(function(){t.seconds=c(t.seconds)})})},this.render=function(){var e=C.$viewValue;isNaN(e)?(C.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(_=e),_<$||_>D?(C.$setValidity("time",!1),t.invalidHours=!0,t.invalidMinutes=!0):h(),f())},t.showSpinners=angular.isDefined(n.showSpinners)?t.$parent.$eval(n.showSpinners):a.showSpinners,t.incrementHours=function(){t.noIncrementHours()||p(60*M*60)},t.decrementHours=function(){t.noDecrementHours()||p(60*-M*60)},t.incrementMinutes=function(){t.noIncrementMinutes()||p(60*T)},t.decrementMinutes=function(){t.noDecrementMinutes()||p(60*-T)},t.incrementSeconds=function(){t.noIncrementSeconds()||p(L)},t.decrementSeconds=function(){t.noDecrementSeconds()||p(-L)},t.toggleMeridian=function(){var e=l(),n=s();t.noToggleMeridian()||(angular.isDefined(e)&&angular.isDefined(n)?p(720*(_.getHours()<12?60:-60)):t.meridian=t.meridian===k[0]?k[1]:k[0])},t.blur=function(){C.$setTouched()},t.$on("$destroy",function(){for(;w.length;)w.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(t){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(e,n){return n.templateUrl||t.templateUrl},link:function(t,e,n,r){var i=r[0],o=r[1];o&&i.init(o,e.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(t){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var r=n.match(e);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:r[3],source:t(r[4]),viewMapper:t(r[2]||r[1]),modelMapper:t(r[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(t,e,n,r,i,o,a,s,l,u,c,d,h){function f(){V.moveInProgress||(V.moveInProgress=!0,V.$digest()),X()}function p(){V.position=E?d.offset(e):d.position(e),V.position.top+=e.prop("offsetHeight")}function g(t){var e;return angular.version.minor<6?(e=t.$options||{}).getOption=function(t){return e[t]}:e=t.$options,e}var m,v,y=[9,13,27,38,40],b=t.$eval(n.typeaheadMinLength);b||0===b||(b=1),t.$watch(n.typeaheadMinLength,function(t){b=t||0===t?t:1});var x=t.$eval(n.typeaheadWaitMs)||0,_=!1!==t.$eval(n.typeaheadEditable);t.$watch(n.typeaheadEditable,function(t){_=!1!==t});var w,C,k=i(n.typeaheadLoading).assign||angular.noop,S=n.typeaheadShouldSelect?i(n.typeaheadShouldSelect):function(t,e){var n=e.$event;return 13===n.which||9===n.which},M=i(n.typeaheadOnSelect),T=!!angular.isDefined(n.typeaheadSelectOnBlur)&&t.$eval(n.typeaheadSelectOnBlur),$=i(n.typeaheadNoResults).assign||angular.noop,D=n.typeaheadInputFormatter?i(n.typeaheadInputFormatter):void 0,E=!!n.typeaheadAppendToBody&&t.$eval(n.typeaheadAppendToBody),L=n.typeaheadAppendTo?t.$eval(n.typeaheadAppendTo):null,A=!1!==t.$eval(n.typeaheadFocusFirst),F=!!n.typeaheadSelectOnExact&&t.$eval(n.typeaheadSelectOnExact),P=i(n.typeaheadIsOpen).assign||angular.noop,R=t.$eval(n.typeaheadShowHint)||!1,O=i(n.ngModel),N=i(n.ngModel+"($$$p)"),I=function(e,n){return angular.isFunction(O(t))&&v.getOption("getterSetter")?N(e,{$$$p:n}):O.assign(e,n)},Y=h.parse(n.uibTypeahead),V=t.$new(),j=t.$on("$destroy",function(){V.$destroy()});V.$on("$destroy",j);var H="typeahead-"+V.$id+"-"+Math.floor(1e4*Math.random());e.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":H});var z,W;R&&((z=angular.element("<div></div>")).css("position","relative"),e.after(z),(W=e.clone()).attr("placeholder",""),W.attr("tabindex","-1"),W.val(""),W.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),e.css({position:"relative","vertical-align":"top","background-color":"transparent"}),W.attr("id")&&W.removeAttr("id"),z.append(W),W.after(e));var B=angular.element("<div uib-typeahead-popup></div>");B.attr({id:H,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(n.typeaheadTemplateUrl)&&B.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&B.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var U=function(){R&&W.val("")},G=function(){V.matches=[],V.activeIdx=-1,e.attr("aria-expanded",!1),U()},q=function(t){return H+"-option-"+t};V.$watch("activeIdx",function(t){t<0?e.removeAttr("aria-activedescendant"):e.attr("aria-activedescendant",q(t))});var K=function(t,e){return!!(V.matches.length>e&&t)&&t.toUpperCase()===V.matches[e].label.toUpperCase()},J=function(n,r){var i={$viewValue:n};k(t,!0),$(t,!1),o.when(Y.source(t,i)).then(function(o){var a=n===m.$viewValue;if(a&&w)if(o&&o.length>0){V.activeIdx=A?0:-1,$(t,!1),V.matches.length=0;for(var s=0;s<o.length;s++)i[Y.itemName]=o[s],V.matches.push({id:q(s),label:Y.viewMapper(V,i),model:o[s]});if(V.query=n,p(),e.attr("aria-expanded",!0),F&&1===V.matches.length&&K(n,0)&&(angular.isNumber(V.debounceUpdate)||angular.isObject(V.debounceUpdate)?c(function(){V.select(0,r)},angular.isNumber(V.debounceUpdate)?V.debounceUpdate:V.debounceUpdate.default):V.select(0,r)),R){var l=V.matches[0].label;angular.isString(n)&&n.length>0&&l.slice(0,n.length).toUpperCase()===n.toUpperCase()?W.val(n+l.slice(n.length)):W.val("")}}else G(),$(t,!0);a&&k(t,!1)},function(){G(),k(t,!1),$(t,!0)})};E&&(angular.element(l).on("resize",f),s.find("body").on("scroll",f));var X=c(function(){V.matches.length&&p(),V.moveInProgress=!1},200);V.moveInProgress=!1,V.query=void 0;var Z,Q=function(t){Z=a(function(){J(t)},x)},tt=function(){Z&&a.cancel(Z)};G(),V.assignIsOpen=function(e){P(t,e)},V.select=function(r,i){var o,s,l={};C=!0,l[Y.itemName]=s=V.matches[r].model,o=Y.modelMapper(t,l),I(t,o),m.$setValidity("editable",!0),m.$setValidity("parse",!0),M(t,{$item:s,$model:o,$label:Y.viewMapper(t,l),$event:i}),G(),!1!==V.$eval(n.typeaheadFocusOnSelect)&&a(function(){e[0].focus()},0,!1)},e.on("keydown",function(e){if(0!==V.matches.length&&-1!==y.indexOf(e.which)){var n=S(t,{$event:e});if(-1===V.activeIdx&&n||9===e.which&&e.shiftKey)return G(),void V.$digest();e.preventDefault();var r;switch(e.which){case 27:e.stopPropagation(),G(),t.$digest();break;case 38:V.activeIdx=(V.activeIdx>0?V.activeIdx:V.matches.length)-1,V.$digest(),(r=B[0].querySelectorAll(".uib-typeahead-match")[V.activeIdx]).parentNode.scrollTop=r.offsetTop;break;case 40:V.activeIdx=(V.activeIdx+1)%V.matches.length,V.$digest(),(r=B[0].querySelectorAll(".uib-typeahead-match")[V.activeIdx]).parentNode.scrollTop=r.offsetTop;break;default:n&&V.$apply(function(){angular.isNumber(V.debounceUpdate)||angular.isObject(V.debounceUpdate)?c(function(){V.select(V.activeIdx,e)},angular.isNumber(V.debounceUpdate)?V.debounceUpdate:V.debounceUpdate.default):V.select(V.activeIdx,e)})}}}),e.on("focus",function(t){w=!0,0!==b||m.$viewValue||a(function(){J(m.$viewValue,t)},0)}),e.on("blur",function(t){T&&V.matches.length&&-1!==V.activeIdx&&!C&&(C=!0,V.$apply(function(){angular.isObject(V.debounceUpdate)&&angular.isNumber(V.debounceUpdate.blur)?c(function(){V.select(V.activeIdx,t)},V.debounceUpdate.blur):V.select(V.activeIdx,t)})),!_&&m.$error.editable&&(m.$setViewValue(),V.$apply(function(){m.$setValidity("editable",!0),m.$setValidity("parse",!0)}),e.val("")),w=!1,C=!1});var et=function(n){e[0]!==n.target&&3!==n.which&&0!==V.matches.length&&(G(),u.$$phase||t.$digest())};s.on("click",et),t.$on("$destroy",function(){s.off("click",et),(E||L)&&nt.remove(),E&&(angular.element(l).off("resize",f),s.find("body").off("scroll",f)),B.remove(),R&&z.remove()});var nt=r(B)(V);E?s.find("body").append(nt):L?angular.element(L).eq(0).append(nt):e.after(nt),this.init=function(e){v=g(m=e),V.debounceUpdate=i(v.getOption("debounce"))(t),m.$parsers.unshift(function(e){return w=!0,0===b||e&&e.length>=b?x>0?(tt(),Q(e)):J(e):(k(t,!1),tt(),G()),_?e:e?void m.$setValidity("editable",!1):(m.$setValidity("editable",!0),null)}),m.$formatters.push(function(e){var n,r,i={};return _||m.$setValidity("editable",!0),D?(i.$model=e,D(t,i)):(i[Y.itemName]=e,n=Y.viewMapper(t,i),i[Y.itemName]=void 0,r=Y.viewMapper(t,i),n!==r?n:e)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","uibTypeahead"],link:function(t,e,n,r){r[1].init(r[0])}}}).directive("uibTypeaheadPopup",["$$debounce",function(t){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(t,e){return e.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(e,n,r){e.templateUrl=r.templateUrl,e.isOpen=function(){var t=e.matches.length>0;return e.assignIsOpen({isOpen:t}),t},e.isActive=function(t){return e.active===t},e.selectActive=function(t){e.active=t},e.selectMatch=function(n,r){var i=e.debounce();angular.isNumber(i)||angular.isObject(i)?t(function(){e.select({activeIdx:n,evt:r})},angular.isNumber(i)?i:i.default):e.select({activeIdx:n,evt:r})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(t,e,n){return{scope:{index:"=",match:"=",query:"="},link:function(r,i,o){var a=n(o.templateUrl)(r.$parent)||"uib/template/typeahead/typeahead-match.html";t(a).then(function(t){var n=angular.element(t.trim());i.replaceWith(n),e(n)(r)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(t,e,n){function r(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function i(t){return/<.*>/g.test(t)}var o;return o=e.has("$sanitize"),function(e,a){return!o&&i(e)&&n.warn("Unsafe use of typeahead please use ngSanitize"),e=a?(""+e).replace(new RegExp(r(a),"gi"),"<strong>$&</strong>"):e,o||(e=t.trustAsHtml(e)),e}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(t){t.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(t){t.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(t){t.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(t){t.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(t){t.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepickerPopup/popup.html",'<ul role="presentation" class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(t){t.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(t){t.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("uib/template/pagination/pagination.html",'<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li role="menuitem" ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(t){t.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(t){t.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(t){t.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(t){t.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(t){t.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};angular.module("angularBootstrapNavTree",[]).directive("abnTree",["$timeout",function(e){return{restrict:"E",template:'<ul class="nav nav-list nav-pills nav-stacked abn-tree">\n  <li ng-repeat="row in tree_rows | filter:{visible:true} track by row.branch.uid" ng-animate="\'abn-tree-animate\'" ng-class="\'level-\' + {{ row.level }} + (row.branch.selected ? \' active\':\'\') + \' \' +row.classes.join(\' \')" class="abn-tree-row"><span><a href="" ng-click="row.branch.expanded = !row.branch.expanded"><i ng-class="[row.tree_icon, row.branch.icon_class]" class="indented tree-icon"> </i></a></span><span title="{{row.labelText}}"><a href="{{generate_url(row.branch)}}" ng-click="user_clicks_branch(row.branch)"><span class="indented tree-label" ng-bind-html="row.label"></span></a></span></li>\n</ul>',replace:!0,scope:{treeData:"=",onSelect:"&",onGenerateUrl:"&",initialSelection:"@",treeControl:"="},link:function(n,r,i){var o,a,s,l,u,c,d,h,f,p,g;if(function(t){console.log("ERROR:"+t)},null==i.iconExpand&&(i.iconExpand="fa fa-plus"),null==i.iconCollapse&&(i.iconCollapse="fa fa-minus"),null==i.iconLeaf&&(i.iconLeaf="fa"),null==i.expandLevel&&(i.expandLevel="3"),a=parseInt(i.expandLevel,10),n.treeData){if(null==n.treeData.length){if(null==treeData.label)return void alert("treeData should be an array of root branches");n.treeData=[treeData]}return l=function(t){var e,r,i,o,a,s;for(e=function(n,r){var i,o,a,s,l;if(t(n,r),null!=n.children){for(l=[],o=0,a=(s=n.children).length;o<a;o++)i=s[o],l.push(e(i,r+1));return l}},s=[],i=0,o=(a=n.treeData).length;i<o;i++)r=a[i],s.push(e(r,1));return s},p=null,h=function(t){if(!t)return null!=p&&(p.selected=!1),void(p=null);if(t!==p){if(null!=p&&(p.selected=!1),t.selected=!0,p=t,o(t),null!=t.onSelect)return e(function(){return t.onSelect(t)});if(null!=n.onSelect)return e(function(){return n.onSelect({branch:t})})}},f=function(){null!=p&&(p.selected=!1,p=null)},n.user_clicks_branch=function(t){if(t!==p)return h(t)},n.generate_url=function(t){if(null!=n.onGenerateUrl){var e=n.onGenerateUrl({branch:t});return e||""}return""},u=function(t){var e;return e=void 0,t.parent_uid&&l(function(n){if(n.uid===t.parent_uid)return e=n}),e},s=function(t,e){var n;if(null!=(n=u(t)))return e(n),s(n,e)},o=function(t){return s(t,function(t){return t.expanded=!0})},n.tree_rows=[],d=function(){var e,r,o,a,s,u;for(l(function(t,e){if(!t.uid)return t.uid=""+Math.random()}),l(function(t){var e,n,r,i,o;if(angular.isArray(t.children)){for(o=[],n=0,r=(i=t.children).length;n<r;n++)e=i[n],o.push(e.parent_uid=t.uid);return o}}),n.tree_rows=[],l(function(t){var e,n;return t.children?t.children.length>0?(n=function(t){return"string"==typeof t?{label:t,children:[]}:t},t.children=function(){var r,i,o,a;for(a=[],r=0,i=(o=t.children).length;r<i;r++)e=o[r],a.push(n(e));return a}()):void 0:t.children=[]}),e=function(r,o,a){var s,l,u,c,d,h,f;if(null==o.expanded&&(o.expanded=!1),null==o.classes&&(o.classes=[]),o.noLeaf||o.children&&0!==o.children.length?u=o.expanded?i.iconCollapse:i.iconExpand:(u=i.iconLeaf,t.call(o.classes,"leaf")<0&&o.classes.push("leaf")),n.tree_rows.push({level:r,branch:o,label:o.label,labelText:o.label?String(o.label).replace(/<[^>]+>/gm,""):"",classes:o.classes,tree_icon:u,visible:a}),null!=o.children){for(f=[],c=0,d=(h=o.children).length;c<d;c++)s=h[c],l=a&&o.expanded,f.push(e(r+1,s,l));return f}},u=[],o=0,a=(s=n.treeData).length;o<a;o++)r=s[o],u.push(e(1,r,!0));return u},n.$watch("treeData",d,!0),null!=i.initialSelection&&l(function(t){if(t.label===i.initialSelection)return e(function(){return h(t)})}),c=n.treeData.length,l(function(t,e){return t.level=e,t.expanded=t.level<a}),null!=n.treeControl&&angular.isObject(n.treeControl)?(g=n.treeControl,g.expand_all=function(){return l(function(t,e){return t.expanded=!0})},g.collapse_all=function(){return l(function(t,e){return t.expanded=!1})},g.get_first_branch=function(){if((c=n.treeData.length)>0)return n.treeData[0]},g.select_first_branch=function(){var t;return t=g.get_first_branch(),g.select_branch(t)},g.get_selected_branch=function(){return p},g.get_parent_branch=function(t){return u(t)},g.selected_branch=function(){return p},g.select_branch=function(t){return h(t),t},g.deselect_branch=function(){f()},g.get_children=function(t){return t.children},g.select_parent_branch=function(t){var e;if(null==t&&(t=g.get_selected_branch()),null!=t&&null!=(e=g.get_parent_branch(t)))return g.select_branch(e),e},g.add_branch=function(t,e){return null!=t?(t.children.push(e),t.expanded=!0):n.treeData.push(e),e},g.add_root_branch=function(t){return g.add_branch(null,t),t},g.expand_branch=function(t){if(null==t&&(t=g.get_selected_branch()),null!=t)return t.expanded=!0,t},g.collapse_branch=function(t){if(null==t&&(t=p),null!=t)return t.expanded=!1,t},g.get_siblings=function(t){var e;if(null==t&&(t=p),null!=t)return e=g.get_parent_branch(t),e?e.children:n.treeData},g.get_next_sibling=function(t){var e,n;if(null==t&&(t=p),null!=t&&(n=g.get_siblings(t),c=n.length,(e=n.indexOf(t))<c))return n[e+1]},g.get_prev_sibling=function(t){var e,n;if(null==t&&(t=p),n=g.get_siblings(t),c=n.length,(e=n.indexOf(t))>0)return n[e-1]},g.select_next_sibling=function(t){var e;if(null==t&&(t=p),null!=t&&null!=(e=g.get_next_sibling(t)))return g.select_branch(e)},g.select_prev_sibling=function(t){var e;if(null==t&&(t=p),null!=t&&null!=(e=g.get_prev_sibling(t)))return g.select_branch(e)},g.get_first_child=function(t){var e;if(null==t&&(t=p),null!=t&&(null!=(e=t.children)?e.length:void 0)>0)return t.children[0]},g.get_closest_ancestor_next_sibling=function(t){var e,n;return e=g.get_next_sibling(t),null!=e?e:(n=g.get_parent_branch(t),g.get_closest_ancestor_next_sibling(n))},g.get_next_branch=function(t){var e;if(null==t&&(t=p),null!=t)return e=g.get_first_child(t),null!=e?e:e=g.get_closest_ancestor_next_sibling(t)},g.select_next_branch=function(t){var e;if(null==t&&(t=p),null!=t&&null!=(e=g.get_next_branch(t)))return g.select_branch(e),e},g.last_descendant=function(t){var e;return c=t.children.length,0===c?t:(e=t.children[c-1],g.last_descendant(e))},g.get_prev_branch=function(t){var e;if(null==t&&(t=p),null!=t)return e=g.get_prev_sibling(t),null!=e?g.last_descendant(e):g.get_parent_branch(t)},g.select_prev_branch=function(t){var e;if(null==t&&(t=p),null!=t&&null!=(e=g.get_prev_branch(t)))return g.select_branch(e),e}):void 0}alert("no treeData defined for the tree!")}}}])}.call(this),function(t){function e(e){var n=t(this),r=null,i=[],o=null,a=null,s=t.extend({rowSelector:"> li",submenuSelector:"*",submenuDirection:"right",tolerance:75,enter:t.noop,exit:t.noop,activate:t.noop,deactivate:t.noop,exitMenu:t.noop},e),l=function(t){i.push({x:t.pageX,y:t.pageY}),i.length>3&&i.shift()},u=function(){a&&clearTimeout(a),s.exitMenu(this)&&(r&&s.deactivate(r),r=null)},c=function(){a&&clearTimeout(a),s.enter(this),p(this)},d=function(){s.exit(this)},h=function(){f(this)},f=function(t){t!=r&&(r&&s.deactivate(r),s.activate(t),r=t)},p=function(t){var e=g();e?a=setTimeout(function(){p(t)},e):f(t)},g=function(){function e(t,e){return(e.y-t.y)/(e.x-t.x)}if(!r||!t(r).is(s.submenuSelector))return 0;var a=n.offset(),l={x:a.left,y:a.top-s.tolerance},u={x:a.left+n.outerWidth(),y:l.y},c={x:a.left,y:a.top+n.outerHeight()+s.tolerance},d={x:a.left+n.outerWidth(),y:c.y},h=i[i.length-1],f=i[0];if(!h)return 0;if(f||(f=h),f.x<a.left||f.x>d.x||f.y<a.top||f.y>d.y)return 0;if(o&&h.x==o.x&&h.y==o.y)return 0;var p=u,g=d;"left"==s.submenuDirection?(p=c,g=l):"below"==s.submenuDirection?(p=d,g=c):"above"==s.submenuDirection&&(p=l,g=u);var m=e(h,p),v=e(h,g),y=e(f,p),b=e(f,g);return m<y&&v>b?(o=h,300):(o=null,0)};n.mouseleave(u).find(s.rowSelector).mouseenter(c).mouseleave(d).click(h),t(document).mousemove(l)}t.fn.menuAim=function(t){return this.each(function(){e.call(this,t)}),this}}(jQuery),window.Modernizr=function(t,e,n){function r(t){m.cssText=t}function i(t,e){return r(x.join(t+";")+(e||""))}function o(t,e){return typeof t===e}function a(t,e){return!!~(""+t).indexOf(e)}function s(t,e){for(var r in t){var i=t[r];if(!a(i,"-")&&m[i]!==n)return"pfx"!=e||i}return!1}function l(t,e,r){for(var i in t){var a=e[t[i]];if(a!==n)return!1===r?t[i]:o(a,"function")?a.bind(r||e):a}return!1}function u(t,e,n){var r=t.charAt(0).toUpperCase()+t.slice(1),i=(t+" "+w.join(r+" ")+r).split(" ");return o(e,"string")||o(e,"undefined")?s(i,e):(i=(t+" "+C.join(r+" ")+r).split(" "),l(i,e,n))}var c,d,h={},f=e.documentElement,p="modernizr",g=e.createElement(p),m=g.style,v=e.createElement("input"),y=":)",b={}.toString,x=" -webkit- -moz- -o- -ms- ".split(" "),_="Webkit Moz O ms",w=_.split(" "),C=_.toLowerCase().split(" "),k={svg:"http://www.w3.org/2000/svg"},S={},M={},T={},$=[],D=$.slice,E=function(t,n,r,i){var o,a,s,l,u=e.createElement("div"),c=e.body,d=c||e.createElement("body");if(parseInt(r,10))for(;r--;)s=e.createElement("div"),s.id=i?i[r]:p+(r+1),u.appendChild(s);return o=["&#173;",'<style id="s',p,'">',t,"</style>"].join(""),u.id=p,(c?u:d).innerHTML+=o,d.appendChild(u),c||(d.style.background="",d.style.overflow="hidden",l=f.style.overflow,f.style.overflow="hidden",f.appendChild(d)),a=n(u,t),c?u.parentNode.removeChild(u):(d.parentNode.removeChild(d),f.style.overflow=l),!!a},L=function(){function t(t,i){i=i||e.createElement(r[t]||"div");var a=(t="on"+t)in i;return a||(i.setAttribute||(i=e.createElement("div")),i.setAttribute&&i.removeAttribute&&(i.setAttribute(t,""),a=o(i[t],"function"),o(i[t],"undefined")||(i[t]=n),i.removeAttribute(t))),i=null,a}var r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t}(),A={}.hasOwnProperty;d=o(A,"undefined")||o(A.call,"undefined")?function(t,e){return e in t&&o(t.constructor.prototype[e],"undefined")}:function(t,e){return A.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=D.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=e.prototype;var o=new i,a=e.apply(o,n.concat(D.call(arguments)));return Object(a)===a?a:o}return e.apply(t,n.concat(D.call(arguments)))};return r}),S.flexbox=function(){return u("flexWrap")},S.canvas=function(){var t=e.createElement("canvas");return!!t.getContext&&!!t.getContext("2d")},S.canvastext=function(){return!!h.canvas&&!!o(e.createElement("canvas").getContext("2d").fillText,"function")},S.webgl=function(){return!!t.WebGLRenderingContext},S.touch=function(){var n;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?n=!0:E(["@media (",x.join("touch-enabled),("),p,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){n=9===t.offsetTop}),n},S.geolocation=function(){return"geolocation"in navigator},S.postmessage=function(){return!!t.postMessage},S.websqldatabase=function(){return!!t.openDatabase},S.indexedDB=function(){return!!u("indexedDB",t)},S.hashchange=function(){return L("hashchange",t)&&(e.documentMode===n||e.documentMode>7)},S.history=function(){return!!t.history&&!!history.pushState},S.draganddrop=function(){var t=e.createElement("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t},S.websockets=function(){return"WebSocket"in t||"MozWebSocket"in t},S.rgba=function(){return r("background-color:rgba(150,255,150,.5)"),a(m.backgroundColor,"rgba")},S.hsla=function(){return r("background-color:hsla(120,40%,100%,.5)"),a(m.backgroundColor,"rgba")||a(m.backgroundColor,"hsla")},S.multiplebgs=function(){return r("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(m.background)},S.backgroundsize=function(){return u("backgroundSize")},S.borderimage=function(){return u("borderImage")},S.borderradius=function(){return u("borderRadius")},S.boxshadow=function(){return u("boxShadow")},S.textshadow=function(){return""===e.createElement("div").style.textShadow},S.opacity=function(){return i("opacity:.55"),/^0.55$/.test(m.opacity)},S.cssanimations=function(){return u("animationName")},S.csscolumns=function(){return u("columnCount")},S.cssgradients=function(){var t="background-image:";return r((t+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+t)+x.join("linear-gradient(left top,#9f9, white);"+t)).slice(0,-t.length)),a(m.backgroundImage,"gradient")},S.cssreflections=function(){return u("boxReflect")},S.csstransforms=function(){return!!u("transform")},S.csstransforms3d=function(){var t=!!u("perspective");return t&&"webkitPerspective"in f.style&&E("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e,n){t=9===e.offsetLeft&&3===e.offsetHeight}),t},S.csstransitions=function(){return u("transition")},S.fontface=function(){var t;return E('@font-face {font-family:"font";src:url("https://")}',function(n,r){var i=e.getElementById("smodernizr"),o=i.sheet||i.styleSheet,a=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"";t=/src/i.test(a)&&0===a.indexOf(r.split(" ")[0])}),t},S.generatedcontent=function(){var t;return E(["#",p,"{font:0/0 a}#",p,':after{content:"',y,'";visibility:hidden;font:3px/1 a}'].join(""),function(e){t=e.offsetHeight>=3}),t},S.video=function(){var t=e.createElement("video"),n=!1;try{(n=!!t.canPlayType)&&(n=new Boolean(n),n.ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(t){}return n},S.audio=function(){var t=e.createElement("audio"),n=!1;try{(n=!!t.canPlayType)&&(n=new Boolean(n),n.ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=t.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(t){}return n},S.localstorage=function(){try{return localStorage.setItem(p,p),localStorage.removeItem(p),!0}catch(t){return!1}},S.sessionstorage=function(){try{return sessionStorage.setItem(p,p),sessionStorage.removeItem(p),!0}catch(t){return!1}},S.webworkers=function(){return!!t.Worker},S.applicationcache=function(){return!!t.applicationCache},S.svg=function(){return!!e.createElementNS&&!!e.createElementNS(k.svg,"svg").createSVGRect},S.inlinesvg=function(){var t=e.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==k.svg},S.smil=function(){return!!e.createElementNS&&/SVGAnimate/.test(b.call(e.createElementNS(k.svg,"animate")))},S.svgclippaths=function(){return!!e.createElementNS&&/SVGClipPath/.test(b.call(e.createElementNS(k.svg,"clipPath")))};for(var F in S)d(S,F)&&(c=F.toLowerCase(),h[c]=S[F](),$.push((h[c]?"":"no-")+c));return h.input||function(){h.input=function(n){for(var r=0,i=n.length;r<i;r++)T[n[r]]=n[r]in v;return T.list&&(T.list=!!e.createElement("datalist")&&!!t.HTMLDataListElement),T}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),h.inputtypes=function(t){for(var r,i,o,a=0,s=t.length;a<s;a++)v.setAttribute("type",i=t[a]),(r="text"!==v.type)&&(v.value=y,v.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(i)&&v.style.WebkitAppearance!==n?(f.appendChild(v),o=e.defaultView,r=o.getComputedStyle&&"textfield"!==o.getComputedStyle(v,null).WebkitAppearance&&0!==v.offsetHeight,f.removeChild(v)):/^(search|tel)$/.test(i)||(r=/^(url|email)$/.test(i)?v.checkValidity&&!1===v.checkValidity():v.value!=y)),M[t[a]]=!!r;return M}("search tel url email datetime date month week time datetime-local number range color".split(" "))}(),h.addTest=function(t,e){if("object"==typeof t)for(var r in t)d(t,r)&&h.addTest(r,t[r]);else{if(t=t.toLowerCase(),h[t]!==n)return h;e="function"==typeof e?e():e,f.className+=" "+(e?"":"no-")+t,h[t]=e}return h},r(""),g=v=null,function(t,e){function n(t,e){var n=t.createElement("p"),r=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var t=v.elements;return"string"==typeof t?t.split(" "):t}function i(t){var e=m[t[p]];return e||(e={},g++,t[p]=g,m[g]=e),e}function o(t,n,r){if(n||(n=e),c)return n.createElement(t);r||(r=i(n));var o;return o=r.cache[t]?r.cache[t].cloneNode():f.test(t)?(r.cache[t]=r.createElem(t)).cloneNode():r.createElem(t),!o.canHaveChildren||h.test(t)||o.tagUrn?o:r.frag.appendChild(o)}function a(t,n){if(t||(t=e),c)return t.createDocumentFragment();for(var o=(n=n||i(t)).frag.cloneNode(),a=0,s=r(),l=s.length;a<l;a++)o.createElement(s[a]);return o}function s(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return v.shivMethods?o(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/[\w\-]+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(v,e.frag)}function l(t){t||(t=e);var r=i(t);return v.shivCSS&&!u&&!r.hasCSS&&(r.hasCSS=!!n(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),c||s(t,r),t}var u,c,d=t.html5||{},h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,p="_html5shiv",g=0,m={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",u="hidden"in t,c=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return void 0===t.cloneNode||void 0===t.createDocumentFragment||void 0===t.createElement}()}catch(t){u=!0,c=!0}}();var v={elements:d.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==d.shivCSS,supportsUnknownElements:c,shivMethods:!1!==d.shivMethods,type:"default",shivDocument:l,createElement:o,createDocumentFragment:a};t.html5=v,l(e)}(this,e),h._version="2.8.3",h._prefixes=x,h._domPrefixes=C,h._cssomPrefixes=w,h.hasEvent=L,h.testProp=function(t){return s([t])},h.testAllProps=u,h.testStyles=E,h.prefixed=function(t,e,n){return e?u(t,e,n):u(t,"pfx")},f.className=f.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+$.join(" "),h}(this,this.document),function(t,e,n){function r(t){return"[object Function]"==m.call(t)}function i(t){return"string"==typeof t}function o(){}function a(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function s(){var t=v.shift();y=1,t?t.t?p(function(){("c"==t.t?h.injectCss:h.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),s()):y=0}function l(t,n,r,i,o,l,u){function c(e){if(!f&&a(d.readyState)&&(b.r=f=1,!y&&s(),d.onload=d.onreadystatechange=null,e)){"img"!=t&&p(function(){_.removeChild(d)},50);for(var r in M[n])M[n].hasOwnProperty(r)&&M[n][r].onload()}}var u=u||h.errorTimeout,d=e.createElement(t),f=0,m=0,b={t:r,s:n,e:o,a:l,x:u};1===M[n]&&(m=1,M[n]=[]),"object"==t?d.data=n:(d.src=n,d.type=t),d.width=d.height="0",d.onerror=d.onload=d.onreadystatechange=function(){c.call(this,m)},v.splice(i,0,b),"img"!=t&&(m||2===M[n]?(_.insertBefore(d,x?null:g),p(c,u)):M[n].push(d))}function u(t,e,n,r,o){return y=0,e=e||"j",i(t)?l("c"==e?C:w,t,e,this.i++,n,r,o):(v.splice(this.i++,0,t),1==v.length&&s()),this}function c(){var t=h;return t.loader={load:u,i:0},t}var d,h,f=e.documentElement,p=t.setTimeout,g=e.getElementsByTagName("script")[0],m={}.toString,v=[],y=0,b="MozAppearance"in f.style,x=b&&!!e.createRange().compareNode,_=x?f:g.parentNode,f=t.opera&&"[object Opera]"==m.call(t.opera),f=!!e.attachEvent&&!f,w=b?"object":f?"script":"img",C=f?"script":w,k=Array.isArray||function(t){return"[object Array]"==m.call(t)},S=[],M={},T={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};(h=function(t){function e(t){var e,n,r,t=t.split("!"),i=S.length,o=t.pop(),a=t.length,o={url:o,origUrl:o,prefixes:t};for(n=0;n<a;n++)r=t[n].split("="),(e=T[r.shift()])&&(o=e(o,r));for(n=0;n<i;n++)o=S[n](o);return o}function a(t,i,o,a,s){var l=e(t),u=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(i&&(i=r(i)?i:i[t]||i[a]||i[t.split("/").pop().split("?")[0]]),l.instead?l.instead(t,i,o,a,s):(M[l.url]?l.noexec=!0:M[l.url]=1,o.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":n,l.noexec,l.attrs,l.timeout),(r(i)||r(u))&&o.load(function(){c(),i&&i(l.origUrl,s,a),u&&u(l.origUrl,s,a),M[l.url]=2})))}function s(t,e){function n(t,n){if(t){if(i(t))n||(d=function(){var t=[].slice.call(arguments);h.apply(this,t),f()}),a(t,d,e,0,u);else if(Object(t)===t)for(l in s=function(){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n}(),t)t.hasOwnProperty(l)&&(!n&&!--s&&(r(d)?d=function(){var t=[].slice.call(arguments);h.apply(this,t),f()}:d[l]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),f()}}(h[l])),a(t[l],d,e,l,u))}else!n&&f()}var s,l,u=!!t.test,c=t.load||t.both,d=t.callback||o,h=d,f=t.complete||o;n(u?t.yep:t.nope,!!c),c&&n(c)}var l,u,d=this.yepnope.loader;if(i(t))a(t,0,d,0);else if(k(t))for(l=0;l<t.length;l++)u=t[l],i(u)?a(u,0,d,0):k(u)?h(u):Object(u)===u&&s(u,d);else Object(t)===t&&s(t,d)}).addPrefix=function(t,e){T[t]=e},h.addFilter=function(t){S.push(t)},h.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",d=function(){e.removeEventListener("DOMContentLoaded",d,0),e.readyState="complete"},0)),t.yepnope=c(),t.yepnope.executeStack=s,t.yepnope.injectJs=function(t,n,r,i,l,u){var c,d,f=e.createElement("script"),i=i||h.errorTimeout;f.src=t;for(d in r)f.setAttribute(d,r[d]);n=u?s:n||o,f.onreadystatechange=f.onload=function(){!c&&a(f.readyState)&&(c=1,n(),f.onload=f.onreadystatechange=null)},p(function(){c||(c=1,n(1))},i),l?f.onload():g.parentNode.insertBefore(f,g)},t.yepnope.injectCss=function(t,n,r,i,a,l){var u,i=e.createElement("link"),n=l?s:n||o;i.href=t,i.rel="stylesheet",i.type="text/css";for(u in r)i.setAttribute(u,r[u]);a||(g.parentNode.insertBefore(i,g),p(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function e(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function n(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function r(t){return null===t?NaN:+t}function i(t){return!isNaN(t)}function o(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}function a(t){return t.length}function s(t){for(var e=1;t*e%1;)e*=10;return e}function l(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function u(){this._=Object.create(null)}function c(t){return(t+="")===ya||t[0]===ba?ba+t:t}function d(t){return(t+="")[0]===ba?t.slice(1):t}function h(t){return c(t)in this._}function f(t){return(t=c(t))in this._&&delete this._[t]}function p(){var t=[];for(var e in this._)t.push(d(e));return t}function g(){var t=0;for(var e in this._)++t;return t}function m(){for(var t in this._)return!1;return!0}function v(){this._=Object.create(null)}function y(t){return t}function b(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function x(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=xa.length;n<r;++n){var i=xa[n]+e;if(i in t)return i}}function _(){}function w(){}function C(t){function e(){for(var e,r=n,i=-1,o=r.length;++i<o;)(e=r[i].on)&&e.apply(this,arguments);return t}var n=[],r=new u;return e.on=function(e,i){var o,a=r.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),r.remove(e)),i&&n.push(r.set(e,{on:i})),t)},e}function k(){sa.event.preventDefault()}function S(){for(var t,e=sa.event;t=e.sourceEvent;)e=t;return e}function M(t){for(var e=new w,n=0,r=arguments.length;++n<r;)e[arguments[n]]=C(e);return e.of=function(n,r){return function(i){try{var o=i.sourceEvent=sa.event;i.target=t,sa.event=i,e[i.type].apply(n,r)}finally{sa.event=o}}},e}function T(t){return wa(t,Ma),t}function $(t){return"function"==typeof t?t:function(){return Ca(t,this)}}function D(t){return"function"==typeof t?t:function(){return ka(t,this)}}function E(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=sa.ns.qualify(t),null==e?t.local?r:n:"function"==typeof e?t.local?s:a:t.local?o:i}function L(t){return t.trim().replace(/\s+/g," ")}function A(t){return new RegExp("(?:^|\\s+)"+sa.requote(t)+"(?:\\s+|$)","g")}function F(t){return(t+"").trim().split(/^|\s+/)}function P(t,e){function n(){for(var n=-1;++n<i;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<i;)t[n](this,r)}var i=(t=F(t).map(R)).length;return"function"==typeof e?r:n}function R(t){var e=A(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",L(i+" "+t))):n.setAttribute("class",L(i.replace(e," ")))}}function O(t,e,n){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,n)}function o(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?o:i}function N(t,e){function n(){delete this[t]}function r(){this[t]=e}function i(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?i:r}function I(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ta&&e.documentElement.namespaceURI===Ta?e.createElement(t):e.createElementNS(n,t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=sa.ns.qualify(t)).local?n:e}function Y(){var t=this.parentNode;t&&t.removeChild(this)}function V(t){return{__data__:t}}function j(t){return function(){return Sa(this,t)}}function H(t){return arguments.length||(t=n),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function z(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,o=t[n],a=0,s=o.length;a<s;a++)(i=o[a])&&e(i,a,n);return t}function W(t){return wa(t,Da),t}function B(t){var e,n;return function(r,i,o){var a,s=t[o].update,l=s.length;for(o!=n&&(n=o,e=0),i>=e&&(e=i+1);!(a=s[e])&&++e<l;);return a}}function U(t,e,n){function r(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function i(){var i=l(e,ua(arguments));r.call(this),this.addEventListener(t,this[a]=i,i.$=n),i._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+sa.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}var a="__on"+t,s=t.indexOf("."),l=G;s>0&&(t=t.slice(0,s));var u=Ea.get(t);return u&&(t=u,l=q),s?e?i:r:e?_:o}function G(t,e){return function(n){var r=sa.event;sa.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{sa.event=r}}}function q(t,e){var n=G(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function K(n){var r=".dragsuppress-"+ ++Aa,i="click"+r,o=sa.select(e(n)).on("touchmove"+r,k).on("dragstart"+r,k).on("selectstart"+r,k);if(null==La&&(La=!("onselectstart"in n)&&x(n.style,"userSelect")),La){var a=t(n).style,s=a[La];a[La]="none"}return function(t){if(o.on(r,null),La&&(a[La]=s),t){var e=function(){o.on(i,null)};o.on(i,function(){k(),e()},!0),setTimeout(e,0)}}}function J(t,n){n.changedTouches&&(n=n.changedTouches[0]);var r=t.ownerSVGElement||t;if(r.createSVGPoint){var i=r.createSVGPoint();if(Fa<0){var o=e(t);if(o.scrollX||o.scrollY){var a=(r=sa.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Fa=!(a.f||a.e),r.remove()}}return Fa?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var s=t.getBoundingClientRect();return[n.clientX-s.left-t.clientLeft,n.clientY-s.top-t.clientTop]}function X(){return sa.event.changedTouches[0].identifier}function Z(t){return t>0?1:t<0?-1:0}function Q(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return t>1?0:t<-1?Oa:Math.acos(t)}function et(t){return t>1?Ya:t<-1?-Ya:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function rt(t){return((t=Math.exp(t))+1/t)/2}function it(t){return((t=Math.exp(2*t))-1)/(t+1)}function ot(t){return(t=Math.sin(t/2))*t}function at(){}function st(t,e,n){return this instanceof st?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof st?new st(t.h,t.s,t.l):_t(""+t,wt,st):new st(t,e,n)}function lt(t,e,n){function r(t){return t>360?t-=360:t<0&&(t+=360),t<60?o+(a-o)*t/60:t<180?a:t<240?o+(a-o)*(240-t)/60:o}function i(t){return Math.round(255*r(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,n=n<0?0:n>1?1:n,a=n<=.5?n*(1+e):n+e-n*e,o=2*n-a,new vt(i(t+120),i(t),i(t-120))}function ut(t,e,n){return this instanceof ut?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ut?new ut(t.h,t.c,t.l):t instanceof dt?ft(t.l,t.a,t.b):ft((t=Ct((t=sa.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ut(t,e,n)}function ct(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new dt(n,Math.cos(t*=Va)*e,Math.sin(t)*e)}function dt(t,e,n){return this instanceof dt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof dt?new dt(t.l,t.a,t.b):t instanceof ut?ct(t.h,t.c,t.l):Ct((t=vt(t)).r,t.g,t.b):new dt(t,e,n)}function ht(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return i=pt(i)*Ka,r=pt(r)*Ja,o=pt(o)*Xa,new vt(mt(3.2404542*i-1.5371385*r-.4985314*o),mt(-.969266*i+1.8760108*r+.041556*o),mt(.0556434*i-.2040259*r+1.0572252*o))}function ft(t,e,n){return t>0?new ut(Math.atan2(n,e)*ja,Math.sqrt(e*e+n*n),t):new ut(NaN,NaN,t)}function pt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function gt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function mt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function vt(t,e,n){return this instanceof vt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof vt?new vt(t.r,t.g,t.b):_t(""+t,vt,lt):new vt(t,e,n)}function yt(t){return new vt(t>>16,t>>8&255,255&t)}function bt(t){return yt(t)+""}function xt(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function _t(t,e,n){var r,i,o,a=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(St(i[0]),St(i[1]),St(i[2]))}return(o=ts.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,l=15&o,l|=l<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,l=255&o)),e(a,s,l))}function wt(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,l=(a+o)/2;return s?(i=l<.5?s/(a+o):s/(2-a-o),r=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=l>0&&l<1?0:r),new st(r,i,l)}function Ct(t,e,n){var r=gt((.4124564*(t=kt(t))+.3575761*(e=kt(e))+.1804375*(n=kt(n)))/Ka),i=gt((.2126729*t+.7151522*e+.072175*n)/Ja);return dt(116*i-16,500*(r-i),200*(i-gt((.0193339*t+.119192*e+.9503041*n)/Xa)))}function kt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function St(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Mt(t){return"function"==typeof t?t:function(){return t}}function Tt(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),$t(e,n,t,r)}}function $t(t,e,n,r){function i(){var t,e=l.status;if(!e&&Et(l)||e>=200&&e<300||304===e){try{t=n.call(o,l)}catch(t){return void a.error.call(o,t)}a.load.call(o,t)}else a.error.call(o,l)}var o={},a=sa.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=i:l.onreadystatechange=function(){l.readyState>3&&i()},l.onprogress=function(t){var e=sa.event;sa.event=t;try{a.progress.call(o,l)}finally{sa.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(u=t,o):u},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(ua(arguments)))}}),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),l.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),l.setRequestHeader)for(var c in s)l.setRequestHeader(c,s[c]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=u&&(l.responseType=u),null!=i&&o.on("error",i).on("load",function(t){i(null,t)}),a.beforesend.call(o,l),l.send(null==r?null:r),o},o.abort=function(){return l.abort(),o},sa.rebind(o,a,"on"),null==r?o:o.get(Dt(r))}function Dt(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Et(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Lt(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i={c:t,t:n+e,n:null};return ns?ns.n=i:es=i,ns=i,rs||(is=clearTimeout(is),rs=1,os(At)),i}function At(){var t=Ft(),e=Pt()-t;e>24?(isFinite(e)&&(clearTimeout(is),is=setTimeout(At,e)),rs=0):(rs=1,os(At))}function Ft(){for(var t=Date.now(),e=es;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Pt(){for(var t,e=es,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:es=e.n;return ns=t,n}function Rt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Ot(t,e){var n=Math.pow(10,3*va(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Nt(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,o=r&&n?function(t,e){for(var i=t.length,o=[],a=0,s=r[0],l=0;i>0&&s>0&&(l+s+1>e&&(s=Math.max(1,e-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>e));)s=r[a=(a+1)%r.length];return o.reverse().join(n)}:y;return function(t){var n=ss.exec(t),r=n[1]||" ",a=n[2]||">",s=n[3]||"-",l=n[4]||"",u=n[5],c=+n[6],d=n[7],h=n[8],f=n[9],p=1,g="",m="",v=!1,y=!0;switch(h&&(h=+h.substring(1)),(u||"0"===r&&"="===a)&&(u=r="0",a="="),f){case"n":d=!0,f="g";break;case"%":p=100,m="%",f="f";break;case"p":p=100,m="%",f="r";break;case"b":case"o":case"x":case"X":"#"===l&&(g="0"+f.toLowerCase());case"c":y=!1;case"d":v=!0,h=0;break;case"s":p=-1,f="r"}"$"===l&&(g=i[0],m=i[1]),"r"!=f||h||(f="g"),null!=h&&("g"==f?h=Math.max(1,Math.min(21,h)):"e"!=f&&"f"!=f||(h=Math.max(0,Math.min(20,h)))),f=ls.get(f)||It;var b=u&&d;return function(t){var n=m;if(v&&t%1)return"";var i=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===s?"":s;if(p<0){var l=sa.formatPrefix(t,h);t=l.scale(t),n=l.symbol+m}else t*=p;var x,_,w=(t=f(t,h)).lastIndexOf(".");if(w<0){var C=y?t.lastIndexOf("e"):-1;C<0?(x=t,_=""):(x=t.substring(0,C),_=t.substring(C))}else x=t.substring(0,w),_=e+t.substring(w+1);!u&&d&&(x=o(x,1/0));var k=g.length+x.length+_.length+(b?0:i.length),S=k<c?new Array(k=c-k+1).join(r):"";return b&&(x=o(S+x,S.length?c-_.length:1/0)),i+=g,t=x+_,("<"===a?i+t+S:">"===a?S+i+t:"^"===a?S.substring(0,k>>=1)+i+t+S.substring(k):i+(b?t:S+t))+n}}}function It(t){return t+""}function Yt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Vt(t,e,n){function r(e){var n=t(e),r=o(n,1);return e-n<r-e?n:r}function i(n){return e(n=t(new cs(n-1)),1),n}function o(t,n){return e(t=new cs(+t),n),t}function a(t,r,o){var a=i(t),s=[];if(o>1)for(;a<r;)n(a)%o||s.push(new Date(+a)),e(a,1);else for(;a<r;)s.push(new Date(+a)),e(a,1);return s}function s(t,e,n){try{cs=Yt;var r=new Yt;return r._=t,a(r,e,n)}finally{cs=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var l=t.utc=jt(t);return l.floor=l,l.round=jt(r),l.ceil=jt(i),l.offset=jt(o),l.range=s,t}function jt(t){return function(e,n){try{cs=Yt;var r=new Yt;return r._=e,t(r,n)._}finally{cs=Date}}}function Ht(t){function e(t){function e(e){for(var n,i,o,a=[],s=-1,l=0;++s<r;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=hs[n=t.charAt(++s)])&&(n=t.charAt(++s)),(o=$[n])&&(n=o(e,null==i?"e"===n?" ":"0":i)),a.push(n),l=s+1);return a.push(t.slice(l,s)),a.join("")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(n(r,t,e,0)!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&cs!==Yt,o=new(i?Yt:cs);return"j"in r?o.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),i?o._:o},e.toString=function(){return t},e}function n(t,e,n,r){for(var i,o,a,s=0,l=e.length,u=n.length;s<l;){if(r>=u)return-1;if(37===(i=e.charCodeAt(s++))){if(a=e.charAt(s++),!(o=D[a in hs?e.charAt(s++):a])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(t,e,n){w.lastIndex=0;var r=w.exec(e.slice(n));return r?(t.w=C.get(r[0].toLowerCase()),n+r[0].length):-1}function i(t,e,n){x.lastIndex=0;var r=x.exec(e.slice(n));return r?(t.w=_.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){M.lastIndex=0;var r=M.exec(e.slice(n));return r?(t.m=T.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){k.lastIndex=0;var r=k.exec(e.slice(n));return r?(t.m=S.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,r){return n(t,$.c.toString(),e,r)}function l(t,e,r){return n(t,$.x.toString(),e,r)}function u(t,e,r){return n(t,$.X.toString(),e,r)}function c(t,e,n){var r=b.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var d=t.dateTime,h=t.date,f=t.time,p=t.periods,g=t.days,m=t.shortDays,v=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{var e=new(cs=Yt);return e._=t,r(e)}finally{cs=Date}}var r=e(t);return n.parse=function(t){try{cs=Yt;var e=r.parse(t);return e&&e._}finally{cs=Date}},n.toString=r.toString,n},e.multi=e.utc.multi=le;var b=sa.map(),x=Wt(g),_=Bt(g),w=Wt(m),C=Bt(m),k=Wt(v),S=Bt(v),M=Wt(y),T=Bt(y);p.forEach(function(t,e){b.set(t.toLowerCase(),e)});var $={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(d),d:function(t,e){return zt(t.getDate(),e,2)},e:function(t,e){return zt(t.getDate(),e,2)},H:function(t,e){return zt(t.getHours(),e,2)},I:function(t,e){return zt(t.getHours()%12||12,e,2)},j:function(t,e){return zt(1+us.dayOfYear(t),e,3)},L:function(t,e){return zt(t.getMilliseconds(),e,3)},m:function(t,e){return zt(t.getMonth()+1,e,2)},M:function(t,e){return zt(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return zt(t.getSeconds(),e,2)},U:function(t,e){return zt(us.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return zt(us.mondayOfYear(t),e,2)},x:e(h),X:e(f),y:function(t,e){return zt(t.getFullYear()%100,e,2)},Y:function(t,e){return zt(t.getFullYear()%1e4,e,4)},Z:ae,"%":function(){return"%"}},D={a:r,A:i,b:o,B:a,c:s,d:te,e:te,H:ne,I:ne,j:ee,L:oe,m:Qt,M:re,p:c,S:ie,U:Gt,w:Ut,W:qt,x:l,X:u,y:Jt,Y:Kt,Z:Xt,"%":se};return e}function zt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Wt(t){return new RegExp("^(?:"+t.map(sa.requote).join("|")+")","i")}function Bt(t){for(var e=new u,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Ut(t,e,n){fs.lastIndex=0;var r=fs.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Gt(t,e,n){fs.lastIndex=0;var r=fs.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function qt(t,e,n){fs.lastIndex=0;var r=fs.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Kt(t,e,n){fs.lastIndex=0;var r=fs.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Jt(t,e,n){fs.lastIndex=0;var r=fs.exec(e.slice(n,n+2));return r?(t.y=Zt(+r[0]),n+r[0].length):-1}function Xt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Zt(t){return t+(t>68?1900:2e3)}function Qt(t,e,n){fs.lastIndex=0;var r=fs.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function te(t,e,n){fs.lastIndex=0;var r=fs.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ee(t,e,n){fs.lastIndex=0;var r=fs.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function ne(t,e,n){fs.lastIndex=0;var r=fs.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function re(t,e,n){fs.lastIndex=0;var r=fs.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ie(t,e,n){fs.lastIndex=0;var r=fs.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function oe(t,e,n){fs.lastIndex=0;var r=fs.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ae(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=va(e)/60|0,i=va(e)%60;return n+zt(r,"0",2)+zt(i,"0",2)}function se(t,e,n){ps.lastIndex=0;var r=ps.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function le(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function ue(){}function ce(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function de(t,e){t&&ys.hasOwnProperty(t.type)&&ys[t.type](t,e)}function he(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function fe(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)he(t[n],e,1);e.polygonEnd()}function pe(){function t(t,e){e=e*Va/2+Oa/4;var n=(t*=Va)-r,a=n>=0?1:-1,s=a*n,l=Math.cos(e),u=Math.sin(e),c=o*u,d=i*l+c*Math.cos(s),h=c*a*Math.sin(s);xs.add(Math.atan2(h,d)),r=t,i=l,o=u}var e,n,r,i,o;_s.point=function(a,s){_s.point=t,r=(e=a)*Va,i=Math.cos(s=(n=s)*Va/2+Oa/4),o=Math.sin(s)},_s.lineEnd=function(){t(e,n)}}function ge(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function me(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ve(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ye(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function be(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function xe(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function _e(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function we(t,e){return va(t[0]-e[0])<Pa&&va(t[1]-e[1])<Pa}function Ce(t,e){t*=Va;var n=Math.cos(e*=Va);ke(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function ke(t,e,n){ks+=(t-ks)/++ws,Ss+=(e-Ss)/ws,Ms+=(n-Ms)/ws}function Se(){function t(t,i){t*=Va;var o=Math.cos(i*=Va),a=o*Math.cos(t),s=o*Math.sin(t),l=Math.sin(i),u=Math.atan2(Math.sqrt((u=n*l-r*s)*u+(u=r*a-e*l)*u+(u=e*s-n*a)*u),e*a+n*s+r*l);Cs+=u,Ts+=u*(e+(e=a)),$s+=u*(n+(n=s)),Ds+=u*(r+(r=l)),ke(e,n,r)}var e,n,r;Fs.point=function(i,o){i*=Va;var a=Math.cos(o*=Va);e=a*Math.cos(i),n=a*Math.sin(i),r=Math.sin(o),Fs.point=t,ke(e,n,r)}}function Me(){Fs.point=Ce}function Te(){function t(t,e){t*=Va;var n=Math.cos(e*=Va),a=n*Math.cos(t),s=n*Math.sin(t),l=Math.sin(e),u=i*l-o*s,c=o*a-r*l,d=r*s-i*a,h=Math.sqrt(u*u+c*c+d*d),f=r*a+i*s+o*l,p=h&&-tt(f)/h,g=Math.atan2(h,f);Es+=p*u,Ls+=p*c,As+=p*d,Cs+=g,Ts+=g*(r+(r=a)),$s+=g*(i+(i=s)),Ds+=g*(o+(o=l)),ke(r,i,o)}var e,n,r,i,o;Fs.point=function(a,s){e=a,n=s,Fs.point=t,a*=Va;var l=Math.cos(s*=Va);r=l*Math.cos(a),i=l*Math.sin(a),o=Math.sin(s),ke(r,i,o)},Fs.lineEnd=function(){t(e,n),Fs.lineEnd=Me,Fs.point=Ce}}function $e(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function De(){return!0}function Ee(t,e,n,r,i){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(we(n,r)){i.lineStart();for(var s=0;s<e;++s)i.point((n=t[s])[0],n[1]);i.lineEnd()}else{var l=new Ae(n,t,null,!0),u=new Ae(n,null,l,!1);l.o=u,o.push(l),a.push(u),u=new Ae(r,null,l=new Ae(r,t,null,!1),!0),l.o=u,o.push(l),a.push(u)}}}),a.sort(e),Le(o),Le(a),o.length){for(var s=0,l=n,u=a.length;s<u;++s)a[s].e=l=!l;for(var c,d,h=o[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(var s=0,u=c.length;s<u;++s)i.point((d=c[s])[0],d[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p)for(s=(c=f.p.z).length-1;s>=0;--s)i.point((d=c[s])[0],d[1]);else r(f.x,f.p.x,-1,i);f=f.p}c=(f=f.o).z,p=!p}while(!f.v);i.lineEnd()}}}function Le(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Ae(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Fe(t,e,n,r){return function(i,o){function a(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function s(t,e){var n=i(t,e);m.point(n[0],n[1])}function l(){y.point=s,m.lineStart()}function u(){y.point=a,m.lineEnd()}function c(t,e){g.push([t,e]);var n=i(t,e);x.point(n[0],n[1])}function d(){x.lineStart(),g=[]}function h(){c(g[0][0],g[0][1]),x.lineEnd();var t,e=x.clean(),n=b.buffer(),r=n.length;if(g.pop(),p.push(g),g=null,r)if(1&e){var i,a=-1;if((r=(t=n[0]).length-1)>0){for(_||(o.polygonStart(),_=!0),o.lineStart();++a<r;)o.point((i=t[a])[0],i[1]);o.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),f.push(n.filter(Pe))}var f,p,g,m=e(o),v=i.invert(r[0],r[1]),y={point:a,lineStart:l,lineEnd:u,polygonStart:function(){y.point=c,y.lineStart=d,y.lineEnd=h,f=[],p=[]},polygonEnd:function(){y.point=a,y.lineStart=l,y.lineEnd=u,f=sa.merge(f);var t=Ve(v,p);f.length?(_||(o.polygonStart(),_=!0),Ee(f,Oe,t,n,o)):t&&(_||(o.polygonStart(),_=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),_&&(o.polygonEnd(),_=!1),f=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},b=Re(),x=e(b),_=!1;return y}}function Pe(t){return t.length>1}function Re(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:_,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Oe(t,e){return((t=t.x)[0]<0?t[1]-Ya-Pa:Ya-t[1])-((e=e.x)[0]<0?e[1]-Ya-Pa:Ya-e[1])}function Ne(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Oa:-Oa,l=va(o-n);va(l-Oa)<Pa?(t.point(n,r=(r+a)/2>0?Ya:-Ya),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&l>=Oa&&(va(n-i)<Pa&&(n-=i*Pa),va(o-s)<Pa&&(o-=s*Pa),r=Ie(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function Ie(t,e,n,r){var i,o,a=Math.sin(t-n);return va(a)>Pa?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}function Ye(t,e,n,r){var i;if(null==t)i=n*Ya,r.point(-Oa,i),r.point(0,i),r.point(Oa,i),r.point(Oa,0),r.point(Oa,-i),r.point(0,-i),r.point(-Oa,-i),r.point(-Oa,0),r.point(-Oa,i);else if(va(t[0]-e[0])>Pa){var o=t[0]<e[0]?Oa:-Oa;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function Ve(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;xs.reset();for(var s=0,l=e.length;s<l;++s){var u=e[s],c=u.length;if(c)for(var d=u[0],h=d[0],f=d[1]/2+Oa/4,p=Math.sin(f),g=Math.cos(f),m=1;;){m===c&&(m=0);var v=(t=u[m])[0],y=t[1]/2+Oa/4,b=Math.sin(y),x=Math.cos(y),_=v-h,w=_>=0?1:-1,C=w*_,k=C>Oa,S=p*b;if(xs.add(Math.atan2(S*w*Math.sin(C),g*x+S*Math.cos(C))),o+=k?_+w*Na:_,k^h>=n^v>=n){var M=ve(ge(d),ge(t));xe(M);var T=ve(i,M);xe(T);var $=(k^_>=0?-1:1)*et(T[2]);(r>$||r===$&&(M[0]||M[1]))&&(a+=k^_>=0?1:-1)}if(!m++)break;h=v,p=b,g=x,d=t}}return(o<-Pa||o<Pa&&xs<-Pa)^1&a}function je(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(d,h){var f,p=[d,h],g=e(d,h),m=a?g?0:i(d,h):g?i(d+(d<0?Oa:-Oa),h):0;if(!n&&(u=l=g)&&t.lineStart(),g!==l&&(f=r(n,p),(we(n,f)||we(p,f))&&(p[0]+=Pa,p[1]+=Pa,g=e(p[0],p[1]))),g!==l)c=0,g?(t.lineStart(),f=r(p,n),t.point(f[0],f[1])):(f=r(n,p),t.point(f[0],f[1]),t.lineEnd()),n=f;else if(s&&n&&a^g){var v;m&o||!(v=r(p,n,!0))||(c=0,a?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||n&&we(n,p)||t.point(p[0],p[1]),n=p,l=g,o=m},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return c|(u&&l)<<1}}}function r(t,e,n){var r=[1,0,0],i=ve(ge(t),ge(e)),a=me(i,i),s=i[0],l=a-s*s;if(!l)return!n&&t;var u=o*a/l,c=-o*s/l,d=ve(r,i),h=be(r,u);ye(h,be(i,c));var f=d,p=me(h,f),g=me(f,f),m=p*p-g*(me(h,h)-1);if(!(m<0)){var v=Math.sqrt(m),y=be(f,(-p-v)/g);if(ye(y,h),y=_e(y),!n)return y;var b,x=t[0],_=e[0],w=t[1],C=e[1];_<x&&(b=x,x=_,_=b);var k=_-x,S=va(k-Oa)<Pa,M=S||k<Pa;if(!S&&C<w&&(b=w,w=C,C=b),M?S?w+C>0^y[1]<(va(y[0]-x)<Pa?w:C):w<=y[1]&&y[1]<=C:k>Oa^(x<=y[0]&&y[0]<=_)){var T=be(f,(-p+v)/g);return ye(T,h),[y,_e(T)]}}}function i(e,n){var r=a?t:Oa-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var o=Math.cos(t),a=o>0,s=va(o)>Pa;return Fe(e,n,gn(t,6*Va),a?[0,-t]:[-Oa,t-Oa])}function He(t,e,n,r){return function(i){var o,a=i.a,s=i.b,l=a.x,u=a.y,c=0,d=1,h=s.x-l,f=s.y-u;if(o=t-l,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<d&&(d=o)}else if(h>0){if(o>d)return;o>c&&(c=o)}if(o=n-l,h||!(o<0)){if(o/=h,h<0){if(o>d)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<d&&(d=o)}if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<d&&(d=o)}else if(f>0){if(o>d)return;o>c&&(c=o)}if(o=r-u,f||!(o<0)){if(o/=f,f<0){if(o>d)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<d&&(d=o)}return c>0&&(i.a={x:l+c*h,y:u+c*f}),d<1&&(i.b={x:l+d*h,y:u+d*f}),i}}}}}}function ze(t,e,n,r){function i(r,i){return va(r[0]-t)<Pa?i>0?0:3:va(r[0]-n)<Pa?i>0?2:1:va(r[1]-e)<Pa?i>0?1:0:i>0?3:2}function o(t,e){return a(t.x,e.x)}function a(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function l(t){for(var e=0,n=m.length,r=t[1],i=0;i<n;++i)for(var o,a=1,s=m[i],l=s.length,u=s[0];a<l;++a)o=s[a],u[1]<=r?o[1]>r&&Q(u,o,t)>0&&++e:o[1]<=r&&Q(u,o,t)<0&&--e,u=o;return 0!==e}function u(o,s,l,u){var c=0,d=0;if(null==o||(c=i(o,l))!==(d=i(s,l))||a(o,s)<0^l>0)do{u.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+l+4)%4)!==d);else u.point(s[0],s[1])}function c(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function d(t,e){c(t,e)&&s.point(t,e)}function h(){D.point=p,m&&m.push(v=[]),k=!0,C=!1,_=w=NaN}function f(){g&&(p(y,b),x&&C&&T.rejoin(),g.push(T.buffer())),D.point=d,C&&s.lineEnd()}function p(t,e){var n=c(t=Math.max(-Rs,Math.min(Rs,t)),e=Math.max(-Rs,Math.min(Rs,e)));if(m&&v.push([t,e]),k)y=t,b=e,x=n,k=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&C)s.point(t,e);else{var r={a:{x:_,y:w},b:{x:t,y:e}};$(r)?(C||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),S=!1):n&&(s.lineStart(),s.point(t,e),S=!1)}_=t,w=e,C=n}var g,m,v,y,b,x,_,w,C,k,S,M=s,T=Re(),$=He(t,e,n,r),D={point:d,lineStart:h,lineEnd:f,polygonStart:function(){s=T,g=[],m=[],S=!0},polygonEnd:function(){s=M,g=sa.merge(g);var e=l([t,r]),n=S&&e,i=g.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),u(null,null,1,s),s.lineEnd()),i&&Ee(g,o,e,u,s),s.polygonEnd()),g=m=v=null}};return D}}function We(t){var e=0,n=Oa/3,r=sn(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Oa/180,n=t[1]*Oa/180):[e/Oa*180,n/Oa*180]},i}function Be(t,e){function n(t,e){var n=Math.sqrt(o-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),a-n*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(e))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,et((o-(t*t+n*n)*i*i)/(2*i))]},n}function Ue(){function t(t,e){Ns+=i*t-r*e,r=t,i=e}var e,n,r,i;Hs.point=function(o,a){Hs.point=t,e=r=o,n=i=a},Hs.lineEnd=function(){t(e,n)}}function Ge(t,e){t<Is&&(Is=t),t>Vs&&(Vs=t),e<Ys&&(Ys=e),e>js&&(js=e)}function qe(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function r(){s.point=t}function i(){a.push("Z")}var o=Ke(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return o=Ke(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function Ke(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Je(t,e){ks+=t,Ss+=e,++Ms}function Xe(){function t(t,r){var i=t-e,o=r-n,a=Math.sqrt(i*i+o*o);Ts+=a*(e+t)/2,$s+=a*(n+r)/2,Ds+=a,Je(e=t,n=r)}var e,n;Ws.point=function(r,i){Ws.point=t,Je(e=r,n=i)}}function Ze(){Ws.point=Je}function Qe(){function t(t,e){var n=t-r,o=e-i,a=Math.sqrt(n*n+o*o);Ts+=a*(r+t)/2,$s+=a*(i+e)/2,Ds+=a,Es+=(a=i*t-r*e)*(r+t),Ls+=a*(i+e),As+=3*a,Je(r=t,i=e)}var e,n,r,i;Ws.point=function(o,a){Ws.point=t,Je(e=r=o,n=i=a)},Ws.lineEnd=function(){t(e,n)}}function tn(t){function e(e,n){t.moveTo(e+a,n),t.arc(e,n,a,0,Na)}function n(e,n){t.moveTo(e,n),s.point=r}function r(e,n){t.lineTo(e,n)}function i(){s.point=e}function o(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=e},pointRadius:function(t){return a=t,s},result:_};return s}function en(t){function e(t){return(s?r:n)(t)}function n(e){return on(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){b=NaN,k.point=o,e.lineStart()}function o(n,r){var o=ge([n,r]),a=t(n,r);i(b,x,y,_,w,C,b=a[0],x=a[1],y=n,_=o[0],w=o[1],C=o[2],s,e),e.point(b,x)}function a(){k.point=n,e.lineEnd()}function l(){r(),k.point=u,k.lineEnd=c}function u(t,e){o(d=t,h=e),f=b,p=x,g=_,m=w,v=C,k.point=o}function c(){i(b,x,y,_,w,C,f,p,d,g,m,v,s,e),k.lineEnd=a,a()}var d,h,f,p,g,m,v,y,b,x,_,w,C,k={point:n,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart(),k.lineStart=l},polygonEnd:function(){e.polygonEnd(),k.lineStart=r}};return k}function i(e,n,r,s,l,u,c,d,h,f,p,g,m,v){var y=c-e,b=d-n,x=y*y+b*b;if(x>4*o&&m--){var _=s+f,w=l+p,C=u+g,k=Math.sqrt(_*_+w*w+C*C),S=Math.asin(C/=k),M=va(va(C)-1)<Pa||va(r-h)<Pa?(r+h)/2:Math.atan2(w,_),T=t(M,S),$=T[0],D=T[1],E=$-e,L=D-n,A=b*E-y*L;(A*A/x>o||va((y*E+b*L)/x-.5)>.3||s*f+l*p+u*g<a)&&(i(e,n,r,s,l,u,$,D,M,_/=k,w/=k,C,m,v),v.point($,D),i($,D,M,_,w,C,c,d,h,f,p,g,m,v))}}var o=.5,a=Math.cos(30*Va),s=16;return e.precision=function(t){return arguments.length?(s=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function nn(t){var e=en(function(e,n){return t([e*ja,n*ja])});return function(t){return ln(e(t))}}function rn(t){this.stream=t}function on(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function an(t){return sn(function(){return t})()}function sn(t){function e(t){return t=s(t[0]*Va,t[1]*Va),[t[0]*h+l,u-t[1]*h]}function n(t){return(t=s.invert((t[0]-l)/h,(u-t[1])/h))&&[t[0]*ja,t[1]*ja]}function r(){s=$e(a=dn(v,b,x),o);var t=o(g,m);return l=f-t[0]*h,u=p+t[1]*h,i()}function i(){return c&&(c.valid=!1,c=null),e}var o,a,s,l,u,c,d=en(function(t,e){return t=o(t,e),[t[0]*h+l,u-t[1]*h]}),h=150,f=480,p=250,g=0,m=0,v=0,b=0,x=0,_=Ps,w=y,C=null,k=null;return e.stream=function(t){return c&&(c.valid=!1),c=ln(_(a,d(w(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(_=null==t?(C=t,Ps):je((C=+t)*Va),i()):C},e.clipExtent=function(t){return arguments.length?(k=t,w=t?ze(t[0][0],t[0][1],t[1][0],t[1][1]):y,i()):k},e.scale=function(t){return arguments.length?(h=+t,r()):h},e.translate=function(t){return arguments.length?(f=+t[0],p=+t[1],r()):[f,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Va,m=t[1]%360*Va,r()):[g*ja,m*ja]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Va,b=t[1]%360*Va,x=t.length>2?t[2]%360*Va:0,r()):[v*ja,b*ja,x*ja]},sa.rebind(e,d,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,r()}}function ln(t){return on(t,function(e,n){t.point(e*Va,n*Va)})}function un(t,e){return[t,e]}function cn(t,e){return[t>Oa?t-Na:t<-Oa?t+Na:t,e]}function dn(t,e,n){return t?e||n?$e(fn(t),pn(e,n)):fn(t):e||n?pn(e,n):cn}function hn(t){return function(e,n){return e+=t,[e>Oa?e-Na:e<-Oa?e+Na:e,n]}}function fn(t){var e=hn(t);return e.invert=hn(-t),e}function pn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*r+s*i;return[Math.atan2(l*o-c*a,s*r-u*i),et(c*o+l*a)]}var r=Math.cos(t),i=Math.sin(t),o=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*o-l*a;return[Math.atan2(l*o+u*a,s*r+c*i),et(c*r-s*i)]},n}function gn(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,a,s){var l=a*e;null!=i?(i=mn(n,i),o=mn(n,o),(a>0?i<o:i>o)&&(i+=a*Na)):(i=t+a*Na,o=t-.5*l);for(var u,c=i;a>0?c>o:c<o;c-=l)s.point((u=_e([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function mn(t,e){var n=ge(e);n[0]-=t,xe(n);var r=tt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Pa)%(2*Math.PI)}function vn(t,e,n){var r=sa.range(t,e-Pa,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function yn(t,e,n){var r=sa.range(t,e-Pa,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function bn(t){return t.source}function xn(t){return t.target}function _n(t,e,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(r),s=Math.sin(r),l=i*Math.cos(t),u=i*Math.sin(t),c=a*Math.cos(n),d=a*Math.sin(n),h=2*Math.asin(Math.sqrt(ot(r-e)+i*a*ot(n-t))),f=1/Math.sin(h),p=h?function(t){var e=Math.sin(t*=h)*f,n=Math.sin(h-t)*f,r=n*l+e*c,i=n*u+e*d,a=n*o+e*s;return[Math.atan2(i,r)*ja,Math.atan2(a,Math.sqrt(r*r+i*i))*ja]}:function(){return[t*ja,e*ja]};return p.distance=h,p}function wn(){function t(t,i){var o=Math.sin(i*=Va),a=Math.cos(i),s=va((t*=Va)-e),l=Math.cos(s);Bs+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*o-n*a*l)*s),n*o+r*a*l),e=t,n=o,r=a}var e,n,r;Us.point=function(i,o){e=i*Va,n=Math.sin(o*=Va),r=Math.cos(o),Us.point=t},Us.lineEnd=function(){Us.point=Us.lineEnd=_}}function Cn(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&n*o/r)]},n}function kn(t,e){function n(t,e){a>0?e<-Ya+Pa&&(e=-Ya+Pa):e>Ya-Pa&&(e=Ya-Pa);var n=a/Math.pow(i(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var r=Math.cos(t),i=function(t){return Math.tan(Oa/4+t/2)},o=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(i(e)/i(t)),a=r*Math.pow(i(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,r=Z(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/r,1/o))-Ya]},n):Mn}function Sn(t,e){function n(t,e){var n=o-e;return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}var r=Math.cos(t),i=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),o=r/i+t;return va(i)<Pa?un:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,o-Z(i)*Math.sqrt(t*t+n*n)]},n)}function Mn(t,e){return[t,Math.log(Math.tan(Oa/4+e/2))]}function Tn(t){var e,n=an(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=Oa*r(),l=i();o([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function $n(t,e){return[Math.log(Math.tan(Oa/4+e/2)),-t]}function Dn(t){return t[0]}function En(t){return t[1]}function Ln(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&Q(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function An(t,e){return t[0]-e[0]||t[1]-e[1]}function Fn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Pn(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,l=t[1],u=n[1],c=e[1]-l,d=r[1]-u,h=(s*(l-u)-d*(i-o))/(d*a-s*c);return[i+h*a,l+h*c]}function Rn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function On(){rr(this),this.edge=this.site=this.circle=null}function Nn(t){var e=il.pop()||new On;return e.site=t,e}function In(t){qn(t),el.remove(t),il.push(t),rr(t)}function Yn(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];In(t);for(var l=o;l.circle&&va(n-l.circle.x)<Pa&&va(r-l.circle.cy)<Pa;)o=l.P,s.unshift(l),In(l),l=o;s.unshift(l),qn(l);for(var u=a;u.circle&&va(n-u.circle.x)<Pa&&va(r-u.circle.cy)<Pa;)a=u.N,s.push(u),In(u),u=a;s.push(u),qn(u);var c,d=s.length;for(c=1;c<d;++c)u=s[c],l=s[c-1],tr(u.edge,l.site,u.site,i);l=s[0],(u=s[d-1]).edge=Zn(l.site,u.site,null,i),Gn(l),Gn(u)}function Vn(t){for(var e,n,r,i,o=t.x,a=t.y,s=el._;s;)if((r=jn(s,a)-o)>Pa)s=s.L;else{if(!((i=o-Hn(s,a))>Pa)){r>-Pa?(e=s.P,n=s):i>-Pa?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=Nn(t);if(el.insert(e,l),e||n){if(e===n)return qn(e),n=Nn(e.site),el.insert(l,n),l.edge=n.edge=Zn(e.site,l.site),Gn(e),void Gn(n);if(n){qn(e),qn(n);var u=e.site,c=u.x,d=u.y,h=t.x-c,f=t.y-d,p=n.site,g=p.x-c,m=p.y-d,v=2*(h*m-f*g),y=h*h+f*f,b=g*g+m*m,x={x:(m*y-f*b)/v+c,y:(h*b-g*y)/v+d};tr(n.edge,u,p,x),l.edge=Zn(u,t,null,x),n.edge=Zn(t,p,null,x),Gn(e),Gn(n)}else l.edge=Zn(e.site,l.site)}}function jn(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site).x,l=n.y,u=l-e;if(!u)return s;var c=s-r,d=1/o-1/u,h=c/u;return d?(-h+Math.sqrt(h*h-2*d*(c*c/(-2*u)-l+u/2+i-o/2)))/d+r:(r+s)/2}function Hn(t,e){var n=t.N;if(n)return jn(n,e);var r=t.site;return r.y===e?r.x:1/0}function zn(t){this.site=t,this.edges=[]}function Wn(t){for(var e,n,r,i,o,a,s,l,u,c,d=t[0][0],h=t[1][0],f=t[0][1],p=t[1][1],g=tl,m=g.length;m--;)if((o=g[m])&&o.prepare())for(l=(s=o.edges).length,a=0;a<l;)r=(c=s[a].end()).x,i=c.y,e=(u=s[++a%l].start()).x,n=u.y,(va(r-e)>Pa||va(i-n)>Pa)&&(s.splice(a,0,new er(Qn(o.site,c,va(r-d)<Pa&&p-i>Pa?{x:d,y:va(e-d)<Pa?n:p}:va(i-p)<Pa&&h-r>Pa?{x:va(n-p)<Pa?e:h,y:p}:va(r-h)<Pa&&i-f>Pa?{x:h,y:va(e-h)<Pa?n:f}:va(i-f)<Pa&&r-d>Pa?{x:va(n-f)<Pa?e:d,y:f}:null),o.site,null)),++l)}function Bn(t,e){return e.angle-t.angle}function Un(){rr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Gn(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,l=r.x-a,u=r.y-s,c=o.x-a,d=2*(l*(m=o.y-s)-u*c);if(!(d>=-Ra)){var h=l*l+u*u,f=c*c+m*m,p=(m*h-u*f)/d,g=(l*f-c*h)/d,m=g+s,v=ol.pop()||new Un;v.arc=t,v.site=i,v.x=p+a,v.y=m+Math.sqrt(p*p+g*g),v.cy=m,t.circle=v;for(var y=null,b=rl._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}rl.insert(y,v),y||(nl=v)}}}}function qn(t){var e=t.circle;e&&(e.P||(nl=e.N),rl.remove(e),ol.push(e),rr(e),t.circle=null)}function Kn(t){for(var e,n=Qs,r=He(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)(!Jn(e=n[i],t)||!r(e)||va(e.a.x-e.b.x)<Pa&&va(e.a.y-e.b.y)<Pa)&&(e.a=e.b=null,n.splice(i,1))}function Jn(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],s=e[1][0],l=e[0][1],u=e[1][1],c=t.l,d=t.r,h=c.x,f=c.y,p=d.x,g=d.y,m=(h+p)/2,v=(f+g)/2;if(g===f){if(m<a||m>=s)return;if(h>p){if(o){if(o.y>=u)return}else o={x:m,y:l};n={x:m,y:u}}else{if(o){if(o.y<l)return}else o={x:m,y:u};n={x:m,y:l}}}else if(r=(h-p)/(g-f),i=v-r*m,r<-1||r>1)if(h>p){if(o){if(o.y>=u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else{if(o){if(o.y<l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else if(f<g){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function Xn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Zn(t,e,n,r){var i=new Xn(t,e);return Qs.push(i),n&&tr(i,t,e,n),r&&tr(i,e,t,r),tl[t.i].edges.push(new er(i,t,e)),tl[e.i].edges.push(new er(i,e,t)),i}function Qn(t,e,n){var r=new Xn(t,null);return r.a=e,r.b=n,Qs.push(r),r}function tr(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function er(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function nr(){this._=null}function rr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ir(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function or(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function ar(t){for(;t.L;)t=t.L;return t}function sr(t,e){var n,r,i,o=t.sort(lr).pop();for(Qs=[],tl=new Array(t.length),el=new nr,rl=new nr;;)if(i=nl,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(tl[o.i]=new zn(o),Vn(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;Yn(i.arc)}e&&(Kn(e),Wn(e));var a={cells:tl,edges:Qs};return el=rl=Qs=tl=null,a}function lr(t,e){return e.y-t.y||e.x-t.x}function ur(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function cr(t){return t.x}function dr(t){return t.y}function hr(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),l=e.nodes;l[0]&&hr(t,l[0],n,r,a,s),l[1]&&hr(t,l[1],a,r,i,s),l[2]&&hr(t,l[2],n,s,a,o),l[3]&&hr(t,l[3],a,s,i,o)}}function fr(t,e,n,r,i,o,a){var s,l=1/0;return function t(u,c,d,h,f){if(!(c>o||d>a||h<r||f<i)){if(p=u.point){var p,g=e-u.x,m=n-u.y,v=g*g+m*m;if(v<l){var y=Math.sqrt(l=v);r=e-y,i=n-y,o=e+y,a=n+y,s=p}}for(var b=u.nodes,x=.5*(c+h),_=.5*(d+f),w=(n>=_)<<1|e>=x,C=w+4;w<C;++w)if(u=b[3&w])switch(3&w){case 0:t(u,c,d,x,_);break;case 1:t(u,x,d,h,_);break;case 2:t(u,c,_,x,f);break;case 3:t(u,x,_,h,f)}}}(t,r,i,o,a),s}function pr(t,e){t=sa.rgb(t),e=sa.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,a=e.g-r,s=e.b-i;return function(t){return"#"+xt(Math.round(n+o*t))+xt(Math.round(r+a*t))+xt(Math.round(i+s*t))}}function gr(t,e){var n,r={},i={};for(n in t)n in e?r[n]=yr(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function mr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function vr(t,e){var n,r,i,o=sl.lastIndex=ll.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=sl.exec(t))&&(r=ll.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:mr(n,r)})),o=ll.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function yr(t,e){for(var n,r=sa.interpolators.length;--r>=0&&!(n=sa.interpolators[r](t,e)););return n}function br(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(yr(t[n],e[n]));for(;n<o;++n)i[n]=t[n];for(;n<a;++n)i[n]=e[n];return function(t){for(n=0;n<s;++n)i[n]=r[n](t);return i}}function xr(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function _r(t){return function(e){return 1-t(1-e)}}function wr(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function Cr(t){return t*t}function kr(t){return t*t*t}function Sr(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Mr(t){return function(e){return Math.pow(e,t)}}function Tr(t){return 1-Math.cos(t*Ya)}function $r(t){return Math.pow(2,10*(t-1))}function Dr(t){return 1-Math.sqrt(1-t*t)}function Er(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Na*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Na/e)}}function Lr(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Ar(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Fr(t,e){t=sa.hcl(t),e=sa.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,a=e.c-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return ct(n+o*t,r+a*t,i+s*t)+""}}function Pr(t,e){t=sa.hsl(t),e=sa.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,a=e.s-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return lt(n+o*t,r+a*t,i+s*t)+""}}function Rr(t,e){t=sa.lab(t),e=sa.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,a=e.a-r,s=e.b-i;return function(t){return ht(n+o*t,r+a*t,i+s*t)+""}}function Or(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Nr(t){var e=[t.a,t.b],n=[t.c,t.d],r=Yr(e),i=Ir(e,n),o=Yr(Vr(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*ja,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*ja:0}function Ir(t,e){return t[0]*e[0]+t[1]*e[1]}function Yr(t){var e=Math.sqrt(Ir(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Vr(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function jr(t){return t.length?t.pop()+",":""}function Hr(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:mr(t[0],e[0])},{i:i-2,x:mr(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function zr(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(jr(n)+"rotate(",null,")")-2,x:mr(t,e)})):e&&n.push(jr(n)+"rotate("+e+")")}function Wr(t,e,n,r){t!==e?r.push({i:n.push(jr(n)+"skewX(",null,")")-2,x:mr(t,e)}):e&&n.push(jr(n)+"skewX("+e+")")}function Br(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(jr(n)+"scale(",null,",",null,")");r.push({i:i-4,x:mr(t[0],e[0])},{i:i-2,x:mr(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(jr(n)+"scale("+e+")")}function Ur(t,e){var n=[],r=[];return t=sa.transform(t),e=sa.transform(e),Hr(t.translate,e.translate,n,r),zr(t.rotate,e.rotate,n,r),Wr(t.skew,e.skew,n,r),Br(t.scale,e.scale,n,r),t=e=null,function(t){for(var e,i=-1,o=r.length;++i<o;)n[(e=r[i]).i]=e.x(t);return n.join("")}}function Gr(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function qr(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Kr(t){for(var e=t.source,n=t.target,r=Xr(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Jr(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Xr(t,e){if(t===e)return t;for(var n=Jr(t),r=Jr(e),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function Zr(t){t.fixed|=2}function Qr(t){t.fixed&=-7}function ti(t){t.fixed|=4,t.px=t.x,t.py=t.y}function ei(t){t.fixed&=-5}function ni(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,l=-1;++l<s;)null!=(o=a[l])&&(ni(o,e,n),t.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=e*n[t.point.index];t.charge+=t.pointCharge=u,r+=u*t.point.x,i+=u*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function ri(t,e){return sa.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=ui,t}function ii(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function oi(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(t=r.pop());)e(t)}function ai(t){return t.children}function si(t){return t.value}function li(t,e){return e.value-t.value}function ui(t){return sa.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function ci(t){return t.x}function di(t){return t.y}function hi(t,e,n){t.y0=e,t.y=n}function fi(t){return sa.range(t.length)}function pi(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function gi(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function mi(t){return t.reduce(vi,0)}function vi(t,e){return t+e[1]}function yi(t,e){return bi(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function bi(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function xi(t){return[sa.min(t),sa.max(t)]}function _i(t,e){return t.value-e.value}function wi(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Ci(t,e){t._pack_next=e,e._pack_prev=t}function ki(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function Si(t){function e(t){c=Math.min(t.x-t.r,c),d=Math.max(t.x+t.r,d),h=Math.min(t.y-t.r,h),f=Math.max(t.y+t.r,f)}if((n=t.children)&&(u=n.length)){var n,r,i,o,a,s,l,u,c=1/0,d=-1/0,h=1/0,f=-1/0;if(n.forEach(Mi),r=n[0],r.x=-r.r,r.y=0,e(r),u>1&&(i=n[1],i.x=i.r,i.y=0,e(i),u>2))for(Di(r,i,o=n[2]),e(o),wi(r,o),r._pack_prev=o,wi(o,i),i=r._pack_next,a=3;a<u;a++){Di(r,i,o=n[a]);var p=0,g=1,m=1;for(s=i._pack_next;s!==i;s=s._pack_next,g++)if(ki(s,o)){p=1;break}if(1==p)for(l=r._pack_prev;l!==s._pack_prev&&!ki(l,o);l=l._pack_prev,m++);p?(g<m||g==m&&i.r<r.r?Ci(r,i=s):Ci(r=l,i),a--):(wi(r,o),i=o,e(o))}var v=(c+d)/2,y=(h+f)/2,b=0;for(a=0;a<u;a++)(o=n[a]).x-=v,o.y-=y,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=b,n.forEach(Ti)}}function Mi(t){t._pack_next=t._pack_prev=t}function Ti(t){delete t._pack_next,delete t._pack_prev}function $i(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var o=-1,a=i.length;++o<a;)$i(i[o],e,n,r)}function Di(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o,l=.5+((r*=r)-(a*=a))/(2*s),u=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+l*i+u*o,n.y=t.y+l*o-u*i}else n.x=t.x+r,n.y=t.y}function Ei(t,e){return t.parent==e.parent?1:2}function Li(t){var e=t.children;return e.length?e[0]:t.t}function Ai(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Fi(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Pi(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}function Ri(t,e,n){return t.a.parent===e.parent?t.a:n}function Oi(t){return 1+sa.max(t,function(t){return t.y})}function Ni(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Ii(t){var e=t.children;return e&&e.length?Ii(e[0]):t}function Yi(t){var e,n=t.children;return n&&(e=n.length)?Yi(n[e-1]):t}function Vi(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function ji(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function Hi(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function zi(t){return t.rangeExtent?t.rangeExtent():Hi(t.range())}function Wi(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function Bi(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function Ui(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:bl}function Gi(t,e,n,r){var i=[],o=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)i.push(n(t[a-1],t[a])),o.push(r(e[a-1],e[a]));return function(e){var n=sa.bisect(t,e,1,s)-1;return o[n](i[n](e))}}function qi(t,e,n,r){function i(){var i=Math.min(t.length,e.length)>2?Gi:Wi,l=r?qr:Gr;return a=i(t,e,l,n),s=i(e,t,l,yr),o}function o(t){return a(t)}var a,s;return o.invert=function(t){return s(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),i()):t},o.range=function(t){return arguments.length?(e=t,i()):e},o.rangeRound=function(t){return o.range(t).interpolate(Or)},o.clamp=function(t){return arguments.length?(r=t,i()):r},o.interpolate=function(t){return arguments.length?(n=t,i()):n},o.ticks=function(e){return Zi(t,e)},o.tickFormat=function(e,n){return Qi(t,e,n)},o.nice=function(e){return Ji(t,e),i()},o.copy=function(){return qi(t,e,n,r)},i()}function Ki(t,e){return sa.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Ji(t,e){return Bi(t,Ui(Xi(t,e)[2])),Bi(t,Ui(Xi(t,e)[2])),t}function Xi(t,e){null==e&&(e=10);var n=Hi(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Zi(t,e){return sa.range.apply(sa,Xi(t,e))}function Qi(t,e,n){var r=Xi(t,e);if(n){var i=ss.exec(n);if(i.shift(),"s"===i[8]){var o=sa.formatPrefix(Math.max(va(r[0]),va(r[1])));return i[7]||(i[7]="."+to(o.scale(r[2]))),i[8]="f",n=sa.format(i.join("")),function(t){return n(o.scale(t))+o.symbol}}i[7]||(i[7]="."+eo(i[8],r)),n=i.join("")}else n=",."+to(r[2])+"f";return sa.format(n)}function to(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function eo(t,e){var n=to(e[2]);return t in xl?Math.abs(n-to(Math.max(va(e[0]),va(e[1]))))+ +("e"!==t):n-2*("%"===t)}function no(t,e,n,r){function i(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(i(e))}return a.invert=function(e){return o(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(i)),a):r},a.base=function(n){return arguments.length?(e=+n,t.domain(r.map(i)),a):e},a.nice=function(){var e=Bi(r.map(i),n?Math:wl);return t.domain(e),r=e.map(o),a},a.ticks=function(){var t=Hi(r),a=[],s=t[0],l=t[1],u=Math.floor(i(s)),c=Math.ceil(i(l)),d=e%1?2:e;if(isFinite(c-u)){if(n){for(;u<c;u++)for(h=1;h<d;h++)a.push(o(u)*h);a.push(o(u))}else for(a.push(o(u));u++<c;)for(var h=d-1;h>0;h--)a.push(o(u)*h);for(u=0;a[u]<s;u++);for(c=a.length;a[c-1]>l;c--);a=a.slice(u,c)}return a},a.tickFormat=function(t,n){if(!arguments.length)return _l;arguments.length<2?n=_l:"function"!=typeof n&&(n=sa.format(n));var r=Math.max(1,e*t/a.ticks().length);return function(t){var a=t/o(Math.round(i(t)));return a*e<e-.5&&(a*=e),a<=r?n(t):""}},a.copy=function(){return no(t.copy(),e,n,r)},Ki(a,t)}function ro(t,e,n){function r(e){return t(i(e))}var i=io(e),o=io(1/e);return r.invert=function(e){return o(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(i)),r):n},r.ticks=function(t){return Zi(n,t)},r.tickFormat=function(t,e){return Qi(n,t,e)},r.nice=function(t){return r.domain(Ji(n,t))},r.exponent=function(a){return arguments.length?(i=io(e=a),o=io(1/e),t.domain(n.map(i)),r):e},r.copy=function(){return ro(t.copy(),e,n)},Ki(r,t)}function io(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function oo(t,e){function n(n){return o[((i.get(n)||("range"===e.t?i.set(n,t.push(n)):NaN))-1)%o.length]}function r(e,n){return sa.range(t.length).map(function(t){return e+n*t})}var i,o,a;return n.domain=function(r){if(!arguments.length)return t;t=[],i=new u;for(var o,a=-1,s=r.length;++a<s;)i.has(o=r[a])||i.set(o,t.push(o));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(o=t,a=0,e={t:"range",a:arguments},n):o},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var l=i[0],u=i[1],c=t.length<2?(l=(l+u)/2,0):(u-l)/(t.length-1+s);return o=r(l+c*s/2,c),a=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(i,s){arguments.length<2&&(s=0);var l=i[0],u=i[1],c=t.length<2?(l=u=Math.round((l+u)/2),0):(u-l)/(t.length-1+s)|0;return o=r(l+Math.round(c*s/2+(u-l-(t.length-1+s)*c)/2),c),a=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(i,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=i[1]<i[0],c=i[u-0],d=(i[1-u]-c)/(t.length-s+2*l);return o=r(c+d*l,d),u&&o.reverse(),a=d*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=i[1]<i[0],c=i[u-0],d=i[1-u],h=Math.floor((d-c)/(t.length-s+2*l));return o=r(c+Math.round((d-c-(t.length-s)*h)/2),h),u&&o.reverse(),a=Math.round(h*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Hi(e.a[0])},n.copy=function(){return oo(t,e)},n.domain(t)}function ao(t,e){function o(){var n=0,r=e.length;for(s=[];++n<r;)s[n-1]=sa.quantile(t,n/r);return a}function a(t){if(!isNaN(t=+t))return e[sa.bisect(s,t)]}var s;return a.domain=function(e){return arguments.length?(t=e.map(r).filter(i).sort(n),o()):t},a.range=function(t){return arguments.length?(e=t,o()):e},a.quantiles=function(){return s},a.invertExtent=function(n){return n=e.indexOf(n),n<0?[NaN,NaN]:[n>0?s[n-1]:t[0],n<s.length?s[n]:t[t.length-1]]},a.copy=function(){return ao(t,e)},o()}function so(t,e,n){function r(e){return n[Math.max(0,Math.min(a,Math.floor(o*(e-t))))]}function i(){return o=n.length/(e-t),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],i()):[t,e]},r.range=function(t){return arguments.length?(n=t,i()):n},r.invertExtent=function(e){return e=n.indexOf(e),e=e<0?NaN:e/o+t,[e,e+1/o]},r.copy=function(){return so(t,e,n)},i()}function lo(t,e){function n(n){if(n<=n)return e[sa.bisect(t,n)]}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return lo(t,e)},n}function uo(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Zi(t,e)},e.tickFormat=function(e,n){return Qi(t,e,n)},e.copy=function(){return uo(t)},e}function co(){return 0}function ho(t){return t.innerRadius}function fo(t){return t.outerRadius}function po(t){return t.startAngle}function go(t){return t.endAngle}function mo(t){return t&&t.padAngle}function vo(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function yo(t,e,n,r,i){var o=t[0]-e[0],a=t[1]-e[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),l=s*a,u=-s*o,c=t[0]+l,d=t[1]+u,h=e[0]+l,f=e[1]+u,p=(c+h)/2,g=(d+f)/2,m=h-c,v=f-d,y=m*m+v*v,b=n-r,x=c*f-h*d,_=(v<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-x*x)),w=(x*v-m*_)/y,C=(-x*m-v*_)/y,k=(x*v+m*_)/y,S=(-x*m+v*_)/y,M=w-p,T=C-g,$=k-p,D=S-g;return M*M+T*T>$*$+D*D&&(w=k,C=S),[[w-l,C-u],[w*n/b,C*n/b]]}function bo(t){function e(e){function a(){u.push("M",o(t(c),s))}for(var l,u=[],c=[],d=-1,h=e.length,f=Mt(n),p=Mt(r);++d<h;)i.call(this,l=e[d],d)?c.push([+f.call(this,l,d),+p.call(this,l,d)]):c.length&&(a(),c=[]);return c.length&&a(),u.length?u.join(""):null}var n=Dn,r=En,i=De,o=xo,a=o.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(i=t,e):i},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=$l.get(t)||xo).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function xo(t){return t.length>1?t.join("L"):t+"Z"}function _o(t){return t.join("L")+"Z"}function wo(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function Co(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function ko(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function So(t,e){return t.length<4?xo(t):t[1]+$o(t.slice(1,-1),Do(t,e))}function Mo(t,e){return t.length<3?_o(t):t[0]+$o((t.push(t[0]),t),Do([t[t.length-2]].concat(t,[t[1]]),e))}function To(t,e){return t.length<3?xo(t):t[0]+$o(t,Do(t,e))}function $o(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return xo(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,l=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],l=2),e.length>1){s=e[1],o=t[l],l++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var u=2;u<e.length;u++,l++)o=t[l],s=e[u],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[l];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function Do(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,l=t.length;++s<l;)n=o,o=a,a=t[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function Eo(t){if(t.length<3)return xo(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],l=[i,",",o,"L",Po(Ll,a),",",Po(Ll,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Ro(l,a,s);return t.pop(),l.push("L",r),l.join("")}function Lo(t){if(t.length<4)return xo(t);for(var e,n=[],r=-1,i=t.length,o=[0],a=[0];++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);for(n.push(Po(Ll,o)+","+Po(Ll,a)),--r;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Ro(n,o,a);return n.join("")}function Ao(t){for(var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];++r<4;)n=t[r%i],a.push(n[0]),s.push(n[1]);for(e=[Po(Ll,a),",",Po(Ll,s)],--r;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Ro(e,a,s);return e.join("")}function Fo(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,l=t[n][1]-a,u=-1;++u<=n;)i=u/n,(r=t[u])[0]=e*r[0]+(1-e)*(o+i*s),r[1]=e*r[1]+(1-e)*(a+i*l);return Eo(t)}function Po(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Ro(t,e,n){t.push("C",Po(Dl,e),",",Po(Dl,n),",",Po(El,e),",",Po(El,n),",",Po(Ll,e),",",Po(Ll,n))}function Oo(t,e){return(e[1]-t[1])/(e[0]-t[0])}function No(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=Oo(i,o);++e<n;)r[e]=(a+(a=Oo(i=o,o=t[e+1])))/2;return r[e]=a,r}function Io(t){for(var e,n,r,i,o=[],a=No(t),s=-1,l=t.length-1;++s<l;)e=Oo(t[s],t[s+1]),va(e)<Pa?a[s]=a[s+1]=0:(i=(n=a[s]/e)*n+(r=a[s+1]/e)*r)>9&&(i=3*e/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r);for(s=-1;++s<=l;)i=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function Yo(t){return t.length<3?xo(t):t[0]+$o(t,Io(t))}function Vo(t){for(var e,n,r,i=-1,o=t.length;++i<o;)n=(e=t[i])[0],r=e[1]-Ya,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function jo(t){function e(e){function l(){g.push("M",s(t(v),d),c,u(t(m.reverse()),d),"Z")}for(var h,f,p,g=[],m=[],v=[],y=-1,b=e.length,x=Mt(n),_=Mt(i),w=n===r?function(){return f}:Mt(r),C=i===o?function(){return p}:Mt(o);++y<b;)a.call(this,h=e[y],y)?(m.push([f=+x.call(this,h,y),p=+_.call(this,h,y)]),v.push([+w.call(this,h,y),+C.call(this,h,y)])):m.length&&(l(),m=[],v=[]);return m.length&&l(),g.length?g.join(""):null}var n=Dn,r=Dn,i=0,o=En,a=De,s=xo,l=s.key,u=s,c="L",d=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(i=o=t,e):o},e.y0=function(t){return arguments.length?(i=t,e):i},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?s=t:(s=$l.get(t)||xo).key,u=s.reverse||s,c=s.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(d=t,e):d},e}function Ho(t){return t.radius}function zo(t){return[t.x,t.y]}function Wo(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Ya;return[n*Math.cos(r),n*Math.sin(r)]}}function Bo(){return 64}function Uo(){return"circle"}function Go(t){var e=Math.sqrt(t/Oa);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function qo(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Ko(t,e,n){return wa(t,Il),t.namespace=e,t.id=n,t}function Jo(t,e,n,r){var i=t.id,o=t.namespace;return z(t,"function"==typeof n?function(t,a,s){t[o][i].tween.set(e,r(n.call(t,t.__data__,a,s)))}:(n=r(n),function(t){t[o][i].tween.set(e,n)}))}function Xo(t){return null==t&&(t=""),function(){this.textContent=t}}function Zo(t){return null==t?"__transition__":"__transition_"+t+"__"}function Qo(t,e,n,r,i){function o(t){var e=g.delay;if(c.t=e+l,e<=t)return a(t-e);c.c=a}function a(n){var i=p.active,o=p[i];o&&(o.timer.c=null,o.timer.t=NaN,--p.count,delete p[i],o.event&&o.event.interrupt.call(t,t.__data__,o.index));for(var a in p)if(+a<r){var u=p[a];u.timer.c=null,u.timer.t=NaN,--p.count,delete p[a]}c.c=s,Lt(function(){return c.c&&s(n||1)&&(c.c=null,c.t=NaN),1},0,l),p.active=r,g.event&&g.event.start.call(t,t.__data__,e),f=[],g.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&f.push(r)}),h=g.ease,d=g.duration}function s(i){for(var o=i/d,a=h(o),s=f.length;s>0;)f[--s].call(t,a);if(o>=1)return g.event&&g.event.end.call(t,t.__data__,e),--p.count?delete p[r]:delete t[n],1}var l,c,d,h,f,p=t[n]||(t[n]={active:0,count:0}),g=p[r];g||(l=i.time,c=Lt(o,0,l),g=p[r]={tween:new u,time:l,timer:c,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++p.count)}function ta(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function ea(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}function na(t){return t.toISOString()}function ra(t,e,n){function r(e){return t(e)}function i(t,n){var r=(t[1]-t[0])/n,i=sa.bisect(Gl,r);return i==Gl.length?[e.year,Xi(t.map(function(t){return t/31536e6}),n)[2]]:i?e[r/Gl[i-1]<Gl[i]/r?i-1:i]:[Jl,Xi(t,n)[2]]}return r.invert=function(e){return ia(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(ia)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,ia(+n+1),e).length}var o=r.domain(),a=Hi(o),s=null==t?i(a,10):"number"==typeof t&&i(a,t);return s&&(t=s[0],e=s[1]),r.domain(Bi(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=ia(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=ia(+e+1);return e}}:t))},r.ticks=function(t,e){var n=Hi(r.domain()),o=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],ia(+n[1]+1),e<1?1:e)},r.tickFormat=function(){return n},r.copy=function(){return ra(t.copy(),e,n)},Ki(r,t)}function ia(t){return new Date(t)}function oa(t){return JSON.parse(t.responseText)}function aa(t){var e=ca.createRange();return e.selectNode(ca.body),e.createContextualFragment(t.responseText)}var sa={version:"3.5.17"},la=[].slice,ua=function(t){return la.call(t)},ca=this.document;if(ca)try{ua(ca.documentElement.childNodes)[0].nodeType}catch(t){ua=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),ca)try{ca.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var da=this.Element.prototype,ha=da.setAttribute,fa=da.setAttributeNS,pa=this.CSSStyleDeclaration.prototype,ga=pa.setProperty;da.setAttribute=function(t,e){ha.call(this,t,e+"")},da.setAttributeNS=function(t,e,n){fa.call(this,t,e,n+"")},pa.setProperty=function(t,e,n){ga.call(this,t,e+"",n)}}sa.ascending=n,sa.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},sa.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},sa.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},sa.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},sa.sum=function(t,e){var n,r=0,o=t.length,a=-1;if(1===arguments.length)for(;++a<o;)i(n=+t[a])&&(r+=n);else for(;++a<o;)i(n=+e.call(t,t[a],a))&&(r+=n);return r},sa.mean=function(t,e){var n,o=0,a=t.length,s=-1,l=a;if(1===arguments.length)for(;++s<a;)i(n=r(t[s]))?o+=n:--l;else for(;++s<a;)i(n=r(e.call(t,t[s],s)))?o+=n:--l;if(l)return o/l},sa.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},sa.median=function(t,e){var o,a=[],s=t.length,l=-1;if(1===arguments.length)for(;++l<s;)i(o=r(t[l]))&&a.push(o);else for(;++l<s;)i(o=r(e.call(t,t[l],l)))&&a.push(o);if(a.length)return sa.quantile(a.sort(n),.5)},sa.variance=function(t,e){var n,o,a=t.length,s=0,l=0,u=-1,c=0;if(1===arguments.length)for(;++u<a;)i(n=r(t[u]))&&(l+=(o=n-s)*(n-(s+=o/++c)));else for(;++u<a;)i(n=r(e.call(t,t[u],u)))&&(l+=(o=n-s)*(n-(s+=o/++c)));if(c>1)return l/(c-1)},sa.deviation=function(){var t=sa.variance.apply(this,arguments);return t?Math.sqrt(t):t};var ma=o(n);sa.bisectLeft=ma.left,sa.bisect=sa.bisectRight=ma.right,sa.bisector=function(t){return o(1===t.length?function(e,r){return n(t(e),r)}:t)},sa.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},sa.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},sa.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},sa.transpose=function(t){if(!(i=t.length))return[];for(var e=-1,n=sa.min(t,a),r=new Array(n);++e<n;)for(var i,o=-1,s=r[e]=new Array(i);++o<i;)s[o]=t[o][e];return r},sa.zip=function(){return sa.transpose(arguments)},sa.keys=function(t){var e=[];for(var n in t)e.push(n);return e},sa.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},sa.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},sa.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n};var va=Math.abs;sa.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var r,i=[],o=s(va(n)),a=-1;if(t*=o,e*=o,(n*=o)<0)for(;(r=t+n*++a)>e;)i.push(r/o);else for(;(r=t+n*++a)<e;)i.push(r/o);return i},sa.map=function(t,e){var n=new u;if(t instanceof u)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var a in t)n.set(a,t[a]);return n};var ya="__proto__",ba="\0";l(u,{has:h,get:function(t){return this._[c(t)]},set:function(t,e){return this._[c(t)]=e},remove:f,keys:p,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:d(e),value:this._[e]});return t},size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,d(e),this._[e])}}),sa.nest=function(){function t(e,a,s){if(s>=o.length)return r?r.call(i,a):n?a.sort(n):a;for(var l,c,d,h,f=-1,p=a.length,g=o[s++],m=new u;++f<p;)(h=m.get(l=g(c=a[f])))?h.push(c):m.set(l,[c]);return e?(c=e(),d=function(n,r){c.set(n,t(e,r,s))}):(c={},d=function(n,r){c[n]=t(e,r,s)}),m.forEach(d),c}function e(t,n){if(n>=o.length)return t;var r=[],i=a[n++];return t.forEach(function(t,i){r.push({key:t,values:e(i,n)})}),i?r.sort(function(t,e){return i(t.key,e.key)}):r}var n,r,i={},o=[],a=[];return i.map=function(e,n){return t(n,e,0)},i.entries=function(n){return e(t(sa.map,n,0),0)},i.key=function(t){return o.push(t),i},i.sortKeys=function(t){return a[o.length-1]=t,i},i.sortValues=function(t){return n=t,i},i.rollup=function(t){return r=t,i},i},sa.set=function(t){var e=new v;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},l(v,{has:h,add:function(t){return this._[c(t+="")]=!0,t},remove:f,values:p,size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,d(e))}}),sa.behavior={},sa.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=b(t,e,e[n]);return t};var xa=["webkit","ms","moz","Moz","o","O"];sa.dispatch=function(){for(var t=new w,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=C(t);return t},w.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},sa.event=null,sa.requote=function(t){return t.replace(_a,"\\$&")};var _a=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,wa={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Ca=function(t,e){return e.querySelector(t)},ka=function(t,e){return e.querySelectorAll(t)},Sa=function(t,e){var n=t.matches||t[x(t,"matchesSelector")];return(Sa=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Ca=function(t,e){return Sizzle(t,e)[0]||null},ka=Sizzle,Sa=Sizzle.matchesSelector),sa.selection=function(){return sa.select(ca.documentElement)};var Ma=sa.selection.prototype=[];Ma.select=function(t){var e,n,r,i,o=[];t=$(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var l=-1,u=r.length;++l<u;)(i=r[l])?(e.push(n=t.call(i,i.__data__,l,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return T(o)},Ma.selectAll=function(t){var e,n,r=[];t=D(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,l=a.length;++s<l;)(n=a[s])&&(r.push(e=ua(t.call(n,n.__data__,s,i))),e.parentNode=n);return T(r)};var Ta="http://www.w3.org/1999/xhtml",$a={svg:"http://www.w3.org/2000/svg",xhtml:Ta,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};sa.ns={prefix:$a,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),$a.hasOwnProperty(n)?{space:$a[n],local:t}:t}},Ma.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=sa.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(E(e,t[e]));return this}return this.each(E(t,e))},Ma.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=F(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!A(t[i]).test(e))return!1;return!0}for(e in t)this.each(P(e,t[e]));return this}return this.each(P(t,e))},Ma.style=function(t,n,r){var i=arguments.length;if(i<3){if("string"!=typeof t){i<2&&(n="");for(r in t)this.each(O(r,t[r],n));return this}if(i<2){var o=this.node();return e(o).getComputedStyle(o,null).getPropertyValue(t)}r=""}return this.each(O(t,n,r))},Ma.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(N(e,t[e]));return this}return this.each(N(t,e))},Ma.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Ma.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Ma.append=function(t){return t=I(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Ma.insert=function(t,e){return t=I(t),e=$(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Ma.remove=function(){return this.each(Y)},Ma.data=function(t,e){function n(t,n){var r,i,o,a=t.length,d=n.length,h=Math.min(a,d),f=new Array(d),p=new Array(d),g=new Array(a);if(e){var m,v=new u,y=new Array(a);for(r=-1;++r<a;)(i=t[r])&&(v.has(m=e.call(i,i.__data__,r))?g[r]=i:v.set(m,i),y[r]=m);for(r=-1;++r<d;)(i=v.get(m=e.call(n,o=n[r],r)))?!0!==i&&(f[r]=i,i.__data__=o):p[r]=V(o),v.set(m,!0);for(r=-1;++r<a;)r in y&&!0!==v.get(y[r])&&(g[r]=t[r])}else{for(r=-1;++r<h;)i=t[r],o=n[r],i?(i.__data__=o,f[r]=i):p[r]=V(o);for(;r<d;++r)p[r]=V(n[r]);for(;r<a;++r)g[r]=t[r]}p.update=f,p.parentNode=f.parentNode=g.parentNode=t.parentNode,s.push(p),l.push(f),c.push(g)}var r,i,o=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(r=this[0]).length);++o<a;)(i=r[o])&&(t[o]=i.__data__);return t}var s=W([]),l=T([]),c=T([]);if("function"==typeof t)for(;++o<a;)n(r=this[o],t.call(r,r.parentNode.__data__,o));else for(;++o<a;)n(r=this[o],t);return l.enter=function(){return s},l.exit=function(){return c},l},Ma.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Ma.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=j(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return T(i)},Ma.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Ma.sort=function(t){t=H.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Ma.each=function(t){return z(this,function(e,n,r){t.call(e,e.__data__,n,r)})},Ma.call=function(t){var e=ua(arguments);return t.apply(e[0]=this,e),this},Ma.empty=function(){return!this.node()},Ma.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},Ma.size=function(){var t=0;return z(this,function(){++t}),t};var Da=[];sa.selection.enter=W,sa.selection.enter.prototype=Da,Da.append=Ma.append,Da.empty=Ma.empty,Da.node=Ma.node,Da.call=Ma.call,Da.size=Ma.size,Da.select=function(t){for(var e,n,r,i,o,a=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var u=-1,c=i.length;++u<c;)(o=i[u])?(e.push(r[u]=n=t.call(i.parentNode,o.__data__,u,s)),n.__data__=o.__data__):e.push(null)}return T(a)},Da.insert=function(t,e){return arguments.length<2&&(e=B(this)),Ma.insert.call(this,t,e)},sa.select=function(e){var n;return"string"==typeof e?(n=[Ca(e,ca)]).parentNode=ca.documentElement:(n=[e]).parentNode=t(e),T([n])},sa.selectAll=function(t){var e;return"string"==typeof t?(e=ua(ka(t,ca))).parentNode=ca.documentElement:(e=ua(t)).parentNode=null,T([e])},Ma.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(e=!1);for(n in t)this.each(U(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(U(t,e,n))};var Ea=sa.map({mouseenter:"mouseover",mouseleave:"mouseout"});ca&&Ea.forEach(function(t){"on"+t in ca&&Ea.remove(t)});var La,Aa=0;sa.mouse=function(t){return J(t,S())};var Fa=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;sa.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=S().changedTouches),e)for(var r,i=0,o=e.length;i<o;++i)if((r=e[i]).identifier===n)return J(t,r)},sa.behavior.drag=function(){function t(){this.on("mousedown.drag",o).on("touchstart.drag",a)}function n(t,e,n,o,a){return function(){function s(){var t,n,r=e(h,g);r&&(t=r[0]-b[0],n=r[1]-b[1],p|=t|n,b=r,f({type:"drag",x:r[0]+u[0],y:r[1]+u[1],dx:t,dy:n}))}function l(){e(h,g)&&(v.on(o+m,null).on(a+m,null),y(p),f({type:"dragend"}))}var u,c=this,d=sa.event.target.correspondingElement||sa.event.target,h=c.parentNode,f=r.of(c,arguments),p=0,g=t(),m=".drag"+(null==g?"":"-"+g),v=sa.select(n(d)).on(o+m,s).on(a+m,l),y=K(d),b=e(h,g);i?(u=i.apply(c,arguments),u=[u.x-b[0],u.y-b[1]]):u=[0,0],f({type:"dragstart"})}}var r=M(t,"drag","dragstart","dragend"),i=null,o=n(_,sa.mouse,e,"mousemove","mouseup"),a=n(X,sa.touch,y,"touchmove","touchend");return t.origin=function(e){return arguments.length?(i=e,t):i},sa.rebind(t,r,"on")},sa.touches=function(t,e){return arguments.length<2&&(e=S().touches),e?ua(e).map(function(e){var n=J(t,e);return n.identifier=e.identifier,n}):[]};var Pa=1e-6,Ra=Pa*Pa,Oa=Math.PI,Na=2*Oa,Ia=Na-Pa,Ya=Oa/2,Va=Oa/180,ja=180/Oa,Ha=Math.SQRT2;sa.interpolateZoom=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],l=e[1],u=e[2],c=s-i,d=l-o,h=c*c+d*d;if(h<Ra)r=Math.log(u/a)/Ha,n=function(t){return[i+t*c,o+t*d,a*Math.exp(Ha*t*r)]};else{var f=Math.sqrt(h),p=(u*u-a*a+4*h)/(2*a*2*f),g=(u*u-a*a-4*h)/(2*u*2*f),m=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);r=(v-m)/Ha,n=function(t){var e=t*r,n=rt(m),s=a/(2*f)*(n*it(Ha*e+m)-nt(m));return[i+s*c,o+s*d,a*n/rt(Ha*e+m)]}}return n.duration=1e3*r,n},sa.behavior.zoom=function(){function t(t){t.on(L,d).on(Wa+".zoom",f).on("dblclick.zoom",p).on(P,h)}function n(t){return[(t[0]-S.x)/S.k,(t[1]-S.y)/S.k]}function r(t){return[t[0]*S.k+S.x,t[1]*S.k+S.y]}function i(t){S.k=Math.max($[0],Math.min($[1],t))}function o(t,e){e=r(e),S.x+=t[0]-e[0],S.y+=t[1]-e[1]}function a(e,n,r,a){e.__chart__={x:S.x,y:S.y,k:S.k},i(Math.pow(2,a)),o(m=n,r),e=sa.select(e),D>0&&(e=e.transition().duration(D)),e.call(t.event)}function s(){_&&_.domain(x.range().map(function(t){return(t-S.x)/S.k}).map(x.invert)),C&&C.domain(w.range().map(function(t){return(t-S.y)/S.k}).map(w.invert))}function l(t){E++||t({type:"zoomstart"})}function u(t){s(),t({type:"zoom",scale:S.k,translate:[S.x,S.y]})}function c(t){--E||(t({type:"zoomend"}),m=null)}function d(){function t(){s=1,o(sa.mouse(i),h),u(a)}function r(){d.on(A,null).on(F,null),f(s),c(a)}var i=this,a=R.of(i,arguments),s=0,d=sa.select(e(i)).on(A,t).on(F,r),h=n(sa.mouse(i)),f=K(i);Nl.call(i),l(a)}function h(){function t(){var t=sa.touches(p);return f=S.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=n(t))}),t}function e(){var e=sa.event.target;sa.select(e).on(x,r).on(_,s),w.push(e);for(var n=sa.event.changedTouches,i=0,o=n.length;i<o;++i)m[n[i].identifier]=null;var l=t(),u=Date.now();if(1===l.length){if(u-b<500){c=l[0];a(p,c,m[c.identifier],Math.floor(Math.log(S.k)/Math.LN2)+1),k()}b=u}else if(l.length>1){var c=l[0],d=l[1],h=c[0]-d[0],f=c[1]-d[1];v=h*h+f*f}}function r(){var t,e,n,r,a=sa.touches(p);Nl.call(p);for(var s=0,l=a.length;s<l;++s,r=null)if(n=a[s],r=m[n.identifier]){if(e)break;t=n,e=r}if(r){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,d=v&&Math.sqrt(c/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+r[0])/2,(e[1]+r[1])/2],i(d*f)}b=null,o(t,e),u(g)}function s(){if(sa.event.touches.length){for(var e=sa.event.changedTouches,n=0,r=e.length;n<r;++n)delete m[e[n].identifier];for(var i in m)return void t()}sa.selectAll(w).on(y,null),C.on(L,d).on(P,h),M(),c(g)}var f,p=this,g=R.of(p,arguments),m={},v=0,y=".zoom-"+sa.event.changedTouches[0].identifier,x="touchmove"+y,_="touchend"+y,w=[],C=sa.select(p),M=K(p);e(),l(g),C.on(L,null).on(P,e)}function f(){var t=R.of(this,arguments);y?clearTimeout(y):(Nl.call(this),g=n(m=v||sa.mouse(this)),l(t)),y=setTimeout(function(){y=null,c(t)},50),k(),i(Math.pow(2,.002*za())*S.k),o(m,g),u(t)}function p(){var t=sa.mouse(this),e=Math.log(S.k)/Math.LN2;a(this,t,n(t),sa.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var g,m,v,y,b,x,_,w,C,S={x:0,y:0,k:1},T=[960,500],$=Ba,D=250,E=0,L="mousedown.zoom",A="mousemove.zoom",F="mouseup.zoom",P="touchstart.zoom",R=M(t,"zoomstart","zoom","zoomend");return Wa||(Wa="onwheel"in ca?(za=function(){return-sa.event.deltaY*(sa.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ca?(za=function(){return sa.event.wheelDelta},"mousewheel"):(za=function(){return-sa.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=R.of(this,arguments),e=S;Rl?sa.select(this).transition().each("start.zoom",function(){S=this.__chart__||{x:0,y:0,k:1},l(t)}).tween("zoom:zoom",function(){var n=T[0],r=T[1],i=m?m[0]:n/2,o=m?m[1]:r/2,a=sa.interpolateZoom([(i-S.x)/S.k,(o-S.y)/S.k,n/S.k],[(i-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var r=a(e),s=n/r[2];this.__chart__=S={x:i-r[0]*s,y:o-r[1]*s,k:s},u(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=S,l(t),u(t),c(t))})},t.translate=function(e){return arguments.length?(S={x:+e[0],y:+e[1],k:S.k},s(),t):[S.x,S.y]},t.scale=function(e){return arguments.length?(S={x:S.x,y:S.y,k:null},i(+e),s(),t):S.k},t.scaleExtent=function(e){return arguments.length?($=null==e?Ba:[+e[0],+e[1]],t):$},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(T=e&&[+e[0],+e[1]],t):T},t.duration=function(e){return arguments.length?(D=+e,t):D},t.x=function(e){return arguments.length?(_=e,x=e.copy(),S={x:0,y:0,k:1},t):_},t.y=function(e){return arguments.length?(C=e,w=e.copy(),S={x:0,y:0,k:1},t):C},sa.rebind(t,R,"on")};var za,Wa,Ba=[0,1/0];sa.color=at,at.prototype.toString=function(){return this.rgb()+""},sa.hsl=st;var Ua=st.prototype=new at;Ua.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,this.l/t)},Ua.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,t*this.l)},Ua.rgb=function(){return lt(this.h,this.s,this.l)},sa.hcl=ut;var Ga=ut.prototype=new at;Ga.brighter=function(t){return new ut(this.h,this.c,Math.min(100,this.l+qa*(arguments.length?t:1)))},Ga.darker=function(t){return new ut(this.h,this.c,Math.max(0,this.l-qa*(arguments.length?t:1)))},Ga.rgb=function(){return ct(this.h,this.c,this.l).rgb()},sa.lab=dt;var qa=18,Ka=.95047,Ja=1,Xa=1.08883,Za=dt.prototype=new at;Za.brighter=function(t){return new dt(Math.min(100,this.l+qa*(arguments.length?t:1)),this.a,this.b)},Za.darker=function(t){return new dt(Math.max(0,this.l-qa*(arguments.length?t:1)),this.a,this.b)},Za.rgb=function(){return ht(this.l,this.a,this.b)},sa.rgb=vt;var Qa=vt.prototype=new at;Qa.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new vt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new vt(i,i,i)},Qa.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new vt(t*this.r,t*this.g,t*this.b)},Qa.hsl=function(){return wt(this.r,this.g,this.b)},Qa.toString=function(){return"#"+xt(this.r)+xt(this.g)+xt(this.b)};var ts=sa.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ts.forEach(function(t,e){ts.set(t,yt(e))}),sa.functor=Mt,sa.xhr=Tt(y),sa.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var a=$t(t,e,null==n?r:i(n),o);return a.row=function(t){return arguments.length?a.response(null==(n=t)?r:i(t)):n},a}function r(t){return n.parse(t.responseText)}function i(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(i(t),n)}:i})},n.parseRows=function(t,e){function n(){if(c>=u)return a;if(i)return i=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return c=n+2,13===(r=t.charCodeAt(n+1))?(i=!0,10===t.charCodeAt(n+2)&&++c):10===r&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;c<u;){var r=t.charCodeAt(c++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===t.charCodeAt(c)&&(++c,++s);else if(r!==l)continue;return t.slice(e,c-s)}return t.slice(e)}for(var r,i,o={},a={},s=[],u=t.length,c=0,d=0;(r=n())!==a;){for(var h=[];r!==o&&r!==a;)h.push(r),r=n();e&&null==(h=e(h,d++))||s.push(h)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new v,i=[];return e.forEach(function(t){for(var e in t)r.has(e)||i.push(r.add(e))}),[i.map(a).join(t)].concat(e.map(function(e){return i.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(o).join("\n")},n},sa.csv=sa.dsv(",","text/csv"),sa.tsv=sa.dsv("\t","text/tab-separated-values");var es,ns,rs,is,os=this[x(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};sa.timer=function(){Lt.apply(this,arguments)},sa.timer.flush=function(){Ft(),Pt()},sa.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var as=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(Ot);sa.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=sa.round(t,Rt(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),as[8+n/3]};var ss=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ls=sa.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=sa.round(t,Rt(t,e))).toFixed(Math.max(0,Math.min(20,Rt(t*(1+1e-15),e))))}}),us=sa.time={},cs=Date;Yt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ds.setUTCDate.apply(this._,arguments)},setDay:function(){ds.setUTCDay.apply(this._,arguments)},setFullYear:function(){ds.setUTCFullYear.apply(this._,arguments)},setHours:function(){ds.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ds.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ds.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ds.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ds.setUTCSeconds.apply(this._,arguments)},setTime:function(){ds.setTime.apply(this._,arguments)}};var ds=Date.prototype;us.year=Vt(function(t){return(t=us.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),us.years=us.year.range,us.years.utc=us.year.utc.range,us.day=Vt(function(t){var e=new cs(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),us.days=us.day.range,us.days.utc=us.day.utc.range,us.dayOfYear=function(t){var e=us.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=us[t]=Vt(function(t){return(t=us.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=us.year(t).getDay();return Math.floor((us.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});us[t+"s"]=n.range,us[t+"s"].utc=n.utc.range,us[t+"OfYear"]=function(t){var n=us.year(t).getDay();return Math.floor((us.dayOfYear(t)+(n+e)%7)/7)}}),us.week=us.sunday,us.weeks=us.sunday.range,us.weeks.utc=us.sunday.utc.range,us.weekOfYear=us.sundayOfYear;var hs={"-":"",_:" ",0:"0"},fs=/^\s*\d+/,ps=/^%/;sa.locale=function(t){return{numberFormat:Nt(t),timeFormat:Ht(t)}};var gs=sa.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});sa.format=gs.numberFormat,sa.geo={},ue.prototype={s:0,t:0,add:function(t){ce(t,this.t,ms),ce(ms.s,this.s,this),this.s?this.t+=ms.t:this.s=ms.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ms=new ue;sa.geo.stream=function(t,e){t&&vs.hasOwnProperty(t.type)?vs[t.type](t,e):de(t,e)};var vs={Feature:function(t,e){de(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)de(n[r].geometry,e)}},ys={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){he(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)he(n[r],e,0)},Polygon:function(t,e){fe(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)fe(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)de(n[r],e)}};sa.geo.area=function(t){return bs=0,sa.geo.stream(t,_s),bs};var bs,xs=new ue,_s={sphere:function(){bs+=4*Oa},point:_,lineStart:_,lineEnd:_,polygonStart:function(){xs.reset(),_s.lineStart=pe},polygonEnd:function(){var t=2*xs;bs+=t<0?4*Oa+t:t,_s.lineStart=_s.lineEnd=_s.point=_}};sa.geo.bounds=function(){function t(t,e){b.push(x=[c=t,h=t]),e<d&&(d=e),e>f&&(f=e)}function e(e,n){var r=ge([e*Va,n*Va]);if(v){var i=ve(v,r),o=ve([i[1],-i[0],0],i);xe(o),o=_e(o);var a=e-p,l=a>0?1:-1,u=o[0]*ja*l,g=va(a)>180;if(g^(l*p<u&&u<l*e))(m=o[1]*ja)>f&&(f=m);else if(u=(u+360)%360-180,g^(l*p<u&&u<l*e)){var m=-o[1]*ja;m<d&&(d=m)}else n<d&&(d=n),n>f&&(f=n);g?e<p?s(c,e)>s(c,h)&&(h=e):s(e,h)>s(c,h)&&(c=e):h>=c?(e<c&&(c=e),e>h&&(h=e)):e>p?s(c,e)>s(c,h)&&(h=e):s(e,h)>s(c,h)&&(c=e)}else t(e,n);v=r,p=e}function n(){_.point=e}function r(){x[0]=c,x[1]=h,_.point=t,v=null}function i(t,n){if(v){var r=t-p;y+=va(r)>180?r+(r>0?360:-360):r}else g=t,m=n;_s.point(t,n),e(t,n)}function o(){_s.lineStart()}function a(){i(g,m),_s.lineEnd(),va(y)>Pa&&(c=-(h=180)),x[0]=c,x[1]=h,v=null}function s(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function u(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,d,h,f,p,g,m,v,y,b,x,_={point:t,lineStart:n,lineEnd:r,polygonStart:function(){_.point=i,_.lineStart=o,_.lineEnd=a,y=0,_s.polygonStart()},polygonEnd:function(){_s.polygonEnd(),_.point=t,_.lineStart=n,_.lineEnd=r,xs<0?(c=-(h=180),d=-(f=90)):y>Pa?f=90:y<-Pa&&(d=-90),x[0]=c,x[1]=h}};return function(t){f=h=-(c=d=1/0),b=[],sa.geo.stream(t,_);var e=b.length;if(e){b.sort(l);for(var n=1,r=[p=b[0]];n<e;++n)u((o=b[n])[0],p)||u(o[1],p)?(s(p[0],o[1])>s(p[0],p[1])&&(p[1]=o[1]),s(o[0],p[1])>s(p[0],p[1])&&(p[0]=o[0])):r.push(p=o);for(var i,o,a=-1/0,n=0,p=r[e=r.length-1];n<=e;p=o,++n)o=r[n],(i=s(p[1],o[0]))>a&&(a=i,c=o[0],h=p[1])}return b=x=null,c===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,d],[h,f]]}}(),sa.geo.centroid=function(t){ws=Cs=ks=Ss=Ms=Ts=$s=Ds=Es=Ls=As=0,sa.geo.stream(t,Fs);var e=Es,n=Ls,r=As,i=e*e+n*n+r*r;return i<Ra&&(e=Ts,n=$s,r=Ds,Cs<Pa&&(e=ks,n=Ss,r=Ms),(i=e*e+n*n+r*r)<Ra)?[NaN,NaN]:[Math.atan2(n,e)*ja,et(r/Math.sqrt(i))*ja]};var ws,Cs,ks,Ss,Ms,Ts,$s,Ds,Es,Ls,As,Fs={sphere:_,point:Ce,lineStart:Se,lineEnd:Me,polygonStart:function(){Fs.lineStart=Te},polygonEnd:function(){Fs.lineStart=Se}},Ps=Fe(De,Ne,Ye,[-Oa,-Oa/2]),Rs=1e9;sa.geo.clipExtent=function(){var t,e,n,r,i,o,a={stream:function(t){return i&&(i.valid=!1),i=o(t),i.valid=!0,i},extent:function(s){return arguments.length?(o=ze(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(sa.geo.conicEqualArea=function(){return We(Be)}).raw=Be,sa.geo.albers=function(){return sa.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},sa.geo.albersUsa=function(){function t(t){var o=t[0],a=t[1];return e=null,n(o,a),e||(r(o,a),e)||i(o,a),e}var e,n,r,i,o=sa.geo.albers(),a=sa.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=sa.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=a.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var u=o.scale(),c=+e[0],d=+e[1];return n=o.translate(e).clipExtent([[c-.455*u,d-.238*u],[c+.455*u,d+.238*u]]).stream(l).point,r=a.translate([c-.307*u,d+.201*u]).clipExtent([[c-.425*u+Pa,d+.12*u+Pa],[c-.214*u-Pa,d+.234*u-Pa]]).stream(l).point,i=s.translate([c-.205*u,d+.212*u]).clipExtent([[c-.214*u+Pa,d+.166*u+Pa],[c-.115*u-Pa,d+.234*u-Pa]]).stream(l).point,t},t.scale(1070)};var Os,Ns,Is,Ys,Vs,js,Hs={point:_,lineStart:_,lineEnd:_,polygonStart:function(){Ns=0,Hs.lineStart=Ue},polygonEnd:function(){Hs.lineStart=Hs.lineEnd=Hs.point=_,Os+=va(Ns/2)}},zs={point:Ge,lineStart:_,lineEnd:_,polygonStart:_,polygonEnd:_},Ws={point:Je,lineStart:Xe,lineEnd:Ze,polygonStart:function(){Ws.lineStart=Qe},polygonEnd:function(){Ws.point=Je,Ws.lineStart=Xe,Ws.lineEnd=Ze}};sa.geo.path=function(){function t(t){return t&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=i(o)),sa.geo.stream(t,a)),o.result()}function e(){return a=null,t}var n,r,i,o,a,s=4.5;return t.area=function(t){return Os=0,sa.geo.stream(t,i(Hs)),Os},t.centroid=function(t){return ks=Ss=Ms=Ts=$s=Ds=Es=Ls=As=0,sa.geo.stream(t,i(Ws)),As?[Es/As,Ls/As]:Ds?[Ts/Ds,$s/Ds]:Ms?[ks/Ms,Ss/Ms]:[NaN,NaN]},t.bounds=function(t){return Vs=js=-(Is=Ys=1/0),sa.geo.stream(t,i(zs)),[[Is,Ys],[Vs,js]]},t.projection=function(t){return arguments.length?(i=(n=t)?t.stream||nn(t):y,e()):n},t.context=function(t){return arguments.length?(o=null==(r=t)?new qe:new tn(t),"function"!=typeof s&&o.pointRadius(s),e()):r},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(o.pointRadius(+e),+e),t):s},t.projection(sa.geo.albersUsa()).context(null)},sa.geo.transform=function(t){return{stream:function(e){var n=new rn(e);for(var r in t)n[r]=t[r];return n}}},rn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},sa.geo.projection=an,sa.geo.projectionMutator=sn,(sa.geo.equirectangular=function(){return an(un)}).raw=un.invert=un,sa.geo.rotation=function(t){function e(e){return e=t(e[0]*Va,e[1]*Va),e[0]*=ja,e[1]*=ja,e}return t=dn(t[0]%360*Va,t[1]*Va,t.length>2?t[2]*Va:0),e.invert=function(e){return e=t.invert(e[0]*Va,e[1]*Va),e[0]*=ja,e[1]*=ja,e},e},cn.invert=un,sa.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=dn(-t[0]*Va,-t[1]*Va,0).invert,i=[];return n(null,null,1,{point:function(t,n){i.push(t=e(t,n)),t[0]*=ja,t[1]*=ja}}),{type:"Polygon",coordinates:[i]}}var e,n,r=[0,0],i=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=gn((e=+r)*Va,i*Va),t):e},t.precision=function(r){return arguments.length?(n=gn(e*Va,(i=+r)*Va),t):i},t.angle(90)},sa.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Va,i=t[1]*Va,o=e[1]*Va,a=Math.sin(r),s=Math.cos(r),l=Math.sin(i),u=Math.cos(i),c=Math.sin(o),d=Math.cos(o);return Math.atan2(Math.sqrt((n=d*a)*n+(n=u*c-l*d*s)*n),l*c+u*d*s)},sa.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return sa.range(Math.ceil(o/m)*m,i,m).map(h).concat(sa.range(Math.ceil(u/v)*v,l,v).map(f)).concat(sa.range(Math.ceil(r/p)*p,n,p).filter(function(t){return va(t%m)>Pa}).map(c)).concat(sa.range(Math.ceil(s/g)*g,a,g).filter(function(t){return va(t%v)>Pa}).map(d))}var n,r,i,o,a,s,l,u,c,d,h,f,p=10,g=p,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(f(l).slice(1),h(i).reverse().slice(1),f(u).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],i=+e[1][0],u=+e[0][1],l=+e[1][1],o>i&&(e=o,o=i,i=e),u>l&&(e=u,u=l,l=e),t.precision(y)):[[o,u],[i,l]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(y)):[[r,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(y=+e,c=vn(s,a,90),d=yn(r,n,y),h=vn(u,l,90),f=yn(o,i,y),t):y},t.majorExtent([[-180,-90+Pa],[180,90-Pa]]).minorExtent([[-180,-80-Pa],[180,80+Pa]])},sa.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}var e,n,r=bn,i=xn;return t.distance=function(){return sa.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(i=e,n="function"==typeof e?null:e,t):i},t.precision=function(){return arguments.length?t:0},t},sa.geo.interpolate=function(t,e){return _n(t[0]*Va,t[1]*Va,e[0]*Va,e[1]*Va)},sa.geo.length=function(t){return Bs=0,sa.geo.stream(t,Us),Bs};var Bs,Us={sphere:_,point:_,lineStart:wn,lineEnd:_,polygonStart:_,polygonEnd:_},Gs=Cn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(sa.geo.azimuthalEqualArea=function(){return an(Gs)}).raw=Gs;var qs=Cn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},y);(sa.geo.azimuthalEquidistant=function(){return an(qs)}).raw=qs,(sa.geo.conicConformal=function(){return We(kn)}).raw=kn,(sa.geo.conicEquidistant=function(){return We(Sn)}).raw=Sn;var Ks=Cn(function(t){return 1/t},Math.atan);(sa.geo.gnomonic=function(){return an(Ks)}).raw=Ks,Mn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ya]},(sa.geo.mercator=function(){return Tn(Mn)}).raw=Mn;var Js=Cn(function(){return 1},Math.asin);(sa.geo.orthographic=function(){return an(Js)}).raw=Js;var Xs=Cn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(sa.geo.stereographic=function(){return an(Xs)}).raw=Xs,$n.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Ya]},(sa.geo.transverseMercator=function(){var t=Tn($n),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=$n,sa.geom={},sa.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,i=Mt(n),o=Mt(r),a=t.length,s=[],l=[];for(e=0;e<a;e++)s.push([+i.call(this,t[e],e),+o.call(this,t[e],e),e]);for(s.sort(An),e=0;e<a;e++)l.push([s[e][0],-s[e][1]]);var u=Ln(s),c=Ln(l),d=c[0]===u[0],h=c[c.length-1]===u[u.length-1],f=[];for(e=u.length-1;e>=0;--e)f.push(t[s[u[e]][2]]);for(e=+d;e<c.length-h;++e)f.push(t[s[c[e]][2]]);return f}var n=Dn,r=En;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},sa.geom.polygon=function(t){return wa(t,Zs),t};var Zs=sa.geom.polygon.prototype=[];Zs.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},Zs.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},Zs.clip=function(t){for(var e,n,r,i,o,a,s=Rn(t),l=-1,u=this.length-Rn(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,i=this[l],o=e[(r=e.length-s)-1],n=-1;++n<r;)Fn(a=e[n],c,i)?(Fn(o,c,i)||t.push(Pn(o,a,c,i)),t.push(a)):Fn(o,c,i)&&t.push(Pn(o,a,c,i)),o=a;s&&t.push(t[0]),c=i}return t};var Qs,tl,el,nl,rl,il=[],ol=[];zn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Bn),e.length},er.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},nr.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ar(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(ir(this,n),n=(t=n).U),n.C=!1,r.C=!0,or(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(or(this,n),n=(t=n).U),n.C=!1,r.C=!0,ir(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?ar(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,ir(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,or(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,ir(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,or(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ir(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,or(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},sa.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=s[0][0],i=s[0][1],o=s[1][0],a=s[1][1];return sr(n(t),s).cells.forEach(function(n,s){var l=n.edges,u=n.site;(e[s]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=r&&u.x<=o&&u.y>=i&&u.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[]).point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Pa)*Pa,y:Math.round(a(t,e)/Pa)*Pa,i:e}})}var r=Dn,i=En,o=r,a=i,s=al;return t?e(t):(e.links=function(t){return sr(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return sr(n(t)).cells.forEach(function(n,r){for(var i,o=n.site,a=n.edges.sort(Bn),s=-1,l=a.length,u=a[l-1].edge,c=u.l===o?u.r:u.l;++s<l;)u,i=c,c=(u=a[s].edge).l===o?u.r:u.l,r<i.i&&r<c.i&&ur(o,i,c)<0&&e.push([t[r],t[i.i],t[c.i]])}),e},e.x=function(t){return arguments.length?(o=Mt(r=t),e):r},e.y=function(t){return arguments.length?(a=Mt(i=t),e):i},e.clipExtent=function(t){return arguments.length?(s=null==t?al:t,e):s===al?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===al?null:s&&s[1]},e)};var al=[[-1e6,-1e6],[1e6,1e6]];sa.geom.delaunay=function(t){return sa.geom.voronoi().triangles(t)},sa.geom.quadtree=function(t,e,n,r,i){function o(t){function o(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(va(l-n)+va(c-r)<.01)u(t,e,n,r,i,o,a,s);else{var d=t.point;t.x=t.y=t.point=null,u(t,d,l,c,i,o,a,s),u(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else u(t,e,n,r,i,o,a,s)}function u(t,e,n,r,i,a,s,l){var u=.5*(i+s),c=.5*(a+l),d=n>=u,h=r>=c,f=h<<1|d;t.leaf=!1,t=t.nodes[f]||(t.nodes[f]={leaf:!0,nodes:[],point:null,x:null,y:null}),d?i=u:s=u,h?a=c:l=c,o(t,e,n,r,i,a,s,l)}var c,d,h,f,p,g,m,v,y,b=Mt(s),x=Mt(l);if(null!=e)g=e,m=n,v=r,y=i;else if(v=y=-(g=m=1/0),d=[],h=[],p=t.length,a)for(f=0;f<p;++f)(c=t[f]).x<g&&(g=c.x),c.y<m&&(m=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),d.push(c.x),h.push(c.y);else for(f=0;f<p;++f){var _=+b(c=t[f],f),w=+x(c,f);_<g&&(g=_),w<m&&(m=w),_>v&&(v=_),w>y&&(y=w),d.push(_),h.push(w)}var C=v-g,k=y-m;C>k?y=m+C:v=g+k;var S={leaf:!0,nodes:[],point:null,x:null,y:null};if(S.add=function(t){o(S,t,+b(t,++f),+x(t,f),g,m,v,y)},S.visit=function(t){hr(t,S,g,m,v,y)},S.find=function(t){return fr(S,t[0],t[1],g,m,v,y)},f=-1,null==e){for(;++f<p;)o(S,t[f],d[f],h[f],g,m,v,y);--f}else t.forEach(S.add);return d=h=t=c=null,S}var a,s=Dn,l=En;return(a=arguments.length)?(s=cr,l=dr,3===a&&(i=n,r=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(s=t,o):s},o.y=function(t){return arguments.length?(l=t,o):l},o.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),o):null==e?null:[[e,n],[r,i]]},o.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),o):null==e?null:[r-e,i-n]},o)},sa.interpolateRgb=pr,sa.interpolateObject=gr,sa.interpolateNumber=mr,sa.interpolateString=vr;var sl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ll=new RegExp(sl.source,"g");sa.interpolate=yr,sa.interpolators=[function(t,e){var n=typeof e;return("string"===n?ts.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?pr:vr:e instanceof at?pr:Array.isArray(e)?br:"object"===n&&isNaN(e)?gr:mr)(t,e)}],sa.interpolateArray=br;var ul=function(){return y},cl=sa.map({linear:ul,poly:Mr,quad:function(){return Cr},cubic:function(){return kr},sin:function(){return Tr},exp:function(){return $r},circle:function(){return Dr},elastic:Er,back:Lr,bounce:function(){return Ar}}),dl=sa.map({in:y,out:_r,"in-out":wr,"out-in":function(t){return wr(_r(t))}});sa.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=cl.get(n)||ul,r=dl.get(r)||y,xr(r(n.apply(null,la.call(arguments,1))))},sa.interpolateHcl=Fr,sa.interpolateHsl=Pr,sa.interpolateLab=Rr,sa.interpolateRound=Or,sa.transform=function(t){var e=ca.createElementNS(sa.ns.prefix.svg,"g");return(sa.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Nr(n?n.matrix:hl)})(t)},Nr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var hl={a:1,b:0,c:0,d:1,e:0,f:0};sa.interpolateTransform=Ur,sa.layout={},sa.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Kr(t[n]));return e}},sa.layout.chord=function(){function t(){var t,u,d,h,f,p={},g=[],m=sa.range(o),v=[];for(n=[],r=[],t=0,h=-1;++h<o;){for(u=0,f=-1;++f<o;)u+=i[h][f];g.push(u),v.push(sa.range(o)),t+=u}for(a&&m.sort(function(t,e){return a(g[t],g[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(i[e][t],i[e][n])})}),t=(Na-c*o)/t,u=0,h=-1;++h<o;){for(d=u,f=-1;++f<o;){var y=m[h],b=v[y][f],x=i[y][b],_=u,w=u+=x*t;p[y+"-"+b]={index:y,subindex:b,startAngle:_,endAngle:w,value:x}}r[y]={index:y,startAngle:d,endAngle:u,value:g[y]},u+=c}for(h=-1;++h<o;)for(f=h-1;++f<o;){var C=p[h+"-"+f],k=p[f+"-"+h];(C.value||k.value)&&n.push(C.value<k.value?{source:k,target:C}:{source:C,target:k})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,i,o,a,s,l,u={},c=0;return u.matrix=function(t){return arguments.length?(o=(i=t)&&i.length,n=r=null,u):i},u.padding=function(t){return arguments.length?(c=t,n=r=null,u):c},u.sortGroups=function(t){return arguments.length?(a=t,n=r=null,u):a},u.sortSubgroups=function(t){return arguments.length?(s=t,n=null,u):s},u.sortChords=function(t){return arguments.length?(l=t,n&&e(),u):l},u.chords=function(){return n||t(),n},u.groups=function(){return r||t(),r},u},sa.layout.force=function(){function t(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=i-n,l=o*o+a*a;if(s*s/v<l){if(l<g){u=e.charge/l;t.px-=o*u,t.py-=a*u}return!0}if(e.point&&l&&l<g){var u=e.pointCharge/l;t.px-=o*u,t.py-=a*u}}return!e.charge}}function e(t){t.px=sa.event.x,t.py=sa.event.y,l.resume()}var n,r,i,o,a,s,l={},u=sa.dispatch("start","tick","end"),c=[1,1],d=.9,h=fl,f=pl,p=-30,g=gl,m=.1,v=.64,b=[],x=[];return l.tick=function(){if((i*=.99)<.005)return n=null,u.end({type:"end",alpha:i=0}),!0;var e,r,l,h,f,g,v,y,_,w=b.length,C=x.length;for(r=0;r<C;++r)h=(l=x[r]).source,(g=(y=(f=l.target).x-h.x)*y+(_=f.y-h.y)*_)&&(y*=g=i*a[r]*((g=Math.sqrt(g))-o[r])/g,_*=g,f.x-=y*(v=h.weight+f.weight?h.weight/(h.weight+f.weight):.5),f.y-=_*v,h.x+=y*(v=1-v),h.y+=_*v);if((v=i*m)&&(y=c[0]/2,_=c[1]/2,r=-1,v))for(;++r<w;)(l=b[r]).x+=(y-l.x)*v,l.y+=(_-l.y)*v;if(p)for(ni(e=sa.geom.quadtree(b),i,s),r=-1;++r<w;)(l=b[r]).fixed||e.visit(t(l));for(r=-1;++r<w;)(l=b[r]).fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*d,l.y-=(l.py-(l.py=l.y))*d);u.tick({type:"tick",alpha:i})},l.nodes=function(t){return arguments.length?(b=t,l):b},l.links=function(t){return arguments.length?(x=t,l):x},l.size=function(t){return arguments.length?(c=t,l):c},l.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,l):h},l.distance=l.linkDistance,l.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,l):f},l.friction=function(t){return arguments.length?(d=+t,l):d},l.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,l):p},l.chargeDistance=function(t){return arguments.length?(g=t*t,l):Math.sqrt(g)},l.gravity=function(t){return arguments.length?(m=+t,l):m},l.theta=function(t){return arguments.length?(v=t*t,l):Math.sqrt(v)},l.alpha=function(t){return arguments.length?(t=+t,i?t>0?i=t:(n.c=null,n.t=NaN,n=null,u.end({type:"end",alpha:i=0})):t>0&&(u.start({type:"start",alpha:i=t}),n=Lt(l.tick)),l):i},l.start=function(){function t(t,r){if(!n){for(n=new Array(i),l=0;l<i;++l)n[l]=[];for(l=0;l<u;++l){var o=x[l];n[o.source.index].push(o.target),n[o.target.index].push(o.source)}}for(var a,s=n[e],l=-1,c=s.length;++l<c;)if(!isNaN(a=s[l][t]))return a;return Math.random()*r}var e,n,r,i=b.length,u=x.length,d=c[0],g=c[1];for(e=0;e<i;++e)(r=b[e]).index=e,r.weight=0;for(e=0;e<u;++e)"number"==typeof(r=x[e]).source&&(r.source=b[r.source]),"number"==typeof r.target&&(r.target=b[r.target]),++r.source.weight,++r.target.weight;for(e=0;e<i;++e)r=b[e],isNaN(r.x)&&(r.x=t("x",d)),isNaN(r.y)&&(r.y=t("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(o=[],"function"==typeof h)for(e=0;e<u;++e)o[e]=+h.call(this,x[e],e);else for(e=0;e<u;++e)o[e]=h;if(a=[],"function"==typeof f)for(e=0;e<u;++e)a[e]=+f.call(this,x[e],e);else for(e=0;e<u;++e)a[e]=f;if(s=[],"function"==typeof p)for(e=0;e<i;++e)s[e]=+p.call(this,b[e],e);else for(e=0;e<i;++e)s[e]=p;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){if(r||(r=sa.behavior.drag().origin(y).on("dragstart.force",Zr).on("drag.force",e).on("dragend.force",Qr)),!arguments.length)return r;this.on("mouseover.force",ti).on("mouseout.force",ei).call(r)},sa.rebind(l,u,"on")};var fl=20,pl=1,gl=1/0;sa.layout.hierarchy=function(){function t(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(u=n.call(t,o,o.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)a.push(c=u[l]),c.parent=o,c.depth=o.depth+1;r&&(o.value=0),o.children=u}else r&&(o.value=+r.call(t,o,o.depth)||0),delete o.children;return oi(i,function(t){var n,i;e&&(n=t.children)&&n.sort(e),r&&(i=t.parent)&&(i.value+=t.value)}),s}var e=li,n=ai,r=si;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(r=e,t):r},t.revalue=function(e){return r&&(ii(e,function(t){t.children&&(t.value=0)}),oi(e,function(e){var n;e.children||(e.value=+r.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},sa.layout.partition=function(){function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length)){var a,s,l,u=-1;for(r=e.value?r/e.value:0;++u<a;)t(s=o[u],n,l=s.value*r,i),n+=l}}function e(t){var n=t.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,e(n[o]));return 1+r}function n(n,o){var a=r.call(this,n,o);return t(a[0],0,i[0],i[1]/e(a[0])),a}var r=sa.layout.hierarchy(),i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},ri(n,r)},sa.layout.pie=function(){function t(a){var s,l=a.length,u=a.map(function(n,r){return+e.call(t,n,r)}),c=+("function"==typeof r?r.apply(this,arguments):r),d=("function"==typeof i?i.apply(this,arguments):i)-c,h=Math.min(Math.abs(d)/l,+("function"==typeof o?o.apply(this,arguments):o)),f=h*(d<0?-1:1),p=sa.sum(u),g=p?(d-l*f)/p:0,m=sa.range(l),v=[];return null!=n&&m.sort(n===ml?function(t,e){return u[e]-u[t]}:function(t,e){return n(a[t],a[e])}),m.forEach(function(t){v[t]={data:a[t],value:s=u[t],startAngle:c,endAngle:c+=s*g+f,padAngle:h}}),v}var e=Number,n=ml,r=0,i=Na,o=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(i=e,t):i},t.padAngle=function(e){return arguments.length?(o=e,t):o},t};var ml={};sa.layout.stack=function(){function t(s,l){if(!(h=s.length))return s;var u=s.map(function(n,r){return e.call(t,n,r)}),c=u.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),a.call(t,e,n)]})}),d=n.call(t,c,l);u=sa.permute(u,d),c=sa.permute(c,d);var h,f,p,g,m=r.call(t,c,l),v=u[0].length;for(p=0;p<v;++p)for(i.call(t,u[0][p],g=m[p],c[0][p][1]),f=1;f<h;++f)i.call(t,u[f][p],g+=c[f-1][p][1],c[f][p][1]);return s}var e=y,n=fi,r=pi,i=hi,o=ci,a=di;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:vl.get(e)||fi,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:yl.get(e)||pi,t):r},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(i=e,t):i},t};var vl=sa.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(gi),o=t.map(mi),a=sa.range(r).sort(function(t,e){return i[t]-i[e]}),s=0,l=0,u=[],c=[];for(e=0;e<r;++e)n=a[e],s<l?(s+=o[n],u.push(n)):(l+=o[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return sa.range(t.length).reverse()},default:fi}),yl=sa.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,l=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];r>s&&(s=r),a.push(r)}for(n=0;n<o;++n)l[n]=(s-a[n])/2;return l},wiggle:function(t){var e,n,r,i,o,a,s,l,u,c=t.length,d=t[0],h=d.length,f=[];for(f[0]=l=u=0,n=1;n<h;++n){for(e=0,i=0;e<c;++e)i+=t[e][n][1];for(e=0,o=0,s=d[n][0]-d[n-1][0];e<c;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}f[n]=l-=i?o/i*s:0,l<u&&(u=l)}for(n=0;n<h;++n)f[n]-=u;return f},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:pi});sa.layout.histogram=function(){function t(t,o){for(var a,s,l=[],u=t.map(n,this),c=r.call(this,u,o),d=i.call(this,c,u,o),o=-1,h=u.length,f=d.length-1,p=e?1:1/h;++o<f;)(a=l[o]=[]).dx=d[o+1]-(a.x=d[o]),a.y=0;if(f>0)for(o=-1;++o<h;)(s=u[o])>=c[0]&&s<=c[1]&&((a=l[sa.bisect(d,s,1,f)-1]).y+=p,a.push(t[o]));return l}var e=!0,n=Number,r=xi,i=yi;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=Mt(e),t):r},t.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return bi(t,e)}:Mt(e),t):i},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},sa.layout.pack=function(){function t(t,o){var a=n.call(this,t,o),s=a[0],l=i[0],u=i[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,oi(s,function(t){t.r=+c(t.value)}),oi(s,Si),r){var d=r*(e?1:Math.max(2*s.r/l,2*s.r/u))/2;oi(s,function(t){t.r+=d}),oi(s,Si),oi(s,function(t){t.r-=d})}return $i(s,l/2,u/2,e?1:1/Math.max(2*s.r/l,2*s.r/u)),a}var e,n=sa.layout.hierarchy().sort(_i),r=0,i=[1,1];return t.size=function(e){return arguments.length?(i=e,t):i},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},ri(t,n)},sa.layout.tree=function(){function t(t,i){var c=a.call(this,t,i),d=c[0],h=e(d);if(oi(h,n),h.parent.m=-h.z,ii(h,r),u)ii(d,o);else{var f=d,p=d,g=d;ii(d,function(t){t.x<f.x&&(f=t),t.x>p.x&&(p=t),t.depth>g.depth&&(g=t)});var m=s(f,p)/2-f.x,v=l[0]/(p.x+s(p,f)/2+m),y=l[1]/(g.depth||1);ii(d,function(t){t.x=(t.x+m)*v,t.y=t.depth*y})}return c}function e(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,o=e.children,a=0,s=o.length;a<s;++a)r.push((o[a]=i={_:o[a],parent:e,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){Pi(t);var o=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+s(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+s(t._,r._));t.parent.A=i(t,r,t.parent.A||n[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t,e,n){if(e){for(var r,i=t,o=t,a=e,l=i.parent.children[0],u=i.m,c=o.m,d=a.m,h=l.m;a=Ai(a),i=Li(i),a&&i;)l=Li(l),(o=Ai(o)).a=t,(r=a.z+d-i.z-u+s(a._,i._))>0&&(Fi(Ri(a,t,n),t,r),u+=r,c+=r),d+=a.m,u+=i.m,h+=l.m,c+=o.m;a&&!Ai(o)&&(o.t=a,o.m+=d-c),i&&!Li(l)&&(l.t=i,l.m+=u-h,n=t)}return n}function o(t){t.x*=l[0],t.y=t.depth*l[1]}var a=sa.layout.hierarchy().sort(null).value(null),s=Ei,l=[1,1],u=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(u=null==(l=e)?o:null,t):u?null:l},t.nodeSize=function(e){return arguments.length?(u=null==(l=e)?null:o,t):u?l:null},ri(t,a)},sa.layout.cluster=function(){function t(t,o){var a,s=e.call(this,t,o),l=s[0],u=0;oi(l,function(t){var e=t.children;e&&e.length?(t.x=Ni(e),t.y=Oi(e)):(t.x=a?u+=n(t,a):0,t.y=0,a=t)});var c=Ii(l),d=Yi(l),h=c.x-n(c,d)/2,f=d.x+n(d,c)/2;return oi(l,i?function(t){t.x=(t.x-l.x)*r[0],t.y=(l.y-t.y)*r[1]}:function(t){t.x=(t.x-h)/(f-h)*r[0],t.y=(1-(l.y?t.y/l.y:1))*r[1]}),s}var e=sa.layout.hierarchy().sort(null).value(null),n=Ei,r=[1,1],i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=null==(r=e),t):i?null:r},t.nodeSize=function(e){return arguments.length?(i=null!=(r=e),t):i?r:null},ri(t,e)},sa.layout.treemap=function(){function t(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function e(n){var o=n.children;if(o&&o.length){var a,s,l,u=d(n),c=[],h=o.slice(),p=1/0,g="slice"===f?u.dx:"dice"===f?u.dy:"slice-dice"===f?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(t(h,u.dx*u.dy/n.value),c.area=0;(l=h.length)>0;)c.push(a=h[l-1]),c.area+=a.area,"squarify"!==f||(s=r(c,g))<=p?(h.pop(),p=s):(c.area-=c.pop().area,i(c,g,u,!1),g=Math.min(u.dx,u.dy),c.length=c.area=0,p=1/0);c.length&&(i(c,g,u,!0),c.length=c.area=0),o.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var o,a=d(e),s=r.slice(),l=[];for(t(s,a.dx*a.dy/e.value),l.area=0;o=s.pop();)l.push(o),l.area+=o.area,null!=o.z&&(i(l,o.z?a.dx:a.dy,a,!s.length),l.length=l.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<o&&(o=n),n>i&&(i=n));return r*=r,e*=e,r?Math.max(e*i*p/r,r/(e*o*p)):1/0}function i(t,e,n,r){var i,o=-1,a=t.length,s=n.x,u=n.y,c=e?l(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<a;)(i=t[o]).x=s,i.y=u,i.dy=c,s+=i.dx=Math.min(n.x+n.dx-s,c?l(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++o<a;)(i=t[o]).x=s,i.y=u,i.dx=c,u+=i.dy=Math.min(n.y+n.dy-u,c?l(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function o(r){var i=a||s(r),o=i[0];return o.x=o.y=0,o.value?(o.dx=u[0],o.dy=u[1]):o.dx=o.dy=0,a&&s.revalue(o),t([o],o.dx*o.dy/o.value),(a?n:e)(o),h&&(a=i),i}var a,s=sa.layout.hierarchy(),l=Math.round,u=[1,1],c=null,d=Vi,h=!1,f="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(u=t,o):u},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?Vi(e):ji(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return ji(e,t)}if(!arguments.length)return c;var r;return d=null==(c=t)?Vi:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,o},o.round=function(t){return arguments.length?(l=t?Math.round:Number,o):l!=Number},o.sticky=function(t){return arguments.length?(h=t,a=null,o):h},o.ratio=function(t){return arguments.length?(p=t,o):p},o.mode=function(t){return arguments.length?(f=t+"",o):f},ri(o,s)},sa.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=sa.random.normal.apply(sa,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=sa.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},sa.scale={};var bl={floor:y,ceil:y};sa.scale.linear=function(){return qi([0,1],[0,1],yr,!1)};var xl={s:1,g:1,p:1,r:1,e:1};sa.scale.log=function(){return no(sa.scale.linear().domain([0,1]),10,!0,[1,10])};var _l=sa.format(".0e"),wl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};sa.scale.pow=function(){return ro(sa.scale.linear(),1,[0,1])},sa.scale.sqrt=function(){return sa.scale.pow().exponent(.5)},sa.scale.ordinal=function(){return oo([],{t:"range",a:[[]]})},sa.scale.category10=function(){return sa.scale.ordinal().range(Cl)},sa.scale.category20=function(){return sa.scale.ordinal().range(kl)},sa.scale.category20b=function(){return sa.scale.ordinal().range(Sl)},sa.scale.category20c=function(){return sa.scale.ordinal().range(Ml)};var Cl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(bt),kl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(bt),Sl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(bt),Ml=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(bt);sa.scale.quantile=function(){return ao([],[])},sa.scale.quantize=function(){return so(0,1,[0,1])},sa.scale.threshold=function(){return lo([.5],[0,1])},sa.scale.identity=function(){return uo([0,1])},sa.svg={},sa.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),u=Math.max(0,+r.apply(this,arguments)),c=a.apply(this,arguments)-Ya,d=s.apply(this,arguments)-Ya,h=Math.abs(d-c),f=c>d?0:1;if(u<t&&(p=u,u=t,t=p),h>=Ia)return e(u,f)+(t?e(t,1-f):"")+"Z";var p,g,m,v,y,b,x,_,w,C,k,S,M=0,T=0,$=[];if((v=(+l.apply(this,arguments)||0)/2)&&(m=o===Tl?Math.sqrt(t*t+u*u):+o.apply(this,arguments),f||(T*=-1),u&&(T=et(m/u*Math.sin(v))),t&&(M=et(m/t*Math.sin(v)))),u){y=u*Math.cos(c+T),b=u*Math.sin(c+T),x=u*Math.cos(d-T),_=u*Math.sin(d-T);var D=Math.abs(d-c-2*T)<=Oa?0:1;if(T&&vo(y,b,x,_)===f^D){var E=(c+d)/2;y=u*Math.cos(E),b=u*Math.sin(E),x=_=null}}else y=b=0;if(t){w=t*Math.cos(d-M),C=t*Math.sin(d-M),k=t*Math.cos(c+M),S=t*Math.sin(c+M);var L=Math.abs(c-d+2*M)<=Oa?0:1;if(M&&vo(w,C,k,S)===1-f^L){var A=(c+d)/2;w=t*Math.cos(A),C=t*Math.sin(A),k=S=null}}else w=C=0;if(h>Pa&&(p=Math.min(Math.abs(u-t)/2,+i.apply(this,arguments)))>.001){g=t<u^f?0:1;var F=p,P=p;if(h<Oa){var R=null==k?[w,C]:null==x?[y,b]:Pn([y,b],[k,S],[x,_],[w,C]),O=y-R[0],N=b-R[1],I=x-R[0],Y=_-R[1],V=1/Math.sin(Math.acos((O*I+N*Y)/(Math.sqrt(O*O+N*N)*Math.sqrt(I*I+Y*Y)))/2),j=Math.sqrt(R[0]*R[0]+R[1]*R[1]);P=Math.min(p,(t-j)/(V-1)),F=Math.min(p,(u-j)/(V+1))}if(null!=x){var H=yo(null==k?[w,C]:[k,S],[y,b],u,F,f),z=yo([x,_],[w,C],u,F,f);p===F?$.push("M",H[0],"A",F,",",F," 0 0,",g," ",H[1],"A",u,",",u," 0 ",1-f^vo(H[1][0],H[1][1],z[1][0],z[1][1]),",",f," ",z[1],"A",F,",",F," 0 0,",g," ",z[0]):$.push("M",H[0],"A",F,",",F," 0 1,",g," ",z[0])}else $.push("M",y,",",b);if(null!=k){var W=yo([y,b],[k,S],t,-P,f),B=yo([w,C],null==x?[y,b]:[x,_],t,-P,f);p===P?$.push("L",B[0],"A",P,",",P," 0 0,",g," ",B[1],"A",t,",",t," 0 ",f^vo(B[1][0],B[1][1],W[1][0],W[1][1]),",",1-f," ",W[1],"A",P,",",P," 0 0,",g," ",W[0]):$.push("L",B[0],"A",P,",",P," 0 0,",g," ",W[0])}else $.push("L",w,",",C)}else $.push("M",y,",",b),null!=x&&$.push("A",u,",",u," 0 ",D,",",f," ",x,",",_),$.push("L",w,",",C),null!=k&&$.push("A",t,",",t," 0 ",L,",",1-f," ",k,",",S);return $.push("Z"),$.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=ho,r=fo,i=co,o=Tl,a=po,s=go,l=mo;return t.innerRadius=function(e){return arguments.length?(n=Mt(e),t):n},t.outerRadius=function(e){return arguments.length?(r=Mt(e),t):r},t.cornerRadius=function(e){return arguments.length?(i=Mt(e),t):i},t.padRadius=function(e){return arguments.length?(o=e==Tl?Tl:Mt(e),t):o},t.startAngle=function(e){return arguments.length?(a=Mt(e),t):a},t.endAngle=function(e){return arguments.length?(s=Mt(e),t):s},t.padAngle=function(e){return arguments.length?(l=Mt(e),t):l},t.centroid=function(){var t=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,e=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-Ya;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Tl="auto";sa.svg.line=function(){return bo(y)};var $l=sa.map({linear:xo,"linear-closed":_o,step:wo,"step-before":Co,"step-after":ko,basis:Eo,"basis-open":Lo,"basis-closed":Ao,bundle:Fo,cardinal:To,"cardinal-open":So,"cardinal-closed":Mo,monotone:Yo});$l.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Dl=[0,2/3,1/3,0],El=[0,1/3,2/3,0],Ll=[0,1/6,2/3,1/6];sa.svg.line.radial=function(){var t=bo(Vo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Co.reverse=ko,ko.reverse=Co,sa.svg.area=function(){return jo(y)},sa.svg.area.radial=function(){var t=jo(Vo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},sa.svg.chord=function(){function t(t,s){var l=e(this,o,t,s),u=e(this,a,t,s);return"M"+l.p0+r(l.r,l.p1,l.a1-l.a0)+(n(l,u)?i(l.r,l.p1,l.r,l.p0):i(l.r,l.p1,u.r,u.p0)+r(u.r,u.p1,u.a1-u.a0)+i(u.r,u.p1,l.r,l.p0))+"Z"}function e(t,e,n,r){var i=e.call(t,n,r),o=s.call(t,i,r),a=l.call(t,i,r)-Ya,c=u.call(t,i,r)-Ya;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Oa)+",1 "+e}function i(t,e,n,r){return"Q 0,0 "+r}var o=bn,a=xn,s=Ho,l=po,u=go;return t.radius=function(e){return arguments.length?(s=Mt(e),t):s},t.source=function(e){return arguments.length?(o=Mt(e),t):o},t.target=function(e){return arguments.length?(a=Mt(e),t):a},t.startAngle=function(e){return arguments.length?(l=Mt(e),t):l},t.endAngle=function(e){return arguments.length?(u=Mt(e),t):u},t},sa.svg.diagonal=function(){function t(t,i){var o=e.call(this,t,i),a=n.call(this,t,i),s=(o.y+a.y)/2,l=[o,{x:o.x,y:s},{x:a.x,y:s},a];return"M"+(l=l.map(r))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=bn,n=xn,r=zo;return t.source=function(n){return arguments.length?(e=Mt(n),t):e},t.target=function(e){return arguments.length?(n=Mt(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},sa.svg.diagonal.radial=function(){var t=sa.svg.diagonal(),e=zo,n=t.projection;return t.projection=function(t){return arguments.length?n(Wo(e=t)):e},t},sa.svg.symbol=function(){function t(t,r){return(Al.get(e.call(this,t,r))||Go)(n.call(this,t,r))}var e=Uo,n=Bo;return t.type=function(n){return arguments.length?(e=Mt(n),t):e},t.size=function(e){return arguments.length?(n=Mt(e),t):n},t};var Al=sa.map({circle:Go,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Pl)),n=e*Pl;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Fl),n=e*Fl/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Fl),n=e*Fl/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});sa.svg.symbolTypes=Al.keys();var Fl=Math.sqrt(3),Pl=Math.tan(30*Va);Ma.transition=function(t){for(var e,n,r=Rl||++Yl,i=Zo(t),o=[],a=Ol||{time:Date.now(),ease:Sr,delay:0,duration:250},s=-1,l=this.length;++s<l;){o.push(e=[]);for(var u=this[s],c=-1,d=u.length;++c<d;)(n=u[c])&&Qo(n,c,i,r,a),e.push(n)}return Ko(o,i,r)},Ma.interrupt=function(t){return this.each(null==t?Nl:qo(Zo(t)))};var Rl,Ol,Nl=qo(Zo()),Il=[],Yl=0;Il.call=Ma.call,Il.empty=Ma.empty,Il.node=Ma.node,Il.size=Ma.size,sa.transition=function(t,e){return t&&t.transition?Rl?t.transition(e):t:sa.selection().transition(t)},sa.transition.prototype=Il,Il.select=function(t){var e,n,r,i=this.id,o=this.namespace,a=[];t=$(t);for(var s=-1,l=this.length;++s<l;){a.push(e=[]);for(var u=this[s],c=-1,d=u.length;++c<d;)(r=u[c])&&(n=t.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),Qo(n,c,o,i,r[o][i]),e.push(n)):e.push(null)}return Ko(a,o,i)},Il.selectAll=function(t){var e,n,r,i,o,a=this.id,s=this.namespace,l=[];t=D(t);for(var u=-1,c=this.length;++u<c;)for(var d=this[u],h=-1,f=d.length;++h<f;)if(r=d[h]){o=r[s][a],n=t.call(r,r.__data__,h,u),l.push(e=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&Qo(i,p,s,a,o),e.push(i)}return Ko(l,s,a)},Il.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=j(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]);for(var s=0,l=(n=this[o]).length;s<l;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return Ko(i,this.namespace,this.id)},Il.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):z(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},Il.attr=function(t,e){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function o(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?Ur:yr,s=sa.ns.qualify(t);return Jo(this,"attr."+t,e,s.local?o:i)},Il.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(i));return r&&function(t){this.setAttribute(i,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(i.space,i.local));return r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=sa.ns.qualify(t);return this.tween("attr."+t,i.local?r:n)},Il.style=function(t,n,r){function i(){this.style.removeProperty(t)}function o(n){return null==n?i:(n+="",function(){var i,o=e(this).getComputedStyle(this,null).getPropertyValue(t);return o!==n&&(i=yr(o,n),function(e){this.style.setProperty(t,i(e),r)})})}var a=arguments.length;if(a<3){if("string"!=typeof t){a<2&&(n="");for(r in t)this.style(r,t[r],n);return this}r=""}return Jo(this,"style."+t,n,o)},Il.styleTween=function(t,n,r){function i(i,o){var a=n.call(this,i,o,e(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),r)}}return arguments.length<3&&(r=""),this.tween("style."+t,i)},Il.text=function(t){return Jo(this,"text",t,Xo)},Il.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Il.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=sa.ease.apply(sa,arguments)),z(this,function(r){r[n][e].ease=t}))},Il.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:z(this,"function"==typeof t?function(r,i,o){r[n][e].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[n][e].delay=t}))},Il.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:z(this,"function"==typeof t?function(r,i,o){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},Il.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Ol,o=Rl;try{Rl=n,z(this,function(e,i,o){Ol=e[r][n],t.call(e,e.__data__,i,o)})}finally{Ol=i,Rl=o}}else z(this,function(i){var o=i[r][n];(o.event||(o.event=sa.dispatch("start","end","interrupt"))).on(t,e)});return this},Il.transition=function(){for(var t,e,n,r,i=this.id,o=++Yl,a=this.namespace,s=[],l=0,u=this.length;l<u;l++){s.push(t=[]);for(var c=0,d=(e=this[l]).length;c<d;c++)(n=e[c])&&Qo(n,c,a,o,{time:(r=n[a][i]).time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration}),t.push(n)}return Ko(s,a,o)},sa.svg.axis=function(){function t(t){t.each(function(){var t,u=sa.select(this),c=this.__chart__||n,d=this.__chart__=n.copy(),h=null==l?d.ticks?d.ticks.apply(d,s):d.domain():l,f=null==e?d.tickFormat?d.tickFormat.apply(d,s):y:e,p=u.selectAll(".tick").data(h,d),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Pa),m=sa.transition(p.exit()).style("opacity",Pa).remove(),v=sa.transition(p.order()).style("opacity",1),b=Math.max(i,0)+a,x=zi(d),_=u.selectAll(".domain").data([0]),w=(_.enter().append("path").attr("class","domain"),sa.transition(_));g.append("line"),g.append("text");var C,k,S,M,T=g.select("line"),$=v.select("line"),D=p.select("text").text(f),E=g.select("text"),L=v.select("text"),A="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(t=ta,C="x",S="y",k="x2",M="y2",D.attr("dy",A<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+x[0]+","+A*o+"V0H"+x[1]+"V"+A*o)):(t=ea,C="y",S="x",k="y2",M="x2",D.attr("dy",".32em").style("text-anchor",A<0?"end":"start"),w.attr("d","M"+A*o+","+x[0]+"H0V"+x[1]+"H"+A*o)),T.attr(M,A*i),E.attr(S,A*b),$.attr(k,0).attr(M,A*i),L.attr(C,0).attr(S,A*b),d.rangeBand){var F=d,P=F.rangeBand()/2;c=d=function(t){return F(t)+P}}else c.rangeBand?c=d:m.call(t,d,c);g.call(t,c,d),v.call(t,d,d)})}var e,n=sa.scale.linear(),r=Vl,i=6,o=6,a=3,s=[10],l=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in jl?e+"":Vl,t):r},t.ticks=function(){return arguments.length?(s=ua(arguments),t):s},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(i=+e,o=+arguments[n-1],t):i},t.innerTickSize=function(e){return arguments.length?(i=+e,t):i},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Vl="bottom",jl={top:1,right:1,bottom:1,left:1};sa.svg.brush=function(){function t(e){e.each(function(){var e=sa.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),a=e.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=e.selectAll(".resize").data(g,y);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Hl[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var l,d=sa.transition(e),h=sa.transition(a);u&&(l=zi(u),h.attr("x",l[0]).attr("width",l[1]-l[0]),r(d)),c&&(l=zi(c),h.attr("y",l[0]).attr("height",l[1]-l[0]),i(d)),n(d)})}function n(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+d[+/e$/.test(t)]+","+h[+/^s/.test(t)]+")"})}function r(t){t.select(".extent").attr("x",d[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",d[1]-d[0])}function i(t){t.select(".extent").attr("y",h[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function o(){function o(){32==sa.event.keyCode&&(D||(b=null,L[0]-=d[1],L[1]-=h[1],D=2),k())}function g(){32==sa.event.keyCode&&2==D&&(L[0]+=d[1],L[1]+=h[1],D=0,k())}function m(){var t=sa.mouse(_),e=!1;x&&(t[0]+=x[0],t[1]+=x[1]),D||(sa.event.altKey?(b||(b=[(d[0]+d[1])/2,(h[0]+h[1])/2]),L[0]=d[+(t[0]<b[0])],L[1]=h[+(t[1]<b[1])]):b=null),T&&v(t,u,0)&&(r(S),e=!0),$&&v(t,c,1)&&(i(S),e=!0),e&&(n(S),C({type:"brush",mode:D?"move":"resize"}))}function v(t,e,n){var r,i,o=zi(e),l=o[0],u=o[1],c=L[n],g=n?h:d,m=g[1]-g[0];if(D&&(l-=c,u-=m+c),r=(n?p:f)?Math.max(l,Math.min(u,t[n])):t[n],D?i=(r+=c)+m:(b&&(c=Math.max(l,Math.min(u,2*b[n]-r))),c<r?(i=r,r=c):i=c),g[0]!=r||g[1]!=i)return n?s=null:a=null,g[0]=r,g[1]=i,!0}function y(){m(),S.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),sa.select("body").style("cursor",null),A.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),E(),C({type:"brushend"})}var b,x,_=this,w=sa.select(sa.event.target),C=l.of(_,arguments),S=sa.select(_),M=w.datum(),T=!/^(n|s)$/.test(M)&&u,$=!/^(e|w)$/.test(M)&&c,D=w.classed("extent"),E=K(_),L=sa.mouse(_),A=sa.select(e(_)).on("keydown.brush",o).on("keyup.brush",g);if(sa.event.changedTouches?A.on("touchmove.brush",m).on("touchend.brush",y):A.on("mousemove.brush",m).on("mouseup.brush",y),S.interrupt().selectAll("*").interrupt(),D)L[0]=d[0]-L[0],L[1]=h[0]-L[1];else if(M){var F=+/w$/.test(M),P=+/^n/.test(M);x=[d[1-F]-L[0],h[1-P]-L[1]],L[0]=d[F],L[1]=h[P]}else sa.event.altKey&&(b=L.slice());S.style("pointer-events","none").selectAll(".resize").style("display",null),sa.select("body").style("cursor",w.style("cursor")),C({type:"brushstart"}),m()}var a,s,l=M(t,"brushstart","brush","brushend"),u=null,c=null,d=[0,0],h=[0,0],f=!0,p=!0,g=zl[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),e={x:d,y:h,i:a,j:s},n=this.__chart__||e;this.__chart__=e,Rl?sa.select(this).transition().each("start.brush",function(){a=n.i,s=n.j,d=n.x,h=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=br(d,e.x),r=br(h,e.y);return a=s=null,function(i){d=e.x=n(i),h=e.y=r(i),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(u=e,g=zl[!u<<1|!c],t):u},t.y=function(e){return arguments.length?(c=e,g=zl[!u<<1|!c],t):c},t.clamp=function(e){return arguments.length?(u&&c?(f=!!e[0],p=!!e[1]):u?f=!!e:c&&(p=!!e),t):u&&c?[f,p]:u?f:c?p:null},t.extent=function(e){var n,r,i,o,l;return arguments.length?(u&&(n=e[0],r=e[1],c&&(n=n[0],r=r[0]),a=[n,r],u.invert&&(n=u(n),r=u(r)),r<n&&(l=n,n=r,r=l),n==d[0]&&r==d[1]||(d=[n,r])),c&&(i=e[0],o=e[1],u&&(i=i[1],o=o[1]),s=[i,o],c.invert&&(i=c(i),o=c(o)),o<i&&(l=i,i=o,o=l),i==h[0]&&o==h[1]||(h=[i,o])),t):(u&&(a?(n=a[0],r=a[1]):(n=d[0],r=d[1],u.invert&&(n=u.invert(n),r=u.invert(r)),r<n&&(l=n,n=r,r=l))),c&&(s?(i=s[0],o=s[1]):(i=h[0],o=h[1],c.invert&&(i=c.invert(i),o=c.invert(o)),o<i&&(l=i,i=o,o=l))),u&&c?[[n,i],[r,o]]:u?[n,r]:c&&[i,o])},t.clear=function(){return t.empty()||(d=[0,0],h=[0,0],a=s=null),t},t.empty=function(){return!!u&&d[0]==d[1]||!!c&&h[0]==h[1]},sa.rebind(t,l,"on")};var Hl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},zl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Wl=us.format=gs.timeFormat,Bl=Wl.utc,Ul=Bl("%Y-%m-%dT%H:%M:%S.%LZ");Wl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?na:Ul,na.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},na.toString=Ul.toString,us.second=Vt(function(t){return new cs(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),us.seconds=us.second.range,us.seconds.utc=us.second.utc.range,us.minute=Vt(function(t){return new cs(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),us.minutes=us.minute.range,us.minutes.utc=us.minute.utc.range,us.hour=Vt(function(t){var e=t.getTimezoneOffset()/60;return new cs(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),us.hours=us.hour.range,us.hours.utc=us.hour.utc.range,us.month=Vt(function(t){return(t=us.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),us.months=us.month.range,us.months.utc=us.month.utc.range;var Gl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],ql=[[us.second,1],[us.second,5],[us.second,15],[us.second,30],[us.minute,1],[us.minute,5],[us.minute,15],[us.minute,30],[us.hour,1],[us.hour,3],[us.hour,6],[us.hour,12],[us.day,1],[us.day,2],[us.week,1],[us.month,1],[us.month,3],[us.year,1]],Kl=Wl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",De]]),Jl={range:function(t,e,n){return sa.range(Math.ceil(t/n)*n,+e,n).map(ia)},floor:y,ceil:y};ql.year=us.year,us.scale=function(){return ra(sa.scale.linear(),ql,Kl)};var Xl=ql.map(function(t){return[t[0].utc,t[1]]}),Zl=Bl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",De]]);Xl.year=us.year.utc,us.scale.utc=function(){return ra(sa.scale.linear(),Xl,Zl)},sa.text=Tt(function(t){return t.responseText}),sa.json=function(t,e){return $t(t,"application/json",oa,e)},sa.html=function(t,e){return $t(t,"text/html",aa,e)},sa.xml=Tt(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=sa,define(sa)):"object"==typeof module&&module.exports?module.exports=sa:this.d3=sa}(),function(){var t={};t.dev=!1,t.tooltip=t.tooltip||{},t.utils=t.utils||{},t.models=t.models||{},t.charts={},t.logs={},t.dom={},"undefined"!=typeof module&&"undefined"!=typeof exports&&"undefined"==typeof d3&&(d3=require("d3")),t.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),t.dev&&(t.dispatch.on("render_start",function(e){t.logs.startTime=+new Date}),t.dispatch.on("render_end",function(e){t.logs.endTime=+new Date,t.logs.totalTime=t.logs.endTime-t.logs.startTime,t.log("total",t.logs.totalTime)})),t.log=function(){return t.dev&&window.console&&console.log&&console.log.apply?console.log.apply(console,arguments):t.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind&&Function.prototype.bind.call(console.log,console).apply(console,arguments),arguments[arguments.length-1]},t.deprecated=function(t,e){console&&console.warn&&console.warn("nvd3 warning: `"+t+"` has been deprecated. ",e||"")},t.render=function(e){e=e||1,t.render.active=!0,t.dispatch.render_start();var n=function(){for(var r,i,o=0;o<e&&(i=t.render.queue[o]);o++)r=i.generate(),typeof i.callback==typeof Function&&i.callback(r);t.render.queue.splice(0,o),t.render.queue.length?setTimeout(n):(t.dispatch.render_end(),t.render.active=!1)};setTimeout(n)},t.render.active=!1,t.render.queue=[],t.addGraph=function(e){typeof arguments[0]==typeof Function&&(e={generate:arguments[0],callback:arguments[1]}),t.render.queue.push(e),t.render.active||t.render()},"undefined"!=typeof module&&"undefined"!=typeof exports&&(module.exports=t),"undefined"!=typeof window&&(window.nv=t),t.dom.write=function(t){return void 0!==window.fastdom?fastdom.mutate(t):t()},t.dom.read=function(t){return void 0!==window.fastdom?fastdom.measure(t):t()},t.interactiveGuideline=function(){"use strict";function e(d){d.each(function(d){function h(){var t=d3.mouse(this),r=t[0],i=t[1],s=!0,l=!1;if(c&&(r=d3.event.offsetX,i=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(s=!1),d3.event.target.className.baseVal.match("nv-legend")&&(l=!0)),s&&(r-=n.left,i-=n.top),"mouseout"===d3.event.type||r<0||i<0||r>p||i>g||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||l){if(c&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(u.nvPointerEventsClass)))return;return a.elementMouseout({mouseX:r,mouseY:i}),e.renderGuideLine(null),void u.hidden(!0)}u.hidden(!1);var d=void 0;if("function"==typeof o.rangeBands){var h=d3.bisect(o.range(),r)-1;if(!(o.range()[h]+o.rangeBand()>=r))return a.elementMouseout({mouseX:r,mouseY:i}),e.renderGuideLine(null),void u.hidden(!0);d=o.domain()[d3.bisect(o.range(),r)-1]}else d=o.invert(r);a.elementMousemove({mouseX:r,mouseY:i,pointXValue:d}),"dblclick"===d3.event.type&&a.elementDblclick({mouseX:r,mouseY:i,pointXValue:d}),"click"===d3.event.type&&a.elementClick({mouseX:r,mouseY:i,pointXValue:d}),"mousedown"===d3.event.type&&a.elementMouseDown({mouseX:r,mouseY:i,pointXValue:d}),"mouseup"===d3.event.type&&a.elementMouseUp({mouseX:r,mouseY:i,pointXValue:d})}var f=d3.select(this),p=r||960,g=i||400,m=f.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([d]);m.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),l&&(l.on("touchmove",h).on("mousemove",h,!0).on("mouseout",h,!0).on("mousedown",h,!0).on("mouseup",h,!0).on("dblclick",h).on("click",h),e.guideLine=null,e.renderGuideLine=function(n){s&&(e.guideLine&&e.guideLine.attr("x1")===n||t.dom.write(function(){var e=m.select(".nv-interactiveGuideLine").selectAll("line").data(null!=n?[t.utils.NaNtoZero(n)]:[],String);e.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",g).attr("y2",0),e.exit().remove()}))})})}var n={left:0,top:0},r=null,i=null,o=d3.scale.linear(),a=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),s=!0,l=null,u=t.models.tooltip(),c="ActiveXObject"in window;return u.duration(0).hideDelay(0).hidden(!1),e.dispatch=a,e.tooltip=u,e.margin=function(t){return arguments.length?(n.top=void 0!==t.top?t.top:n.top,n.left=void 0!==t.left?t.left:n.left,e):n},e.width=function(t){return arguments.length?(r=t,e):r},e.height=function(t){return arguments.length?(i=t,e):i},e.xScale=function(t){return arguments.length?(o=t,e):o},e.showGuideLine=function(t){return arguments.length?(s=t,e):s},e.svgContainer=function(t){return arguments.length?(l=t,e):l},e},t.interactiveBisect=function(t,e,n){"use strict";if(!(t instanceof Array))return null;var r;r="function"!=typeof n?function(t){return t.x}:n;var i=function(t,e){return r(t)-e},o=d3.bisector(i).left,a=d3.max([0,o(t,e)-1]),s=r(t[a]);if(void 0===s&&(s=a),s===e)return a;var l=d3.min([a+1,t.length-1]),u=r(t[l]);return void 0===u&&(u=l),Math.abs(u-e)>=Math.abs(s-e)?a:l},t.nearestValueIndex=function(t,e,n){"use strict";var r=1/0,i=null;return t.forEach(function(t,o){var a=Math.abs(e-t);null!=t&&a<=r&&a<n&&(r=a,i=o)}),i},t.models.tooltip=function(){"use strict";function e(){if(!h||!h.node()){var t=u||document.body,e=[1];(h=d3.select(t).selectAll(".nvtooltip").data(e)).enter().append("div").attr("class","nvtooltip "+(l||"xy-tooltip")).attr("id",r).style("top",0).style("left",0).style("opacity",0).style("position","fixed").selectAll("div, table, td, tr").classed(v,!0).classed(v,!0),h.exit().remove()}}function n(){if(p&&C(i))return t.dom.write(function(){e();var t=w(i);t&&(h.node().innerHTML=t),S()}),n}var r="nvtooltip-"+Math.floor(1e5*Math.random()),i=null,o="w",a=25,s=0,l=null,u=null,c=!0,d=200,h=null,f={left:null,top:null},p=!0,g=100,m=!0,v="nv-pointer-events-none",y=function(){return{left:null!==d3.event?d3.event.clientX:0,top:null!==d3.event?d3.event.clientY:0}},b=function(t,e){return t},x=function(t){return t},_=function(t,e){return t},w=function(t){if(null===t)return"";var e=d3.select(document.createElement("table"));m&&e.selectAll("thead").data([t]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(x(t.value));var n=e.selectAll("tbody").data([t]).enter().append("tbody").selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});n.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),n.append("td").classed("key",!0).classed("total",function(t){return!!t.total}).html(function(t,e){return _(t.key,e)}),n.append("td").classed("value",!0).html(function(t,e){return b(t.value,e)}),n.filter(function(t,e){return void 0!==t.percent}).append("td").classed("percent",!0).html(function(t,e){return"("+d3.format("%")(t.percent)+")"}),n.selectAll("td").each(function(t){if(t.highlight){var e=d3.scale.linear().domain([0,1]).range(["#fff",t.color]);d3.select(this).style("border-bottom-color",e(.6)).style("border-top-color",e(.6))}});var r=e.node().outerHTML;return void 0!==t.footer&&(r+="<div class='footer'>"+t.footer+"</div>"),r},C=function(e){if(e&&e.series){if(t.utils.isArray(e.series))return!0;if(t.utils.isObject(e.series))return e.series=[e.series],!0}return!1},k=function(t){var e,n,r,i=h.node().offsetHeight,s=h.node().offsetWidth,l=document.documentElement.clientWidth,u=document.documentElement.clientHeight;switch(o){case"e":e=-s-a,n=-i/2,t.left+e<0&&(e=a),(r=t.top+n)<0&&(n-=r),(r=t.top+n+i)>u&&(n-=r-u);break;case"w":e=a,n=-i/2,t.left+e+s>l&&(e=-s-a),(r=t.top+n)<0&&(n-=r),(r=t.top+n+i)>u&&(n-=r-u);break;case"n":e=-s/2-5,n=a,t.top+n+i>u&&(n=-i-a),(r=t.left+e)<0&&(e-=r),(r=t.left+e+s)>l&&(e-=r-l);break;case"s":e=-s/2,n=-i-a,t.top+n<0&&(n=a),(r=t.left+e)<0&&(e-=r),(r=t.left+e+s)>l&&(e-=r-l);break;case"center":e=-s/2,n=-i/2;break;default:e=0,n=0}return{left:e,top:n}},S=function(){t.dom.read(function(){var t=y(),e=k(t),n=t.left+e.left,r=t.top+e.top;if(c)h.interrupt().transition().delay(d).duration(0).style("opacity",0);else{var i="translate("+f.left+"px, "+f.top+"px)",o="translate("+Math.round(n)+"px, "+Math.round(r)+"px)",a=d3.interpolateString(i,o),s=h.style("opacity")<.1;h.interrupt().transition().duration(s?0:g).styleTween("transform",function(t){return a},"important").styleTween("-webkit-transform",function(t){return a}).style("-ms-transform",o).style("opacity",1)}f.left=n,f.top=r})};return n.nvPointerEventsClass=v,n.options=t.utils.optionsFunc.bind(n),n._options=Object.create({},{duration:{get:function(){return g},set:function(t){g=t}},gravity:{get:function(){return o},set:function(t){o=t}},distance:{get:function(){return a},set:function(t){a=t}},snapDistance:{get:function(){return s},set:function(t){s=t}},classes:{get:function(){return l},set:function(t){l=t}},chartContainer:{get:function(){return u},set:function(t){u=t}},enabled:{get:function(){return p},set:function(t){p=t}},hideDelay:{get:function(){return d},set:function(t){d=t}},contentGenerator:{get:function(){return w},set:function(t){w=t}},valueFormatter:{get:function(){return b},set:function(t){b=t}},headerFormatter:{get:function(){return x},set:function(t){x=t}},keyFormatter:{get:function(){return _},set:function(t){_=t}},headerEnabled:{get:function(){return m},set:function(t){m=t}},position:{get:function(){return y},set:function(t){y=t}},fixedTop:{get:function(){return null},set:function(e){t.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(e){t.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return c},set:function(t){c!=t&&(c=!!t,n())}},data:{get:function(){return i},set:function(t){t.point&&(t.value=t.point.x,t.series=t.series||{},t.series.value=t.point.y,t.series.color=t.point.color||t.series.color),i=t}},node:{get:function(){return h.node()},set:function(t){}},id:{get:function(){return r},set:function(t){}}}),t.utils.initOptions(n),n},t.utils.windowSize=function(){var t={width:640,height:480};return window.innerWidth&&window.innerHeight?(t.width=window.innerWidth,t.height=window.innerHeight,t):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight,t):document.body&&document.body.offsetWidth?(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight,t):t},t.utils.isArray=Array.isArray,t.utils.isObject=function(t){return null!==t&&"object"==typeof t},t.utils.isFunction=function(t){return"function"==typeof t},t.utils.isDate=function(t){return"[object Date]"===toString.call(t)},t.utils.isNumber=function(t){return!isNaN(t)&&"number"==typeof t},t.utils.windowResize=function(e){return window.addEventListener?window.addEventListener("resize",e):t.log("ERROR: Failed to bind to window.resize with: ",e),{callback:e,clear:function(){window.removeEventListener("resize",e)}}},t.utils.getColor=function(e){if(void 0===e)return t.utils.defaultColor();if(t.utils.isArray(e)){var n=d3.scale.ordinal().range(e);return function(t,e){var r=void 0===e?t:e;return t.color||n(r)}}return e},t.utils.defaultColor=function(){return t.utils.getColor(d3.scale.category20().range())},t.utils.customTheme=function(e,n,r){n=n||function(t){return t.key};var i=(r=r||d3.scale.category20().range()).length;return function(o,a){var s=n(o);return t.utils.isFunction(e[s])?e[s]():void 0!==e[s]?e[s]:(i||(i=r.length),i-=1,r[i])}},t.utils.pjax=function(e,n){var r=function(r){d3.html(r,function(r){var i=d3.select(n).node();i.parentNode.replaceChild(d3.select(r).select(n).node(),i),t.utils.pjax(e,n)})};d3.selectAll(e).on("click",function(){history.pushState(this.href,this.textContent,this.href),r(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&r(d3.event.state)})},t.utils.calcApproxTextWidth=function(e){if(t.utils.isFunction(e.style)&&t.utils.isFunction(e.text)){var n=parseInt(e.style("font-size").replace("px",""),10),r=e.text().length;return t.utils.NaNtoZero(r*n*.5)}return 0},t.utils.NaNtoZero=function(e){return!t.utils.isNumber(e)||isNaN(e)||null===e||e===1/0||e===-1/0?0:e},d3.selection.prototype.watchTransition=function(t){var e=[this].concat([].slice.call(arguments,1));return t.transition.apply(t,e)},t.utils.renderWatch=function(e,n){if(!(this instanceof t.utils.renderWatch))return new t.utils.renderWatch(e,n);var r=void 0!==n?n:250,i=[],o=this;this.models=function(t){return[].slice.call(arguments,0).forEach(function(t){t.__rendered=!1,function(t){t.dispatch.on("renderEnd",function(e){t.__rendered=!0,o.renderEnd("model")})}(t),i.indexOf(t)<0&&i.push(t)}),this},this.reset=function(t){void 0!==t&&(r=t),i=[]},this.transition=function(t,e,n){if(e=arguments.length>1?[].slice.call(arguments,1):[],n=e.length>1?e.pop():void 0!==r?r:250,t.__rendered=!1,i.indexOf(t)<0&&i.push(t),0===n)return t.__rendered=!0,t.delay=function(){return this},t.duration=function(){return this},t;0===t.length?t.__rendered=!0:t.every(function(t){return!t.length})?t.__rendered=!0:t.__rendered=!1;var a=0;return t.transition().duration(n).each(function(){++a}).each("end",function(n,r){0==--a&&(t.__rendered=!0,o.renderEnd.apply(this,e))})},this.renderEnd=function(){i.every(function(t){return t.__rendered})&&(i.forEach(function(t){t.__rendered=!1}),e.renderEnd.apply(this,arguments))}},t.utils.deepExtend=function(e){(arguments.length>1?[].slice.call(arguments,1):[]).forEach(function(n){for(var r in n){var i=t.utils.isArray(e[r]),o=t.utils.isObject(e[r]),a=t.utils.isObject(n[r]);o&&!i&&a?t.utils.deepExtend(e[r],n[r]):e[r]=n[r]}})},t.utils.state=function(){if(!(this instanceof t.utils.state))return new t.utils.state;var e={},n=function(){},r=function(){return{}},i=null,o=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(t){n(t,!0)}),this.getter=function(t){return r=t,this},this.setter=function(t,e){return e||(e=function(){}),n=function(n,r){t(n),r&&e()},this},this.init=function(e){i=i||{},t.utils.deepExtend(i,e)};var a=function(){var t=r();if(JSON.stringify(t)===JSON.stringify(e))return!1;for(var n in t)void 0===e[n]&&(e[n]={}),e[n]=t[n],o=!0;return!0};this.update=function(){i&&(n(i,!1),i=null),a.call(this)&&this.dispatch.change(e)}},t.utils.optionsFunc=function(e){return e&&d3.map(e).forEach(function(e,n){t.utils.isFunction(this[e])&&this[e](n)}.bind(this)),this},t.utils.calcTicksX=function(e,n){var r=1,i=0;for(i;i<n.length;i+=1){var o=n[i]&&n[i].values?n[i].values.length:0;r=o>r?o:r}return t.log("Requested number of ticks: ",e),t.log("Calculated max values to be: ",r),e=e>r?e=r-1:e,e=e<1?1:e,e=Math.floor(e),t.log("Calculating tick count as: ",e),e},t.utils.calcTicksY=function(e,n){return t.utils.calcTicksX(e,n)},t.utils.initOption=function(t,e){t._calls&&t._calls[e]?t[e]=t._calls[e]:(t[e]=function(n){return arguments.length?(t._overrides[e]=!0,t._options[e]=n,t):t._options[e]},t["_"+e]=function(n){return arguments.length?(t._overrides[e]||(t._options[e]=n),t):t._options[e]})},t.utils.initOptions=function(e){e._overrides=e._overrides||{};var n=Object.getOwnPropertyNames(e._options||{}),r=Object.getOwnPropertyNames(e._calls||{});n=n.concat(r);for(var i in n)t.utils.initOption(e,n[i])},t.utils.inheritOptionsD3=function(t,e,n){t._d3options=n.concat(t._d3options||[]),n.unshift(e),n.unshift(t),d3.rebind.apply(this,n)},t.utils.arrayUnique=function(t){return t.sort().filter(function(e,n){return!n||e!=t[n-1]})},t.utils.symbolMap=d3.map(),t.utils.symbol=function(){function e(e,i){var o=n.call(this,e,i),a=r.call(this,e,i);return-1!==d3.svg.symbolTypes.indexOf(o)?d3.svg.symbol().type(o).size(a)():t.utils.symbolMap.get(o)(a)}var n,r=64;return e.type=function(t){return arguments.length?(n=d3.functor(t),e):n},e.size=function(t){return arguments.length?(r=d3.functor(t),e):r},e},t.utils.inheritOptions=function(e,n){var r=Object.getOwnPropertyNames(n._options||{}),i=Object.getOwnPropertyNames(n._calls||{}),o=n._inherited||[],a=n._d3options||[],s=r.concat(i).concat(o).concat(a);s.unshift(n),s.unshift(e),d3.rebind.apply(this,s),e._inherited=t.utils.arrayUnique(r.concat(i).concat(o).concat(r).concat(e._inherited||[])),e._d3options=t.utils.arrayUnique(a.concat(e._d3options||[]))},t.utils.initSVG=function(t){t.classed({"nvd3-svg":!0})},t.utils.sanitizeHeight=function(t,e){return t||parseInt(e.style("height"),10)||400},t.utils.sanitizeWidth=function(t,e){return t||parseInt(e.style("width"),10)||960},t.utils.availableHeight=function(e,n,r){return Math.max(0,t.utils.sanitizeHeight(e,n)-r.top-r.bottom)},t.utils.availableWidth=function(e,n,r){return Math.max(0,t.utils.sanitizeWidth(e,n)-r.left-r.right)},t.utils.noData=function(e,n){var r=e.options(),i=r.margin(),o=r.noData(),a=null==o?[""]:[o],s=t.utils.availableHeight(null,n,i),l=t.utils.availableWidth(null,n,i),u=i.left+l/2,c=i.top+s/2;n.selectAll("g").remove();var d=n.selectAll(".nv-noData").data(a);d.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),d.attr("x",u).attr("y",c).text(function(t){return t})},t.utils.wrapTicks=function(t,e){t.each(function(){for(var t,n=d3.select(this),r=n.text().split(/\s+/).reverse(),i=[],o=0,a=n.attr("y"),s=parseFloat(n.attr("dy")),l=n.text(null).append("tspan").attr("x",0).attr("y",a).attr("dy",s+"em");t=r.pop();)i.push(t),l.text(i.join(" ")),l.node().getComputedTextLength()>e&&(i.pop(),l.text(i.join(" ")),i=[t],l=n.append("tspan").attr("x",0).attr("y",a).attr("dy",1.1*++o+s+"em").text(t))})},t.utils.arrayEquals=function(e,n){if(e===n)return!0;if(!e||!n)return!1;if(e.length!=n.length)return!1;for(var r=0,i=e.length;r<i;r++)if(e[r]instanceof Array&&n[r]instanceof Array){if(!t.arrayEquals(e[r],n[r]))return!1}else if(e[r]!=n[r])return!1;return!0},t.models.axis=function(){"use strict";function e(a){return b.reset(),a.each(function(e){var a=d3.select(this);t.utils.initSVG(a);var m=a.selectAll("g.nv-wrap.nv-axis").data([e]),v=(m.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g"),m.select("g"));null!==f?n.ticks(f):"top"!=n.orient()&&"bottom"!=n.orient()||n.ticks(Math.abs(r.range()[1]-r.range()[0])/100),v.watchTransition(b,"axis").call(n),y=y||n.scale();var x=n.tickFormat();null==x&&(x=y.tickFormat());var _=v.selectAll("text.nv-axislabel").data([s||null]);_.exit().remove(),void 0!==g&&v.selectAll("g").select("text").style("font-size",g);var w,C,k;switch(n.orient()){case"top":_.enter().append("text").attr("class","nv-axislabel"),k=0,1===r.range().length?k=h?2*r.range()[0]+r.rangeBand():0:2===r.range().length?k=h?r.range()[0]+r.range()[1]+r.rangeBand():r.range()[1]:r.range().length>2&&(k=r.range()[r.range().length-1]+(r.range()[1]-r.range()[0])),_.attr("text-anchor","middle").attr("y",0).attr("x",k/2),l&&((C=m.selectAll("g.nv-axisMaxMin").data(r.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),C.exit().remove(),C.attr("transform",function(e,n){return"translate("+t.utils.NaNtoZero(r(e))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-n.tickPadding()).attr("text-anchor","middle").text(function(t,e){var n=x(t);return(""+n).match("NaN")?"":n}),C.watchTransition(b,"min-max top").attr("transform",function(e,n){return"translate("+t.utils.NaNtoZero(r.range()[n])+",0)"}));break;case"bottom":w=p+36;var S=30,M=0,T=v.selectAll("g").select("text"),$="";if(u%360){T.attr("transform",""),T.each(function(t,e){var n=this.getBoundingClientRect(),r=n.width;M=n.height,r>S&&(S=r)}),$="rotate("+u+" 0,"+(M/2+n.tickPadding())+")";var D=Math.abs(Math.sin(u*Math.PI/180));w=(D?D*S:S)+30,T.attr("transform",$).style("text-anchor",u%360>0?"start":"end")}else d?T.attr("transform",function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"}):T.attr("transform","translate(0,0)");_.enter().append("text").attr("class","nv-axislabel"),k=0,1===r.range().length?k=h?2*r.range()[0]+r.rangeBand():0:2===r.range().length?k=h?r.range()[0]+r.range()[1]+r.rangeBand():r.range()[1]:r.range().length>2&&(k=r.range()[r.range().length-1]+(r.range()[1]-r.range()[0])),_.attr("text-anchor","middle").attr("y",w).attr("x",k/2),l&&((C=m.selectAll("g.nv-axisMaxMin").data([r.domain()[0],r.domain()[r.domain().length-1]])).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),C.exit().remove(),C.attr("transform",function(e,n){return"translate("+t.utils.NaNtoZero(r(e)+(h?r.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",n.tickPadding()).attr("transform",$).style("text-anchor",u?u%360>0?"start":"end":"middle").text(function(t,e){var n=x(t);return(""+n).match("NaN")?"":n}),C.watchTransition(b,"min-max bottom").attr("transform",function(e,n){return"translate("+t.utils.NaNtoZero(r(e)+(h?r.rangeBand()/2:0))+",0)"}));break;case"right":_.enter().append("text").attr("class","nv-axislabel"),_.style("text-anchor",c?"middle":"begin").attr("transform",c?"rotate(90)":"").attr("y",c?12-Math.max(i.right,o)-(p||0):-10).attr("x",c?d3.max(r.range())/2:n.tickPadding()),l&&((C=m.selectAll("g.nv-axisMaxMin").data(r.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),C.exit().remove(),C.attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(r(e))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",n.tickPadding()).style("text-anchor","start").text(function(t,e){var n=x(t);return(""+n).match("NaN")?"":n}),C.watchTransition(b,"min-max right").attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(r.range()[n])+")"}).select("text").style("opacity",1));break;case"left":_.enter().append("text").attr("class","nv-axislabel"),_.style("text-anchor",c?"middle":"end").attr("transform",c?"rotate(-90)":"").attr("y",c?25-Math.max(i.left,o)-(p||0):-10).attr("x",c?-d3.max(r.range())/2:-n.tickPadding()),l&&((C=m.selectAll("g.nv-axisMaxMin").data(r.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),C.exit().remove(),C.attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(y(e))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-n.tickPadding()).attr("text-anchor","end").text(function(t,e){var n=x(t);return(""+n).match("NaN")?"":n}),C.watchTransition(b,"min-max right").attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(r.range()[n])+")"}).select("text").style("opacity",1))}if(_.text(function(t){return t}),!l||"left"!==n.orient()&&"right"!==n.orient()||(v.selectAll("g").each(function(t,e){d3.select(this).select("text").attr("opacity",1),(r(t)<r.range()[1]+10||r(t)>r.range()[0]-10)&&((t>1e-10||t<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),r.domain()[0]==r.domain()[1]&&0==r.domain()[0]&&m.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),l&&("top"===n.orient()||"bottom"===n.orient())){var E=[];m.selectAll("g.nv-axisMaxMin").each(function(t,e){try{e?E.push(r(t)-this.getBoundingClientRect().width-4):E.push(r(t)+this.getBoundingClientRect().width+4)}catch(n){e?E.push(r(t)-4):E.push(r(t)+4)}}),v.selectAll("g").each(function(t,e){(r(t)<E[0]||r(t)>E[1])&&(t>1e-10||t<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})}v.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*t)/1e6)&&void 0!==t}).classed("zero",!0),y=r.copy()}),b.renderEnd("axis immediate"),e}var n=d3.svg.axis(),r=d3.scale.linear(),i={top:0,right:0,bottom:0,left:0},o=75,a=60,s=null,l=!0,u=0,c=!0,d=!1,h=!1,f=null,p=0,g=void 0,m=250,v=d3.dispatch("renderEnd");n.scale(r).orient("bottom").tickFormat(function(t){return t});var y,b=t.utils.renderWatch(v,m);return e.axis=n,e.dispatch=v,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{axisLabelDistance:{get:function(){return p},set:function(t){p=t}},staggerLabels:{get:function(){return d},set:function(t){d=t}},rotateLabels:{get:function(){return u},set:function(t){u=t}},rotateYLabel:{get:function(){return c},set:function(t){c=t}},showMaxMin:{get:function(){return l},set:function(t){l=t}},axisLabel:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return a},set:function(t){a=t}},ticks:{get:function(){return f},set:function(t){f=t}},width:{get:function(){return o},set:function(t){o=t}},fontSize:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}},duration:{get:function(){return m},set:function(t){m=t,b.reset(m)}},scale:{get:function(){return r},set:function(i){r=i,n.scale(r),h="function"==typeof r.rangeBands,t.utils.inheritOptionsD3(e,r,["domain","range","rangeBand","rangeBands"])}}}),t.utils.initOptions(e),t.utils.inheritOptionsD3(e,n,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),t.utils.inheritOptionsD3(e,r,["domain","range","rangeBand","rangeBands"]),e},t.models.boxPlot=function(){"use strict";function e(d){return E.reset(),d.each(function(e){var d=u-l.left-l.right,L=c-l.top-l.bottom;M=d3.select(this),t.utils.initSVG(M),h.domain(n||e.map(function(t,e){return p(t,e)})).rangeBands(r||[0,d],.1);var A=[];if(!i){var F=[];e.forEach(function(t,e){var n=g(t),r=v(t),i=y(t),o=b(t),a=_(t);a&&a.forEach(function(t,e){F.push(w(t,e,void 0))}),i&&F.push(i),n&&F.push(n),r&&F.push(r),o&&F.push(o)}),A=[d3.min(F),d3.max(F)]}f.domain(i||A),f.range(o||[L,0]),a=a||h,s=s||f.copy().range([f(0),f(0)]);var P=M.selectAll("g.nv-wrap").data([e]);P.enter().append("g").attr("class","nvd3 nv-wrap");P.attr("transform","translate("+l.left+","+l.top+")");var R=P.selectAll(".nv-boxplot").data(function(t){return t}),O=R.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);R.attr("class","nv-boxplot").attr("transform",function(t,e,n){return"translate("+(h(p(t,e))+.05*h.rangeBand())+", 0)"}).classed("hover",function(t){return t.hover}),R.watchTransition(E,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(t,n){return n*$/e.length}).attr("transform",function(t,e){return"translate("+(h(p(t,e))+.05*h.rangeBand())+", 0)"}),R.exit().remove(),O.each(function(t,e){var n=d3.select(this);[y,b].forEach(function(r){if(r(t)){var i=r===y?"low":"high";n.append("line").style("stroke",x(t)||S(t,e)).attr("class","nv-boxplot-whisker nv-boxplot-"+i),n.append("line").style("stroke",x(t)||S(t,e)).attr("class","nv-boxplot-tick nv-boxplot-"+i)}})});var N=function(){return null===D?.9*h.rangeBand():Math.min(75,.9*h.rangeBand())},I=function(){return.45*h.rangeBand()-N()/2},Y=function(){return.45*h.rangeBand()+N()/2};[y,b].forEach(function(t){var e=t===y?"low":"high",n=t===y?g:v;R.select("line.nv-boxplot-whisker.nv-boxplot-"+e).watchTransition(E,"nv-boxplot: boxplots").attr("x1",.45*h.rangeBand()).attr("y1",function(e,n){return f(t(e))}).attr("x2",.45*h.rangeBand()).attr("y2",function(t,e){return f(n(t))}),R.select("line.nv-boxplot-tick.nv-boxplot-"+e).watchTransition(E,"nv-boxplot: boxplots").attr("x1",I).attr("y1",function(e,n){return f(t(e))}).attr("x2",Y).attr("y2",function(e,n){return f(t(e))})}),[y,b].forEach(function(t){var e=t===y?"low":"high";O.selectAll(".nv-boxplot-"+e).on("mouseover",function(e,n,r){d3.select(this).classed("hover",!0),T.elementMouseover({series:{key:t(e),color:x(e)||S(e,r)},e:d3.event})}).on("mouseout",function(e,n,r){d3.select(this).classed("hover",!1),T.elementMouseout({series:{key:t(e),color:x(e)||S(e,r)},e:d3.event})}).on("mousemove",function(t,e){T.elementMousemove({e:d3.event})})}),O.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(t,e){d3.select(this).classed("hover",!0),T.elementMouseover({key:p(t),value:p(t),series:[{key:"Q3",value:v(t),color:x(t)||S(t,e)},{key:"Q2",value:m(t),color:x(t)||S(t,e)},{key:"Q1",value:g(t),color:x(t)||S(t,e)}],data:t,index:e,e:d3.event})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),T.elementMouseout({key:p(t),value:p(t),series:[{key:"Q3",value:v(t),color:x(t)||S(t,e)},{key:"Q2",value:m(t),color:x(t)||S(t,e)},{key:"Q1",value:g(t),color:x(t)||S(t,e)}],data:t,index:e,e:d3.event})}).on("mousemove",function(t,e){T.elementMousemove({e:d3.event})}),R.select("rect.nv-boxplot-box").watchTransition(E,"nv-boxplot: boxes").attr("y",function(t,e){return f(v(t))}).attr("width",N).attr("x",I).attr("height",function(t,e){return Math.abs(f(v(t))-f(g(t)))||1}).style("fill",function(t,e){return x(t)||S(t,e)}).style("stroke",function(t,e){return x(t)||S(t,e)}),O.append("line").attr("class","nv-boxplot-median"),R.select("line.nv-boxplot-median").watchTransition(E,"nv-boxplot: boxplots line").attr("x1",I).attr("y1",function(t,e){return f(m(t))}).attr("x2",Y).attr("y2",function(t,e){return f(m(t))});var V=R.selectAll(".nv-boxplot-outlier").data(function(t){return _(t)||[]});V.enter().append("circle").style("fill",function(t,e,n){return k(t,e,n)||S(t,n)}).style("stroke",function(t,e,n){return k(t,e,n)||S(t,n)}).style("z-index",9e3).on("mouseover",function(t,e,n){d3.select(this).classed("hover",!0),T.elementMouseover({series:{key:C(t,e,n),color:k(t,e,n)||S(t,n)},e:d3.event})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),T.elementMouseout({series:{key:C(t,e,n),color:k(t,e,n)||S(t,n)},e:d3.event})}).on("mousemove",function(t,e){T.elementMousemove({e:d3.event})}),V.attr("class","nv-boxplot-outlier"),V.watchTransition(E,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*h.rangeBand()).attr("cy",function(t,e,n){return f(w(t,e,n))}).attr("r","3"),V.exit().remove(),a=h.copy(),s=f.copy()}),E.renderEnd("nv-boxplot immediate"),e}var n,r,i,o,a,s,l={top:0,right:0,bottom:0,left:0},u=960,c=500,d=Math.floor(1e4*Math.random()),h=d3.scale.ordinal(),f=d3.scale.linear(),p=function(t){return t.label},g=function(t){return t.values.Q1},m=function(t){return t.values.Q2},v=function(t){return t.values.Q3},y=function(t){return t.values.whisker_low},b=function(t){return t.values.whisker_high},x=function(t){return t.color},_=function(t){return t.values.outliers},w=function(t,e,n){return t},C=function(t,e,n){return t},k=function(t,e,n){},S=t.utils.defaultColor(),M=null,T=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),$=250,D=null,E=t.utils.renderWatch(T,$);return e.dispatch=T,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},maxBoxWidth:{get:function(){return D},set:function(t){D=t}},x:{get:function(){return p},set:function(t){p=t}},q1:{get:function(){return g},set:function(t){g=t}},q2:{get:function(){return m},set:function(t){m=t}},q3:{get:function(){return v},set:function(t){v=t}},wl:{get:function(){return y},set:function(t){y=t}},wh:{get:function(){return b},set:function(t){b=t}},itemColor:{get:function(){return x},set:function(t){x=t}},outliers:{get:function(){return _},set:function(t){_=t}},outlierValue:{get:function(){return w},set:function(t){w=t}},outlierLabel:{get:function(){return C},set:function(t){C=t}},outlierColor:{get:function(){return k},set:function(t){k=t}},xScale:{get:function(){return h},set:function(t){h=t}},yScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return i},set:function(t){i=t}},xRange:{get:function(){return r},set:function(t){r=t}},yRange:{get:function(){return o},set:function(t){o=t}},id:{get:function(){return d},set:function(t){d=t}},y:{get:function(){return console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead."),{}},set:function(t){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.")}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},color:{get:function(){return S},set:function(e){S=t.utils.getColor(e)}},duration:{get:function(){return $},set:function(t){$=t,E.reset($)}}}),t.utils.initOptions(e),e},t.models.boxPlotChart=function(){"use strict";function e(c){return b.reset(),b.models(i),d&&b.models(o),h&&b.models(a),c.each(function(c){var g=d3.select(this);t.utils.initSVG(g);var b=(l||parseInt(g.style("width"))||960)-s.left-s.right,x=(u||parseInt(g.style("height"))||400)-s.top-s.bottom;if(e.update=function(){v.beforeUpdate(),g.transition().duration(y).call(e)},e.container=this,!c||!c.length){var _=g.selectAll(".nv-noData").data([m]);return _.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),_.attr("x",s.left+b/2).attr("y",s.top+x/2).text(function(t){return t}),e}g.selectAll(".nv-noData").remove(),n=i.xScale(),r=i.yScale().clamp(!0);var w=g.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([c]),C=w.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),k=C.append("defs"),S=w.select("g");if(C.append("g").attr("class","nv-x nv-axis"),C.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),C.append("g").attr("class","nv-barsWrap"),S.attr("transform","translate("+s.left+","+s.top+")"),f&&S.select(".nv-y.nv-axis").attr("transform","translate("+b+",0)"),i.width(b).height(x),S.select(".nv-barsWrap").datum(c.filter(function(t){return!t.disabled})).transition().call(i),k.append("clipPath").attr("id","nv-x-label-clip-"+i.id()).append("rect"),S.select("#nv-x-label-clip-"+i.id()+" rect").attr("width",n.rangeBand()*(p?2:1)).attr("height",16).attr("x",-n.rangeBand()/(p?1:2)),d){o.scale(n).ticks(t.utils.calcTicksX(b/100,c)).tickSize(-x,0),S.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),S.select(".nv-x.nv-axis").call(o);var M=S.select(".nv-x.nv-axis").selectAll("g");p&&M.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}h&&(a.scale(r).ticks(Math.floor(x/36)).tickSize(-b,0),S.select(".nv-y.nv-axis").call(a)),S.select(".nv-zeroLine line").attr("x1",0).attr("x2",b).attr("y1",r(0)).attr("y2",r(0))}),b.renderEnd("nv-boxplot chart immediate"),e}var n,r,i=t.models.boxPlot(),o=t.models.axis(),a=t.models.axis(),s={top:15,right:10,bottom:50,left:60},l=null,u=null,c=t.utils.getColor(),d=!0,h=!0,f=!1,p=!1,g=t.models.tooltip(),m="",v=d3.dispatch("beforeUpdate","renderEnd"),y=250;o.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),a.orient(f?"right":"left").tickFormat(d3.format(",.1f")),g.duration(0);var b=t.utils.renderWatch(v,y);return i.dispatch.on("elementMouseover.tooltip",function(t){g.data(t).hidden(!1)}),i.dispatch.on("elementMouseout.tooltip",function(t){g.data(t).hidden(!0)}),i.dispatch.on("elementMousemove.tooltip",function(t){g()}),e.dispatch=v,e.boxplot=i,e.xAxis=o,e.yAxis=a,e.tooltip=g,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return u},set:function(t){u=t}},staggerLabels:{get:function(){return p},set:function(t){p=t}},showXAxis:{get:function(){return d},set:function(t){d=t}},showYAxis:{get:function(){return h},set:function(t){h=t}},tooltipContent:{get:function(){return g},set:function(t){g=t}},noData:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},duration:{get:function(){return y},set:function(t){y=t,b.reset(y),i.duration(y),o.duration(y),a.duration(y)}},color:{get:function(){return c},set:function(e){c=t.utils.getColor(e),i.color(c)}},rightAlignYAxis:{get:function(){return f},set:function(t){f=t,a.orient(t?"right":"left")}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.bullet=function(){"use strict";function e(t,e){var n=t.slice();t.sort(function(t,r){var i=n.indexOf(t),o=n.indexOf(r);return d3.descending(e[i],e[o])})}function n(i){return i.each(function(n,i){var m=f-r.left-r.right,_=p-r.top-r.bottom;g=d3.select(this),t.utils.initSVG(g);var w=a.call(this,n,i).slice(),C=s.call(this,n,i).slice(),k=l.call(this,n,i).slice(),S=u.call(this,n,i).slice(),M=c.call(this,n,i).slice(),T=d.call(this,n,i).slice();e(S,w),e(M,C),e(T,k),w.sort(d3.descending),C.sort(d3.descending),k.sort(d3.descending);var $=d3.scale.linear().domain(d3.extent(d3.merge([h,w]))).range(o?[m,0]:[0,m]);this.__chart__||d3.scale.linear().domain([0,1/0]).range($.range());this.__chart__=$;d3.min(w),d3.max(w),w[1];for(var D=g.selectAll("g.nv-wrap.nv-bullet").data([n]),E=D.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),L=D.select("g"),i=0,A=w.length;i<A;i++){var F="nv-range nv-range"+i;i<=2&&(F=F+" nv-range"+x[i]),E.append("rect").attr("class",F)}E.append("rect").attr("class","nv-measure"),D.attr("transform","translate("+r.left+","+r.top+")");for(var P=function(t){return $(t<0?t:0)},i=0,A=w.length;i<A;i++){var R=w[i];L.select("rect.nv-range"+i).attr("height",_).attr("width",function(t){return Math.abs($(t)-$(0))}(R)).attr("x",P(R)).datum(R)}L.select("rect.nv-measure").style("fill",v).attr("height",_/3).attr("y",_/3).attr("width",k<0?$(0)-$(k[0]):$(k[0])-$(0)).attr("x",P(k)).on("mouseover",function(){y.elementMouseover({value:k[0],label:T[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){y.elementMousemove({value:k[0],label:T[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){y.elementMouseout({value:k[0],label:T[0]||"Current",color:d3.select(this).style("fill")})});var O=_/6,N=C.map(function(t,e){return{value:t,label:M[e]}});E.selectAll("path.nv-markerTriangle").data(N).enter().append("path").attr("class","nv-markerTriangle").attr("d","M0,"+O+"L"+O+","+-O+" "+-O+","+-O+"Z").on("mouseover",function(t){y.elementMouseover({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill"),pos:[$(t.value),_/2]})}).on("mousemove",function(t){y.elementMousemove({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){y.elementMouseout({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}),L.selectAll("path.nv-markerTriangle").data(N).attr("transform",function(t){return"translate("+$(t.value)+","+_/2+")"}),D.selectAll(".nv-range").on("mouseover",function(t,e){var n=S[e]||b[e];y.elementMouseover({value:t,label:n,color:d3.select(this).style("fill")})}).on("mousemove",function(){y.elementMousemove({value:k[0],label:T[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){var n=S[e]||b[e];y.elementMouseout({value:t,label:n,color:d3.select(this).style("fill")})})}),n}var r={top:0,right:0,bottom:0,left:0},i="left",o=!1,a=function(t){return t.ranges},s=function(t){return t.markers?t.markers:[]},l=function(t){return t.measures},u=function(t){return t.rangeLabels?t.rangeLabels:[]},c=function(t){return t.markerLabels?t.markerLabels:[]},d=function(t){return t.measureLabels?t.measureLabels:[]},h=[0],f=380,p=30,g=null,m=null,v=t.utils.getColor(["#1f77b4"]),y=d3.dispatch("elementMouseover","elementMouseout","elementMousemove"),b=["Maximum","Mean","Minimum"],x=["Max","Avg","Min"];return n.dispatch=y,n.options=t.utils.optionsFunc.bind(n),n._options=Object.create({},{ranges:{get:function(){return a},set:function(t){a=t}},markers:{get:function(){return s},set:function(t){s=t}},measures:{get:function(){return l},set:function(t){l=t}},forceX:{get:function(){return h},set:function(t){h=t}},width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return p},set:function(t){p=t}},tickFormat:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return r},set:function(t){r.top=void 0!==t.top?t.top:r.top,r.right=void 0!==t.right?t.right:r.right,r.bottom=void 0!==t.bottom?t.bottom:r.bottom,r.left=void 0!==t.left?t.left:r.left}},orient:{get:function(){return i},set:function(t){o="right"==(i=t)||"bottom"==i}},color:{get:function(){return v},set:function(e){v=t.utils.getColor(e)}}}),t.utils.initOptions(n),n},t.models.bulletChart=function(){"use strict";function e(r){return r.each(function(i,p){var g=d3.select(this);t.utils.initSVG(g);var m=t.utils.availableWidth(c,g,a),v=d-a.top-a.bottom;if(e.update=function(){e(r)},e.container=this,!i||!s.call(this,i,p))return t.utils.noData(e,g),e;g.selectAll(".nv-noData").remove();var y=s.call(this,i,p).slice().sort(d3.descending),b=l.call(this,i,p).slice().sort(d3.descending),x=u.call(this,i,p).slice().sort(d3.descending),_=g.selectAll("g.nv-wrap.nv-bulletChart").data([i]),w=_.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),C=_.select("g");w.append("g").attr("class","nv-bulletWrap"),w.append("g").attr("class","nv-titles"),_.attr("transform","translate("+a.left+","+a.top+")");var k=d3.scale.linear().domain([0,Math.max(y[0],b[0]||0,x[0])]).range(o?[m,0]:[0,m]),S=this.__chart__||d3.scale.linear().domain([0,1/0]).range(k.range());this.__chart__=k;var M=w.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(d-a.top-a.bottom)/2+")");M.append("text").attr("class","nv-title").text(function(t){return t.title}),M.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),n.width(m).height(v);var T=C.select(".nv-bulletWrap");d3.transition(T).call(n);var $=h||k.tickFormat(m/100),D=C.selectAll("g.nv-tick").data(k.ticks(f||m/50),function(t){return this.textContent||$(t)}),E=D.enter().append("g").attr("class","nv-tick").attr("transform",function(t){return"translate("+S(t)+",0)"}).style("opacity",1e-6);E.append("line").attr("y1",v).attr("y2",7*v/6),E.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*v/6).text($);var L=d3.transition(D).attr("transform",function(t){return"translate("+k(t)+",0)"}).style("opacity",1);L.select("line").attr("y1",v).attr("y2",7*v/6),L.select("text").attr("y",7*v/6),d3.transition(D.exit()).attr("transform",function(t){return"translate("+k(t)+",0)"}).style("opacity",1e-6).remove()}),d3.timer.flush(),e}var n=t.models.bullet(),r=t.models.tooltip(),i="left",o=!1,a={top:5,right:40,bottom:20,left:120},s=function(t){return t.ranges},l=function(t){return t.markers?t.markers:[]},u=function(t){return t.measures},c=null,d=55,h=null,f=null,p=null,g=d3.dispatch();return r.duration(0).headerEnabled(!1),n.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.label,value:t.value,color:t.color},r.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){r.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(t){r()}),e.bullet=n,e.dispatch=g,e.tooltip=r,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{ranges:{get:function(){return s},set:function(t){s=t}},markers:{get:function(){return l},set:function(t){l=t}},measures:{get:function(){return u},set:function(t){u=t}},width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},tickFormat:{get:function(){return h},set:function(t){h=t}},ticks:{get:function(){return f},set:function(t){f=t}},noData:{get:function(){return p},set:function(t){p=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},orient:{get:function(){return i},set:function(t){o="right"==(i=t)||"bottom"==i}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.models.candlestickBar=function(){"use strict";function e(C){return C.each(function(e){n=d3.select(this);var C=t.utils.availableWidth(l,n,s),k=t.utils.availableHeight(u,n,s);t.utils.initSVG(n);var M=C/e[0].values.length*.45;d.domain(r||d3.extent(e[0].values.map(f).concat(b))),_?d.range(o||[.5*C/e[0].values.length,C*(e[0].values.length-.5)/e[0].values.length]):d.range(o||[5+M/2,C-M/2-5]),h.domain(i||[d3.min(e[0].values.map(y).concat(x)),d3.max(e[0].values.map(v).concat(x))]).range(a||[k,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]+.01*h.domain()[0],h.domain()[1]-.01*h.domain()[1]]):h.domain([-1,1]));var T=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([e[0].values]),$=T.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),D=$.append("defs"),E=$.append("g"),L=T.select("g");E.append("g").attr("class","nv-ticks"),T.attr("transform","translate("+s.left+","+s.top+")"),n.on("click",function(t,e){S.chartClick({data:t,index:e,pos:d3.event,id:c})}),D.append("clipPath").attr("id","nv-chart-clip-path-"+c).append("rect"),T.select("#nv-chart-clip-path-"+c+" rect").attr("width",C).attr("height",k),L.attr("clip-path",w?"url(#nv-chart-clip-path-"+c+")":"");var A=T.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});A.exit().remove();var F=A.enter().append("g");A.attr("class",function(t,e,n){return(g(t,e)>m(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e});F.append("line").attr("class","nv-candlestick-lines").attr("transform",function(t,e){return"translate("+d(f(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return h(v(t,e))}).attr("x2",0).attr("y2",function(t,e){return h(y(t,e))}),F.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(t,e){return"translate("+(d(f(t,e))-M/2)+","+(h(p(t,e))-(g(t,e)>m(t,e)?h(m(t,e))-h(g(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",M).attr("height",function(t,e){var n=g(t,e),r=m(t,e);return n>r?h(r)-h(n):h(n)-h(r)});A.select(".nv-candlestick-lines").transition().attr("transform",function(t,e){return"translate("+d(f(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return h(v(t,e))}).attr("x2",0).attr("y2",function(t,e){return h(y(t,e))}),A.select(".nv-candlestick-rects").transition().attr("transform",function(t,e){return"translate("+(d(f(t,e))-M/2)+","+(h(p(t,e))-(g(t,e)>m(t,e)?h(m(t,e))-h(g(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",M).attr("height",function(t,e){var n=g(t,e),r=m(t,e);return n>r?h(r)-h(n):h(n)-h(r)})}),e}var n,r,i,o,a,s={top:0,right:0,bottom:0,left:0},l=null,u=null,c=Math.floor(1e4*Math.random()),d=d3.scale.linear(),h=d3.scale.linear(),f=function(t){return t.x},p=function(t){return t.y},g=function(t){return t.open},m=function(t){return t.close},v=function(t){return t.high},y=function(t){return t.low},b=[],x=[],_=!1,w=!0,C=t.utils.defaultColor(),k=!1,S=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return e.highlightPoint=function(t,r){e.clearHighlights(),n.select(".nv-candlestickBar .nv-tick-0-"+t).classed("hover",r)},e.clearHighlights=function(){n.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},e.dispatch=S,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return u},set:function(t){u=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return h},set:function(t){h=t}},xDomain:{get:function(){return r},set:function(t){r=t}},yDomain:{get:function(){return i},set:function(t){i=t}},xRange:{get:function(){return o},set:function(t){o=t}},yRange:{get:function(){return a},set:function(t){a=t}},forceX:{get:function(){return b},set:function(t){b=t}},forceY:{get:function(){return x},set:function(t){x=t}},padData:{get:function(){return _},set:function(t){_=t}},clipEdge:{get:function(){return w},set:function(t){w=t}},id:{get:function(){return c},set:function(t){c=t}},interactive:{get:function(){return k},set:function(t){k=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return p},set:function(t){p=t}},open:{get:function(){return g()},set:function(t){g=t}},close:{get:function(){return m()},set:function(t){m=t}},high:{get:function(){return v},set:function(t){v=t}},low:{get:function(){return y},set:function(t){y=t}},margin:{get:function(){return s},set:function(t){s.top=void 0!=t.top?t.top:s.top,s.right=void 0!=t.right?t.right:s.right,s.bottom=void 0!=t.bottom?t.bottom:s.bottom,s.left=void 0!=t.left?t.left:s.left}},color:{get:function(){return C},set:function(e){C=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.cumulativeLineChart=function(){"use strict";function e(d){return F.reset(),F.models(o),v&&F.models(a),y&&F.models(s),d.each(function(d){function M(t,n){d3.select(e.container).style("cursor","ew-resize")}function E(t,e){A.x=d3.event.x,A.i=Math.round(L.invert(A.x)),O()}function F(t,n){d3.select(e.container).style("cursor","auto"),k.index=A.i,$.stateChange(k)}function O(){et.data([A]);var t=e.duration();e.duration(0),e.update(),e.duration(t)}var N=d3.select(this);t.utils.initSVG(N),N.classed("nv-chart-"+C,!0);var I=this,Y=t.utils.availableWidth(p,N,h),V=t.utils.availableHeight(g,N,h);if(e.update=function(){0===D?N.call(e):N.transition().duration(D).call(e)},e.container=this,k.setter(R(d),e.update).getter(P(d)).update(),k.disabled=d.map(function(t){return!!t.disabled}),!S){var j;S={};for(j in k)k[j]instanceof Array?S[j]=k[j].slice(0):S[j]=k[j]}var H=d3.behavior.drag().on("dragstart",M).on("drag",E).on("dragend",F);if(!(d&&d.length&&d.filter(function(t){return t.values.length}).length))return t.utils.noData(e,N),e;if(N.selectAll(".nv-noData").remove(),r=o.xScale(),i=o.yScale(),w)o.yDomain(null);else{var z=d.filter(function(t){return!t.disabled}).map(function(t,e){var n=d3.extent(t.values,o.y());return n[0]<-.95&&(n[0]=-.95),[(n[0]-n[1])/(1+n[1]),(n[1]-n[0])/(1+n[0])]}),W=[d3.min(z,function(t){return t[0]}),d3.max(z,function(t){return t[1]})];o.yDomain(W)}L.domain([0,d[0].values.length-1]).range([0,Y]).clamp(!0);var d=n(A.i,d),B=_?"none":"all",U=N.selectAll("g.nv-wrap.nv-cumulativeLine").data([d]),G=U.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),q=U.select("g");if(G.append("g").attr("class","nv-interactive"),G.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),G.append("g").attr("class","nv-y nv-axis"),G.append("g").attr("class","nv-background"),G.append("g").attr("class","nv-linesWrap").style("pointer-events",B),G.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),G.append("g").attr("class","nv-legendWrap"),G.append("g").attr("class","nv-controlsWrap"),m?(l.width(Y),q.select(".nv-legendWrap").datum(d).call(l),h.top!=l.height()&&(h.top=l.height(),V=t.utils.availableHeight(g,N,h)),q.select(".nv-legendWrap").attr("transform","translate(0,"+-h.top+")")):q.select(".nv-legendWrap").selectAll("*").remove(),x){var K=[{key:"Re-scale y-axis",disabled:!w}];u.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),q.select(".nv-controlsWrap").datum(K).attr("transform","translate(0,"+-h.top+")").call(u)}else q.select(".nv-controlsWrap").selectAll("*").remove();U.attr("transform","translate("+h.left+","+h.top+")"),b&&q.select(".nv-y.nv-axis").attr("transform","translate("+Y+",0)");var J=d.filter(function(t){return t.tempDisabled});U.select(".tempDisabled").remove(),J.length&&U.append("text").attr("class","tempDisabled").attr("x",Y/2).attr("y","-.71em").style("text-anchor","end").text(J.map(function(t){return t.key}).join(", ")+" values cannot be calculated for this time period."),_&&(c.width(Y).height(V).margin({left:h.left,top:h.top}).svgContainer(N).xScale(r),U.select(".nv-interactive").call(c)),G.select(".nv-background").append("rect"),q.select(".nv-background rect").attr("width",Y).attr("height",V),o.y(function(t){return t.display.y}).width(Y).height(V).color(d.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!d[e].disabled&&!d[e].tempDisabled}));var X=q.select(".nv-linesWrap").datum(d.filter(function(t){return!t.disabled&&!t.tempDisabled}));X.call(o),d.forEach(function(t,e){t.seriesIndex=e});var Z=d.filter(function(t){return!t.disabled&&!!T(t)}),Q=q.select(".nv-avgLinesWrap").selectAll("line").data(Z,function(t){return t.key}),tt=function(t){var e=i(T(t));return e<0?0:e>V?V:e};Q.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(t,e){return o.color()(t,t.seriesIndex)}).attr("x1",0).attr("x2",Y).attr("y1",tt).attr("y2",tt),Q.style("stroke-opacity",function(t){var e=i(T(t));return e<0||e>V?0:1}).attr("x1",0).attr("x2",Y).attr("y1",tt).attr("y2",tt),Q.exit().remove();var et=X.selectAll(".nv-indexLine").data([A]);et.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(H),et.attr("transform",function(t){return"translate("+L(t.i)+",0)"}).attr("height",V),v&&(a.scale(r)._ticks(t.utils.calcTicksX(Y/70,d)).tickSize(-V,0),q.select(".nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),q.select(".nv-x.nv-axis").call(a)),y&&(s.scale(i)._ticks(t.utils.calcTicksY(V/36,d)).tickSize(-Y,0),q.select(".nv-y.nv-axis").call(s)),q.select(".nv-background rect").on("click",function(){A.x=d3.mouse(this)[0],A.i=Math.round(L.invert(A.x)),k.index=A.i,$.stateChange(k),O()}),o.dispatch.on("elementClick",function(t){A.i=t.pointIndex,A.x=L(A.i),k.index=A.i,$.stateChange(k),O()}),u.dispatch.on("legendClick",function(t,n){t.disabled=!t.disabled,w=!t.disabled,k.rescaleY=w,$.stateChange(k),e.update()}),l.dispatch.on("stateChange",function(t){for(var n in t)k[n]=t[n];$.stateChange(k),e.update()}),c.dispatch.on("elementMousemove",function(n){o.clearHighlights();var r,i,l,u=[];if(d.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(a,s){i=t.interactiveBisect(a.values,n.pointXValue,e.x()),o.highlightPoint(s,i,!0);var c=a.values[i];void 0!==c&&(void 0===r&&(r=c),void 0===l&&(l=e.xScale()(e.x()(c,i))),u.push({key:a.key,value:e.y()(c,i),color:f(a,a.seriesIndex)}))}),u.length>2){var h=e.yScale().invert(n.mouseY),p=.03*Math.abs(e.yScale().domain()[0]-e.yScale().domain()[1]),g=t.nearestValueIndex(u.map(function(t){return t.value}),h,p);null!==g&&(u[g].highlight=!0)}var m=a.tickFormat()(e.x()(r,i),i);c.tooltip.chartContainer(I.parentNode).valueFormatter(function(t,e){return s.tickFormat()(t)}).data({value:m,series:u})(),c.renderGuideLine(l)}),c.dispatch.on("elementMouseout",function(t){o.clearHighlights()}),$.on("changeState",function(t){void 0!==t.disabled&&(d.forEach(function(e,n){e.disabled=t.disabled[n]}),k.disabled=t.disabled),void 0!==t.index&&(A.i=t.index,A.x=L(A.i),k.index=t.index,et.data([A])),void 0!==t.rescaleY&&(w=t.rescaleY),e.update()})}),F.renderEnd("cumulativeLineChart immediate"),e}function n(t,e){return O||(O=o.y()),e.map(function(e,n){if(!e.values)return e;var r=e.values[t];if(null==r)return e;var i=O(r,t);return i<-.95&&!E?(e.tempDisabled=!0,e):(e.tempDisabled=!1,e.values=e.values.map(function(t,e){return t.display={y:(O(t,e)-i)/(1+i)},t}),e)})}var r,i,o=t.models.line(),a=t.models.axis(),s=t.models.axis(),l=t.models.legend(),u=t.models.legend(),c=t.interactiveGuideline(),d=t.models.tooltip(),h={top:30,right:30,bottom:50,left:60},f=t.utils.defaultColor(),p=null,g=null,m=!0,v=!0,y=!0,b=!1,x=!0,_=!1,w=!0,C=o.id(),k=t.utils.state(),S=null,M=null,T=function(t){return t.average},$=d3.dispatch("stateChange","changeState","renderEnd"),D=250,E=!1;k.index=0,k.rescaleY=w,a.orient("bottom").tickPadding(7),s.orient(b?"right":"left"),d.valueFormatter(function(t,e){return s.tickFormat()(t,e)}).headerFormatter(function(t,e){return a.tickFormat()(t,e)}),u.updateState(!1);var L=d3.scale.linear(),A={i:0,x:0},F=t.utils.renderWatch($,D),P=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),index:A.i,rescaleY:w}}},R=function(t){return function(e){void 0!==e.index&&(A.i=e.index),void 0!==e.rescaleY&&(w=e.rescaleY),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};o.dispatch.on("elementMouseover.tooltip",function(t){var n={x:e.x()(t.point),y:e.y()(t.point),color:t.point.color};t.point=n,d.data(t).hidden(!1)}),o.dispatch.on("elementMouseout.tooltip",function(t){d.hidden(!0)});var O=null;return e.dispatch=$,e.lines=o,e.legend=l,e.controls=u,e.xAxis=a,e.yAxis=s,e.interactiveLayer=c,e.state=k,e.tooltip=d,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return p},set:function(t){p=t}},height:{get:function(){return g},set:function(t){g=t}},rescaleY:{get:function(){return w},set:function(t){w=t}},showControls:{get:function(){return x},set:function(t){x=t}},showLegend:{get:function(){return m},set:function(t){m=t}},average:{get:function(){return T},set:function(t){T=t}},defaultState:{get:function(){return S},set:function(t){S=t}},noData:{get:function(){return M},set:function(t){M=t}},showXAxis:{get:function(){return v},set:function(t){v=t}},showYAxis:{get:function(){return y},set:function(t){y=t}},noErrorCheck:{get:function(){return E},set:function(t){E=t}},margin:{get:function(){return h},set:function(t){h.top=void 0!==t.top?t.top:h.top,h.right=void 0!==t.right?t.right:h.right,h.bottom=void 0!==t.bottom?t.bottom:h.bottom,h.left=void 0!==t.left?t.left:h.left}},color:{get:function(){return f},set:function(e){f=t.utils.getColor(e),l.color(f)}},useInteractiveGuideline:{get:function(){return _},set:function(t){_=t,!0===t&&(e.interactive(!1),e.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return b},set:function(t){b=t,s.orient(t?"right":"left")}},duration:{get:function(){return D},set:function(t){D=t,o.duration(D),a.duration(D),s.duration(D),F.reset(D)}}}),t.utils.inheritOptions(e,o),t.utils.initOptions(e),e},t.models.discreteBar=function(){"use strict";function e(h){return k.reset(),h.each(function(e){var h=c-u.left-u.right,C=d-u.top-u.bottom;n=d3.select(this),t.utils.initSVG(n),e.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var S=r&&i?[]:e.map(function(t){return t.values.map(function(t,e){return{x:g(t,e),y:m(t,e),y0:t.y0}})});f.domain(r||d3.merge(S).map(function(t){return t.x})).rangeBands(o||[0,h],.1),p.domain(i||d3.extent(d3.merge(S).map(function(t){return t.y}).concat(v))),b?p.range(a||[C-(p.domain()[0]<0?12:0),p.domain()[1]>0?12:0]):p.range(a||[C,0]),s=s||f,l=l||p.copy().range([p(0),p(0)]);var M=n.selectAll("g.nv-wrap.nv-discretebar").data([e]),T=M.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");M.select("g");T.append("g").attr("class","nv-groups"),M.attr("transform","translate("+u.left+","+u.top+")");var $=M.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});$.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),$.exit().watchTransition(k,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),$.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),$.watchTransition(k,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var D=$.selectAll("g.nv-bar").data(function(t){return t.values});D.exit().remove();var E=D.enter().append("g").attr("transform",function(t,e,n){return"translate("+(f(g(t,e))+.05*f.rangeBand())+", "+p(0)+")"}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),_.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),_.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){_.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){var n=this;_.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:n}),d3.event.stopPropagation()}).on("dblclick",function(t,e){_.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()});E.append("rect").attr("height",0).attr("width",.9*f.rangeBand()/e.length),b?(E.append("text").attr("text-anchor","middle"),D.select("text").text(function(t,e){return x(m(t,e))}).watchTransition(k,"discreteBar: bars text").attr("x",.9*f.rangeBand()/2).attr("y",function(t,e){return m(t,e)<0?p(m(t,e))-p(0)+12:-4})):D.selectAll("text").remove(),D.attr("class",function(t,e){return m(t,e)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(t,e){return t.color||y(t,e)}).style("stroke",function(t,e){return t.color||y(t,e)}).select("rect").attr("class",w).watchTransition(k,"discreteBar: bars rect").attr("width",.9*f.rangeBand()/e.length),D.watchTransition(k,"discreteBar: bars").attr("transform",function(t,e){return"translate("+(f(g(t,e))+.05*f.rangeBand())+", "+(m(t,e)<0?p(0):p(0)-p(m(t,e))<1?p(0)-1:p(m(t,e)))+")"}).select("rect").attr("height",function(t,e){return Math.max(Math.abs(p(m(t,e))-p(0)),1)}),s=f.copy(),l=p.copy()}),k.renderEnd("discreteBar immediate"),e}var n,r,i,o,a,s,l,u={top:0,right:0,bottom:0,left:0},c=960,d=500,h=Math.floor(1e4*Math.random()),f=d3.scale.ordinal(),p=d3.scale.linear(),g=function(t){return t.x},m=function(t){return t.y},v=[0],y=t.utils.defaultColor(),b=!1,x=d3.format(",.2f"),_=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),w="discreteBar",C=250,k=t.utils.renderWatch(_,C);return e.dispatch=_,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},forceY:{get:function(){return v},set:function(t){v=t}},showValues:{get:function(){return b},set:function(t){b=t}},x:{get:function(){return g},set:function(t){g=t}},y:{get:function(){return m},set:function(t){m=t}},xScale:{get:function(){return f},set:function(t){f=t}},yScale:{get:function(){return p},set:function(t){p=t}},xDomain:{get:function(){return r},set:function(t){r=t}},yDomain:{get:function(){return i},set:function(t){i=t}},xRange:{get:function(){return o},set:function(t){o=t}},yRange:{get:function(){return a},set:function(t){a=t}},valueFormat:{get:function(){return x},set:function(t){x=t}},id:{get:function(){return h},set:function(t){h=t}},rectClass:{get:function(){return w},set:function(t){w=t}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},color:{get:function(){return y},set:function(e){y=t.utils.getColor(e)}},duration:{get:function(){return C},set:function(t){C=t,k.reset(C)}}}),t.utils.initOptions(e),e},t.models.discreteBarChart=function(){"use strict";function e(l){return C.reset(),C.models(i),p&&C.models(o),g&&C.models(a),l.each(function(l){var h=d3.select(this);t.utils.initSVG(h);var x=t.utils.availableWidth(c,h,u),C=t.utils.availableHeight(d,h,u);if(e.update=function(){_.beforeUpdate(),h.transition().duration(w).call(e)},e.container=this,!(l&&l.length&&l.filter(function(t){return t.values.length}).length))return t.utils.noData(e,h),e;h.selectAll(".nv-noData").remove(),n=i.xScale(),r=i.yScale().clamp(!0);var k=h.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([l]),S=k.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),M=S.append("defs"),T=k.select("g");if(S.append("g").attr("class","nv-x nv-axis"),S.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),S.append("g").attr("class","nv-barsWrap"),S.append("g").attr("class","nv-legendWrap"),T.attr("transform","translate("+u.left+","+u.top+")"),f?(s.width(x),T.select(".nv-legendWrap").datum(l).call(s),u.top!=s.height()&&(u.top=s.height(),C=t.utils.availableHeight(d,h,u)),k.select(".nv-legendWrap").attr("transform","translate(0,"+-u.top+")")):T.select(".nv-legendWrap").selectAll("*").remove(),m&&T.select(".nv-y.nv-axis").attr("transform","translate("+x+",0)"),i.width(x).height(C),T.select(".nv-barsWrap").datum(l.filter(function(t){return!t.disabled})).transition().call(i),M.append("clipPath").attr("id","nv-x-label-clip-"+i.id()).append("rect"),T.select("#nv-x-label-clip-"+i.id()+" rect").attr("width",n.rangeBand()*(v?2:1)).attr("height",16).attr("x",-n.rangeBand()/(v?1:2)),p){o.scale(n)._ticks(t.utils.calcTicksX(x/100,l)).tickSize(-C,0),T.select(".nv-x.nv-axis").attr("transform","translate(0,"+(r.range()[0]+(i.showValues()&&r.domain()[0]<0?16:0))+")"),T.select(".nv-x.nv-axis").call(o);var $=T.select(".nv-x.nv-axis").selectAll("g");v&&$.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"}),b&&$.selectAll(".tick text").attr("transform","rotate("+b+" 0,0)").style("text-anchor",b>0?"start":"end"),y&&T.selectAll(".tick text").call(t.utils.wrapTicks,e.xAxis.rangeBand())}g&&(a.scale(r)._ticks(t.utils.calcTicksY(C/36,l)).tickSize(-x,0),T.select(".nv-y.nv-axis").call(a)),T.select(".nv-zeroLine line").attr("x1",0).attr("x2",m?-x:x).attr("y1",r(0)).attr("y2",r(0))}),C.renderEnd("discreteBar chart immediate"),e}var n,r,i=t.models.discreteBar(),o=t.models.axis(),a=t.models.axis(),s=t.models.legend(),l=t.models.tooltip(),u={top:15,right:10,bottom:50,left:60},c=null,d=null,h=t.utils.getColor(),f=!1,p=!0,g=!0,m=!1,v=!1,y=!1,b=0,x=null,_=d3.dispatch("beforeUpdate","renderEnd"),w=250;o.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),a.orient(m?"right":"left").tickFormat(d3.format(",.1f")),l.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return a.tickFormat()(t,e)}).keyFormatter(function(t,e){return o.tickFormat()(t,e)});var C=t.utils.renderWatch(_,w);return i.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:e.x()(t.data),value:e.y()(t.data),color:t.color},l.data(t).hidden(!1)}),i.dispatch.on("elementMouseout.tooltip",function(t){l.hidden(!0)}),i.dispatch.on("elementMousemove.tooltip",function(t){l()}),e.dispatch=_,e.discretebar=i,e.legend=s,e.xAxis=o,e.yAxis=a,e.tooltip=l,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},showLegend:{get:function(){return f},set:function(t){f=t}},staggerLabels:{get:function(){return v},set:function(t){v=t}},rotateLabels:{get:function(){return b},set:function(t){b=t}},wrapLabels:{get:function(){return y},set:function(t){y=!!t}},showXAxis:{get:function(){return p},set:function(t){p=t}},showYAxis:{get:function(){return g},set:function(t){g=t}},noData:{get:function(){return x},set:function(t){x=t}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},duration:{get:function(){return w},set:function(t){w=t,C.reset(w),i.duration(w),o.duration(w),a.duration(w)}},color:{get:function(){return h},set:function(e){h=t.utils.getColor(e),i.color(h),s.color(h)}},rightAlignYAxis:{get:function(){return m},set:function(t){m=t,a.orient(t?"right":"left")}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.distribution=function(){"use strict";function e(i){return h.reset(),i.each(function(e){"x"===a?(r.left,r.right):(r.top,r.bottom);var i="x"==a?"y":"x",c=d3.select(this);t.utils.initSVG(c),n=n||u;var d=c.selectAll("g.nv-distribution").data([e]),f=(d.enter().append("g").attr("class","nvd3 nv-distribution").append("g"),d.select("g"));d.attr("transform","translate("+r.left+","+r.top+")");var p=f.selectAll("g.nv-dist").data(function(t){return t},function(t){return t.key});p.enter().append("g"),p.attr("class",function(t,e){return"nv-dist nv-series-"+e}).style("stroke",function(t,e){return l(t,e)});var g=p.selectAll("line.nv-dist"+a).data(function(t){return t.values});g.enter().append("line").attr(a+"1",function(t,e){return n(s(t,e))}).attr(a+"2",function(t,e){return n(s(t,e))}),h.transition(p.exit().selectAll("line.nv-dist"+a),"dist exit").attr(a+"1",function(t,e){return u(s(t,e))}).attr(a+"2",function(t,e){return u(s(t,e))}).style("stroke-opacity",0).remove(),g.attr("class",function(t,e){return"nv-dist"+a+" nv-dist"+a+"-"+e}).attr(i+"1",0).attr(i+"2",o),h.transition(g,"dist").attr(a+"1",function(t,e){return u(s(t,e))}).attr(a+"2",function(t,e){return u(s(t,e))}),n=u.copy()}),h.renderEnd("distribution immediate"),e}var n,r={top:0,right:0,bottom:0,left:0},i=400,o=8,a="x",s=function(t){return t[a]},l=t.utils.defaultColor(),u=d3.scale.linear(),c=250,d=d3.dispatch("renderEnd"),h=t.utils.renderWatch(d,c);return e.options=t.utils.optionsFunc.bind(e),e.dispatch=d,e.margin=function(t){return arguments.length?(r.top=void 0!==t.top?t.top:r.top,r.right=void 0!==t.right?t.right:r.right,r.bottom=void 0!==t.bottom?t.bottom:r.bottom,r.left=void 0!==t.left?t.left:r.left,e):r},e.width=function(t){return arguments.length?(i=t,e):i},e.axis=function(t){return arguments.length?(a=t,e):a},e.size=function(t){return arguments.length?(o=t,e):o},e.getData=function(t){return arguments.length?(s=d3.functor(t),e):s},e.scale=function(t){return arguments.length?(u=t,e):u},e.color=function(n){return arguments.length?(l=t.utils.getColor(n),e):l},e.duration=function(t){return arguments.length?(c=t,h.reset(c),e):c},e},t.models.focus=function(e){"use strict";function n(b){return y.reset(),y.models(e),h&&y.models(o),f&&y.models(a),b.each(function(y){function b(t){var e=+("e"==t),n=e?1:-1,r=k/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}function x(){s.empty()||s.extent(g),D.data([s.empty()?r.domain():g]).each(function(t,e){var n=r(t[0])-r.range()[0],i=C-r(t[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",r(t[1])).attr("width",i<0?0:i)})}function _(){g=s.empty()?null:s.extent();var t=s.empty()?r.domain():s.extent();Math.abs(t[0]-t[1])<=1||(v.brush({extent:t,brush:s}),x(),v.onBrush(t))}var w=d3.select(this);t.utils.initSVG(w);var C=t.utils.availableWidth(c,w,l),k=d-l.top-l.bottom;n.update=function(){0===m?w.call(n):w.transition().duration(m).call(n)},n.container=this,r=e.xScale(),i=e.yScale();var S=w.selectAll("g.nv-focus").data([y]),M=S.enter().append("g").attr("class","nvd3 nv-focus").append("g"),T=S.select("g");S.attr("transform","translate("+l.left+","+l.top+")"),M.append("g").attr("class","nv-background").append("rect"),M.append("g").attr("class","nv-x nv-axis"),M.append("g").attr("class","nv-y nv-axis"),M.append("g").attr("class","nv-contentWrap"),M.append("g").attr("class","nv-brushBackground"),M.append("g").attr("class","nv-x nv-brush"),p&&T.select(".nv-y.nv-axis").attr("transform","translate("+C+",0)"),T.select(".nv-background rect").attr("width",C).attr("height",k),e.width(C).height(k).color(y.map(function(t,e){return t.color||u(t,e)}).filter(function(t,e){return!y[e].disabled}));var $=T.select(".nv-contentWrap").datum(y.filter(function(t){return!t.disabled}));d3.transition($).call(e),s.x(r).on("brush",function(){_()}),g&&s.extent(g);var D=T.select(".nv-brushBackground").selectAll("g").data([g||s.extent()]),E=D.enter().append("g");E.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",k),E.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",k);var L=T.select(".nv-x.nv-brush").call(s);L.selectAll("rect").attr("height",k),L.selectAll(".resize").append("path").attr("d",b),_(),T.select(".nv-background rect").attr("width",C).attr("height",k),h&&(o.scale(r)._ticks(t.utils.calcTicksX(C/100,y)).tickSize(-k,0),T.select(".nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),d3.transition(T.select(".nv-x.nv-axis")).call(o)),f&&(a.scale(i)._ticks(t.utils.calcTicksY(k/36,y)).tickSize(-C,0),d3.transition(T.select(".nv-y.nv-axis")).call(a)),T.select(".nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")")}),y.renderEnd("focus immediate"),n}var r,i,e=e||t.models.line(),o=t.models.axis(),a=t.models.axis(),s=d3.svg.brush(),l={top:10,right:0,bottom:30,left:0},u=t.utils.defaultColor(),c=null,d=70,h=!0,f=!1,p=!1,g=null,m=250,v=d3.dispatch("brush","onBrush","renderEnd");e.interactive(!1),e.pointActive(function(t){return!1});var y=t.utils.renderWatch(v,m);return n.dispatch=v,n.content=e,n.brush=s,n.xAxis=o,n.yAxis=a,n.options=t.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},showXAxis:{get:function(){return h},set:function(t){h=t}},showYAxis:{get:function(){return f},set:function(t){f=t}},brushExtent:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return m},set:function(t){m=t,y.reset(m),e.duration(m),o.duration(m),a.duration(m)}},color:{get:function(){return u},set:function(n){u=t.utils.getColor(n),e.color(u)}},interpolate:{get:function(){return e.interpolate()},set:function(t){e.interpolate(t)}},xTickFormat:{get:function(){return o.tickFormat()},set:function(t){o.tickFormat(t)}},yTickFormat:{get:function(){return a.tickFormat()},set:function(t){a.tickFormat(t)}},x:{get:function(){return e.x()},set:function(t){e.x(t)}},y:{get:function(){return e.y()},set:function(t){e.y(t)}},rightAlignYAxis:{get:function(){return p},set:function(t){p=t,a.orient(p?"right":"left")}}}),t.utils.inheritOptions(n,e),t.utils.initOptions(n),n},t.models.forceDirectedGraph=function(){"use strict";function e(a){return x.reset(),a.each(function(a){o=d3.select(this),t.utils.initSVG(o);var u=t.utils.availableWidth(r,o,n),x=t.utils.availableHeight(i,o,n);if(o.attr("width",u).attr("height",x),!(a&&a.links&&a.nodes))return t.utils.noData(e,o),e;o.selectAll(".nv-noData").remove(),o.selectAll("*").remove();var _=new Set;a.nodes.forEach(function(t){Object.keys(t).forEach(function(t){_.add(t)})});var w=d3.layout.force().nodes(a.nodes).links(a.links).size([u,x]).linkStrength(c).friction(d).linkDistance(h).charge(f).gravity(p).theta(g).alpha(m).start(),C=o.selectAll(".link").data(a.links).enter().append("line").attr("class","nv-force-link").style("stroke-width",function(t){return Math.sqrt(t.value)}),k=o.selectAll(".node").data(a.nodes).enter().append("g").attr("class","nv-force-node").call(w.drag);k.append("circle").attr("r",v).style("fill",function(t){return s(t)}).on("mouseover",function(t){o.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.py),o.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.px);var e=s(t);t.series=[],_.forEach(function(n){t.series.push({color:e,key:n,value:t[n]})}),l.data(t).hidden(!1)}).on("mouseout",function(t){l.hidden(!0)}),l.headerFormatter(function(t){return"Node"}),b(C),y(k),w.on("tick",function(){C.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),k.attr("transform",function(t){return"translate("+t.x+", "+t.y+")"})})}),e}var n={top:2,right:0,bottom:2,left:0},r=400,i=32,o=null,a=d3.dispatch("renderEnd"),s=t.utils.getColor(["#000"]),l=t.models.tooltip(),u=null,c=.1,d=.9,h=30,f=-120,p=.1,g=.8,m=.1,v=5,y=function(t){},b=function(t){},x=t.utils.renderWatch(a);return e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return r},set:function(t){r=t}},height:{get:function(){return i},set:function(t){i=t}},linkStrength:{get:function(){return c},set:function(t){c=t}},friction:{get:function(){return d},set:function(t){d=t}},linkDist:{get:function(){return h},set:function(t){h=t}},charge:{get:function(){return f},set:function(t){f=t}},gravity:{get:function(){return p},set:function(t){p=t}},theta:{get:function(){return g},set:function(t){g=t}},alpha:{get:function(){return m},set:function(t){m=t}},radius:{get:function(){return v},set:function(t){v=t}},x:{get:function(){return getX},set:function(t){getX=d3.functor(t)}},y:{get:function(){return getY},set:function(t){getY=d3.functor(t)}},margin:{get:function(){return n},set:function(t){n.top=void 0!==t.top?t.top:n.top,n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left}},color:{get:function(){return s},set:function(e){s=t.utils.getColor(e)}},noData:{get:function(){return u},set:function(t){u=t}},nodeExtras:{get:function(){return y},set:function(t){y=t}},linkExtras:{get:function(){return b},set:function(t){b=t}}}),e.dispatch=a,e.tooltip=l,t.utils.initOptions(e),e},t.models.furiousLegend=function(){"use strict";function e(m){function v(t,e){return"furious"!=g?"#000":f?t.disengaged?a(t,e):"#fff":f?void 0:t.disabled?a(t,e):"#fff"}function y(t,e){return f&&"furious"==g?t.disengaged?"#fff":a(t,e):t.disabled?"#fff":a(t,e)}return m.each(function(e){var m=r-n.left-n.right,b=d3.select(this);t.utils.initSVG(b);var x=b.selectAll("g.nv-legend").data([e]),_=(x.enter().append("g").attr("class","nvd3 nv-legend").append("g"),x.select("g"));x.attr("transform","translate("+n.left+","+n.top+")");var w,C=_.selectAll(".nv-series").data(function(t){return"furious"!=g?t:t.filter(function(t){return!!f||!t.disengaged})}),k=C.enter().append("g").attr("class","nv-series");"classic"==g?(k.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),w=C.select("circle")):"furious"==g&&(k.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),w=C.select("rect"),k.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),C.select(".nv-check-box").each(function(t,e){d3.select(this).selectAll("path").attr("stroke",v(t,e))})),k.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var S=C.select("text.nv-legend-text");C.on("mouseover",function(t,e){p.legendMouseover(t,e)}).on("mouseout",function(t,e){p.legendMouseout(t,e)}).on("click",function(t,e){p.legendClick(t,e);var n=C.data();d&&("classic"==g?h?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1})):"furious"==g&&(f?(t.disengaged=!t.disengaged,t.userDisabled=void 0==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled):f||(t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter(function(t){return!t.disengaged}).every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1}))),p.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})}))}).on("dblclick",function(t,e){if(("furious"!=g||!f)&&(p.legendDblclick(t,e),d)){var n=C.data();n.forEach(function(t){t.disabled=!0,"furious"==g&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==g&&(t.userDisabled=t.disabled),p.stateChange({disabled:n.map(function(t){return!!t.disabled})})}}),C.classed("nv-disabled",function(t){return t.userDisabled}),C.exit().remove(),S.attr("fill",v).text(o);var M;switch(g){case"furious":M=23;break;case"classic":M=20}if(l){var T=[];C.each(function(e,n){var r;if(o(e)&&o(e).length>s){var i=o(e).substring(0,s);r=d3.select(this).select("text").text(i+"..."),d3.select(this).append("svg:title").text(o(e))}else r=d3.select(this).select("text");var a;try{if((a=r.node().getComputedTextLength())<=0)throw Error()}catch(e){a=t.utils.calcApproxTextWidth(r)}T.push(a+u)});for(var $=0,D=0,E=[];D<m&&$<T.length;)E[$]=T[$],D+=T[$++];for(0===$&&($=1);D>m&&$>1;){E=[],$--;for(var L=0;L<T.length;L++)T[L]>(E[L%$]||0)&&(E[L%$]=T[L]);D=E.reduce(function(t,e,n,r){return t+e})}for(var A=[],F=0,P=0;F<$;F++)A[F]=P,P+=E[F];C.attr("transform",function(t,e){return"translate("+A[e%$]+","+(5+Math.floor(e/$)*M)+")"}),c?_.attr("transform","translate("+(r-n.right-D)+","+n.top+")"):_.attr("transform","translate(0,"+n.top+")"),i=n.top+n.bottom+Math.ceil(T.length/$)*M}else{var R,O=5,N=5,I=0;C.attr("transform",function(t,e){var i=d3.select(this).select("text").node().getComputedTextLength()+u;return R=N,r<n.left+n.right+R+i&&(N=R=5,O+=M),(N+=i)>I&&(I=N),"translate("+R+","+O+")"}),_.attr("transform","translate("+(r-n.right-I)+","+n.top+")"),i=n.top+n.bottom+O+15}"furious"==g&&w.attr("width",function(t,e){return S[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),w.style("fill",y).style("stroke",function(t,e){return t.color||a(t,e)})}),e}var n={top:5,right:0,bottom:5,left:0},r=400,i=20,o=function(t){return t.key},a=t.utils.getColor(),s=20,l=!0,u=28,c=!0,d=!0,h=!1,f=!1,p=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),g="classic";return e.dispatch=p,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return r},set:function(t){r=t}},height:{get:function(){return i},set:function(t){i=t}},key:{get:function(){return o},set:function(t){o=t}},align:{get:function(){return l},set:function(t){l=t}},rightAlign:{get:function(){return c},set:function(t){c=t}},maxKeyLength:{get:function(){return s},set:function(t){s=t}},padding:{get:function(){return u},set:function(t){u=t}},updateState:{get:function(){return d},set:function(t){d=t}},radioButtonMode:{get:function(){return h},set:function(t){h=t}},expanded:{get:function(){return f},set:function(t){f=t}},vers:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return n},set:function(t){n.top=void 0!==t.top?t.top:n.top,n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left}},color:{get:function(){return a},set:function(e){a=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.historicalBar=function(){"use strict";function e(C){return C.each(function(e){w.reset(),c=d3.select(this);var C=t.utils.availableWidth(s,c,a),k=t.utils.availableHeight(l,c,a);t.utils.initSVG(c),d.domain(n||d3.extent(e[0].values.map(f).concat(g))),v?d.range(i||[.5*C/e[0].values.length,C*(e[0].values.length-.5)/e[0].values.length]):d.range(i||[0,C]),h.domain(r||d3.extent(e[0].values.map(p).concat(m))).range(o||[k,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]+.01*h.domain()[0],h.domain()[1]-.01*h.domain()[1]]):h.domain([-1,1]));var S=c.selectAll("g.nv-wrap.nv-historicalBar-"+u).data([e[0].values]),M=S.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+u),T=M.append("defs"),$=M.append("g"),D=S.select("g");$.append("g").attr("class","nv-bars"),S.attr("transform","translate("+a.left+","+a.top+")"),c.on("click",function(t,e){x.chartClick({data:t,index:e,pos:d3.event,id:u})}),T.append("clipPath").attr("id","nv-chart-clip-path-"+u).append("rect"),S.select("#nv-chart-clip-path-"+u+" rect").attr("width",C).attr("height",k),D.attr("clip-path",y?"url(#nv-chart-clip-path-"+u+")":"");var E=S.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t},function(t,e){return f(t,e)});E.exit().remove(),E.enter().append("rect").attr("x",0).attr("y",function(e,n){return t.utils.NaNtoZero(h(Math.max(0,p(e,n))))}).attr("height",function(e,n){return t.utils.NaNtoZero(Math.abs(h(p(e,n))-h(0)))}).attr("transform",function(t,n){return"translate("+(d(f(t,n))-C/e[0].values.length*.45)+",0)"}).on("mouseover",function(t,e){_&&(d3.select(this).classed("hover",!0),x.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")}))}).on("mouseout",function(t,e){_&&(d3.select(this).classed("hover",!1),x.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")}))}).on("mousemove",function(t,e){_&&x.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){_&&(x.elementClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}).on("dblclick",function(t,e){_&&(x.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}),E.attr("fill",function(t,e){return b(t,e)}).attr("class",function(t,e,n){return(p(t,e)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e}).watchTransition(w,"bars").attr("transform",function(t,n){return"translate("+(d(f(t,n))-C/e[0].values.length*.45)+",0)"}).attr("width",C/e[0].values.length*.9),E.watchTransition(w,"bars").attr("y",function(e,n){var r=p(e,n)<0?h(0):h(0)-h(p(e,n))<1?h(0)-1:h(p(e,n));return t.utils.NaNtoZero(r)}).attr("height",function(e,n){return t.utils.NaNtoZero(Math.max(Math.abs(h(p(e,n))-h(0)),1))})}),w.renderEnd("historicalBar immediate"),e}var n,r,i,o,a={top:0,right:0,bottom:0,left:0},s=null,l=null,u=Math.floor(1e4*Math.random()),c=null,d=d3.scale.linear(),h=d3.scale.linear(),f=function(t){return t.x},p=function(t){return t.y},g=[],m=[0],v=!1,y=!0,b=t.utils.defaultColor(),x=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),_=!0,w=t.utils.renderWatch(x,0);return e.highlightPoint=function(t,e){c.select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},e.clearHighlights=function(){c.select(".nv-bars .nv-bar.hover").classed("hover",!1)},e.dispatch=x,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},forceX:{get:function(){return g},set:function(t){g=t}},forceY:{get:function(){return m},set:function(t){m=t}},padData:{get:function(){return v},set:function(t){v=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return p},set:function(t){p=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return h},set:function(t){h=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return r},set:function(t){r=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return o},set:function(t){o=t}},clipEdge:{get:function(){return y},set:function(t){y=t}},id:{get:function(){return u},set:function(t){u=t}},interactive:{get:function(){return _},set:function(t){_=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},color:{get:function(){return b},set:function(e){b=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.historicalBarChart=function(e){"use strict";function n(e){return e.each(function(c){S.reset(),S.models(o),m&&S.models(a),v&&S.models(s);var w=d3.select(this),M=this;t.utils.initSVG(w);var T=t.utils.availableWidth(f,w,d),$=t.utils.availableHeight(p,w,d);if(n.update=function(){w.transition().duration(k).call(n)},n.container=this,x.disabled=c.map(function(t){return!!t.disabled}),!_){var D;_={};for(D in x)x[D]instanceof Array?_[D]=x[D].slice(0):_[D]=x[D]}if(!(c&&c.length&&c.filter(function(t){return t.values.length}).length))return t.utils.noData(n,w),n;w.selectAll(".nv-noData").remove(),r=o.xScale(),i=o.yScale();var E=w.selectAll("g.nv-wrap.nv-historicalBarChart").data([c]),L=E.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),A=E.select("g");L.append("g").attr("class","nv-x nv-axis"),L.append("g").attr("class","nv-y nv-axis"),L.append("g").attr("class","nv-barsWrap"),L.append("g").attr("class","nv-legendWrap"),L.append("g").attr("class","nv-interactive"),g?(l.width(T),A.select(".nv-legendWrap").datum(c).call(l),d.top!=l.height()&&(d.top=l.height(),$=t.utils.availableHeight(p,w,d)),E.select(".nv-legendWrap").attr("transform","translate(0,"+-d.top+")")):A.select(".nv-legendWrap").selectAll("*").remove(),E.attr("transform","translate("+d.left+","+d.top+")"),y&&A.select(".nv-y.nv-axis").attr("transform","translate("+T+",0)"),b&&(u.width(T).height($).margin({left:d.left,top:d.top}).svgContainer(w).xScale(r),E.select(".nv-interactive").call(u)),o.width(T).height($).color(c.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!c[e].disabled})),A.select(".nv-barsWrap").datum(c.filter(function(t){return!t.disabled})).transition().call(o),m&&(a.scale(r)._ticks(t.utils.calcTicksX(T/100,c)).tickSize(-$,0),A.select(".nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),A.select(".nv-x.nv-axis").transition().call(a)),v&&(s.scale(i)._ticks(t.utils.calcTicksY($/36,c)).tickSize(-T,0),A.select(".nv-y.nv-axis").transition().call(s)),u.dispatch.on("elementMousemove",function(e){o.clearHighlights();var r,i,l,d=[];c.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(a,s){i=t.interactiveBisect(a.values,e.pointXValue,n.x()),o.highlightPoint(i,!0);var u=a.values[i];void 0!==u&&(void 0===r&&(r=u),void 0===l&&(l=n.xScale()(n.x()(u,i))),d.push({key:a.key,value:n.y()(u,i),color:h(a,a.seriesIndex),data:a.values[i]}))});var f=a.tickFormat()(n.x()(r,i));u.tooltip.chartContainer(M.parentNode).valueFormatter(function(t,e){return s.tickFormat()(t)}).data({value:f,index:i,series:d})(),u.renderGuideLine(l)}),u.dispatch.on("elementMouseout",function(t){C.tooltipHide(),o.clearHighlights()}),l.dispatch.on("legendClick",function(t,r){t.disabled=!t.disabled,c.filter(function(t){return!t.disabled}).length||c.map(function(t){return t.disabled=!1,E.selectAll(".nv-series").classed("disabled",!1),t}),x.disabled=c.map(function(t){return!!t.disabled}),C.stateChange(x),e.transition().call(n)}),l.dispatch.on("legendDblclick",function(t){c.forEach(function(t){t.disabled=!0}),t.disabled=!1,x.disabled=c.map(function(t){return!!t.disabled}),C.stateChange(x),n.update()}),C.on("changeState",function(t){void 0!==t.disabled&&(c.forEach(function(e,n){e.disabled=t.disabled[n]}),x.disabled=t.disabled),n.update()})}),S.renderEnd("historicalBarChart immediate"),n}var r,i,o=e||t.models.historicalBar(),a=t.models.axis(),s=t.models.axis(),l=t.models.legend(),u=t.interactiveGuideline(),c=t.models.tooltip(),d={top:30,right:90,bottom:50,left:90},h=t.utils.defaultColor(),f=null,p=null,g=!1,m=!0,v=!0,y=!1,b=!1,x={},_=null,w=null,C=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),k=250;a.orient("bottom").tickPadding(7),s.orient(y?"right":"left"),c.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return s.tickFormat()(t,e)}).headerFormatter(function(t,e){return a.tickFormat()(t,e)});var S=t.utils.renderWatch(C,0);return o.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:n.x()(t.data),value:n.y()(t.data),color:t.color},c.data(t).hidden(!1)}),o.dispatch.on("elementMouseout.tooltip",function(t){c.hidden(!0)}),o.dispatch.on("elementMousemove.tooltip",function(t){c()}),n.dispatch=C,n.bars=o,n.legend=l,n.xAxis=a,n.yAxis=s,n.interactiveLayer=u,n.tooltip=c,n.options=t.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return g},set:function(t){g=t}},showXAxis:{get:function(){return m},set:function(t){m=t}},showYAxis:{get:function(){return v},set:function(t){v=t}},defaultState:{get:function(){return _},set:function(t){_=t}},noData:{get:function(){return w},set:function(t){w=t}},margin:{get:function(){return d},set:function(t){d.top=void 0!==t.top?t.top:d.top,d.right=void 0!==t.right?t.right:d.right,d.bottom=void 0!==t.bottom?t.bottom:d.bottom,d.left=void 0!==t.left?t.left:d.left}},color:{get:function(){return h},set:function(e){h=t.utils.getColor(e),l.color(h),o.color(h)}},duration:{get:function(){return k},set:function(t){k=t,S.reset(k),s.duration(k),a.duration(k)}},rightAlignYAxis:{get:function(){return y},set:function(t){y=t,s.orient(t?"right":"left")}},useInteractiveGuideline:{get:function(){return b},set:function(t){b=t,!0===t&&n.interactive(!1)}}}),t.utils.inheritOptions(n,o),t.utils.initOptions(n),n},t.models.ohlcBarChart=function(){var e=t.models.historicalBarChart(t.models.ohlcBar());return e.useInteractiveGuideline(!0),e.interactiveLayer.tooltip.contentGenerator(function(t){var n=t.series[0].data;return'<h3 style="color: #'+(n.open<n.close?"2ca02c":"d62728")+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+e.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+e.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+e.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+e.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),e},t.models.candlestickBarChart=function(){var e=t.models.historicalBarChart(t.models.candlestickBar());return e.useInteractiveGuideline(!0),e.interactiveLayer.tooltip.contentGenerator(function(t){var n=t.series[0].data;return'<h3 style="color: #'+(n.open<n.close?"2ca02c":"d62728")+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+e.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+e.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+e.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+e.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),e},t.models.legend=function(){"use strict";function e(m){function v(t,e){return"furious"!=g?"#000":f?t.disengaged?"#000":"#fff":f?void 0:(t.color||(t.color=a(t,e)),t.disabled?t.color:"#fff")}function y(t,e){return f&&"furious"==g&&t.disengaged?"#eee":t.color||a(t,e)}function b(t,e){return f&&"furious"==g?1:t.disabled?0:1}return m.each(function(e){var a=r-n.left-n.right,m=d3.select(this);t.utils.initSVG(m);var x=m.selectAll("g.nv-legend").data([e]),_=x.enter().append("g").attr("class","nvd3 nv-legend").append("g"),w=x.select("g");x.attr("transform","translate("+n.left+","+n.top+")");var C,k,S=w.selectAll(".nv-series").data(function(t){return"furious"!=g?t:t.filter(function(t){return!!f||!t.disengaged})}),M=S.enter().append("g").attr("class","nv-series");switch(g){case"furious":k=23;break;case"classic":k=20}"classic"==g?(M.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),C=S.select(".nv-legend-symbol")):"furious"==g&&(M.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),C=S.select(".nv-legend-symbol"),M.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),S.select(".nv-check-box").each(function(t,e){d3.select(this).selectAll("path").attr("stroke",v(t,e))})),M.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var T=S.select("text.nv-legend-text");S.on("mouseover",function(t,e){p.legendMouseover(t,e)}).on("mouseout",function(t,e){p.legendMouseout(t,e)}).on("click",function(t,e){p.legendClick(t,e);var n=S.data();d&&("classic"==g?h?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1})):"furious"==g&&(f?(t.disengaged=!t.disengaged,t.userDisabled=void 0==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled):f||(t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter(function(t){return!t.disengaged}).every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1}))),p.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})}))}).on("dblclick",function(t,e){if(("furious"!=g||!f)&&(p.legendDblclick(t,e),d)){var n=S.data();n.forEach(function(t){t.disabled=!0,"furious"==g&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==g&&(t.userDisabled=t.disabled),p.stateChange({disabled:n.map(function(t){return!!t.disabled})})}}),S.classed("nv-disabled",function(t){return t.userDisabled}),S.exit().remove(),T.attr("fill",v).text(o);var $=0;if(l){var D=[];S.each(function(e,n){var r;if(o(e)&&o(e).length>s){var i=o(e).substring(0,s);r=d3.select(this).select("text").text(i+"..."),d3.select(this).append("svg:title").text(o(e))}else r=d3.select(this).select("text");var a;try{if((a=r.node().getComputedTextLength())<=0)throw Error()}catch(e){a=t.utils.calcApproxTextWidth(r)}D.push(a+u)});var E=0,L=[];for($=0;$<a&&E<D.length;)L[E]=D[E],$+=D[E++];for(0===E&&(E=1);$>a&&E>1;){L=[],E--;for(var A=0;A<D.length;A++)D[A]>(L[A%E]||0)&&(L[A%E]=D[A]);$=L.reduce(function(t,e,n,r){return t+e})}for(var F=[],P=0,R=0;P<E;P++)F[P]=R,R+=L[P];S.attr("transform",function(t,e){return"translate("+F[e%E]+","+(5+Math.floor(e/E)*k)+")"}),c?w.attr("transform","translate("+(r-n.right-$)+","+n.top+")"):w.attr("transform","translate(0,"+n.top+")"),i=n.top+n.bottom+Math.ceil(D.length/E)*k}else{var O,N=5,I=5,Y=0;S.attr("transform",function(t,e){var i=d3.select(this).select("text").node().getComputedTextLength()+u;return O=I,r<n.left+n.right+O+i&&(I=O=5,N+=k),(I+=i)>Y&&(Y=I),$<O+Y&&($=O+Y),"translate("+O+","+N+")"}),w.attr("transform","translate("+(r-n.right-Y)+","+n.top+")"),i=n.top+n.bottom+N+15}"furious"==g&&(C.attr("width",function(t,e){return T[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),_.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0),w.select(".nv-legend-bg").transition().duration(300).attr("x",-k).attr("width",$+k-12).attr("height",i+10).attr("y",-n.top-10).attr("opacity",f?1:0)),C.style("fill",y).style("fill-opacity",b).style("stroke",y)}),e}var n={top:5,right:0,bottom:5,left:0},r=400,i=20,o=function(t){return t.key},a=t.utils.getColor(),s=20,l=!0,u=32,c=!0,d=!0,h=!1,f=!1,p=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),g="classic";return e.dispatch=p,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return r},set:function(t){r=t}},height:{get:function(){return i},set:function(t){i=t}},key:{get:function(){return o},set:function(t){o=t}},align:{get:function(){return l},set:function(t){l=t}},maxKeyLength:{get:function(){return s},set:function(t){s=t}},rightAlign:{get:function(){return c},set:function(t){c=t}},padding:{get:function(){return u},set:function(t){u=t}},updateState:{get:function(){return d},set:function(t){d=t}},radioButtonMode:{get:function(){return h},set:function(t){h=t}},expanded:{get:function(){return f},set:function(t){f=t}},vers:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return n},set:function(t){n.top=void 0!==t.top?t.top:n.top,n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left}},color:{get:function(){return a},set:function(e){a=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.line=function(){"use strict";function e(v){return _.reset(),_.models(i),v.each(function(e){l=d3.select(this);var v=t.utils.availableWidth(a,l,o),y=t.utils.availableHeight(s,l,o);t.utils.initSVG(l),n=i.xScale(),r=i.yScale(),b=b||n,x=x||r;var w=l.selectAll("g.nv-wrap.nv-line").data([e]),C=w.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),k=C.append("defs"),S=C.append("g"),M=w.select("g");S.append("g").attr("class","nv-groups"),S.append("g").attr("class","nv-scatterWrap"),w.attr("transform","translate("+o.left+","+o.top+")"),i.width(v).height(y);var T=w.select(".nv-scatterWrap");T.call(i),k.append("clipPath").attr("id","nv-edge-clip-"+i.id()).append("rect"),w.select("#nv-edge-clip-"+i.id()+" rect").attr("width",v).attr("height",y>0?y:0),M.attr("clip-path",g?"url(#nv-edge-clip-"+i.id()+")":""),T.attr("clip-path",g?"url(#nv-edge-clip-"+i.id()+")":"");var $=w.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});$.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(t){return t.strokeWidth||u}).style("fill-opacity",1e-6),$.exit().remove(),$.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return c(t,e)}).style("stroke",function(t,e){return c(t,e)}),$.watchTransition(_,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(t){return t.fillOpacity||.5});var D=$.selectAll("path.nv-area").data(function(t){return p(t)?[t]:[]});D.enter().append("path").attr("class","nv-area").attr("d",function(e){return d3.svg.area().interpolate(m).defined(f).x(function(e,n){return t.utils.NaNtoZero(b(d(e,n)))}).y0(function(e,n){return t.utils.NaNtoZero(x(h(e,n)))}).y1(function(t,e){return x(r.domain()[0]<=0?r.domain()[1]>=0?0:r.domain()[1]:r.domain()[0])}).apply(this,[e.values])}),$.exit().selectAll("path.nv-area").remove(),D.watchTransition(_,"line: areaPaths").attr("d",function(e){return d3.svg.area().interpolate(m).defined(f).x(function(e,r){return t.utils.NaNtoZero(n(d(e,r)))}).y0(function(e,n){return t.utils.NaNtoZero(r(h(e,n)))}).y1(function(t,e){return r(r.domain()[0]<=0?r.domain()[1]>=0?0:r.domain()[1]:r.domain()[0])}).apply(this,[e.values])});var E=$.selectAll("path.nv-line").data(function(t){return[t.values]});E.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(m).defined(f).x(function(e,n){return t.utils.NaNtoZero(b(d(e,n)))}).y(function(e,n){return t.utils.NaNtoZero(x(h(e,n)))})),E.watchTransition(_,"line: linePaths").attr("d",d3.svg.line().interpolate(m).defined(f).x(function(e,r){return t.utils.NaNtoZero(n(d(e,r)))}).y(function(e,n){return t.utils.NaNtoZero(r(h(e,n)))})),b=n.copy(),x=r.copy()}),_.renderEnd("line immediate"),e}var n,r,i=t.models.scatter(),o={top:0,right:0,bottom:0,left:0},a=960,s=500,l=null,u=1.5,c=t.utils.defaultColor(),d=function(t){return t.x},h=function(t){return t.y},f=function(t,e){return!isNaN(h(t,e))&&null!==h(t,e)},p=function(t){return t.area},g=!1,m="linear",v=250,y=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");i.pointSize(16).pointDomain([16,256]);var b,x,_=t.utils.renderWatch(y,v);return e.dispatch=y,e.scatter=i,i.dispatch.on("elementClick",function(){y.elementClick.apply(this,arguments)}),i.dispatch.on("elementMouseover",function(){y.elementMouseover.apply(this,arguments)}),i.dispatch.on("elementMouseout",function(){y.elementMouseout.apply(this,arguments)}),e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},defined:{get:function(){return f},set:function(t){f=t}},interpolate:{get:function(){return m},set:function(t){m=t}},clipEdge:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},duration:{get:function(){return v},set:function(t){v=t,_.reset(v),i.duration(v)}},isArea:{get:function(){return p},set:function(t){p=d3.functor(t)}},x:{get:function(){return d},set:function(t){d=t,i.x(t)}},y:{get:function(){return h},set:function(t){h=t,i.y(t)}},color:{get:function(){return c},set:function(e){c=t.utils.getColor(e),i.color(c)}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.lineChart=function(){"use strict";function e(u){return T.reset(),T.models(i),v&&T.models(o),y&&T.models(a),u.each(function(u){function k(){v&&N.select(".nv-focus .nv-x.nv-axis").transition().duration(M).call(o)}function T(){y&&N.select(".nv-focus .nv-y.nv-axis").transition().duration(M).call(a)}function E(t){N.select(".nv-focus .nv-linesWrap").datum(u.filter(function(t){return!t.disabled}).map(function(e,n){return{key:e.key,area:e.area,classed:e.classed,values:e.values.filter(function(e,n){return i.x()(e,n)>=t[0]&&i.x()(e,n)<=t[1]}),disableTooltip:e.disableTooltip}})).transition().duration(M).call(i),k(),T()}var L=d3.select(this);t.utils.initSVG(L);var A=t.utils.availableWidth(f,L,d),F=t.utils.availableHeight(p,L,d)-(_?c.height():0);if(e.update=function(){0===M?L.call(e):L.transition().duration(M).call(e)},e.container=this,w.setter(D(u),e.update).getter($(u)).update(),w.disabled=u.map(function(t){return!!t.disabled}),!C){var P;C={};for(P in w)w[P]instanceof Array?C[P]=w[P].slice(0):C[P]=w[P]}if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return t.utils.noData(e,L),e;L.selectAll(".nv-noData").remove(),n=i.xScale(),r=i.yScale();var R=L.selectAll("g.nv-wrap.nv-lineChart").data([u]),O=R.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),N=R.select("g");O.append("g").attr("class","nv-legendWrap");var I=O.append("g").attr("class","nv-focus");I.append("g").attr("class","nv-background").append("rect"),I.append("g").attr("class","nv-x nv-axis"),I.append("g").attr("class","nv-y nv-axis"),I.append("g").attr("class","nv-linesWrap"),I.append("g").attr("class","nv-interactive");O.append("g").attr("class","nv-focusWrap");g?(s.width(A),N.select(".nv-legendWrap").datum(u).call(s),"bottom"===m?R.select(".nv-legendWrap").attr("transform","translate(0,"+F+")"):"top"===m&&(d.top!=s.height()&&(d.top=s.height(),F=t.utils.availableHeight(p,L,d)-(_?c.height():0)),R.select(".nv-legendWrap").attr("transform","translate(0,"+-d.top+")"))):N.select(".nv-legendWrap").selectAll("*").remove(),R.attr("transform","translate("+d.left+","+d.top+")"),b&&N.select(".nv-y.nv-axis").attr("transform","translate("+A+",0)"),x&&(l.width(A).height(F).margin({left:d.left,top:d.top}).svgContainer(L).xScale(n),R.select(".nv-interactive").call(l)),N.select(".nv-focus .nv-background rect").attr("width",A).attr("height",F),i.width(A).height(F).color(u.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!u[e].disabled}));var Y=N.select(".nv-linesWrap").datum(u.filter(function(t){return!t.disabled}));if(v&&o.scale(n)._ticks(t.utils.calcTicksX(A/100,u)).tickSize(-F,0),y&&a.scale(r)._ticks(t.utils.calcTicksY(F/36,u)).tickSize(-A,0),N.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+F+")"),_){c.width(A),N.select(".nv-focusWrap").attr("transform","translate(0,"+(F+d.bottom+c.margin().top)+")").datum(u.filter(function(t){return!t.disabled})).call(c);var V=c.brush.empty()?c.xDomain():c.brush.extent();null!==V&&E(V)}else Y.call(i),k(),T();s.dispatch.on("stateChange",function(t){for(var n in t)w[n]=t[n];S.stateChange(w),e.update()}),l.dispatch.on("elementMousemove",function(r){i.clearHighlights();var o,s,d,f=[];if(u.filter(function(t,e){return t.seriesIndex=e,!t.disabled&&!t.disableTooltip}).forEach(function(a,l){var u=_?c.brush.empty()?c.xScale().domain():c.brush.extent():n.domain(),p=a.values.filter(function(t,e){return i.x()(t,e)>=u[0]&&i.x()(t,e)<=u[1]}),g=p[s=t.interactiveBisect(p,r.pointXValue,i.x())],m=e.y()(g,s);null!==m&&i.highlightPoint(a.seriesIndex,s,!0),void 0!==g&&(void 0===o&&(o=g),void 0===d&&(d=e.xScale()(e.x()(g,s))),f.push({key:a.key,value:m,color:h(a,a.seriesIndex),data:g}))}),f.length>2){var p=e.yScale().invert(r.mouseY),g=.03*Math.abs(e.yScale().domain()[0]-e.yScale().domain()[1]),m=t.nearestValueIndex(f.map(function(t){return t.value}),p,g);null!==m&&(f[m].highlight=!0)}var v=function(t,e){return null==t?"N/A":a.tickFormat()(t)};l.tooltip.chartContainer(e.container.parentNode).valueFormatter(l.tooltip.valueFormatter()||v).data({value:e.x()(o,s),index:s,series:f})(),l.renderGuideLine(d)}),l.dispatch.on("elementClick",function(n){var r,o=[];u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(i){var a=t.interactiveBisect(i.values,n.pointXValue,e.x()),s=i.values[a];if(void 0!==s){void 0===r&&(r=e.xScale()(e.x()(s,a)));var l=e.yScale()(e.y()(s,a));o.push({point:s,pointIndex:a,pos:[r,l],seriesIndex:i.seriesIndex,series:i})}}),i.dispatch.elementClick(o)}),l.dispatch.on("elementMouseout",function(t){i.clearHighlights()}),c.dispatch.on("onBrush",function(t){E(t)}),S.on("changeState",function(t){void 0!==t.disabled&&u.length===t.disabled.length&&(u.forEach(function(e,n){e.disabled=t.disabled[n]}),w.disabled=t.disabled),e.update()})}),T.renderEnd("lineChart immediate"),e}var n,r,i=t.models.line(),o=t.models.axis(),a=t.models.axis(),s=t.models.legend(),l=t.interactiveGuideline(),u=t.models.tooltip(),c=t.models.focus(t.models.line()),d={top:30,right:20,bottom:50,left:60},h=t.utils.defaultColor(),f=null,p=null,g=!0,m="top",v=!0,y=!0,b=!1,x=!1,_=!1,w=t.utils.state(),C=null,k=null,S=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),M=250;o.orient("bottom").tickPadding(7),a.orient(b?"right":"left"),i.clipEdge(!0).duration(0),u.valueFormatter(function(t,e){return a.tickFormat()(t,e)}).headerFormatter(function(t,e){return o.tickFormat()(t,e)}),l.tooltip.valueFormatter(function(t,e){return a.tickFormat()(t,e)}).headerFormatter(function(t,e){return o.tickFormat()(t,e)});var T=t.utils.renderWatch(S,M),$=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},D=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return i.dispatch.on("elementMouseover.tooltip",function(t){t.series.disableTooltip||u.data(t).hidden(!1)}),i.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)}),e.dispatch=S,e.lines=i,e.legend=s,e.focus=c,e.xAxis=o,e.x2Axis=c.xAxis,e.yAxis=a,e.y2Axis=c.yAxis,e.interactiveLayer=l,e.tooltip=u,e.state=w,e.dispatch=S,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return g},set:function(t){g=t}},legendPosition:{get:function(){return m},set:function(t){m=t}},showXAxis:{get:function(){return v},set:function(t){v=t}},showYAxis:{get:function(){return y},set:function(t){y=t}},defaultState:{get:function(){return C},set:function(t){C=t}},noData:{get:function(){return k},set:function(t){k=t}},focusEnable:{get:function(){return _},set:function(t){_=t}},focusHeight:{get:function(){return c.height()},set:function(t){c.height(t)}},focusShowAxisX:{get:function(){return c.showXAxis()},set:function(t){c.showXAxis(t)}},focusShowAxisY:{get:function(){return c.showYAxis()},set:function(t){c.showYAxis(t)}},brushExtent:{get:function(){return c.brushExtent()},set:function(t){c.brushExtent(t)}},focusMargin:{get:function(){return c.margin},set:function(t){c.margin.top=void 0!==t.top?t.top:c.margin.top,c.margin.right=void 0!==t.right?t.right:c.margin.right,c.margin.bottom=void 0!==t.bottom?t.bottom:c.margin.bottom,c.margin.left=void 0!==t.left?t.left:c.margin.left}},margin:{get:function(){return d},set:function(t){d.top=void 0!==t.top?t.top:d.top,d.right=void 0!==t.right?t.right:d.right,d.bottom=void 0!==t.bottom?t.bottom:d.bottom,d.left=void 0!==t.left?t.left:d.left}},duration:{get:function(){return M},set:function(t){M=t,T.reset(M),i.duration(M),c.duration(M),o.duration(M),a.duration(M)}},color:{get:function(){return h},set:function(e){h=t.utils.getColor(e),s.color(h),i.color(h),c.color(h)}},interpolate:{get:function(){return i.interpolate()},set:function(t){i.interpolate(t),c.interpolate(t)}},xTickFormat:{get:function(){return o.tickFormat()},set:function(t){o.tickFormat(t),c.xTickFormat(t)}},yTickFormat:{get:function(){return a.tickFormat()},set:function(t){a.tickFormat(t),c.yTickFormat(t)}},x:{get:function(){return i.x()},set:function(t){i.x(t),c.x(t)}},y:{get:function(){return i.y()},set:function(t){i.y(t),c.y(t)}},rightAlignYAxis:{get:function(){return b},set:function(t){b=t,a.orient(b?"right":"left")}},useInteractiveGuideline:{get:function(){return x},set:function(t){(x=t)&&(i.interactive(!1),i.useVoronoi(!1))}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.lineWithFocusChart=function(){return t.models.lineChart().margin({bottom:30}).focusEnable(!0)},t.models.linePlusBarChart=function(){"use strict";function e(_){return _.each(function(_){function R(t){var e=+("e"==t),n=e?1:-1,r=X/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}function z(){x.empty()||x.extent(P),ht.data([x.empty()?i.domain():P]).each(function(t,e){var n=i(t[0])-i.range()[0],r=i.range()[1]-i(t[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",i(t[1])).attr("width",r<0?0:r)})}function W(){P=x.empty()?null:x.extent(),n=x.empty()?i.domain():x.extent(),O.brush({extent:n,brush:x}),z(),d.width(K).height(J).color(_.map(function(t,e){return t.color||$(t,e)}).filter(function(t,e){return!_[e].disabled&&_[e].bar})),u.width(K).height(J).color(_.map(function(t,e){return t.color||$(t,e)}).filter(function(t,e){return!_[e].disabled&&!_[e].bar}));var e=ot.select(".nv-focus .nv-barsWrap").datum(Q.length?Q.map(function(t,e){return{key:t.key,values:t.values.filter(function(t,e){return d.x()(t,e)>=n[0]&&d.x()(t,e)<=n[1]})}}):[{values:[]}]),s=ot.select(".nv-focus .nv-linesWrap").datum(G(tt)?[{values:[]}]:tt.filter(function(t){return!t.disabled}).map(function(t,e){return{area:t.area,fillOpacity:t.fillOpacity,key:t.key,values:t.values.filter(function(t,e){return u.x()(t,e)>=n[0]&&u.x()(t,e)<=n[1]})}}));r=Q.length&&!H?d.xScale():u.xScale(),f.scale(r)._ticks(t.utils.calcTicksX(K/100,_)).tickSize(-J,0),f.domain([Math.ceil(n[0]),Math.floor(n[1])]),ot.select(".nv-x.nv-axis").transition().duration(N).call(f),e.transition().duration(N).call(d),s.transition().duration(N).call(u),ot.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),g.scale(o)._ticks(t.utils.calcTicksY(J/36,_)).tickSize(-K,0),m.scale(a)._ticks(t.utils.calcTicksY(J/36,_)),H?m.tickSize(tt.length?0:-K,0):m.tickSize(Q.length?0:-K,0);var l=Q.length?1:0,c=tt.length&&!G(tt)?1:0,h=H?c:l,p=H?l:c;ot.select(".nv-focus .nv-y1.nv-axis").style("opacity",h),ot.select(".nv-focus .nv-y2.nv-axis").style("opacity",p).attr("transform","translate("+r.range()[1]+",0)"),ot.select(".nv-focus .nv-y1.nv-axis").transition().duration(N).call(g),ot.select(".nv-focus .nv-y2.nv-axis").transition().duration(N).call(m)}var q=d3.select(this);t.utils.initSVG(q);var K=t.utils.availableWidth(k,q,w),J=t.utils.availableHeight(S,q,w)-(E?F:0),X=F-C.top-C.bottom;if(e.update=function(){q.transition().duration(N).call(e)},e.container=this,I.setter(U(_),e.update).getter(B(_)).update(),I.disabled=_.map(function(t){return!!t.disabled}),!Y){var Z;Y={};for(Z in I)I[Z]instanceof Array?Y[Z]=I[Z].slice(0):Y[Z]=I[Z]}if(!(_&&_.length&&_.filter(function(t){return t.values.length}).length))return t.utils.noData(e,q),e;q.selectAll(".nv-noData").remove();var Q=_.filter(function(t){return!t.disabled&&t.bar}),tt=_.filter(function(t){return!t.bar});r=Q.length&&!H?d.xScale():u.xScale(),i=p.scale(),o=H?u.yScale():d.yScale(),a=H?d.yScale():u.yScale(),s=H?c.yScale():h.yScale(),l=H?h.yScale():c.yScale();var et=_.filter(function(t){return!t.disabled&&(H?!t.bar:t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:M(t,e),y:T(t,e)}})}),nt=_.filter(function(t){return!t.disabled&&(H?t.bar:!t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:M(t,e),y:T(t,e)}})});r.range([0,K]),i.domain(d3.extent(d3.merge(et.concat(nt)),function(t){return t.x})).range([0,K]);var rt=q.selectAll("g.nv-wrap.nv-linePlusBar").data([_]),it=rt.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),ot=rt.select("g");it.append("g").attr("class","nv-legendWrap");var at=it.append("g").attr("class","nv-focus");at.append("g").attr("class","nv-x nv-axis"),at.append("g").attr("class","nv-y1 nv-axis"),at.append("g").attr("class","nv-y2 nv-axis"),at.append("g").attr("class","nv-barsWrap"),at.append("g").attr("class","nv-linesWrap");var st=it.append("g").attr("class","nv-context");if(st.append("g").attr("class","nv-x nv-axis"),st.append("g").attr("class","nv-y1 nv-axis"),st.append("g").attr("class","nv-y2 nv-axis"),st.append("g").attr("class","nv-barsWrap"),st.append("g").attr("class","nv-linesWrap"),st.append("g").attr("class","nv-brushBackground"),st.append("g").attr("class","nv-x nv-brush"),D){var lt=b.align()?K/2:K,ut=b.align()?lt:0;b.width(lt),ot.select(".nv-legendWrap").datum(_.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=H?t.originalKey+(t.bar?j:V):t.originalKey+(t.bar?V:j),t})).call(b),w.top!=b.height()&&(w.top=b.height(),J=t.utils.availableHeight(S,q,w)-F),ot.select(".nv-legendWrap").attr("transform","translate("+ut+","+-w.top+")")}else ot.select(".nv-legendWrap").selectAll("*").remove();rt.attr("transform","translate("+w.left+","+w.top+")"),ot.select(".nv-context").style("display",E?"initial":"none"),h.width(K).height(X).color(_.map(function(t,e){return t.color||$(t,e)}).filter(function(t,e){return!_[e].disabled&&_[e].bar})),c.width(K).height(X).color(_.map(function(t,e){return t.color||$(t,e)}).filter(function(t,e){return!_[e].disabled&&!_[e].bar}));var ct=ot.select(".nv-context .nv-barsWrap").datum(Q.length?Q:[{values:[]}]),dt=ot.select(".nv-context .nv-linesWrap").datum(G(tt)?[{values:[]}]:tt.filter(function(t){return!t.disabled}));ot.select(".nv-context").attr("transform","translate(0,"+(J+w.bottom+C.top)+")"),ct.transition().call(h),dt.transition().call(c),A&&(p._ticks(t.utils.calcTicksX(K/100,_)).tickSize(-X,0),ot.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+s.range()[0]+")"),ot.select(".nv-context .nv-x.nv-axis").transition().call(p)),L&&(v.scale(s)._ticks(X/36).tickSize(-K,0),y.scale(l)._ticks(X/36).tickSize(Q.length?0:-K,0),ot.select(".nv-context .nv-y3.nv-axis").style("opacity",Q.length?1:0).attr("transform","translate(0,"+i.range()[0]+")"),ot.select(".nv-context .nv-y2.nv-axis").style("opacity",tt.length?1:0).attr("transform","translate("+i.range()[1]+",0)"),ot.select(".nv-context .nv-y1.nv-axis").transition().call(v),ot.select(".nv-context .nv-y2.nv-axis").transition().call(y)),x.x(i).on("brush",W),P&&x.extent(P);var ht=ot.select(".nv-brushBackground").selectAll("g").data([P||x.extent()]),ft=ht.enter().append("g");ft.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",X),ft.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",X);var pt=ot.select(".nv-x.nv-brush").call(x);pt.selectAll("rect").attr("height",X),pt.selectAll(".resize").append("path").attr("d",R),b.dispatch.on("stateChange",function(t){for(var n in t)I[n]=t[n];O.stateChange(I),e.update()}),O.on("changeState",function(t){void 0!==t.disabled&&(_.forEach(function(e,n){e.disabled=t.disabled[n]}),I.disabled=t.disabled),e.update()}),W()}),e}var n,r,i,o,a,s,l,u=t.models.line(),c=t.models.line(),d=t.models.historicalBar(),h=t.models.historicalBar(),f=t.models.axis(),p=t.models.axis(),g=t.models.axis(),m=t.models.axis(),v=t.models.axis(),y=t.models.axis(),b=t.models.legend(),x=d3.svg.brush(),_=t.models.tooltip(),w={top:30,right:30,bottom:30,left:60},C={top:0,right:30,bottom:20,left:60},k=null,S=null,M=function(t){return t.x},T=function(t){return t.y},$=t.utils.defaultColor(),D=!0,E=!0,L=!1,A=!0,F=50,P=null,R=null,O=d3.dispatch("brush","stateChange","changeState"),N=0,I=t.utils.state(),Y=null,V=" (left axis)",j=" (right axis)",H=!1;u.clipEdge(!0),c.interactive(!1),c.pointActive(function(t){return!1}),f.orient("bottom").tickPadding(5),g.orient("left"),m.orient("right"),p.orient("bottom").tickPadding(5),v.orient("left"),y.orient("right"),_.headerEnabled(!0).headerFormatter(function(t,e){return f.tickFormat()(t,e)});var z=function(){return H?{main:g,focus:v}:{main:m,focus:y}},W=function(){return H?{main:m,focus:y}:{main:g,focus:v}},B=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},U=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},G=function(t){return t.every(function(t){return t.disabled})};return u.dispatch.on("elementMouseover.tooltip",function(t){_.duration(100).valueFormatter(function(t,e){return W().main.tickFormat()(t,e)}).data(t).hidden(!1)}),u.dispatch.on("elementMouseout.tooltip",function(t){_.hidden(!0)}),d.dispatch.on("elementMouseover.tooltip",function(t){t.value=e.x()(t.data),t.series={value:e.y()(t.data),color:t.color},_.duration(0).valueFormatter(function(t,e){return z().main.tickFormat()(t,e)}).data(t).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(t){_.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(t){_()}),e.dispatch=O,e.legend=b,e.lines=u,e.lines2=c,e.bars=d,e.bars2=h,e.xAxis=f,e.x2Axis=p,e.y1Axis=g,e.y2Axis=m,e.y3Axis=v,e.y4Axis=y,e.tooltip=_,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return k},set:function(t){k=t}},height:{get:function(){return S},set:function(t){S=t}},showLegend:{get:function(){return D},set:function(t){D=t}},brushExtent:{get:function(){return P},set:function(t){P=t}},noData:{get:function(){return R},set:function(t){R=t}},focusEnable:{get:function(){return E},set:function(t){E=t}},focusHeight:{get:function(){return F},set:function(t){F=t}},focusShowAxisX:{get:function(){return A},set:function(t){A=t}},focusShowAxisY:{get:function(){return L},set:function(t){L=t}},legendLeftAxisHint:{get:function(){return V},set:function(t){V=t}},legendRightAxisHint:{get:function(){return j},set:function(t){j=t}},margin:{get:function(){return w},set:function(t){w.top=void 0!==t.top?t.top:w.top,w.right=void 0!==t.right?t.right:w.right,w.bottom=void 0!==t.bottom?t.bottom:w.bottom,w.left=void 0!==t.left?t.left:w.left}},focusMargin:{get:function(){return C},set:function(t){C.top=void 0!==t.top?t.top:C.top,C.right=void 0!==t.right?t.right:C.right,C.bottom=void 0!==t.bottom?t.bottom:C.bottom,C.left=void 0!==t.left?t.left:C.left}},duration:{get:function(){return N},set:function(t){N=t}},color:{get:function(){return $},set:function(e){$=t.utils.getColor(e),b.color($)}},x:{get:function(){return M},set:function(t){M=t,u.x(t),c.x(t),d.x(t),h.x(t)}},y:{get:function(){return T},set:function(t){T=t,u.y(t),c.y(t),d.y(t),h.y(t)}},switchYAxisOrder:{get:function(){return H},set:function(t){if(H!==t){var e=g;g=m,m=e;var n=v;v=y,y=n}H=t,g.orient("left"),m.orient("right"),v.orient("left"),y.orient("right")}}}),t.utils.inheritOptions(e,u),t.utils.initOptions(e),e},t.models.multiBar=function(){"use strict";function e(L){return D.reset(),L.each(function(e){var L=c-u.left-u.right,A=d-u.top-u.bottom;g=d3.select(this),t.utils.initSVG(g);var F=0;if(C&&e.length&&(C=[{values:e[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),x){var P=d3.layout.stack().offset(_).values(function(t){return t.values}).y(v)(!e.length&&C?C:e);P.forEach(function(t,n){t.nonStackable?(e[n].nonStackableSeries=F++,P[n]=e[n]):n>0&&P[n-1].nonStackable&&P[n].values.map(function(t,e){t.y0-=P[n-1].values[e].y,t.y1=t.y0+t.y})}),e=P}e.forEach(function(t,e){t.values.forEach(function(n){n.series=e,n.key=t.key})}),x&&e.length>0&&e[0].values.map(function(t,n){var r=0,i=0;e.map(function(t,o){if(!e[o].nonStackable){var a=t.values[n];a.size=Math.abs(a.y),a.y<0?(a.y1=i,i-=a.size):(a.y1=a.size+r,r+=a.size)}})});var R=r&&i?[]:e.map(function(t,e){return t.values.map(function(t,n){return{x:m(t,n),y:v(t,n),y0:t.y0,y1:t.y1,idx:e}})});h.domain(r||d3.merge(R).map(function(t){return t.x})).rangeBands(o||[0,L],M),f.domain(i||d3.extent(d3.merge(R).map(function(t){var n=t.y;return x&&!e[t.idx].nonStackable&&(n=t.y>0?t.y1:t.y1+t.y),n}).concat(y))).range(a||[A,0]),h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]-.01*h.domain()[0],h.domain()[1]+.01*h.domain()[1]]):h.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1])),s=s||h,l=l||f;var O=g.selectAll("g.nv-wrap.nv-multibar").data([e]),N=O.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),I=N.append("defs"),Y=N.append("g"),V=O.select("g");Y.append("g").attr("class","nv-groups"),O.attr("transform","translate("+u.left+","+u.top+")"),I.append("clipPath").attr("id","nv-edge-clip-"+p).append("rect"),O.select("#nv-edge-clip-"+p+" rect").attr("width",L).attr("height",A),V.attr("clip-path",b?"url(#nv-edge-clip-"+p+")":"");var j=O.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});j.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var H=D.transition(j.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,S)).attr("y",function(t,n,r){var i=l(0)||0;return x&&e[t.series]&&!e[t.series].nonStackable&&(i=l(t.y0)),i}).attr("height",0).remove();H.delay&&H.delay(function(t,e){return e*(S/(E+1))-e}),j.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return w(t,e)}).style("stroke",function(t,e){return w(t,e)}),j.style("stroke-opacity",1).style("fill-opacity",T);var z=j.selectAll("rect.nv-bar").data(function(t){return C&&!e.length?C.values:t.values});z.exit().remove();z.enter().append("rect").attr("class",function(t,e){return v(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(t,n,r){return x&&!e[r].nonStackable?0:r*h.rangeBand()/e.length}).attr("y",function(t,n,r){return l(x&&!e[r].nonStackable?t.y0:0)||0}).attr("height",0).attr("width",function(t,n,r){return h.rangeBand()/(x&&!e[r].nonStackable?1:e.length)}).attr("transform",function(t,e){return"translate("+h(m(t,e))+",0)"});z.style("fill",function(t,e,n){return w(t,n,e)}).style("stroke",function(t,e,n){return w(t,n,e)}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),$.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),$.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){$.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){var n=this;$.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:n}),d3.event.stopPropagation()}).on("dblclick",function(t,e){$.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),z.attr("class",function(t,e){return v(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(t,e){return"translate("+h(m(t,e))+",0)"}),k&&(n||(n=e.map(function(){return!0})),z.style("fill",function(t,e,r){return d3.rgb(k(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[r]).toString()}).style("stroke",function(t,e,r){return d3.rgb(k(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[r]).toString()}));var W=z.watchTransition(D,"multibar",Math.min(250,S)).delay(function(t,n){return n*S/e[0].values.length});x?W.attr("y",function(t,n,r){return e[r].nonStackable?v(t,n)<0?f(0):f(0)-f(v(t,n))<-1?f(0)-1:f(v(t,n))||0:f(t.y1)}).attr("height",function(t,n,r){return e[r].nonStackable?Math.max(Math.abs(f(v(t,n))-f(0)),0)||0:Math.max(Math.abs(f(t.y+t.y0)-f(t.y0)),0)}).attr("x",function(t,n,r){var i=0;return e[r].nonStackable&&(i=t.series*h.rangeBand()/e.length,e.length!==F&&(i=e[r].nonStackableSeries*h.rangeBand()/(2*F))),i}).attr("width",function(t,n,r){if(e[r].nonStackable){var i=h.rangeBand()/F;return e.length!==F&&(i=h.rangeBand()/(2*F)),i}return h.rangeBand()}):W.attr("x",function(t,n){return t.series*h.rangeBand()/e.length}).attr("width",h.rangeBand()/e.length).attr("y",function(t,e){return v(t,e)<0?f(0):f(0)-f(v(t,e))<1?f(0)-1:f(v(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(f(v(t,e))-f(0)),1)||0}),s=h.copy(),l=f.copy(),e[0]&&e[0].values&&(E=e[0].values.length)}),D.renderEnd("multibar immediate"),e}var n,r,i,o,a,s,l,u={top:0,right:0,bottom:0,left:0},c=960,d=500,h=d3.scale.ordinal(),f=d3.scale.linear(),p=Math.floor(1e4*Math.random()),g=null,m=function(t){return t.x},v=function(t){return t.y},y=[0],b=!0,x=!1,_="zero",w=t.utils.defaultColor(),C=!1,k=null,S=500,M=.1,T=.75,$=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),D=t.utils.renderWatch($,S),E=0;return e.dispatch=$,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},x:{get:function(){return m},set:function(t){m=t}},y:{get:function(){return v},set:function(t){v=t}},xScale:{get:function(){return h},set:function(t){h=t}},yScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return r},set:function(t){r=t}},yDomain:{get:function(){return i},set:function(t){i=t}},xRange:{get:function(){return o},set:function(t){o=t}},yRange:{get:function(){return a},set:function(t){a=t}},forceY:{get:function(){return y},set:function(t){y=t}},stacked:{get:function(){return x},set:function(t){x=t}},stackOffset:{get:function(){return _},set:function(t){_=t}},clipEdge:{get:function(){return b},set:function(t){b=t}},disabled:{get:function(){return n},set:function(t){n=t}},id:{get:function(){return p},set:function(t){p=t}},hideable:{get:function(){return C},set:function(t){C=t}},groupSpacing:{get:function(){return M},set:function(t){M=t}},fillOpacity:{get:function(){return T},set:function(t){T=t}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},duration:{get:function(){return S},set:function(t){S=t,D.reset(S)}},color:{get:function(){return w},set:function(e){w=t.utils.getColor(e)}},barColor:{get:function(){return k},set:function(e){k=e?t.utils.getColor(e):null}}}),t.utils.initOptions(e),e},t.models.multiBarChart=function(){"use strict";function e(T){return A.reset(),A.models(i),y&&A.models(o),b&&A.models(a),T.each(function(T){var A=d3.select(this),O=this;t.utils.initSVG(A);var N=t.utils.availableWidth(h,A,d),I=t.utils.availableHeight(f,A,d);if(e.update=function(){0===E?A.call(e):A.transition().duration(E).call(e)},e.container=this,S.setter(R(T),e.update).getter(P(T)).update(),S.disabled=T.map(function(t){return!!t.disabled}),!M){var Y;M={};for(Y in S)S[Y]instanceof Array?M[Y]=S[Y].slice(0):M[Y]=S[Y]}if(!(T&&T.length&&T.filter(function(t){return t.values.length}).length))return t.utils.noData(e,A),e;A.selectAll(".nv-noData").remove(),n=i.xScale(),r=i.yScale();var V=A.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([T]),j=V.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),H=V.select("g");if(j.append("g").attr("class","nv-x nv-axis"),j.append("g").attr("class","nv-y nv-axis"),j.append("g").attr("class","nv-barsWrap"),j.append("g").attr("class","nv-legendWrap"),j.append("g").attr("class","nv-controlsWrap"),j.append("g").attr("class","nv-interactive"),v?(l.width(N-D()),H.select(".nv-legendWrap").datum(T).call(l),d.top!=l.height()&&(d.top=l.height(),I=t.utils.availableHeight(f,A,d)),H.select(".nv-legendWrap").attr("transform","translate("+D()+","+-d.top+")")):H.select(".nv-legendWrap").selectAll("*").remove(),g){var z=[{key:m.grouped||"Grouped",disabled:i.stacked()},{key:m.stacked||"Stacked",disabled:!i.stacked()}];u.width(D()).color(["#444","#444","#444"]),H.select(".nv-controlsWrap").datum(z).attr("transform","translate(0,"+-d.top+")").call(u)}else H.select(".nv-controlsWrap").selectAll("*").remove();if(V.attr("transform","translate("+d.left+","+d.top+")"),x&&H.select(".nv-y.nv-axis").attr("transform","translate("+N+",0)"),i.disabled(T.map(function(t){return t.disabled})).width(N).height(I).color(T.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!T[e].disabled})),H.select(".nv-barsWrap").datum(T.filter(function(t){return!t.disabled})).call(i),y){o.scale(n)._ticks(t.utils.calcTicksX(N/100,T)).tickSize(-I,0),H.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),H.select(".nv-x.nv-axis").call(o);var W=H.select(".nv-x.nv-axis > g").selectAll("g");if(W.selectAll("line, text").style("opacity",1),w){var B=function(t,e){return"translate("+t+","+e+")"};W.selectAll("text").attr("transform",function(t,e,n){return B(0,n%2==0?5:17)});var U=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;H.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return B(0,0===e||U%2!=0?17:5)})}C&&H.selectAll(".tick text").call(t.utils.wrapTicks,e.xAxis.rangeBand()),_&&W.filter(function(t,e){return e%Math.ceil(T[0].values.length/(N/100))!=0}).selectAll("text, line").style("opacity",0),k&&W.selectAll(".tick text").attr("transform","rotate("+k+" 0,0)").style("text-anchor",k>0?"start":"end"),H.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}b&&(a.scale(r)._ticks(t.utils.calcTicksY(I/36,T)).tickSize(-N,0),H.select(".nv-y.nv-axis").call(a)),L&&(s.width(N).height(I).margin({left:d.left,top:d.top}).svgContainer(A).xScale(n),V.select(".nv-interactive").call(s)),l.dispatch.on("stateChange",function(t){for(var n in t)S[n]=t[n];$.stateChange(S),e.update()}),u.dispatch.on("legendClick",function(t,n){if(t.disabled){switch(z=z.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case m.grouped:i.stacked(!1);break;case"Stacked":case m.stacked:i.stacked(!0)}S.stacked=i.stacked(),$.stateChange(S),e.update()}}),$.on("changeState",function(t){void 0!==t.disabled&&(T.forEach(function(e,n){e.disabled=t.disabled[n]}),S.disabled=t.disabled),void 0!==t.stacked&&(i.stacked(t.stacked),S.stacked=t.stacked,F=t.stacked),e.update()}),L?(s.dispatch.on("elementMousemove",function(t){if(void 0!=t.pointXValue){var r,i,o,a,l=[];T.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(s,u){i=n.domain().indexOf(t.pointXValue);var c=s.values[i];void 0!==c&&(a=c.x,void 0===r&&(r=c),void 0===o&&(o=t.mouseX),l.push({key:s.key,value:e.y()(c,i),color:p(s,s.seriesIndex),data:s.values[i]}))}),s.tooltip.chartContainer(O.parentNode).data({value:a,index:i,series:l})(),s.renderGuideLine(o)}}),s.dispatch.on("elementMouseout",function(t){s.tooltip.hidden(!0)})):(i.dispatch.on("elementMouseover.tooltip",function(t){t.value=e.x()(t.data),t.series={key:t.data.key,value:e.y()(t.data),color:t.color},c.data(t).hidden(!1)}),i.dispatch.on("elementMouseout.tooltip",function(t){c.hidden(!0)}),i.dispatch.on("elementMousemove.tooltip",function(t){c()}))}),A.renderEnd("multibarchart immediate"),e}var n,r,i=t.models.multiBar(),o=t.models.axis(),a=t.models.axis(),s=t.interactiveGuideline(),l=t.models.legend(),u=t.models.legend(),c=t.models.tooltip(),d={top:30,right:20,bottom:50,left:60},h=null,f=null,p=t.utils.defaultColor(),g=!0,m={},v=!0,y=!0,b=!0,x=!1,_=!0,w=!1,C=!1,k=0,S=t.utils.state(),M=null,T=null,$=d3.dispatch("stateChange","changeState","renderEnd"),D=function(){return g?180:0},E=250,L=!1;S.stacked=!1,i.stacked(!1),o.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(t){return t}),a.orient(x?"right":"left").tickFormat(d3.format(",.1f")),c.duration(0).valueFormatter(function(t,e){return a.tickFormat()(t,e)}).headerFormatter(function(t,e){return o.tickFormat()(t,e)}),u.updateState(!1);var A=t.utils.renderWatch($),F=!1,P=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:F}}},R=function(t){return function(e){void 0!==e.stacked&&(F=e.stacked),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return e.dispatch=$,e.multibar=i,e.legend=l,e.controls=u,e.xAxis=o,e.yAxis=a,e.state=S,e.tooltip=c,e.interactiveLayer=s,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return f},set:function(t){f=t}},showLegend:{get:function(){return v},set:function(t){v=t}},showControls:{get:function(){return g},set:function(t){g=t}},controlLabels:{get:function(){return m},set:function(t){m=t}},showXAxis:{get:function(){return y},set:function(t){y=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},defaultState:{get:function(){return M},set:function(t){M=t}},noData:{get:function(){return T},set:function(t){T=t}},reduceXTicks:{get:function(){return _},set:function(t){_=t}},rotateLabels:{get:function(){return k},set:function(t){k=t}},staggerLabels:{get:function(){return w},set:function(t){w=t}},wrapLabels:{get:function(){return C},set:function(t){C=!!t}},margin:{get:function(){return d},set:function(t){d.top=void 0!==t.top?t.top:d.top,d.right=void 0!==t.right?t.right:d.right,d.bottom=void 0!==t.bottom?t.bottom:d.bottom,d.left=void 0!==t.left?t.left:d.left}},duration:{get:function(){return E},set:function(t){E=t,i.duration(E),o.duration(E),a.duration(E),A.reset(E)}},color:{get:function(){return p},set:function(e){p=t.utils.getColor(e),l.color(p)}},rightAlignYAxis:{get:function(){return x},set:function(t){x=t,a.orient(x?"right":"left")}},useInteractiveGuideline:{get:function(){return L},set:function(t){L=t}},barColor:{get:function(){return i.barColor},set:function(t){i.barColor(t),l.color(function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()})}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.multiBarHorizontal=function(){"use strict";function e(h){return L.reset(),h.each(function(e){var h=c-u.left-u.right,D=d-u.top-u.bottom;f=d3.select(this),t.utils.initSVG(f),w&&(e=d3.layout.stack().offset("zero").values(function(t){return t.values}).y(v)(e)),e.forEach(function(t,e){t.values.forEach(function(n){n.series=e,n.key=t.key})}),w&&e[0].values.map(function(t,n){var r=0,i=0;e.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=i-e.size,i-=e.size):(e.y1=r,r+=e.size)})});var A=r&&i?[]:e.map(function(t){return t.values.map(function(t,e){return{x:m(t,e),y:v(t,e),y0:t.y0,y1:t.y1}})});p.domain(r||d3.merge(A).map(function(t){return t.x})).rangeBands(o||[0,D],M),g.domain(i||d3.extent(d3.merge(A).map(function(t){return w?t.y>0?t.y1+t.y:t.y1:t.y}).concat(b))),C&&!w?g.range(a||[g.domain()[0]<0?S:0,h-(g.domain()[1]>0?S:0)]):g.range(a||[0,h]),s=s||p,l=l||d3.scale.linear().domain(g.domain()).range([g(0),g(0)]);var F=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([e]),P=F.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),R=(P.append("defs"),P.append("g"));F.select("g");R.append("g").attr("class","nv-groups"),F.attr("transform","translate("+u.left+","+u.top+")");var O=F.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});O.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),O.exit().watchTransition(L,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),O.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return x(t,e)}).style("stroke",function(t,e){return x(t,e)}),O.watchTransition(L,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",T);var N=O.selectAll("g.nv-bar").data(function(t){return t.values});N.exit().remove();var I=N.enter().append("g").attr("transform",function(t,n,r){return"translate("+l(w?t.y0:0)+","+(w?0:r*p.rangeBand()/e.length+p(m(t,n)))+")"});I.append("rect").attr("width",0).attr("height",p.rangeBand()/(w?1:e.length)),N.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),E.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),E.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){E.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){E.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){var n=this;E.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:n}),d3.event.stopPropagation()}).on("dblclick",function(t,e){E.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),y(e[0],0)&&(I.append("polyline"),N.select("polyline").attr("fill","none").attr("points",function(t,n){var r=y(t,n),i=.8*p.rangeBand()/(2*(w?1:e.length));return[[(r=(r=r.length?r:[-Math.abs(r),Math.abs(r)]).map(function(t){return g(t)-g(0)}))[0],-i],[r[0],i],[r[0],0],[r[1],0],[r[1],-i],[r[1],i]].map(function(t){return t.join(",")}).join(" ")}).attr("transform",function(t,n){var r=p.rangeBand()/(2*(w?1:e.length));return"translate("+(v(t,n)<0?0:g(v(t,n))-g(0))+", "+r+")"})),I.append("text"),C&&!w?(N.select("text").attr("text-anchor",function(t,e){return v(t,e)<0?"end":"start"}).attr("y",p.rangeBand()/(2*e.length)).attr("dy",".32em").text(function(t,e){var n=$(v(t,e)),r=y(t,e);return void 0===r?n:r.length?n+"+"+$(Math.abs(r[1]))+"-"+$(Math.abs(r[0])):n+""+$(Math.abs(r))}),N.watchTransition(L,"multibarhorizontal: bars").select("text").attr("x",function(t,e){return v(t,e)<0?-4:g(v(t,e))-g(0)+4})):N.selectAll("text").text(""),k&&!w?(I.append("text").classed("nv-bar-label",!0),N.select("text.nv-bar-label").attr("text-anchor",function(t,e){return v(t,e)<0?"start":"end"}).attr("y",p.rangeBand()/(2*e.length)).attr("dy",".32em").text(function(t,e){return m(t,e)}),N.watchTransition(L,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(t,e){return v(t,e)<0?g(0)-g(v(t,e))+4:-4})):N.selectAll("text.nv-bar-label").text(""),N.attr("class",function(t,e){return v(t,e)<0?"nv-bar negative":"nv-bar positive"}),_&&(n||(n=e.map(function(){return!0})),N.style("fill",function(t,e,r){return d3.rgb(_(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[r]).toString()}).style("stroke",function(t,e,r){return d3.rgb(_(t,e)).darker(n.map(function(t,e){return e}).filter(function(t,e){return!n[e]})[r]).toString()})),w?N.watchTransition(L,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+g(t.y1)+","+p(m(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs(g(v(t,e)+t.y0)-g(t.y0))||0}).attr("height",p.rangeBand()):N.watchTransition(L,"multibarhorizontal: bars").attr("transform",function(t,n){return"translate("+g(v(t,n)<0?v(t,n):0)+","+(t.series*p.rangeBand()/e.length+p(m(t,n)))+")"}).select("rect").attr("height",p.rangeBand()/e.length).attr("width",function(t,e){return Math.max(Math.abs(g(v(t,e))-g(0)),1)||0}),s=p.copy(),l=g.copy()}),L.renderEnd("multibarHorizontal immediate"),e}var n,r,i,o,a,s,l,u={top:0,right:0,bottom:0,left:0},c=960,d=500,h=Math.floor(1e4*Math.random()),f=null,p=d3.scale.ordinal(),g=d3.scale.linear(),m=function(t){return t.x},v=function(t){return t.y},y=function(t){return t.yErr},b=[0],x=t.utils.defaultColor(),_=null,w=!1,C=!1,k=!1,S=60,M=.1,T=.75,$=d3.format(",.2f"),D=250,E=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),L=t.utils.renderWatch(E,D);return e.dispatch=E,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},x:{get:function(){return m},set:function(t){m=t}},y:{get:function(){return v},set:function(t){v=t}},yErr:{get:function(){return y},set:function(t){y=t}},xScale:{get:function(){return p},set:function(t){p=t}},yScale:{get:function(){return g},set:function(t){g=t}},xDomain:{get:function(){return r},set:function(t){r=t}},yDomain:{get:function(){return i},set:function(t){i=t}},xRange:{get:function(){return o},set:function(t){o=t}},yRange:{get:function(){return a},set:function(t){a=t}},forceY:{get:function(){return b},set:function(t){b=t}},stacked:{get:function(){return w},set:function(t){w=t}},showValues:{get:function(){return C},set:function(t){C=t}},disabled:{get:function(){return n},set:function(t){n=t}},id:{get:function(){return h},set:function(t){h=t}},valueFormat:{get:function(){return $},set:function(t){$=t}},valuePadding:{get:function(){return S},set:function(t){S=t}},groupSpacing:{get:function(){return M},set:function(t){M=t}},fillOpacity:{get:function(){return T},set:function(t){T=t}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},duration:{get:function(){return D},set:function(t){D=t,L.reset(D)}},color:{get:function(){return x},set:function(e){x=t.utils.getColor(e)}},barColor:{get:function(){return _},set:function(e){_=e?t.utils.getColor(e):null}}}),t.utils.initOptions(e),e},t.models.multiBarHorizontalChart=function(){"use strict";function e(u){return $.reset(),$.models(i),v&&$.models(o),y&&$.models(a),u.each(function(u){var w=d3.select(this);t.utils.initSVG(w);var $=t.utils.availableWidth(d,w,c),D=t.utils.availableHeight(h,w,c);if(e.update=function(){w.transition().duration(S).call(e)},e.container=this,b=i.stacked(),x.setter(T(u),e.update).getter(M(u)).update(),x.disabled=u.map(function(t){return!!t.disabled}),!_){var E;_={};for(E in x)x[E]instanceof Array?_[E]=x[E].slice(0):_[E]=x[E]}if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return t.utils.noData(e,w),e;w.selectAll(".nv-noData").remove(),n=i.xScale(),r=i.yScale().clamp(!0);var L=w.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([u]),A=L.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),F=L.select("g");if(A.append("g").attr("class","nv-x nv-axis"),A.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),A.append("g").attr("class","nv-barsWrap"),A.append("g").attr("class","nv-legendWrap"),A.append("g").attr("class","nv-controlsWrap"),m?(s.width($-k()),F.select(".nv-legendWrap").datum(u).call(s),c.top!=s.height()&&(c.top=s.height(),D=t.utils.availableHeight(h,w,c)),F.select(".nv-legendWrap").attr("transform","translate("+k()+","+-c.top+")")):F.select(".nv-legendWrap").selectAll("*").remove(),p){var P=[{key:g.grouped||"Grouped",disabled:i.stacked()},{key:g.stacked||"Stacked",disabled:!i.stacked()}];l.width(k()).color(["#444","#444","#444"]),F.select(".nv-controlsWrap").datum(P).attr("transform","translate(0,"+-c.top+")").call(l)}else F.select(".nv-controlsWrap").selectAll("*").remove();L.attr("transform","translate("+c.left+","+c.top+")"),i.disabled(u.map(function(t){return t.disabled})).width($).height(D).color(u.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!u[e].disabled})),F.select(".nv-barsWrap").datum(u.filter(function(t){return!t.disabled})).transition().call(i),v&&(o.scale(n)._ticks(t.utils.calcTicksY(D/24,u)).tickSize(-$,0),F.select(".nv-x.nv-axis").call(o),F.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text")),y&&(a.scale(r)._ticks(t.utils.calcTicksX($/100,u)).tickSize(-D,0),F.select(".nv-y.nv-axis").attr("transform","translate(0,"+D+")"),F.select(".nv-y.nv-axis").call(a)),F.select(".nv-zeroLine line").attr("x1",r(0)).attr("x2",r(0)).attr("y1",0).attr("y2",-D),s.dispatch.on("stateChange",function(t){for(var n in t)x[n]=t[n];C.stateChange(x),e.update()}),l.dispatch.on("legendClick",function(t,n){if(t.disabled){switch(P=P.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case g.grouped:i.stacked(!1);break;case"Stacked":case g.stacked:i.stacked(!0)}x.stacked=i.stacked(),C.stateChange(x),b=i.stacked(),e.update()}}),C.on("changeState",function(t){void 0!==t.disabled&&(u.forEach(function(e,n){e.disabled=t.disabled[n]}),x.disabled=t.disabled),void 0!==t.stacked&&(i.stacked(t.stacked),x.stacked=t.stacked,b=t.stacked),e.update()})}),$.renderEnd("multibar horizontal chart immediate"),e}var n,r,i=t.models.multiBarHorizontal(),o=t.models.axis(),a=t.models.axis(),s=t.models.legend().height(30),l=t.models.legend().height(30),u=t.models.tooltip(),c={top:30,right:20,bottom:50,left:60},d=null,h=null,f=t.utils.defaultColor(),p=!0,g={},m=!0,v=!0,y=!0,b=!1,x=t.utils.state(),_=null,w=null,C=d3.dispatch("stateChange","changeState","renderEnd"),k=function(){return p?180:0},S=250;x.stacked=!1,i.stacked(b),o.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(t){return t}),a.orient("bottom").tickFormat(d3.format(",.1f")),u.duration(0).valueFormatter(function(t,e){return a.tickFormat()(t,e)}).headerFormatter(function(t,e){return o.tickFormat()(t,e)}),l.updateState(!1);var M=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:b}}},T=function(t){return function(e){void 0!==e.stacked&&(b=e.stacked),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},$=t.utils.renderWatch(C,S);return i.dispatch.on("elementMouseover.tooltip",function(t){t.value=e.x()(t.data),t.series={key:t.data.key,value:e.y()(t.data),color:t.color},u.data(t).hidden(!1)}),i.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)}),i.dispatch.on("elementMousemove.tooltip",function(t){u()}),e.dispatch=C,e.multibar=i,e.legend=s,e.controls=l,e.xAxis=o,e.yAxis=a,e.state=x,e.tooltip=u,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return d},set:function(t){d=t}},height:{get:function(){return h},set:function(t){h=t}},showLegend:{get:function(){return m},set:function(t){m=t}},showControls:{get:function(){return p},set:function(t){p=t}},controlLabels:{get:function(){return g},set:function(t){g=t}},showXAxis:{get:function(){return v},set:function(t){v=t}},showYAxis:{get:function(){return y},set:function(t){y=t}},defaultState:{get:function(){return _},set:function(t){_=t}},noData:{get:function(){return w},set:function(t){w=t}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return S},set:function(t){S=t,$.reset(S),i.duration(S),o.duration(S),a.duration(S)}},color:{get:function(){return f},set:function(e){f=t.utils.getColor(e),s.color(f)}},barColor:{get:function(){return i.barColor},set:function(t){i.barColor(t),s.color(function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()})}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.multiChart=function(){"use strict";function e(u){return u.each(function(u){function f(t){var e=2===u[t.seriesIndex].yAxis?E:D;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},A.duration(0).headerFormatter(function(t,e){return $.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function F(t){var e=2===u[t.seriesIndex].yAxis?E:D;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},A.duration(100).headerFormatter(function(t,e){return $.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function R(t){var e=2===u[t.seriesIndex].yAxis?E:D;t.point.x=M.x()(t.point),t.point.y=M.y()(t.point),A.duration(0).headerFormatter(function(t,e){return $.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function O(t){var e=2===u[t.data.series].yAxis?E:D;t.value=k.x()(t.data),t.series={value:k.y()(t.data),color:t.color,key:t.data.key},A.duration(0).headerFormatter(function(t,e){return $.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function N(){for(var t=0,e=P.length;t<e;t++){var n=P[t];try{n.clearHighlights()}catch(t){}}}function I(t,e,n){for(var r=0,i=P.length;r<i;r++){var o=P[r];try{o.highlightPoint(t,e,n)}catch(t){}}}var Y=d3.select(this);t.utils.initSVG(Y),e.update=function(){Y.transition().call(e)},e.container=this;var V=t.utils.availableWidth(a,Y,i),j=t.utils.availableHeight(s,Y,i),H=u.filter(function(t){return"line"==t.type&&1==t.yAxis}),z=u.filter(function(t){return"line"==t.type&&2==t.yAxis}),W=u.filter(function(t){return"scatter"==t.type&&1==t.yAxis}),B=u.filter(function(t){return"scatter"==t.type&&2==t.yAxis}),U=u.filter(function(t){return"bar"==t.type&&1==t.yAxis}),G=u.filter(function(t){return"bar"==t.type&&2==t.yAxis}),q=u.filter(function(t){return"area"==t.type&&1==t.yAxis}),K=u.filter(function(t){return"area"==t.type&&2==t.yAxis});if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return t.utils.noData(e,Y),e;Y.selectAll(".nv-noData").remove();var J=u.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:c(t),y:d(t)}})}),X=u.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:c(t),y:d(t)}})});v.domain(d3.extent(d3.merge(J.concat(X)),function(t){return t.x})).range([0,V]);var Z=Y.selectAll("g.wrap.multiChart").data([u]),Q=Z.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");Q.append("g").attr("class","nv-x nv-axis"),Q.append("g").attr("class","nv-y1 nv-axis"),Q.append("g").attr("class","nv-y2 nv-axis"),Q.append("g").attr("class","stack1Wrap"),Q.append("g").attr("class","stack2Wrap"),Q.append("g").attr("class","bars1Wrap"),Q.append("g").attr("class","bars2Wrap"),Q.append("g").attr("class","scatters1Wrap"),Q.append("g").attr("class","scatters2Wrap"),Q.append("g").attr("class","lines1Wrap"),Q.append("g").attr("class","lines2Wrap"),Q.append("g").attr("class","legendWrap"),Q.append("g").attr("class","nv-interactive");var tt=Z.select("g"),et=u.map(function(t,e){return u[e].color||o(t,e)});if(l){var nt=L.align()?V/2:V,rt=L.align()?nt:0;L.width(nt),L.color(et),tt.select(".legendWrap").datum(u.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":m),t})).call(L),i.top!=L.height()&&(i.top=L.height(),j=t.utils.availableHeight(s,Y,i)),tt.select(".legendWrap").attr("transform","translate("+rt+","+-i.top+")")}else tt.select(".legendWrap").selectAll("*").remove();x.width(V).height(j).interpolate(h).color(et.filter(function(t,e){return!u[e].disabled&&1==u[e].yAxis&&"line"==u[e].type})),_.width(V).height(j).interpolate(h).color(et.filter(function(t,e){return!u[e].disabled&&2==u[e].yAxis&&"line"==u[e].type})),w.width(V).height(j).color(et.filter(function(t,e){return!u[e].disabled&&1==u[e].yAxis&&"scatter"==u[e].type})),C.width(V).height(j).color(et.filter(function(t,e){return!u[e].disabled&&2==u[e].yAxis&&"scatter"==u[e].type})),k.width(V).height(j).color(et.filter(function(t,e){return!u[e].disabled&&1==u[e].yAxis&&"bar"==u[e].type})),S.width(V).height(j).color(et.filter(function(t,e){return!u[e].disabled&&2==u[e].yAxis&&"bar"==u[e].type})),M.width(V).height(j).interpolate(h).color(et.filter(function(t,e){return!u[e].disabled&&1==u[e].yAxis&&"area"==u[e].type})),T.width(V).height(j).interpolate(h).color(et.filter(function(t,e){return!u[e].disabled&&2==u[e].yAxis&&"area"==u[e].type})),tt.attr("transform","translate("+i.left+","+i.top+")");var it=tt.select(".lines1Wrap").datum(H.filter(function(t){return!t.disabled})),ot=tt.select(".scatters1Wrap").datum(W.filter(function(t){return!t.disabled})),at=tt.select(".bars1Wrap").datum(U.filter(function(t){return!t.disabled})),st=tt.select(".stack1Wrap").datum(q.filter(function(t){return!t.disabled})),lt=tt.select(".lines2Wrap").datum(z.filter(function(t){return!t.disabled})),ut=tt.select(".scatters2Wrap").datum(B.filter(function(t){return!t.disabled})),ct=tt.select(".bars2Wrap").datum(G.filter(function(t){return!t.disabled})),dt=tt.select(".stack2Wrap").datum(K.filter(function(t){return!t.disabled})),ht=q.length?q.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[],ft=K.length?K.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[];y.domain(n||d3.extent(d3.merge(J).concat(ht),function(t){return t.y})).range([0,j]),b.domain(r||d3.extent(d3.merge(X).concat(ft),function(t){return t.y})).range([0,j]),x.yDomain(y.domain()),w.yDomain(y.domain()),k.yDomain(y.domain()),M.yDomain(y.domain()),_.yDomain(b.domain()),C.yDomain(b.domain()),S.yDomain(b.domain()),T.yDomain(b.domain()),q.length&&d3.transition(st).call(M),K.length&&d3.transition(dt).call(T),U.length&&d3.transition(at).call(k),G.length&&d3.transition(ct).call(S),H.length&&d3.transition(it).call(x),z.length&&d3.transition(lt).call(_),W.length&&d3.transition(ot).call(w),B.length&&d3.transition(ut).call(C),$._ticks(t.utils.calcTicksX(V/100,u)).tickSize(-j,0),tt.select(".nv-x.nv-axis").attr("transform","translate(0,"+j+")"),d3.transition(tt.select(".nv-x.nv-axis")).call($),D._ticks(t.utils.calcTicksY(j/36,u)).tickSize(-V,0),d3.transition(tt.select(".nv-y1.nv-axis")).call(D),E._ticks(t.utils.calcTicksY(j/36,u)).tickSize(-V,0),d3.transition(tt.select(".nv-y2.nv-axis")).call(E),tt.select(".nv-y1.nv-axis").classed("nv-disabled",!J.length).attr("transform","translate("+v.range()[0]+",0)"),tt.select(".nv-y2.nv-axis").classed("nv-disabled",!X.length).attr("transform","translate("+v.range()[1]+",0)"),L.dispatch.on("stateChange",function(t){e.update()}),g&&(p.width(V).height(j).margin({left:i.left,top:i.top}).svgContainer(Y).xScale(v),Z.select(".nv-interactive").call(p)),g?(p.dispatch.on("elementMousemove",function(n){N();var r,i,a,s=[];u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(l,u){var c=v.domain(),d=l.values.filter(function(t,n){return e.x()(t,n)>=c[0]&&e.x()(t,n)<=c[1]}),h=d[i=t.interactiveBisect(d,n.pointXValue,e.x())],f=e.y()(h,i);null!==f&&I(u,i,!0),void 0!==h&&(void 0===r&&(r=h),void 0===a&&(a=v(e.x()(h,i))),s.push({key:l.key,value:f,color:o(l,l.seriesIndex),data:h,yAxis:2==l.yAxis?E:D}))}),p.tooltip.chartContainer(e.container.parentNode).headerFormatter(function(t,e){return $.tickFormat()(t,e)}).valueFormatter(function(t,e){var n=s[e].yAxis;return null===t?"N/A":n.tickFormat()(t)}).data({value:e.x()(r,i),index:i,series:s})(),p.renderGuideLine(a)}),p.dispatch.on("elementMouseout",function(t){N()})):(x.dispatch.on("elementMouseover.tooltip",f),_.dispatch.on("elementMouseover.tooltip",f),x.dispatch.on("elementMouseout.tooltip",function(t){A.hidden(!0)}),_.dispatch.on("elementMouseout.tooltip",function(t){A.hidden(!0)}),w.dispatch.on("elementMouseover.tooltip",F),C.dispatch.on("elementMouseover.tooltip",F),w.dispatch.on("elementMouseout.tooltip",function(t){A.hidden(!0)}),C.dispatch.on("elementMouseout.tooltip",function(t){A.hidden(!0)}),M.dispatch.on("elementMouseover.tooltip",R),T.dispatch.on("elementMouseover.tooltip",R),M.dispatch.on("elementMouseout.tooltip",function(t){A.hidden(!0)}),T.dispatch.on("elementMouseout.tooltip",function(t){A.hidden(!0)}),k.dispatch.on("elementMouseover.tooltip",O),S.dispatch.on("elementMouseover.tooltip",O),k.dispatch.on("elementMouseout.tooltip",function(t){A.hidden(!0)}),S.dispatch.on("elementMouseout.tooltip",function(t){A.hidden(!0)}),k.dispatch.on("elementMousemove.tooltip",function(t){A()}),S.dispatch.on("elementMousemove.tooltip",function(t){A()}))}),e}var n,r,i={top:30,right:20,bottom:50,left:60},o=t.utils.defaultColor(),a=null,s=null,l=!0,u=null,c=function(t){return t.x},d=function(t){return t.y},h="linear",f=!0,p=t.interactiveGuideline(),g=!1,m=" (right axis)",v=d3.scale.linear(),y=d3.scale.linear(),b=d3.scale.linear(),x=t.models.line().yScale(y),_=t.models.line().yScale(b),w=t.models.scatter().yScale(y),C=t.models.scatter().yScale(b),k=t.models.multiBar().stacked(!1).yScale(y),S=t.models.multiBar().stacked(!1).yScale(b),M=t.models.stackedArea().yScale(y),T=t.models.stackedArea().yScale(b),$=t.models.axis().scale(v).orient("bottom").tickPadding(5),D=t.models.axis().scale(y).orient("left"),E=t.models.axis().scale(b).orient("right"),L=t.models.legend().height(30),A=t.models.tooltip(),F=d3.dispatch(),P=[x,_,w,C,k,S,M,T];return e.dispatch=F,e.legend=L,e.lines1=x,e.lines2=_,e.scatters1=w,e.scatters2=C,e.bars1=k,e.bars2=S,e.stack1=M,e.stack2=T,e.xAxis=$,e.yAxis1=D,e.yAxis2=E,e.tooltip=A,e.interactiveLayer=p,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},showLegend:{get:function(){return l},set:function(t){l=t}},yDomain1:{get:function(){return n},set:function(t){n=t}},yDomain2:{get:function(){return r},set:function(t){r=t}},noData:{get:function(){return u},set:function(t){u=t}},interpolate:{get:function(){return h},set:function(t){h=t}},legendRightAxisHint:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}},color:{get:function(){return o},set:function(e){o=t.utils.getColor(e)}},x:{get:function(){return c},set:function(t){c=t,x.x(t),_.x(t),w.x(t),C.x(t),k.x(t),S.x(t),M.x(t),T.x(t)}},y:{get:function(){return d},set:function(t){d=t,x.y(t),_.y(t),w.y(t),C.y(t),M.y(t),T.y(t),k.y(t),S.y(t)}},useVoronoi:{get:function(){return f},set:function(t){f=t,x.useVoronoi(t),_.useVoronoi(t),M.useVoronoi(t),T.useVoronoi(t)}},useInteractiveGuideline:{get:function(){return g},set:function(t){(g=t)&&(x.interactive(!1),x.useVoronoi(!1),_.interactive(!1),_.useVoronoi(!1),M.interactive(!1),M.useVoronoi(!1),T.interactive(!1),T.useVoronoi(!1),w.interactive(!1),C.interactive(!1))}}}),t.utils.initOptions(e),e},t.models.ohlcBar=function(){"use strict";function e(k){return k.each(function(e){c=d3.select(this);var k=t.utils.availableWidth(s,c,a),M=t.utils.availableHeight(l,c,a);t.utils.initSVG(c);var T=k/e[0].values.length*.9;d.domain(n||d3.extent(e[0].values.map(f).concat(b))),_?d.range(i||[.5*k/e[0].values.length,k*(e[0].values.length-.5)/e[0].values.length]):d.range(i||[5+T/2,k-T/2-5]),h.domain(r||[d3.min(e[0].values.map(y).concat(x)),d3.max(e[0].values.map(v).concat(x))]).range(o||[M,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]+.01*h.domain()[0],h.domain()[1]-.01*h.domain()[1]]):h.domain([-1,1]));var $=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([e[0].values]),D=$.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),E=D.append("defs"),L=D.append("g"),A=$.select("g");L.append("g").attr("class","nv-ticks"),$.attr("transform","translate("+a.left+","+a.top+")"),c.on("click",function(t,e){S.chartClick({data:t,index:e,pos:d3.event,id:u})}),E.append("clipPath").attr("id","nv-chart-clip-path-"+u).append("rect"),$.select("#nv-chart-clip-path-"+u+" rect").attr("width",k).attr("height",M),A.attr("clip-path",w?"url(#nv-chart-clip-path-"+u+")":"");var F=$.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});F.exit().remove(),F.enter().append("path").attr("class",function(t,e,n){return(g(t,e)>m(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}).attr("d",function(t,e){return"m0,0l0,"+(h(g(t,e))-h(v(t,e)))+"l"+-T/2+",0l"+T/2+",0l0,"+(h(y(t,e))-h(g(t,e)))+"l0,"+(h(m(t,e))-h(y(t,e)))+"l"+T/2+",0l"+-T/2+",0z"}).attr("transform",function(t,e){return"translate("+d(f(t,e))+","+h(v(t,e))+")"}).attr("fill",function(t,e){return C[0]}).attr("stroke",function(t,e){return C[0]}).attr("x",0).attr("y",function(t,e){return h(Math.max(0,p(t,e)))}).attr("height",function(t,e){return Math.abs(h(p(t,e))-h(0))}),F.attr("class",function(t,e,n){return(g(t,e)>m(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),d3.transition(F).attr("transform",function(t,e){return"translate("+d(f(t,e))+","+h(v(t,e))+")"}).attr("d",function(t,n){var r=k/e[0].values.length*.9;return"m0,0l0,"+(h(g(t,n))-h(v(t,n)))+"l"+-r/2+",0l"+r/2+",0l0,"+(h(y(t,n))-h(g(t,n)))+"l0,"+(h(m(t,n))-h(y(t,n)))+"l"+r/2+",0l"+-r/2+",0z"})}),e}var n,r,i,o,a={top:0,right:0,bottom:0,left:0},s=null,l=null,u=Math.floor(1e4*Math.random()),c=null,d=d3.scale.linear(),h=d3.scale.linear(),f=function(t){return t.x},p=function(t){return t.y},g=function(t){return t.open},m=function(t){return t.close},v=function(t){return t.high},y=function(t){return t.low},b=[],x=[],_=!1,w=!0,C=t.utils.defaultColor(),k=!1,S=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return e.highlightPoint=function(t,n){e.clearHighlights(),c.select(".nv-ohlcBar .nv-tick-0-"+t).classed("hover",n)},e.clearHighlights=function(){c.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},e.dispatch=S,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return h},set:function(t){h=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return r},set:function(t){r=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceX:{get:function(){return b},set:function(t){b=t}},forceY:{get:function(){return x},set:function(t){x=t}},padData:{get:function(){return _},set:function(t){_=t}},clipEdge:{get:function(){return w},set:function(t){w=t}},id:{get:function(){return u},set:function(t){u=t}},interactive:{get:function(){return k},set:function(t){k=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return p},set:function(t){p=t}},open:{get:function(){return g()},set:function(t){g=t}},close:{get:function(){return m()},set:function(t){m=t}},high:{get:function(){return v},set:function(t){v=t}},low:{get:function(){return y},set:function(t){y=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!=t.top?t.top:a.top,a.right=void 0!=t.right?t.right:a.right,a.bottom=void 0!=t.bottom?t.bottom:a.bottom,a.left=void 0!=t.left?t.left:a.left}},color:{get:function(){return C},set:function(e){C=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.parallelCoordinates=function(){"use strict";function e(T){return M.reset(),T.each(function(e){function M(t){return C(p.map(function(e){if(isNaN(t.values[e.key])||isNaN(parseFloat(t.values[e.key]))||V){var n=d[e.key].domain(),r=d[e.key].range(),i=n[0]-(n[1]-n[0])/9;if(_.indexOf(e.key)<0){var o=d3.scale.linear().domain([i,n[1]]).range([u-12,r[1]]);d[e.key].brush.y(o),_.push(e.key)}if(isNaN(t.values[e.key])||isNaN(parseFloat(t.values[e.key])))return[c(e.key),d[e.key](i)]}return void 0!==B&&(_.length>0||V?(B.style("display","inline"),U.style("display","inline")):(B.style("display","none"),U.style("display","none"))),[c(e.key),d[e.key](t.values[e.key])]}))}function T(t){y.forEach(function(e){var n=d[e.dimension].brush.y().domain();e.hasOnlyNaN&&(e.extent[1]=(d[e.dimension].domain()[1]-n[0])*(e.extent[1]-e.extent[0])/(Y[e.dimension]-e.extent[0])+n[0]),e.hasNaN&&(e.extent[0]=n[0]),t&&d[e.dimension].brush.extent(e.extent)}),i.select(".nv-brushBackground").each(function(t){d3.select(this).call(d[t.key].brush)}).selectAll("rect").attr("x",-8).attr("width",16),L()}function $(){!1===m&&(m=!0,T(!0))}function D(){X=g.filter(function(t){return!d[t].brush.empty()}),Z=X.map(function(t){return d[t].brush.extent()}),y=[],X.forEach(function(t,e){y[e]={dimension:t,extent:Z[e],hasNaN:!1,hasOnlyNaN:!1}}),b=[],n.style("display",function(t){var e=X.every(function(e,n){return!(!isNaN(t.values[e])&&!isNaN(parseFloat(t.values[e]))||Z[n][0]!=d[e].brush.y().domain()[0])||Z[n][0]<=t.values[e]&&t.values[e]<=Z[n][1]&&!isNaN(parseFloat(t.values[e]))});return e&&b.push(t),e?null:"none"}),L(),S.brush({filters:y,active:b})}function E(){var t=X.length>0;y.forEach(function(t){t.extent[0]===d[t.dimension].brush.y().domain()[0]&&_.indexOf(t.dimension)>=0&&(t.hasNaN=!0),t.extent[1]<d[t.dimension].domain()[0]&&(t.hasOnlyNaN=!0)}),S.brushEnd(b,t)}function L(){i.select(".nv-axis").each(function(t,e){var n=y.filter(function(e){return e.dimension==t.key});j[t.key]=d[t.key].domain(),0!=n.length&&m&&(j[t.key]=[],n[0].extent[1]>d[t.key].domain()[0]&&(j[t.key]=[n[0].extent[1]]),n[0].extent[0]>=d[t.key].domain()[0]&&j[t.key].push(n[0].extent[0])),d3.select(this).call(k.scale(d[t.key]).tickFormat(t.format).tickValues(j[t.key]))})}function A(t){x[t.key]=this.parentNode.__origin__=c(t.key),r.attr("visibility","hidden")}function F(t){x[t.key]=Math.min(l,Math.max(0,this.parentNode.__origin__+=d3.event.x)),n.attr("d",M),p.sort(function(t,e){return R(t.key)-R(e.key)}),p.forEach(function(t,e){return t.currentPosition=e}),c.domain(p.map(function(t){return t.key})),i.attr("transform",function(t){return"translate("+R(t.key)+")"})}function P(t,e){delete this.parentNode.__origin__,delete x[t.key],d3.select(this.parentNode).attr("transform","translate("+c(t.key)+")"),n.attr("d",M),r.attr("d",M).attr("visibility",null),S.dimensionsOrder(p)}function R(t){var e=x[t];return null==e?c(t):e}var O=d3.select(this);if(l=t.utils.availableWidth(a,O,o),u=t.utils.availableHeight(s,O,o),t.utils.initSVG(O),void 0===e[0].values){var N=[];e.forEach(function(t){var e={};Object.keys(t).forEach(function(n){"name"!==n&&(e[n]=t[n])}),N.push({key:t.name,values:e})}),e=N}var I=e.map(function(t){return t.values});0===b.length&&(b=e),g=f.sort(function(t,e){return t.currentPosition-e.currentPosition}).map(function(t){return t.key}),p=f.filter(function(t){return!t.disabled}),c.rangePoints([0,l],1).domain(p.map(function(t){return t.key}));var Y={},V=!1,j=[];g.forEach(function(t){var e=d3.extent(I,function(e){return+e[t]}),n=e[0],r=e[1],i=!1;(isNaN(n)||isNaN(r))&&(i=!0,n=0,r=0),n===r&&(n-=1,r+=1);var o=y.filter(function(e){return e.dimension==t});0!==o.length&&(i?(n=d[t].domain()[0],r=d[t].domain()[1]):!o[0].hasOnlyNaN&&m?(n=n>o[0].extent[0]?o[0].extent[0]:n,r=r<o[0].extent[1]?o[0].extent[1]:r):o[0].hasNaN&&(r=r<o[0].extent[1]?o[0].extent[1]:r,Y[t]=d[t].domain()[1],V=!0)),d[t]=d3.scale.linear().domain([n,r]).range([.9*(u-12),0]),_=[],d[t].brush=d3.svg.brush().y(d[t]).on("brushstart",$).on("brush",D).on("brushend",E)});var H=O.selectAll("g.nv-wrap.nv-parallelCoordinates").data([e]),z=H.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates").append("g"),W=H.select("g");z.append("g").attr("class","nv-parallelCoordinates background"),z.append("g").attr("class","nv-parallelCoordinates foreground"),z.append("g").attr("class","nv-parallelCoordinates missingValuesline"),H.attr("transform","translate("+o.left+","+o.top+")"),C.interpolate("cardinal").tension(w),k.orient("left");var B,U,G=d3.behavior.drag().on("dragstart",A).on("drag",F).on("dragend",P),q=c.range()[1]-c.range()[0];if(!isNaN(q)){var K=[0+q/2,u-12,l-q/2,u-12];(B=H.select(".missingValuesline").selectAll("line").data([K])).enter().append("line"),B.exit().remove(),B.attr("x1",function(t){return t[0]}).attr("y1",function(t){return t[1]}).attr("x2",function(t){return t[2]}).attr("y2",function(t){return t[3]}),(U=H.select(".missingValuesline").selectAll("text").data([h])).append("text").data([h]),U.enter().append("text"),U.exit().remove(),U.attr("y",u).attr("x",l-92-q/2).text(function(t){return t})}(r=H.select(".background").selectAll("path").data(e)).enter().append("path"),r.exit().remove(),r.attr("d",M),(n=H.select(".foreground").selectAll("path").data(e)).enter().append("path"),n.exit().remove(),n.attr("d",M).style("stroke-width",function(t,e){return isNaN(t.strokeWidth)&&(t.strokeWidth=1),t.strokeWidth}).attr("stroke",function(t,e){return t.color||v(t,e)}),n.on("mouseover",function(t,e){d3.select(this).classed("hover",!0).style("stroke-width",t.strokeWidth+2+"px").style("stroke-opacity",1),S.elementMouseover({label:t.name,color:t.color||v(t,e),values:t.values,dimensions:p})}),n.on("mouseout",function(t,e){d3.select(this).classed("hover",!1).style("stroke-width",t.strokeWidth+"px").style("stroke-opacity",.7),S.elementMouseout({label:t.name,index:e})}),n.on("mousemove",function(t,e){S.elementMousemove()}),n.on("click",function(t){S.elementClick({id:t.id})});var J=(i=W.selectAll(".dimension").data(p)).enter().append("g").attr("class","nv-parallelCoordinates dimension");i.attr("transform",function(t){return"translate("+c(t.key)+",0)"}),J.append("g").attr("class","nv-axis"),J.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",function(t,e){S.elementMouseover({label:t.tooltip||t.key,color:t.color})}).on("mouseout",function(t,e){S.elementMouseout({label:t.tooltip})}).on("mousemove",function(t,e){S.elementMousemove()}).call(G),J.append("g").attr("class","nv-brushBackground"),i.exit().remove(),i.select(".nv-label").text(function(t){return t.key}),T(m);var X=g.filter(function(t){return!d[t].brush.empty()}),Z=X.map(function(t){return d[t].brush.extent()}),Q=b.slice(0);b=[],n.style("display",function(t){var e=X.every(function(e,n){return!(!isNaN(t.values[e])&&!isNaN(parseFloat(t.values[e]))||Z[n][0]!=d[e].brush.y().domain()[0])||Z[n][0]<=t.values[e]&&t.values[e]<=Z[n][1]&&!isNaN(parseFloat(t.values[e]))});return e&&b.push(t),e?null:"none"}),(y.length>0||!t.utils.arrayEquals(b,Q))&&S.activeChanged(b)}),e}var n,r,i,o={top:30,right:0,bottom:10,left:0},a=null,s=null,l=null,u=null,c=d3.scale.ordinal(),d={},h="undefined values",f=[],p=[],g=[],m=!0,v=t.utils.defaultColor(),y=[],b=[],x=[],_=[],w=1,C=d3.svg.line(),k=d3.svg.axis(),S=d3.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),M=t.utils.renderWatch(S);return e.dispatch=S,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},dimensionData:{get:function(){return f},set:function(t){f=t}},displayBrush:{get:function(){return m},set:function(t){m=t}},filters:{get:function(){return y},set:function(t){y=t}},active:{get:function(){return b},set:function(t){b=t}},lineTension:{get:function(){return w},set:function(t){w=t}},undefinedValuesLabel:{get:function(){return h},set:function(t){h=t}},dimensions:{get:function(){return f.map(function(t){return t.key})},set:function(e){t.deprecated("dimensions","use dimensionData instead"),0===f.length?e.forEach(function(t){f.push({key:t})}):e.forEach(function(t,e){f[e].key=t})}},dimensionNames:{get:function(){return f.map(function(t){return t.key})},set:function(e){t.deprecated("dimensionNames","use dimensionData instead"),g=[],0===f.length?e.forEach(function(t){f.push({key:t})}):e.forEach(function(t,e){f[e].key=t})}},dimensionFormats:{get:function(){return f.map(function(t){return t.format})},set:function(e){t.deprecated("dimensionFormats","use dimensionData instead"),0===f.length?e.forEach(function(t){f.push({format:t})}):e.forEach(function(t,e){f[e].format=t})}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},color:{get:function(){return v},set:function(e){v=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.parallelCoordinatesChart=function(){"use strict";function e(i){return v.reset(),v.models(n),i.each(function(i){var u=d3.select(this);t.utils.initSVG(u);var p=t.utils.availableWidth(a,u,o),g=t.utils.availableHeight(s,u,o);if(e.update=function(){u.call(e)},e.container=this,c.setter(b(d),e.update).getter(y(d)).update(),c.disabled=d.map(function(t){return!!t.disabled}),(d=d.map(function(t){return t.disabled=!!t.disabled,t})).forEach(function(t,e){t.originalPosition=isNaN(t.originalPosition)?e:t.originalPosition,t.currentPosition=isNaN(t.currentPosition)?e:t.currentPosition}),!f){var v;f={};for(v in c)c[v]instanceof Array?f[v]=c[v].slice(0):f[v]=c[v]}if(!i||!i.length)return t.utils.noData(e,u),e;u.selectAll(".nv-noData").remove();var x=u.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([i]),_=x.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),w=x.select("g");_.append("g").attr("class","nv-parallelCoordinatesWrap"),_.append("g").attr("class","nv-legendWrap"),w.select("rect").attr("width",p).attr("height",g>0?g:0),l?(r.width(p).color(function(t){return"rgb(188,190,192)"}),w.select(".nv-legendWrap").datum(d.sort(function(t,e){return t.originalPosition-e.originalPosition})).call(r),o.top!=r.height()&&(o.top=r.height(),g=t.utils.availableHeight(s,u,o)),x.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-o.top+")")):w.select(".nv-legendWrap").selectAll("*").remove(),x.attr("transform","translate("+o.left+","+o.top+")"),n.width(p).height(g).dimensionData(d).displayBrush(h),w.select(".nv-parallelCoordinatesWrap ").datum(i).transition().call(n),n.dispatch.on("brushEnd",function(t,e){e?(h=!0,m.brushEnd(t)):h=!1}),r.dispatch.on("stateChange",function(t){for(var n in t)c[n]=t[n];m.stateChange(c),e.update()}),n.dispatch.on("dimensionsOrder",function(t){d.sort(function(t,e){return t.currentPosition-e.currentPosition});var e=!1;d.forEach(function(t,n){t.currentPosition=n,t.currentPosition!==t.originalPosition&&(e=!0)}),m.dimensionsOrder(d,e)}),m.on("changeState",function(t){void 0!==t.disabled&&(d.forEach(function(e,n){e.disabled=t.disabled[n]}),c.disabled=t.disabled),e.update()})}),v.renderEnd("parraleleCoordinateChart immediate"),e}var n=t.models.parallelCoordinates(),r=t.models.legend(),i=t.models.tooltip(),o=(t.models.tooltip(),{top:0,right:0,bottom:0,left:0}),a=null,s=null,l=!0,u=t.utils.defaultColor(),c=t.utils.state(),d=[],h=!0,f=null,p=null,g="undefined",m=d3.dispatch("dimensionsOrder","brushEnd","stateChange","changeState","renderEnd"),v=t.utils.renderWatch(m),y=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},b=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return i.contentGenerator(function(t){var e='<table><thead><tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td><strong>'+t.key+"</strong></td></tr></thead>";return 0!==t.series.length&&(e+='<tbody><tr><td height ="10px"></td></tr>',t.series.forEach(function(t){e=e+'<tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td class="key">'+t.key+'</td><td class="value">'+t.value+"</td></tr>"}),e+="</tbody>"),e+="</table>"}),n.dispatch.on("elementMouseover.tooltip",function(t){var e={key:t.label,color:t.color,series:[]};t.values&&(Object.keys(t.values).forEach(function(n){var r=t.dimensions.filter(function(t){return t.key===n})[0];if(r){var i;i=isNaN(t.values[n])||isNaN(parseFloat(t.values[n]))?g:r.format(t.values[n]),e.series.push({idx:r.currentPosition,key:n,value:i,color:r.color})}}),e.series.sort(function(t,e){return t.idx-e.idx})),i.data(e).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){i.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(){i()}),e.dispatch=m,e.parallelCoordinates=n,e.legend=r,e.tooltip=i,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},showLegend:{get:function(){return l},set:function(t){l=t}},defaultState:{get:function(){return f},set:function(t){f=t}},dimensionData:{get:function(){return d},set:function(t){d=t}},displayBrush:{get:function(){return h},set:function(t){h=t}},noData:{get:function(){return p},set:function(t){p=t}},nanValue:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},color:{get:function(){return u},set:function(e){u=t.utils.getColor(e),r.color(u),n.color(u)}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.models.pie=function(){"use strict";function e(E){return D.reset(),E.each(function(e){function E(t,e){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,g||(t.innerRadius=0);var n=d3.interpolate(this._current,t);return this._current=n(0),function(t){return T[e](n(t))}}var L=r-n.left-n.right,A=i-n.top-n.bottom,F=Math.min(L,A)/2,P=[],R=[];if(l=d3.select(this),0===S.length)for(var O=F-F/5,N=k*F,I=0;I<e[0].length;I++)P.push(O),R.push(N);else v?(P=S.map(function(t){return(t.outer-t.outer/5)*F}),R=S.map(function(t){return(t.inner-t.inner/5)*F}),k=d3.min(S.map(function(t){return t.inner-t.inner/5}))):(P=S.map(function(t){return t.outer*F}),R=S.map(function(t){return t.inner*F}),k=d3.min(S.map(function(t){return t.inner})));t.utils.initSVG(l);var Y=l.selectAll(".nv-wrap.nv-pie").data(e),V=Y.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+s).append("g"),j=Y.select("g"),H=V.append("g").attr("class","nv-pie");V.append("g").attr("class","nv-pieLabels"),Y.attr("transform","translate("+n.left+","+n.top+")"),j.select(".nv-pie").attr("transform","translate("+L/2+","+A/2+")"),j.select(".nv-pieLabels").attr("transform","translate("+L/2+","+A/2+")"),l.on("click",function(t,e){M.chartClick({data:t,index:e,pos:d3.event,id:s})}),T=[],$=[];for(I=0;I<e[0].length;I++){var z=d3.svg.arc().outerRadius(P[I]),W=d3.svg.arc().outerRadius(P[I]+5);!1!==x&&(z.startAngle(x),W.startAngle(x)),!1!==w&&(z.endAngle(w),W.endAngle(w)),g&&(z.innerRadius(R[I]),W.innerRadius(R[I])),z.cornerRadius&&C&&(z.cornerRadius(C),W.cornerRadius(C)),T.push(z),$.push(W)}var B=d3.layout.pie().sort(null).value(function(t){return t.disabled?0:a(t)});B.padAngle&&_&&B.padAngle(_),g&&m&&(H.append("text").attr("class","nv-pie-title"),Y.select(".nv-pie-title").style("text-anchor","middle").text(function(t){return m}).style("font-size",Math.min(L,A)*k*2/(m.length+2)+"px").attr("dy","0.35em").attr("transform",function(t,e){return"translate(0, "+y+")"}));var U=Y.select(".nv-pie").selectAll(".nv-slice").data(B),G=Y.select(".nv-pieLabels").selectAll(".nv-label").data(B);U.exit().remove(),G.exit().remove();var q=U.enter().append("g");q.attr("class","nv-slice"),q.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),v&&d3.select(this).select("path").transition().duration(70).attr("d",$[e]),M.elementMouseover({data:t.data,index:e,color:d3.select(this).style("fill"),percent:(t.endAngle-t.startAngle)/(2*Math.PI)})}),q.on("mouseout",function(t,e){d3.select(this).classed("hover",!1),v&&d3.select(this).select("path").transition().duration(50).attr("d",T[e]),M.elementMouseout({data:t.data,index:e})}),q.on("mousemove",function(t,e){M.elementMousemove({data:t.data,index:e})}),q.on("click",function(t,e){var n=this;M.elementClick({data:t.data,index:e,color:d3.select(this).style("fill"),event:d3.event,element:n})}),q.on("dblclick",function(t,e){M.elementDblClick({data:t.data,index:e,color:d3.select(this).style("fill")})}),U.attr("fill",function(t,e){return u(t.data,e)}),U.attr("stroke",function(t,e){return u(t.data,e)});q.append("path").each(function(t){this._current=t});if(U.select("path").transition().attr("d",function(t,e){return T[e](t)}).attrTween("d",E),d){for(var K=[],I=0;I<e[0].length;I++)K.push(T[I]),h?g&&(K[I]=d3.svg.arc().outerRadius(T[I].outerRadius()),!1!==x&&K[I].startAngle(x),!1!==w&&K[I].endAngle(w)):g||K[I].innerRadius(0);G.enter().append("g").classed("nv-label",!0).each(function(t,e){var n=d3.select(this);n.attr("transform",function(t,e){if(b){t.outerRadius=P[e]+10,t.innerRadius=P[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+K[e].centroid(t)+") rotate("+n+")"}return t.outerRadius=F+10,t.innerRadius=F+15,"translate("+K[e].centroid(t)+")"}),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",b?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var J={},X=function(t){return 140*Math.floor(t[0]/140)+","+14*Math.floor(t[1]/14)},Z=function(t){return(t.endAngle-t.startAngle)/(2*Math.PI)};G.watchTransition(D,"pie labels").attr("transform",function(t,e){if(b){t.outerRadius=P[e]+10,t.innerRadius=P[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+K[e].centroid(t)+") rotate("+n+")"}t.outerRadius=F+10,t.innerRadius=F+15;var r=K[e].centroid(t),i=Z(t);if(t.value&&i>=p){var o=X(r);J[o]&&(r[1]-=14),J[X(r)]=!0}return"translate("+r+")"}),G.select(".nv-label text").style("text-anchor",function(t,e){return b?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(t,e){var n=Z(t),r="";if(!t.value||n<p)return"";if("function"==typeof f)r=f(t,e,{key:o(t.data),value:a(t.data),percent:c(n)});else switch(f){case"key":r=o(t.data);break;case"value":r=c(a(t.data));break;case"percent":r=d3.format("%")(n)}return r})}}),D.renderEnd("pie immediate"),e}var n={top:0,right:0,bottom:0,left:0},r=500,i=500,o=function(t){return t.x},a=function(t){return t.y},s=Math.floor(1e4*Math.random()),l=null,u=t.utils.defaultColor(),c=d3.format(",.2f"),d=!0,h=!1,f="key",p=.02,g=!1,m=!1,v=!0,y=0,b=!1,x=!1,_=!1,w=!1,C=0,k=.5,S=[],M=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),T=[],$=[],D=t.utils.renderWatch(M);return e.dispatch=M,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{arcsRadius:{get:function(){return S},set:function(t){S=t}},width:{get:function(){return r},set:function(t){r=t}},height:{get:function(){return i},set:function(t){i=t}},showLabels:{get:function(){return d},set:function(t){d=t}},title:{get:function(){return m},set:function(t){m=t}},titleOffset:{get:function(){return y},set:function(t){y=t}},labelThreshold:{get:function(){return p},set:function(t){p=t}},valueFormat:{get:function(){return c},set:function(t){c=t}},x:{get:function(){return o},set:function(t){o=t}},id:{get:function(){return s},set:function(t){s=t}},endAngle:{get:function(){return w},set:function(t){w=t}},startAngle:{get:function(){return x},set:function(t){x=t}},padAngle:{get:function(){return _},set:function(t){_=t}},cornerRadius:{get:function(){return C},set:function(t){C=t}},donutRatio:{get:function(){return k},set:function(t){k=t}},labelsOutside:{get:function(){return h},set:function(t){h=t}},labelSunbeamLayout:{get:function(){return b},set:function(t){b=t}},donut:{get:function(){return g},set:function(t){g=t}},growOnHover:{get:function(){return v},set:function(t){v=t}},pieLabelsOutside:{get:function(){return h},set:function(e){h=e,t.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return h},set:function(e){h=e,t.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return c},set:function(e){c=e,t.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return n},set:function(t){n.top=void 0!==t.top?t.top:n.top,n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left}},y:{get:function(){return a},set:function(t){a=d3.functor(t)}},color:{get:function(){return u},set:function(e){u=t.utils.getColor(e)}},labelType:{get:function(){return f},set:function(t){f=t||"key"}}}),t.utils.initOptions(e),e},t.models.pieChart=function(){"use strict";function e(i){return v.reset(),v.models(n),i.each(function(i){var l=d3.select(this);t.utils.initSVG(l);var d=t.utils.availableWidth(a,l,o),p=t.utils.availableHeight(s,l,o);if(e.update=function(){l.transition().call(e)},e.container=this,h.setter(b(i),e.update).getter(y(i)).update(),h.disabled=i.map(function(t){return!!t.disabled}),!f){var g;f={};for(g in h)h[g]instanceof Array?f[g]=h[g].slice(0):f[g]=h[g]}if(!i||!i.length)return t.utils.noData(e,l),e;l.selectAll(".nv-noData").remove();var v=l.selectAll("g.nv-wrap.nv-pieChart").data([i]),x=v.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),_=v.select("g");if(x.append("g").attr("class","nv-pieWrap"),x.append("g").attr("class","nv-legendWrap"),u){if("top"===c)r.width(d).key(n.x()),v.select(".nv-legendWrap").datum(i).call(r),o.top!=r.height()&&(o.top=r.height(),p=t.utils.availableHeight(s,l,o)),v.select(".nv-legendWrap").attr("transform","translate(0,"+-o.top+")");else if("right"===c){var w=t.models.legend().width();d/2<w&&(w=d/2),r.height(p).key(n.x()),r.width(w),d-=r.width(),v.select(".nv-legendWrap").datum(i).call(r).attr("transform","translate("+d+",0)")}}else _.select(".nv-legendWrap").selectAll("*").remove();v.attr("transform","translate("+o.left+","+o.top+")"),n.width(d).height(p);var C=_.select(".nv-pieWrap").datum([i]);d3.transition(C).call(n),r.dispatch.on("stateChange",function(t){for(var n in t)h[n]=t[n];m.stateChange(h),e.update()}),m.on("changeState",function(t){void 0!==t.disabled&&(i.forEach(function(e,n){e.disabled=t.disabled[n]}),h.disabled=t.disabled),e.update()})}),v.renderEnd("pieChart immediate"),e}var n=t.models.pie(),r=t.models.legend(),i=t.models.tooltip(),o={top:30,right:20,bottom:20,left:20},a=null,s=null,l=!1,u=!0,c="top",d=t.utils.defaultColor(),h=t.utils.state(),f=null,p=null,g=250,m=d3.dispatch("stateChange","changeState","renderEnd");i.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return n.valueFormat()(t,e)});var v=t.utils.renderWatch(m),y=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},b=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return n.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:e.x()(t.data),value:e.y()(t.data),color:t.color,percent:t.percent},l||(delete t.percent,delete t.series.percent),i.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){i.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(t){i()}),e.legend=r,e.dispatch=m,e.pie=n,e.tooltip=i,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},noData:{get:function(){return p},set:function(t){p=t}},showTooltipPercent:{get:function(){return l},set:function(t){l=t}},showLegend:{get:function(){return u},set:function(t){u=t}},legendPosition:{get:function(){return c},set:function(t){c=t}},defaultState:{get:function(){return f},set:function(t){f=t}},color:{get:function(){return d},set:function(t){d=t,r.color(d),n.color(d)}},duration:{get:function(){return g},set:function(t){g=t,v.reset(g)}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.models.scatter=function(){"use strict";function e(t){var e,n;return e=l=l||{},n=t[0].series,e=e[n]=e[n]||{},n=t[1],e=e[n]=e[n]||{}}function n(t){var n,r,i=t[0],o=e(t),a=!1;for(n=1;n<arguments.length;n++)o[r=arguments[n]]===i[r]&&o.hasOwnProperty(r)||(o[r]=i[r],a=!0);return a}function r(e){return U.reset(),e.each(function(e){function l(){if(B=!1,!S)return!1;if(!0===j){var n=d3.merge(e.map(function(e,n){return e.values.map(function(e,r){var i=y(e,r),o=b(e,r);return[t.utils.NaNtoZero(g(i))+1e-4*Math.random(),t.utils.NaNtoZero(m(o))+1e-4*Math.random(),n,r,e]}).filter(function(t,e){return M(t[4],e)})}));if(0==n.length)return!1;n.length<3&&(n.push([g.range()[0]-20,m.range()[0]-20,null,null]),n.push([g.range()[1]+20,m.range()[1]+20,null,null]),n.push([g.range()[0]-20,m.range()[0]+20,null,null]),n.push([g.range()[1]+20,m.range()[1]-20,null,null]));var r=d3.geom.polygon([[-10,-10],[-10,d+10],[c+10,d+10],[c+10,-10]]),i=d3.geom.voronoi(n).map(function(t,e){return{data:r.clip(t),series:n[e][2],point:n[e][3]}});Q.select(".nv-point-paths").selectAll("path").remove();var o=Q.select(".nv-point-paths").selectAll("path").data(i),a=o.enter().append("svg:path").attr("d",function(t){return t&&t.data&&0!==t.data.length?"M"+t.data.join(",")+"Z":"M 0 0"}).attr("id",function(t,e){return"nv-path-"+e}).attr("clip-path",function(t,e){return"url(#nv-clip-"+f+"-"+e+")"});if(L&&a.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),E){Q.select(".nv-point-clips").selectAll("*").remove();Q.select(".nv-point-clips").selectAll("clipPath").data(n).enter().append("svg:clipPath").attr("id",function(t,e){return"nv-clip-"+f+"-"+e}).append("svg:circle").attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}).attr("r",A)}var s=function(t,n){if(B)return 0;var r=e[t.series];if(void 0!==r){var i=r.values[t.point];i.color=h(r,t.series),i.x=y(i),i.y=b(i);var o=p.node().getBoundingClientRect(),a=window.pageYOffset||document.documentElement.scrollTop,s=window.pageXOffset||document.documentElement.scrollLeft;n({point:i,series:r,pos:{left:g(y(i,t.point))+o.left+s+u.left+10,top:m(b(i,t.point))+o.top+a+u.top+10},relativePos:[g(y(i,t.point))+u.left,m(b(i,t.point))+u.top],seriesIndex:t.series,pointIndex:t.point})}};o.on("click",function(t){s(t,V.elementClick)}).on("dblclick",function(t){s(t,V.elementDblClick)}).on("mouseover",function(t){s(t,V.elementMouseover)}).on("mouseout",function(t,e){s(t,V.elementMouseout)})}else Q.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(t,n){if(B||!e[t.series])return 0;var r=e[t.series],i=r.values[n];V.elementClick({point:i,series:r,pos:[g(y(i,n))+u.left,m(b(i,n))+u.top],relativePos:[g(y(i,n))+u.left,m(b(i,n))+u.top],seriesIndex:t.series,pointIndex:n})}).on("dblclick",function(t,n){if(B||!e[t.series])return 0;var r=e[t.series],i=r.values[n];V.elementDblClick({point:i,series:r,pos:[g(y(i,n))+u.left,m(b(i,n))+u.top],relativePos:[g(y(i,n))+u.left,m(b(i,n))+u.top],seriesIndex:t.series,pointIndex:n})}).on("mouseover",function(t,n){if(B||!e[t.series])return 0;var r=e[t.series],i=r.values[n];V.elementMouseover({point:i,series:r,pos:[g(y(i,n))+u.left,m(b(i,n))+u.top],relativePos:[g(y(i,n))+u.left,m(b(i,n))+u.top],seriesIndex:t.series,pointIndex:n,color:h(t,n)})}).on("mouseout",function(t,n){if(B||!e[t.series])return 0;var r=e[t.series],i=r.values[n];V.elementMouseout({point:i,series:r,pos:[g(y(i,n))+u.left,m(b(i,n))+u.top],relativePos:[g(y(i,n))+u.left,m(b(i,n))+u.top],seriesIndex:t.series,pointIndex:n,color:h(t,n)})})}p=d3.select(this);var H=t.utils.availableWidth(c,p,u),q=t.utils.availableHeight(d,p,u);t.utils.initSVG(p),e.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var K=r.yScale().name===d3.scale.log().name,J=F&&P&&N?[]:d3.merge(e.map(function(t){return t.values.map(function(t,e){return{x:y(t,e),y:b(t,e),size:x(t,e)}})}));if(g.domain(F||d3.extent(J.map(function(t){return t.x}).concat(w))),T&&e[0]?g.range(R||[(H*$+H)/(2*e[0].values.length),H-H*(1+$)/(2*e[0].values.length)]):g.range(R||[0,H]),K){var X=d3.min(J.map(function(t){if(0!==t.y)return t.y}));m.clamp(!0).domain(P||d3.extent(J.map(function(t){return 0!==t.y?t.y:.1*X}).concat(C))).range(O||[q,0])}else m.domain(P||d3.extent(J.map(function(t){return t.y}).concat(C))).range(O||[q,0]);v.domain(N||d3.extent(J.map(function(t){return t.size}).concat(k))).range(I||G),Y=g.domain()[0]===g.domain()[1]||m.domain()[0]===m.domain()[1],g.domain()[0]===g.domain()[1]&&(g.domain()[0]?g.domain([g.domain()[0]-.01*g.domain()[0],g.domain()[1]+.01*g.domain()[1]]):g.domain([-1,1])),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]):m.domain([-1,1])),isNaN(g.domain()[0])&&g.domain([-1,1]),isNaN(m.domain()[0])&&m.domain([-1,1]),i=i||g,o=o||m,a=a||v;var Z=g(1)!==i(1)||m(1)!==o(1)||v(1)!==a(1),Q=p.selectAll("g.nv-wrap.nv-scatter").data([e]),tt=Q.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+f),et=tt.append("defs"),nt=tt.append("g"),rt=Q.select("g");Q.classed("nv-single-point",Y),nt.append("g").attr("class","nv-groups"),nt.append("g").attr("class","nv-point-paths"),tt.append("g").attr("class","nv-point-clips"),Q.attr("transform","translate("+u.left+","+u.top+")"),et.append("clipPath").attr("id","nv-edge-clip-"+f).append("rect"),Q.select("#nv-edge-clip-"+f+" rect").attr("width",H).attr("height",q>0?q:0),rt.attr("clip-path",D?"url(#nv-edge-clip-"+f+")":""),B=!0;var it=Q.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});it.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),it.exit().remove(),it.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("nv-noninteractive",!S).classed("hover",function(t){return t.hover}),it.watchTransition(U,"scatter: groups").style("fill",function(t,e){return h(t,e)}).style("stroke",function(t,e){return h(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5);var ot=it.selectAll("path.nv-point").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return M(t[0],e)})});if(ot.enter().append("path").attr("class",function(t){return"nv-point nv-point-"+t[1]}).style("fill",function(t){return t.color}).style("stroke",function(t){return t.color}).attr("transform",function(e){return"translate("+t.utils.NaNtoZero(i(y(e[0],e[1])))+","+t.utils.NaNtoZero(o(b(e[0],e[1])))+")"}).attr("d",t.utils.symbol().type(function(t){return _(t[0])}).size(function(t){return v(x(t[0],t[1]))})),ot.exit().remove(),it.exit().selectAll("path.nv-point").watchTransition(U,"scatter exit").attr("transform",function(e){return"translate("+t.utils.NaNtoZero(g(y(e[0],e[1])))+","+t.utils.NaNtoZero(m(b(e[0],e[1])))+")"}).remove(),ot.filter(function(t){return Z||n(t,"x","y")}).watchTransition(U,"scatter points").attr("transform",function(e){return"translate("+t.utils.NaNtoZero(g(y(e[0],e[1])))+","+t.utils.NaNtoZero(m(b(e[0],e[1])))+")"}),ot.filter(function(t){return Z||n(t,"shape","size")}).watchTransition(U,"scatter points").attr("d",t.utils.symbol().type(function(t){return _(t[0])}).size(function(t){return v(x(t[0],t[1]))})),W){var at=it.selectAll(".nv-label").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return M(t[0],e)})});at.enter().append("text").style("fill",function(t,e){return t.color}).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",function(e){return"translate("+(t.utils.NaNtoZero(i(y(e[0],e[1])))+Math.sqrt(v(x(e[0],e[1]))/Math.PI)+2)+","+t.utils.NaNtoZero(o(b(e[0],e[1])))+")"}).text(function(t,e){return t[0].label}),at.exit().remove(),it.exit().selectAll("path.nv-label").watchTransition(U,"scatter exit").attr("transform",function(e){return"translate("+(t.utils.NaNtoZero(g(y(e[0],e[1])))+Math.sqrt(v(x(e[0],e[1]))/Math.PI)+2)+","+t.utils.NaNtoZero(m(b(e[0],e[1])))+")"}).remove(),at.each(function(t){d3.select(this).classed("nv-label",!0).classed("nv-label-"+t[1],!1).classed("hover",!1)}),at.watchTransition(U,"scatter labels").attr("transform",function(e){return"translate("+(t.utils.NaNtoZero(g(y(e[0],e[1])))+Math.sqrt(v(x(e[0],e[1]))/Math.PI)+2)+","+t.utils.NaNtoZero(m(b(e[0],e[1])))+")"})}z?(clearTimeout(s),s=setTimeout(l,z)):l(),i=g.copy(),o=m.copy(),a=v.copy()}),U.renderEnd("scatter immediate"),r}var i,o,a,s,l,u={top:0,right:0,bottom:0,left:0},c=null,d=null,h=t.utils.defaultColor(),f=Math.floor(1e5*Math.random()),p=null,g=d3.scale.linear(),m=d3.scale.linear(),v=d3.scale.linear(),y=function(t){return t.x},b=function(t){return t.y},x=function(t){return t.size||1},_=function(t){return t.shape||"circle"},w=[],C=[],k=[],S=!0,M=function(t){return!t.notActive},T=!1,$=.1,D=!1,E=!0,L=!1,A=function(){return 25},F=null,P=null,R=null,O=null,N=null,I=null,Y=!1,V=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),j=!0,H=250,z=300,W=!1,B=!1,U=t.utils.renderWatch(V,H),G=[16,256];return r.dispatch=V,r.options=t.utils.optionsFunc.bind(r),r._calls=new function(){this.clearHighlights=function(){return t.dom.write(function(){p.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(e,n,r){t.dom.write(function(){p.select(".nv-groups").selectAll(".nv-series-"+e).selectAll(".nv-point-"+n).classed("hover",r)})}},V.on("elementMouseover.point",function(t){S&&r._calls.highlightPoint(t.seriesIndex,t.pointIndex,!0)}),V.on("elementMouseout.point",function(t){S&&r._calls.highlightPoint(t.seriesIndex,t.pointIndex,!1)}),r._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},xScale:{get:function(){return g},set:function(t){g=t}},yScale:{get:function(){return m},set:function(t){m=t}},pointScale:{get:function(){return v},set:function(t){v=t}},xDomain:{get:function(){return F},set:function(t){F=t}},yDomain:{get:function(){return P},set:function(t){P=t}},pointDomain:{get:function(){return N},set:function(t){N=t}},xRange:{get:function(){return R},set:function(t){R=t}},yRange:{get:function(){return O},set:function(t){O=t}},pointRange:{get:function(){return I},set:function(t){I=t}},forceX:{get:function(){return w},set:function(t){w=t}},forceY:{get:function(){return C},set:function(t){C=t}},forcePoint:{get:function(){return k},set:function(t){k=t}},interactive:{get:function(){return S},set:function(t){S=t}},pointActive:{get:function(){return M},set:function(t){M=t}},padDataOuter:{get:function(){return $},set:function(t){$=t}},padData:{get:function(){return T},set:function(t){T=t}},clipEdge:{get:function(){return D},set:function(t){D=t}},clipVoronoi:{get:function(){return E},set:function(t){E=t}},clipRadius:{get:function(){return A},set:function(t){A=t}},showVoronoi:{get:function(){return L},set:function(t){L=t}},id:{get:function(){return f},set:function(t){f=t}},interactiveUpdateDelay:{get:function(){return z},set:function(t){z=t}},showLabels:{get:function(){return W},set:function(t){W=t}},x:{get:function(){return y},set:function(t){y=d3.functor(t)}},y:{get:function(){return b},set:function(t){b=d3.functor(t)}},pointSize:{get:function(){return x},set:function(t){x=d3.functor(t)}},pointShape:{get:function(){return _},set:function(t){_=d3.functor(t)}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},duration:{get:function(){return H},set:function(t){H=t,U.reset(H)}},color:{get:function(){return h},set:function(e){h=t.utils.getColor(e)}},useVoronoi:{get:function(){return j},set:function(t){!1===(j=t)&&(E=!1)}}}),t.utils.initOptions(r),r},t.models.scatterChart=function(){"use strict";function e(S){return E.reset(),E.models(n),b&&E.models(r),x&&E.models(i),m&&E.models(a),v&&E.models(s),S.each(function(S){h=d3.select(this),t.utils.initSVG(h);var F=t.utils.availableWidth(c,h,u),P=t.utils.availableHeight(d,h,u);if(e.update=function(){0===M?h.call(e):h.transition().duration(M).call(e)},e.container=this,w.setter(A(S),e.update).getter(L(S)).update(),w.disabled=S.map(function(t){return!!t.disabled}),!C){var R;C={};for(R in w)w[R]instanceof Array?C[R]=w[R].slice(0):C[R]=w[R]}if(!(S&&S.length&&S.filter(function(t){return t.values.length}).length))return t.utils.noData(e,h),E.renderEnd("scatter immediate"),e;h.selectAll(".nv-noData").remove(),p=n.xScale(),g=n.yScale();var O=h.selectAll("g.nv-wrap.nv-scatterChart").data([S]),N=O.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+n.id()).append("g"),I=O.select("g");if(N.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),N.append("g").attr("class","nv-x nv-axis"),N.append("g").attr("class","nv-y nv-axis"),N.append("g").attr("class","nv-scatterWrap"),N.append("g").attr("class","nv-regressionLinesWrap"),N.append("g").attr("class","nv-distWrap"),N.append("g").attr("class","nv-legendWrap"),_&&I.select(".nv-y.nv-axis").attr("transform","translate("+F+",0)"),y){var Y=F;o.width(Y),O.select(".nv-legendWrap").datum(S).call(o),u.top!=o.height()&&(u.top=o.height(),P=t.utils.availableHeight(d,h,u)),O.select(".nv-legendWrap").attr("transform","translate(0,"+-u.top+")")}else I.select(".nv-legendWrap").selectAll("*").remove();O.attr("transform","translate("+u.left+","+u.top+")"),n.width(F).height(P).color(S.map(function(t,e){return t.color=t.color||f(t,e),t.color}).filter(function(t,e){return!S[e].disabled})).showLabels(T),O.select(".nv-scatterWrap").datum(S.filter(function(t){return!t.disabled})).call(n),O.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+n.id()+")");var V=O.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(t){return t});V.enter().append("g").attr("class","nv-regLines");var j=V.selectAll(".nv-regLine").data(function(t){return[t]});j.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),j.filter(function(t){return t.intercept&&t.slope}).watchTransition(E,"scatterPlusLineChart: regline").attr("x1",p.range()[0]).attr("x2",p.range()[1]).attr("y1",function(t,e){return g(p.domain()[0]*t.slope+t.intercept)}).attr("y2",function(t,e){return g(p.domain()[1]*t.slope+t.intercept)}).style("stroke",function(t,e,n){return f(t,n)}).style("stroke-opacity",function(t,e){return t.disabled||void 0===t.slope||void 0===t.intercept?0:1}),b&&(r.scale(p)._ticks(t.utils.calcTicksX(F/100,S)).tickSize(-P,0),I.select(".nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")").call(r)),x&&(i.scale(g)._ticks(t.utils.calcTicksY(P/36,S)).tickSize(-F,0),I.select(".nv-y.nv-axis").call(i)),m&&(a.getData(n.x()).scale(p).width(F).color(S.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!S[e].disabled})),N.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),I.select(".nv-distributionX").attr("transform","translate(0,"+g.range()[0]+")").datum(S.filter(function(t){return!t.disabled})).call(a)),v&&(s.getData(n.y()).scale(g).width(P).color(S.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!S[e].disabled})),N.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),I.select(".nv-distributionY").attr("transform","translate("+(_?F:-s.size())+",0)").datum(S.filter(function(t){return!t.disabled})).call(s)),o.dispatch.on("stateChange",function(t){for(var n in t)w[n]=t[n];k.stateChange(w),e.update()}),k.on("changeState",function(t){void 0!==t.disabled&&(S.forEach(function(e,n){e.disabled=t.disabled[n]}),w.disabled=t.disabled),e.update()}),n.dispatch.on("elementMouseout.tooltip",function(t){l.hidden(!0),h.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),h.select(".nv-chart-"+n.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",s.size())}),n.dispatch.on("elementMouseover.tooltip",function(t){h.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.relativePos[1]-P),h.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.relativePos[0]+a.size()),l.data(t).hidden(!1)}),$=p.copy(),D=g.copy()}),E.renderEnd("scatter with line immediate"),e}var n=t.models.scatter(),r=t.models.axis(),i=t.models.axis(),o=t.models.legend(),a=t.models.distribution(),s=t.models.distribution(),l=t.models.tooltip(),u={top:30,right:20,bottom:50,left:75},c=null,d=null,h=null,f=t.utils.defaultColor(),p=n.xScale(),g=n.yScale(),m=!1,v=!1,y=!0,b=!0,x=!0,_=!1,w=t.utils.state(),C=null,k=d3.dispatch("stateChange","changeState","renderEnd"),S=null,M=250,T=!1;n.xScale(p).yScale(g),r.orient("bottom").tickPadding(10),i.orient(_?"right":"left").tickPadding(10),a.axis("x"),s.axis("y"),l.headerFormatter(function(t,e){return r.tickFormat()(t,e)}).valueFormatter(function(t,e){return i.tickFormat()(t,e)});var $,D,E=t.utils.renderWatch(k,M),L=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},A=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return e.dispatch=k,e.scatter=n,e.legend=o,e.xAxis=r,e.yAxis=i,e.distX=a,e.distY=s,e.tooltip=l,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},container:{get:function(){return h},set:function(t){h=t}},showDistX:{get:function(){return m},set:function(t){m=t}},showDistY:{get:function(){return v},set:function(t){v=t}},showLegend:{get:function(){return y},set:function(t){y=t}},showXAxis:{get:function(){return b},set:function(t){b=t}},showYAxis:{get:function(){return x},set:function(t){x=t}},defaultState:{get:function(){return C},set:function(t){C=t}},noData:{get:function(){return S},set:function(t){S=t}},duration:{get:function(){return M},set:function(t){M=t}},showLabels:{get:function(){return T},set:function(t){T=t}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},rightAlignYAxis:{get:function(){return _},set:function(t){_=t,i.orient(t?"right":"left")}},color:{get:function(){return f},set:function(e){f=t.utils.getColor(e),o.color(f),a.color(f),s.color(f)}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.models.sparkline=function(){"use strict";function e(c){return b.reset(),c.each(function(e){var c=s-a.left-a.right,y=l-a.top-a.bottom;u=d3.select(this),t.utils.initSVG(u),d.domain(n||d3.extent(e,f)).range(i||[0,c]),h.domain(r||d3.extent(e,p)).range(o||[y,0]);var b=u.selectAll("g.nv-wrap.nv-sparkline").data([e]);b.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g"),b.select("g");b.attr("transform","translate("+a.left+","+a.top+")");var x=b.selectAll("path").data(function(t){return[t]});x.enter().append("path"),x.exit().remove(),x.style("stroke",function(t,e){return t.color||g(t,e)}).attr("d",d3.svg.line().x(function(t,e){return d(f(t,e))}).y(function(t,e){return h(p(t,e))}));var _=b.selectAll("circle.nv-point").data(function(t){function e(e){if(-1!=e){var n=t[e];return n.pointIndex=e,n}return null}var n=t.map(function(t,e){return p(t,e)}),r=e(n.lastIndexOf(h.domain()[1])),i=e(n.indexOf(h.domain()[0])),o=e(n.length-1);return[m?i:null,m?r:null,v?o:null].filter(function(t){return null!=t})});_.enter().append("circle"),_.exit().remove(),_.attr("cx",function(t,e){return d(f(t,t.pointIndex))}).attr("cy",function(t,e){return h(p(t,t.pointIndex))}).attr("r",2).attr("class",function(t,e){return f(t,t.pointIndex)==d.domain()[1]?"nv-point nv-currentValue":p(t,t.pointIndex)==h.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),b.renderEnd("sparkline immediate"),e}var n,r,i,o,a={top:2,right:0,bottom:2,left:0},s=400,l=32,u=null,c=!0,d=d3.scale.linear(),h=d3.scale.linear(),f=function(t){return t.x},p=function(t){return t.y},g=t.utils.getColor(["#000"]),m=!0,v=!0,y=d3.dispatch("renderEnd"),b=t.utils.renderWatch(y);return e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return r},set:function(t){r=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return o},set:function(t){o=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return h},set:function(t){h=t}},animate:{get:function(){return c},set:function(t){c=t}},showMinMaxPoints:{get:function(){return m},set:function(t){m=t}},showCurrentPoint:{get:function(){return v},set:function(t){v=t}},x:{get:function(){return f},set:function(t){f=d3.functor(t)}},y:{get:function(){return p},set:function(t){p=d3.functor(t)}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},color:{get:function(){return g},set:function(e){g=t.utils.getColor(e)}}}),e.dispatch=y,t.utils.initOptions(e),e},t.models.sparklinePlus=function(){"use strict";function e(g){return v.reset(),v.models(i),g.each(function(g){function m(){if(!u){var t=k.selectAll(".nv-hoverValue").data(l),e=t.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);t.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),t.attr("transform",function(t){return"translate("+n(i.x()(g[t],t))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),l.length&&(e.append("line").attr("x1",0).attr("y1",-o.top).attr("x2",0).attr("y2",x),e.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-o.top).attr("text-anchor","end").attr("dy",".9em"),k.select(".nv-hoverValue .nv-xValue").text(c(i.x()(g[l[0]],l[0]))),e.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-o.top).attr("text-anchor","start").attr("dy",".9em"),k.select(".nv-hoverValue .nv-yValue").text(d(i.y()(g[l[0]],l[0]))))}}function v(){if(!u){var t=d3.mouse(this)[0]-o.left;l=[function(t,e){for(var n=Math.abs(i.x()(t[0],0)-e),r=0,o=0;o<t.length;o++)Math.abs(i.x()(t[o],o)-e)<n&&(n=Math.abs(i.x()(t[o],o)-e),r=o);return r}(g,Math.round(n.invert(t)))],m()}}var y=d3.select(this);t.utils.initSVG(y);var b=t.utils.availableWidth(a,y,o),x=t.utils.availableHeight(s,y,o);if(e.update=function(){y.call(e)},e.container=this,!g||!g.length)return t.utils.noData(e,y),e;y.selectAll(".nv-noData").remove();var _=i.y()(g[g.length-1],g.length-1);n=i.xScale(),r=i.yScale();var w=y.selectAll("g.nv-wrap.nv-sparklineplus").data([g]),C=w.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),k=w.select("g");C.append("g").attr("class","nv-sparklineWrap"),C.append("g").attr("class","nv-valueWrap"),C.append("g").attr("class","nv-hoverArea"),w.attr("transform","translate("+o.left+","+o.top+")");var S=k.select(".nv-sparklineWrap");if(i.width(b).height(x),S.call(i),h){var M=k.select(".nv-valueWrap").selectAll(".nv-currentValue").data([_]);M.enter().append("text").attr("class","nv-currentValue").attr("dx",p?-8:8).attr("dy",".9em").style("text-anchor",p?"end":"start"),M.attr("x",b+(p?o.right:0)).attr("y",f?function(t){return r(t)}:0).style("fill",i.color()(g[g.length-1],g.length-1)).text(d(_))}C.select(".nv-hoverArea").append("rect").on("mousemove",v).on("click",function(){u=!u}).on("mouseout",function(){l=[],m()}),k.select(".nv-hoverArea rect").attr("transform",function(t){return"translate("+-o.left+","+-o.top+")"}).attr("width",b+o.left+o.right).attr("height",x+o.top)}),v.renderEnd("sparklinePlus immediate"),e}var n,r,i=t.models.sparkline(),o={top:15,right:100,bottom:10,left:50},a=null,s=null,l=[],u=!1,c=d3.format(",r"),d=d3.format(",.2f"),h=!0,f=!0,p=!1,g=null,m=d3.dispatch("renderEnd"),v=t.utils.renderWatch(m);return e.dispatch=m,e.sparkline=i,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},xTickFormat:{get:function(){return c},set:function(t){c=t}},yTickFormat:{get:function(){return d},set:function(t){d=t}},showLastValue:{get:function(){return h},set:function(t){h=t}},alignValue:{get:function(){return f},set:function(t){f=t}},rightAlignValue:{get:function(){return p},set:function(t){p=t}},noData:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.stackedArea=function(){"use strict";function e(f){return _.reset(),_.models(y),f.each(function(f){var b=o-i.left-i.right,w=a-i.top-i.bottom;u=d3.select(this),t.utils.initSVG(u),n=y.xScale(),r=y.yScale();var C=f;f.forEach(function(t,e){t.seriesIndex=e,t.values=t.values.map(function(t,n){return t.index=n,t.seriesIndex=e,t})});var k=f.filter(function(t){return!t.disabled});f=d3.layout.stack().order(g).offset(p).values(function(t){return t.values}).x(c).y(d).out(function(t,e,n){t.display={y:n,y0:e}})(k);var S=u.selectAll("g.nv-wrap.nv-stackedarea").data([f]),M=S.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),T=M.append("defs"),$=M.append("g"),D=S.select("g");$.append("g").attr("class","nv-areaWrap"),$.append("g").attr("class","nv-scatterWrap"),S.attr("transform","translate("+i.left+","+i.top+")"),0==y.forceY().length&&y.forceY().push(0),y.width(b).height(w).x(c).y(function(t){if(void 0!==t.display)return t.display.y+t.display.y0}).color(f.map(function(t,e){return t.color=t.color||s(t,t.seriesIndex),t.color})),D.select(".nv-scatterWrap").datum(f).call(y),T.append("clipPath").attr("id","nv-edge-clip-"+l).append("rect"),S.select("#nv-edge-clip-"+l+" rect").attr("width",b).attr("height",w),D.attr("clip-path",v?"url(#nv-edge-clip-"+l+")":"");var E=d3.svg.area().defined(h).x(function(t,e){return n(c(t,e))}).y0(function(t){return r(t.display.y0)}).y1(function(t){return r(t.display.y+t.display.y0)}).interpolate(m),L=d3.svg.area().defined(h).x(function(t,e){return n(c(t,e))}).y0(function(t){return r(t.display.y0)}).y1(function(t){return r(t.display.y0)}),A=D.select(".nv-areaWrap").selectAll("path.nv-area").data(function(t){return t});A.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).attr("d",function(t,e){return L(t.values,t.seriesIndex)}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),x.areaMouseover({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),x.areaMouseout({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("click",function(t,e){d3.select(this).classed("hover",!1),x.areaClick({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}),A.exit().remove(),A.style("fill",function(t,e){return t.color||s(t,t.seriesIndex)}).style("stroke",function(t,e){return t.color||s(t,t.seriesIndex)}),A.watchTransition(_,"stackedArea path").attr("d",function(t,e){return E(t.values,e)}),y.dispatch.on("elementMouseover.area",function(t){D.select(".nv-chart-"+l+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),y.dispatch.on("elementMouseout.area",function(t){D.select(".nv-chart-"+l+" .nv-area-"+t.seriesIndex).classed("hover",!1)}),e.d3_stackedOffset_stackPercent=function(t){var e,n,r,i=t.length,o=t[0].length,a=[];for(n=0;n<o;++n){for(e=0,r=0;e<C.length;e++)r+=d(C[e].values[n]);if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=0}for(n=0;n<o;++n)a[n]=0;return a}}),_.renderEnd("stackedArea immediate"),e}var n,r,i={top:0,right:0,bottom:0,left:0},o=960,a=500,s=t.utils.defaultColor(),l=Math.floor(1e5*Math.random()),u=null,c=function(t){return t.x},d=function(t){return t.y},h=function(t,e){return!isNaN(d(t,e))&&null!==d(t,e)},f="stack",p="zero",g="default",m="linear",v=!1,y=t.models.scatter(),b=250,x=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");y.pointSize(2.2).pointDomain([2.2,2.2]);var _=t.utils.renderWatch(x,b);return e.dispatch=x,e.scatter=y,y.dispatch.on("elementClick",function(){x.elementClick.apply(this,arguments)}),y.dispatch.on("elementMouseover",function(){x.elementMouseover.apply(this,arguments)}),y.dispatch.on("elementMouseout",function(){x.elementMouseout.apply(this,arguments)}),e.interpolate=function(t){return arguments.length?(m=t,e):m},e.duration=function(t){return arguments.length?(b=t,_.reset(b),y.duration(b),e):b},e.dispatch=x,e.scatter=y,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return a},set:function(t){a=t}},defined:{get:function(){return h},set:function(t){h=t}},clipEdge:{get:function(){return v},set:function(t){v=t}},offset:{get:function(){return p},set:function(t){p=t}},order:{get:function(){return g},set:function(t){g=t}},interpolate:{get:function(){return m},set:function(t){m=t}},x:{get:function(){return c},set:function(t){c=d3.functor(t)}},y:{get:function(){return d},set:function(t){d=d3.functor(t)}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}},color:{get:function(){return s},set:function(e){s=t.utils.getColor(e)}},style:{get:function(){return f},set:function(t){switch(f=t){case"stack":e.offset("zero"),e.order("default");break;case"stream":e.offset("wiggle"),e.order("inside-out");break;case"stream-center":e.offset("silhouette"),e.order("inside-out");break;case"expand":e.offset("expand"),e.order("default");break;case"stack_percent":e.offset(e.d3_stackedOffset_stackPercent),e.order("default")}}},duration:{get:function(){return b},set:function(t){b=t,_.reset(b),y.duration(b)}}}),t.utils.inheritOptions(e,y),t.utils.initOptions(e),e},t.models.stackedAreaChart=function(){"use strict";function e(c){return R.reset(),R.models(i),y&&R.models(o),b&&R.models(a),c.each(function(c){function T(){y&&q.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+W+")").transition().duration(A).call(o)}function R(){if(b){if("expand"===i.style()||"stack_percent"===i.style()){var t=a.tickFormat();F&&t===Y||(F=t),a.tickFormat(Y)}else F&&(a.tickFormat(F),F=null);q.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(a)}}function V(t){q.select(".nv-focus .nv-stackedWrap").datum(c.filter(function(t){return!t.disabled}).map(function(e,n){return{key:e.key,area:e.area,classed:e.classed,values:e.values.filter(function(e,n){return i.x()(e,n)>=t[0]&&i.x()(e,n)<=t[1]}),disableTooltip:e.disableTooltip}})).transition().duration(A).call(i),T(),R()}var j=d3.select(this),H=this;t.utils.initSVG(j);var z=t.utils.availableWidth(f,j,h),W=t.utils.availableHeight(p,j,h)-(_?d.height():0);if(e.update=function(){j.transition().duration(A).call(e)},e.container=this,S.setter(I(c),e.update).getter(N(c)).update(),S.disabled=c.map(function(t){return!!t.disabled}),!M){var B;M={};for(B in S)S[B]instanceof Array?M[B]=S[B].slice(0):M[B]=S[B]}if(!(c&&c.length&&c.filter(function(t){return t.values.length}).length))return t.utils.noData(e,j),e;j.selectAll(".nv-noData").remove(),n=i.xScale(),r=i.yScale();var U=j.selectAll("g.nv-wrap.nv-stackedAreaChart").data([c]),G=U.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),q=U.select("g");G.append("g").attr("class","nv-legendWrap"),G.append("g").attr("class","nv-controlsWrap");var K=G.append("g").attr("class","nv-focus");K.append("g").attr("class","nv-background").append("rect"),K.append("g").attr("class","nv-x nv-axis"),K.append("g").attr("class","nv-y nv-axis"),K.append("g").attr("class","nv-stackedWrap"),K.append("g").attr("class","nv-interactive");G.append("g").attr("class","nv-focusWrap");if(v){var J=m?z-D:z;s.width(J),q.select(".nv-legendWrap").datum(c).call(s),h.top!=s.height()&&(h.top=s.height(),W=t.utils.availableHeight(p,j,h)-(_?d.height():0)),q.select(".nv-legendWrap").attr("transform","translate("+(z-J)+","+-h.top+")")}else q.select(".nv-legendWrap").selectAll("*").remove();if(m){var X=[{key:L.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=i.style(),style:"stack"},{key:L.stream||"Stream",metaKey:"Stream",disabled:"stream"!=i.style(),style:"stream"},{key:L.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=i.style(),style:"expand"},{key:L.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=i.style(),style:"stack_percent"}];D=E.length/3*260,X=X.filter(function(t){return-1!==E.indexOf(t.metaKey)}),l.width(D).color(["#444","#444","#444"]),q.select(".nv-controlsWrap").datum(X).call(l),h.top!=Math.max(l.height(),s.height())&&(h.top=Math.max(l.height(),s.height()),W=t.utils.availableHeight(p,j,h)),q.select(".nv-controlsWrap").attr("transform","translate(0,"+-h.top+")")}else q.select(".nv-controlsWrap").selectAll("*").remove();U.attr("transform","translate("+h.left+","+h.top+")"),x&&q.select(".nv-y.nv-axis").attr("transform","translate("+z+",0)"),w&&(u.width(z).height(W).margin({left:h.left,top:h.top}).svgContainer(j).xScale(n),U.select(".nv-interactive").call(u)),q.select(".nv-focus .nv-background rect").attr("width",z).attr("height",W),i.width(z).height(W).color(c.map(function(t,e){return t.color||g(t,e)}).filter(function(t,e){return!c[e].disabled}));var Z=q.select(".nv-focus .nv-stackedWrap").datum(c.filter(function(t){return!t.disabled}));if(y&&o.scale(n)._ticks(t.utils.calcTicksX(z/100,c)).tickSize(-W,0),b){var Q;Q="wiggle"===i.offset()?0:t.utils.calcTicksY(W/36,c),a.scale(r)._ticks(Q).tickSize(-z,0)}if(_){d.width(z),q.select(".nv-focusWrap").attr("transform","translate(0,"+(W+h.bottom+d.margin().top)+")").datum(c.filter(function(t){return!t.disabled})).call(d);var tt=d.brush.empty()?d.xDomain():d.brush.extent();null!==tt&&V(tt)}else Z.transition().call(i),T(),R();i.dispatch.on("areaClick.toggle",function(t){1===c.filter(function(t){return!t.disabled}).length?c.forEach(function(t){t.disabled=!1}):c.forEach(function(e,n){e.disabled=n!=t.seriesIndex}),S.disabled=c.map(function(t){return!!t.disabled}),$.stateChange(S),e.update()}),s.dispatch.on("stateChange",function(t){for(var n in t)S[n]=t[n];$.stateChange(S),e.update()}),l.dispatch.on("legendClick",function(t,n){t.disabled&&(X=X.map(function(t){return t.disabled=!0,t}),t.disabled=!1,i.style(t.style),S.style=i.style(),$.stateChange(S),e.update())}),u.dispatch.on("elementMousemove",function(n){i.clearHighlights();var r,o,a,s=[],l=0,d=!0;if(c.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(u,c){o=t.interactiveBisect(u.values,n.pointXValue,e.x());var h=u.values[o];if(null!=e.y()(h,o)&&i.highlightPoint(c,o,!0),void 0!==h){void 0===r&&(r=h),void 0===a&&(a=e.xScale()(e.x()(h,o)));var f="expand"==i.style()?h.display.y:e.y()(h,o);s.push({key:u.key,value:f,color:g(u,u.seriesIndex),point:h}),C&&"expand"!=i.style()&&null!=f&&(l+=f,d=!1)}}),s.reverse(),s.length>2){var h=e.yScale().invert(n.mouseY),f=null;s.forEach(function(t,e){h=Math.abs(h);var n=Math.abs(t.point.display.y0),r=Math.abs(t.point.display.y);h>=n&&h<=r+n&&(f=e)}),null!=f&&(s[f].highlight=!0)}C&&"expand"!=i.style()&&s.length>=2&&!d&&s.push({key:k,value:l,total:!0});var p=e.x()(r,o),m=u.tooltip.valueFormatter();"expand"===i.style()||"stack_percent"===i.style()?(P||(P=m),m=d3.format(".1%")):P&&(m=P,P=null),u.tooltip.chartContainer(H.parentNode).valueFormatter(m).data({value:p,series:s})(),u.renderGuideLine(a)}),u.dispatch.on("elementMouseout",function(t){i.clearHighlights()}),d.dispatch.on("onBrush",function(t){V(t)}),$.on("changeState",function(t){void 0!==t.disabled&&c.length===t.disabled.length&&(c.forEach(function(e,n){e.disabled=t.disabled[n]}),S.disabled=t.disabled),void 0!==t.style&&(i.style(t.style),O=t.style),e.update()})}),R.renderEnd("stacked Area chart immediate"),e}var n,r,i=t.models.stackedArea(),o=t.models.axis(),a=t.models.axis(),s=t.models.legend(),l=t.models.legend(),u=t.interactiveGuideline(),c=t.models.tooltip(),d=t.models.focus(t.models.stackedArea()),h={top:30,right:25,bottom:50,left:60},f=null,p=null,g=t.utils.defaultColor(),m=!0,v=!0,y=!0,b=!0,x=!1,_=!1,w=!1,C=!0,k="TOTAL",S=t.utils.state(),M=null,T=null,$=d3.dispatch("stateChange","changeState","renderEnd"),D=250,E=["Stacked","Stream","Expanded"],L={},A=250;S.style=i.style(),o.orient("bottom").tickPadding(7),a.orient(x?"right":"left"),c.headerFormatter(function(t,e){return o.tickFormat()(t,e)}).valueFormatter(function(t,e){return a.tickFormat()(t,e)}),u.tooltip.headerFormatter(function(t,e){return o.tickFormat()(t,e)}).valueFormatter(function(t,e){return null==t?"N/A":a.tickFormat()(t,e)});var F=null,P=null;l.updateState(!1);var R=t.utils.renderWatch($),O=i.style(),N=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),style:i.style()}}},I=function(t){return function(e){void 0!==e.style&&(O=e.style),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},Y=d3.format("%");return i.dispatch.on("elementMouseover.tooltip",function(t){t.point.x=i.x()(t.point),t.point.y=i.y()(t.point),c.data(t).hidden(!1)}),i.dispatch.on("elementMouseout.tooltip",function(t){c.hidden(!0)}),e.dispatch=$,e.stacked=i,e.legend=s,e.controls=l,e.xAxis=o,e.x2Axis=d.xAxis,e.yAxis=a,e.y2Axis=d.yAxis,e.interactiveLayer=u,e.tooltip=c,e.focus=d,e.dispatch=$,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return v},set:function(t){v=t}},showXAxis:{get:function(){return y},set:function(t){y=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},defaultState:{get:function(){return M},set:function(t){M=t}},noData:{get:function(){return T},set:function(t){T=t}},showControls:{get:function(){return m},set:function(t){m=t}},controlLabels:{get:function(){return L},set:function(t){L=t}},controlOptions:{get:function(){return E},set:function(t){E=t}},showTotalInTooltip:{get:function(){return C},set:function(t){C=t}},totalLabel:{get:function(){return k},set:function(t){k=t}},focusEnable:{get:function(){return _},set:function(t){_=t}},focusHeight:{get:function(){return d.height()},set:function(t){d.height(t)}},brushExtent:{get:function(){return d.brushExtent()},set:function(t){d.brushExtent(t)}},margin:{get:function(){return h},set:function(t){h.top=void 0!==t.top?t.top:h.top,h.right=void 0!==t.right?t.right:h.right,h.bottom=void 0!==t.bottom?t.bottom:h.bottom,h.left=void 0!==t.left?t.left:h.left}},focusMargin:{get:function(){return d.margin},set:function(t){d.margin.top=void 0!==t.top?t.top:d.margin.top,d.margin.right=void 0!==t.right?t.right:d.margin.right,d.margin.bottom=void 0!==t.bottom?t.bottom:d.margin.bottom,d.margin.left=void 0!==t.left?t.left:d.margin.left}},duration:{get:function(){return A},set:function(t){A=t,R.reset(A),i.duration(A),o.duration(A),a.duration(A)}},color:{get:function(){return g},set:function(e){g=t.utils.getColor(e),s.color(g),i.color(g),d.color(g)}},x:{get:function(){return i.x()},set:function(t){i.x(t),d.x(t)}},y:{get:function(){return i.y()},set:function(t){i.y(t),d.y(t)}},rightAlignYAxis:{get:function(){return x},set:function(t){x=t,a.orient(x?"right":"left")}},useInteractiveGuideline:{get:function(){return w},set:function(t){w=!!t,e.interactive(!t),e.useVoronoi(!t),i.scatter.interactive(!t)}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.stackedAreaWithFocusChart=function(){return t.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)},t.models.sunburst=function(){"use strict";function e(t){return n(t)>90?180:0}function n(t){return(Math.max(0,Math.min(2*Math.PI,E(t.x)))+Math.max(0,Math.min(2*Math.PI,E(t.x+t.dx))))/2*(180/Math.PI)-90}function r(t){var e=Math.max(0,Math.min(2*Math.PI,E(t.x)));return Math.max(0,Math.min(2*Math.PI,E(t.x+t.dx)))-e>k}function i(t,e){var n=d3.interpolate(E.domain(),[c.x,c.x+c.dx]),r=d3.interpolate(L.domain(),[c.y,1]),i=d3.interpolate(L.range(),[c.y?20:0,f]);return 0===e?function(){return P(t)}:function(e){return E.domain(n(e)),L.domain(r(e)).range(i(e)),P(t)}}function o(t){var e=d3.interpolate({x:t.x0,dx:t.dx0,y:t.y0,dy:t.dy0},t);return function(n){var r=e(n);return t.x0=r.x,t.dx0=r.dx,t.y0=r.y,t.dy0=r.dy,P(r)}}function a(t){var e=M(t);F[e]||(F[e]={});var n=F[e];n.dx=t.dx,n.x=t.x,n.dy=t.dy,n.y=t.y}function s(t){t.forEach(function(t){var e=M(t),n=F[e];n?(t.dx0=n.dx,t.x0=n.x,t.dy0=n.dy,t.y0=n.y):(t.dx0=t.dx,t.x0=t.x,t.dy0=t.dy,t.y0=t.y),a(t)})}function l(t){var o=x.selectAll("text"),a=x.selectAll("path");o.transition().attr("opacity",0),c=t,a.transition().duration($).attrTween("d",i).each("end",function(i){i.x>=t.x&&i.x<t.x+t.dx&&i.depth>=t.depth&&d3.select(this.parentNode).select("text").transition().duration($).text(function(t){return C(t)}).attr("opacity",function(t){return r(t)?1:0}).attr("transform",function(){var r=this.getBBox().width;if(0===i.depth)return"translate("+r/2*-1+",0)";if(i.depth===t.depth)return"translate("+(L(i.y)+5)+",0)";var o=n(i),a=e(i);return 0===a?"rotate("+o+")translate("+(L(i.y)+5)+",0)":"rotate("+o+")translate("+(L(i.y)+r+5)+",0)rotate("+a+")"})})}function u(i){return R.reset(),i.each(function(i){x=d3.select(this),d=t.utils.availableWidth(g,x,p),h=t.utils.availableHeight(m,x,p),f=Math.min(d,h)/2,L.range([0,f]);var a=x.select("g.nvd3.nv-wrap.nv-sunburst");a[0][0]||(a=x.append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+b).attr("transform","translate("+d/2+","+h/2+")")),x.on("click",function(t,e){D.chartClick({data:t,index:e,pos:d3.event,id:b})}),A.value(y[v]||y.count);var u=A.nodes(i[0]).reverse();s(u);var c=a.selectAll(".arc-container").data(u,M);c.enter().append("g").attr("class","arc-container").append("path").attr("d",P).style("fill",function(t){return t.color?t.color:_(T?(t.children?t:t.parent).name:t.name)}).style("stroke","#FFF").on("click",l).on("mouseover",function(t,e){d3.select(this).classed("hover",!0).style("opacity",.8),D.elementMouseover({data:t,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1).style("opacity",1),D.elementMouseout({data:t})}).on("mousemove",function(t,e){D.elementMousemove({data:t})}),c.each(function(t){d3.select(this).select("path").transition().duration($).attrTween("d",o)}),w&&(c.selectAll("text").remove(),c.append("text").text(function(t){return C(t)}).transition().duration($).attr("opacity",function(t){return r(t)?1:0}).attr("transform",function(t){var r=this.getBBox().width;if(0===t.depth)return"rotate(0)translate("+r/2*-1+",0)";var i=n(t),o=e(t);return 0===o?"rotate("+i+")translate("+(L(t.y)+5)+",0)":"rotate("+i+")translate("+(L(t.y)+r+5)+",0)rotate("+o+")"})),l(u[u.length-1]),c.exit().transition().duration($).attr("opacity",0).each("end",function(t){var e=M(t);F[e]=void 0}).remove()}),R.renderEnd("sunburst immediate"),u}var c,d,h,f,p={top:0,right:0,bottom:0,left:0},g=600,m=600,v="count",y={count:function(t){return 1},value:function(t){return t.value||t.size},size:function(t){return t.value||t.size}},b=Math.floor(1e4*Math.random()),x=null,_=t.utils.defaultColor(),w=!1,C=function(t){return"count"===v?t.name+" #"+t.value:t.name+" "+(t.value||t.size)},k=.02,S=function(t,e){return t.name>e.name},M=function(t,e){return t.name},T=!0,$=500,D=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),E=d3.scale.linear().range([0,2*Math.PI]),L=d3.scale.sqrt(),A=d3.layout.partition().sort(S),F={},P=d3.svg.arc().startAngle(function(t){return Math.max(0,Math.min(2*Math.PI,E(t.x)))}).endAngle(function(t){return Math.max(0,Math.min(2*Math.PI,E(t.x+t.dx)))}).innerRadius(function(t){return Math.max(0,L(t.y))}).outerRadius(function(t){return Math.max(0,L(t.y+t.dy))}),R=t.utils.renderWatch(D);return u.dispatch=D,u.options=t.utils.optionsFunc.bind(u),u._options=Object.create({},{width:{get:function(){return g},set:function(t){g=t}},height:{get:function(){return m},set:function(t){m=t}},mode:{get:function(){return v},set:function(t){v=t}},id:{get:function(){return b},set:function(t){b=t}},duration:{get:function(){return $},set:function(t){$=t}},groupColorByParent:{get:function(){return T},set:function(t){T=!!t}},showLabels:{get:function(){return w},set:function(t){w=!!t}},labelFormat:{get:function(){return C},set:function(t){C=t}},labelThreshold:{get:function(){return k},set:function(t){k=t}},sort:{get:function(){return S},set:function(t){S=t}},key:{get:function(){return M},set:function(t){M=t}},margin:{get:function(){return p},set:function(t){p.top=void 0!=t.top?t.top:p.top,p.right=void 0!=t.right?t.right:p.right,p.bottom=void 0!=t.bottom?t.bottom:p.bottom,p.left=void 0!=t.left?t.left:p.left}},color:{get:function(){return _},set:function(e){_=t.utils.getColor(e)}}}),t.utils.initOptions(u),u},t.models.sunburstChart=function(){"use strict";function e(r){return h.reset(),h.models(n),r.each(function(r){var s=d3.select(this);t.utils.initSVG(s);var l=t.utils.availableWidth(o,s,i),u=t.utils.availableHeight(a,s,i);if(e.update=function(){0===c?s.call(e):s.transition().duration(c).call(e)},e.container=s,!r||!r.length)return t.utils.noData(e,s),e;s.selectAll(".nv-noData").remove(),n.width(l).height(u),s.call(n)}),h.renderEnd("sunburstChart immediate"),e}var n=t.models.sunburst(),r=t.models.tooltip(),i={top:30,right:20,bottom:20,left:20},o=null,a=null,s=t.utils.defaultColor(),l=(Math.round(1e5*Math.random()),null),u=null,c=250,d=d3.dispatch("stateChange","changeState","renderEnd"),h=t.utils.renderWatch(d);return r.duration(0).headerEnabled(!1).valueFormatter(function(t){return t}),n.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.data.name,value:t.data.value||t.data.size,color:t.color},r.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){r.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(t){r()}),e.dispatch=d,e.sunburst=n,e.tooltip=r,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{noData:{get:function(){return u},set:function(t){u=t}},defaultState:{get:function(){return l},set:function(t){l=t}},color:{get:function(){return s},set:function(t){s=t,n.color(s)}},duration:{get:function(){return c},set:function(t){c=t,h.reset(c),n.duration(c)}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.version="1.8.3-dev"}(),function(t,e){"use strict";if("object"==typeof exports)module.exports=e(require("d3"));else if("function"==typeof define&&define.amd)define(["d3"],function(n){return t.dimple=e(n),t.dimple});else if(t.d3)t.dimple=e(t.d3);else{if(!console||!console.warn)throw"dimple requires d3 to run.  Are you missing a reference to the d3 library?";console.warn("dimple requires d3 to run.  Are you missing a reference to the d3 library?")}}(this,function(t){"use strict";var e={version:"2.1.6",plot:{},aggregateMethod:{}};return e.axis=function(n,r,i,o,a,s){this.chart=n,this.position=r,this.categoryFields=null===a||void 0===a?i:[].concat(a),this.measure=o,this.timeField=a,this.floatingBarWidth=5,this.hidden=!1,this.showPercent=!1,this.colors=null,this.overrideMin=null,this.overrideMax=null,this.shapes=null,this.showGridlines=null,this.gridlineShapes=null,this.titleShape=null,this.dateParseFormat=null,this.tickFormat=null,this.timePeriod=null,this.timeInterval=1,this.useLog=!1,this.logBase=10,this.title=void 0,this.clamp=!0,this.ticks=null,this.fontSize="10px",this.fontFamily="sans-serif",this.autoRotateLabel=null===s||void 0===s||s,this._slaves=[],this._scale=null,this._min=0,this._max=0,this._previousOrigin=null,this._origin=null,this._orderRules=[],this._groupOrderRules=[],this._draw=null,this._getAxisData=function(){var t,e,n=[],r=!1;if(this.chart&&this.chart.series){for(t=0;t<this.chart.series.length;t+=1)(e=this.chart.series[t])[this.position]===this&&(e.data&&e.data.length>0?n=n.concat(e.data):r=!0);r&&this.chart.data&&(n=n.concat(this.chart.data))}return n},this._getFontSize=function(){return this.fontSize&&"auto"!==this.fontSize.toString().toLowerCase()?isNaN(this.fontSize)?this.fontSize:this.fontSize+"px":(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px"},this._getFormat=function(){var e,n,r,i,o,a,s;return null!==this.tickFormat&&void 0!==this.tickFormat?e=this._hasTimeField()?t.time.format(this.tickFormat):t.format(this.tickFormat):this.showPercent?e=t.format("%"):this.useLog&&null!==this.measure?e=function(e){var n=Math.floor(Math.abs(e),0).toString().length,r=Math.min(Math.floor((n-1)/3),4),i="kmBT".substring(r-1,r),o="0"===Math.round(e/Math.pow(1e3,r)*10).toString().slice(-1)?0:1;return 0===e?0:t.format(",."+o+"f")(e/Math.pow(1e3,r))+i}:null!==this.measure?(n=Math.floor(Math.abs(this._max),0).toString(),r=Math.floor(Math.abs(this._min),0).toString(),(i=Math.max(r.length,n.length))>3?(o=Math.min(Math.floor((i-1)/3),4),a="kmBT".substring(o-1,o),s=i-3*o<=1?1:0,e=function(e){return 0===e?0:t.format(",."+s+"f")(e/Math.pow(1e3,o))+a}):(s=-Math.floor(Math.log(this._tick_step)/Math.LN10),e=t.format(",."+s+"f"))):e=function(t){return t},e},this._getTimePeriod=function(){var e=this.timePeriod,n=this._max-this._min;return this._hasTimeField()&&!this.timePeriod&&(e=n/1e3<=30?t.time.seconds:n/6e4<=30?t.time.minutes:n/36e5<=30?t.time.hours:n/864e5<=30?t.time.days:n/6048e5<=30?t.time.weeks:n/26298e5<=30?t.time.months:t.time.years),e},this._getTooltipText=function(e,n){if(this._hasTimeField())n[this.position+"Field"][0]&&e.push(this.timeField+": "+this._getFormat()(n[this.position+"Field"][0]));else if(this._hasCategories())this.categoryFields.forEach(function(t,r){null!==t&&void 0!==t&&n[this.position+"Field"][r]&&e.push(t+(n[this.position+"Field"][r]!==t?": "+n[this.position+"Field"][r]:""))},this);else if(this._hasMeasure())switch(this.position){case"x":e.push(this.measure+": "+this._getFormat()(n.width));break;case"y":e.push(this.measure+": "+this._getFormat()(n.height));break;case"p":e.push(this.measure+": "+this._getFormat()(n.angle)+" ("+t.format("%")(n.piePct)+")");break;default:e.push(this.measure+": "+this._getFormat()(n[this.position+"Value"]))}},this._getTopMaster=function(){var t=this;return null!==this.master&&void 0!==this.master&&(t=this.master._getTopMaster()),t},this._hasCategories=function(){return null!==this.categoryFields&&void 0!==this.categoryFields&&this.categoryFields.length>0},this._hasMeasure=function(){return null!==this.measure&&void 0!==this.measure},this._hasTimeField=function(){return null!==this.timeField&&void 0!==this.timeField},this._parseDate=function(e){return null===this.dateParseFormat||void 0===this.dateParseFormat?isNaN(e)?Date.parse(e):new Date(e):t.time.format(this.dateParseFormat).parse(e)},this._update=function(n){var r,i,o,a,s=[],l=this.ticks||10,u=function(t,n,r){var i,o,a=t.categoryFields[0],s=t._getAxisData(),l=a,u=!1,c=!0,d=null;for(i=0;i<s.length;i+=1)if(null!==(d=t._parseDate(s[i][a]))&&void 0!==d&&isNaN(d)){c=!1;break}return c||t.chart.series.forEach(function(e){e[n]===t&&e[r]._hasMeasure()&&(l=e[r].measure,u=!0)},this),o=t._orderRules.concat({ordering:l,desc:u}),e._getOrderedList(s,a,o)};if(this._min=this.showPercent&&this._min<-1?-1:this._min,this._max=this.showPercent&&this._max>1?1:this._max,this._min=null!==this.overrideMin?this.overrideMin:this._min,this._max=null!==this.overrideMax?this.overrideMax:this._max,"x"!==this.position||null!==this._scale&&!n){if("y"!==this.position||null!==this._scale&&!n)this.position.length>0&&"z"===this.position[0]&&null===this._scale?this.useLog?this._scale=t.scale.log().range([this.chart._heightPixels()/300,this.chart._heightPixels()/10]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase):this._scale=t.scale.linear().range([1,this.chart._heightPixels()/10]).domain([this._min,this._max]).clamp(this.clamp):this.position.length>0&&"p"===this.position[0]&&null===this._scale?this.useLog?this._scale=t.scale.log().range([0,360]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase):this._scale=t.scale.linear().range([0,360]).domain([this._min,this._max]).clamp(this.clamp):this.position.length>0&&"c"===this.position[0]&&null===this._scale&&(this._scale=t.scale.linear().range([0,null===this.colors||1===this.colors.length?1:this.colors.length-1]).domain([this._min,this._max]).clamp(this.clamp));else if(this._hasTimeField()?this._scale=t.time.scale().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([this._min,this._max]).clamp(this.clamp):this.useLog?this._scale=t.scale.log().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase).nice():null===this.measure||void 0===this.measure?(s=u(this,"y","x"),null!==this._slaves&&void 0!==this._slaves&&this._slaves.forEach(function(t){s=s.concat(u(t,"y","x"))},this),this._scale=t.scale.ordinal().rangePoints([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain(s.concat([""]))):this._scale=t.scale.linear().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([this._min,this._max]).clamp(this.clamp).nice(),!this.hidden)switch(this.chart._axisIndex(this,"y")){case 0:this._draw=t.svg.axis().orient("left").scale(this._scale),this.ticks&&this._draw.ticks(l);break;case 1:this._draw=t.svg.axis().orient("right").scale(this._scale),this.ticks&&this._draw.ticks(l)}}else if(this._hasTimeField()?this._scale=t.time.scale().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([this._min,this._max]).clamp(this.clamp):this.useLog?this._scale=t.scale.log().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([0===this._min?Math.pow(this.logBase,-1):this._min,0===this._max?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase).nice():null===this.measure||void 0===this.measure?(s=u(this,"x","y"),null!==this._slaves&&void 0!==this._slaves&&this._slaves.forEach(function(t){s=s.concat(u(t,"x","y"))},this),this._scale=t.scale.ordinal().rangePoints([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain(s.concat([""]))):this._scale=t.scale.linear().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([this._min,this._max]).clamp(this.clamp).nice(),!this.hidden)switch(this.chart._axisIndex(this,"x")){case 0:this._draw=t.svg.axis().orient("bottom").scale(this._scale),this.ticks&&this._draw.ticks(l);break;case 1:this._draw=t.svg.axis().orient("top").scale(this._scale),this.ticks&&this._draw.ticks(l)}return null!==this._slaves&&void 0!==this._slaves&&this._slaves.length>0&&this._slaves.forEach(function(t){t._scale=this._scale},this),null!==n&&void 0!==n&&!1!==n||this._hasTimeField()||null===this._scale||null===this._scale.ticks||void 0===this._scale.ticks||!(this._scale.ticks(l).length>0)||"x"!==this.position&&"y"!==this.position||(i=(r=this._scale.ticks(l))[1]-r[0],o=((this._max-this._min)%i).toFixed(0),this._tick_step=i,0!==o&&(this._max=Math.ceil(this._max/i)*i,this._min=Math.floor(this._min/i)*i,this._update(!0))),a=null!==s&&void 0!==s&&s.length>0?this._scale.copy()(s[0]):this._min>0?this._scale.copy()(this._min):this._max<0?this._scale.copy()(this._max):this._scale.copy()(0),this._origin!==a&&(this._previousOrigin=null===this._origin?a:this._origin,this._origin=a),this},this.addGroupOrderRule=function(t,e){this._groupOrderRules.push({ordering:t,desc:e})},this.addOrderRule=function(t,e){this._orderRules.push({ordering:t,desc:e})}},e.chart=function(n,r){this.svg=n,this.x="10%",this.y="10%",this.width="80%",this.height="80%",this.data=r,this.noFormats=!1,this.axes=[],this.series=[],this.legends=[],this.storyboard=null,this.titleShape=null,this.shapes=null,this.ease="cubic-in-out",this.staggerDraw=!1,this._group=n.append("g"),this._tooltipGroup=null,this._assignedColors={},this._assignedClasses={},this._nextColor=0,this._nextClass=0,this._axisIndex=function(t,e){var n=0,r=0,i=-1;for(n=0;n<this.axes.length;n+=1){if(this.axes[n]===t){i=r;break}null!==e&&void 0!==e&&e[0]!==this.axes[n].position[0]||(r+=1)}return i},this._getAllData=function(){var t=[];return null!==this.data&&void 0!==this.data&&this.data.length>0&&(t=t.concat(this.data)),null!==this.series&&void 0!==this.series&&this.series.length>0&&this.series.forEach(function(e){null!==e.data&&void 0!==e.data&&e.data.length>0&&(t=t.concat(e.data))}),t},this._getData=function(n,r,i,o,a,s,l,u,c,d){var h,f,p=[],g=function(t,e){var n=[];return null!==t&&(t._hasTimeField()?n.push(t._parseDate(e[t.timeField])):t._hasCategories()&&t.categoryFields.forEach(function(t){n.push(e[t])},this)),n},m={x:!1,y:!1,z:!1,p:!1,c:!1},v={x:[],y:[]},y={x:[],y:[],z:[],p:[]},b={min:null,max:null},x={x:[],y:[],z:[],p:[]},_=[],w={},C={x:0,y:0,z:0,p:0},k="",S=[],M=[],T=[],$="",D=[],E="",L=[],A="",F=[],P=[],R=n,O=[];this.storyboard&&this.storyboard.categoryFields.length>0&&(k=this.storyboard.categoryFields[0],S=e._getOrderedList(R,k,this.storyboard._orderRules)),s&&s._hasCategories()&&s._hasMeasure()&&($=s.categoryFields[0],D=e._getOrderedList(R,$,s._orderRules.concat([{ordering:s.measure,desc:!0}]))),l&&l._hasCategories()&&l._hasMeasure()&&(E=l.categoryFields[0],L=e._getOrderedList(R,E,l._orderRules.concat([{ordering:l.measure,desc:!0}]))),c&&c._hasCategories()&&c._hasMeasure()&&(A=c.categoryFields[0],F=e._getOrderedList(R,A,c._orderRules.concat([{ordering:c.measure,desc:!0}]))),R.length>0&&r&&r.length>0&&(P=[].concat(o),M=[],r.forEach(function(t){void 0!==R[0][t]&&M.push(t)},this),c&&c._hasMeasure()?P.push({ordering:c.measure,desc:!0}):d&&d._hasMeasure()?P.push({ordering:d.measure,desc:!0}):u&&u._hasMeasure()?P.push({ordering:u.measure,desc:!0}):s&&s._hasMeasure()?P.push({ordering:s.measure,desc:!0}):l&&l._hasMeasure()&&P.push({ordering:l.measure,desc:!0}),T=e._getOrderedList(R,M,P)),R.sort(function(t,e){var n,r,i,o,a,s,l=0;if(""!==k&&(l=S.indexOf(t[k])-S.indexOf(e[k])),""!==$&&0===l&&(l=D.indexOf(t[$])-D.indexOf(e[$])),""!==E&&0===l&&(l=L.indexOf(t[E])-L.indexOf(e[E])),""!==A&&0===l&&(l=F.indexOf(t[A])-L.indexOf(e[A])),M&&M.length>0&&0===l)for(n=[].concat(M),l=0,i=0;i<T.length;i+=1){for(r=[].concat(T[i]),a=!0,s=!0,o=0;o<n.length;o+=1)a=a&&t[n[o]]===r[o],s=s&&e[n[o]]===r[o];if(a&&s){l=0;break}if(a){l=-1;break}if(s){l=1;break}}return l}),R.forEach(function(t){var e,n,o,a,h,f=-1,v=g(s,t),y=g(l,t),b=g(u,t),x=g(c,t),_=[];if(r&&0!==r.length)for(o=0;o<r.length;o+=1)void 0===t[r[o]]?_.push(r[o]):_.push(t[r[o]]);else _=["All"];for(e=_.join("/")+"_"+v.join("/")+"_"+y.join("/")+"_"+x.join("/")+"_"+b.join("/"),n=0;n<p.length;n+=1)if(p[n].key===e){f=n;break}-1===f&&(a={key:e,aggField:_,xField:v,xValue:null,xCount:0,yField:y,yValue:null,yCount:0,pField:x,pValue:null,pCount:0,zField:b,zValue:null,zCount:0,cValue:0,cCount:0,x:0,y:0,xOffset:0,yOffset:0,width:0,height:0,cx:0,cy:0,xBound:0,yBound:0,xValueList:[],yValueList:[],zValueList:[],pValueList:[],cValueList:[],fill:{},stroke:{}},p.push(a),f=p.length-1),(h=function(e,n){var r,o,a=!0,s={value:0,count:1},l={value:0,count:1},u="";null!==n&&(r=n.getFrameValue(),n.categoryFields.forEach(function(e,n){n>0&&(u+="/"),u+=t[e],a=u===r},this)),null!==e&&void 0!==e&&a&&(o=p[f],e._hasMeasure()&&null!==t[e.measure]&&void 0!==t[e.measure]&&(-1===o[e.position+"ValueList"].indexOf(t[e.measure])&&o[e.position+"ValueList"].push(t[e.measure]),isNaN(parseFloat(t[e.measure]))&&(m[e.position]=!0),s.value=o[e.position+"Value"],s.count=o[e.position+"Count"],l.value=t[e.measure],o[e.position+"Value"]=i(s,l),o[e.position+"Count"]+=1))})(s,this.storyboard),h(l,this.storyboard),h(u,this.storyboard),h(c,this.storyboard),h(d,this.storyboard)},this),s&&s._hasCategories()&&s.categoryFields.length>1&&void 0!==v.x&&(O=[],l._hasMeasure()&&O.push({ordering:l.measure,desc:!0}),v.x=e._getOrderedList(R,s.categoryFields[1],s._groupOrderRules.concat(O))),l&&l._hasCategories()&&l.categoryFields.length>1&&void 0!==v.y&&(O=[],s._hasMeasure()&&O.push({ordering:s.measure,desc:!0}),v.y=e._getOrderedList(R,l.categoryFields[1],l._groupOrderRules.concat(O)),v.y.reverse()),p.forEach(function(t){null!==s&&(!0===m.x&&(t.xValue=t.xValueList.length),h=(y.x[t.xField.join("/")]||0)+(l._hasMeasure()?Math.abs(t.yValue):0),y.x[t.xField.join("/")]=h),null!==l&&(!0===m.y&&(t.yValue=t.yValueList.length),h=(y.y[t.yField.join("/")]||0)+(s._hasMeasure()?Math.abs(t.xValue):0),y.y[t.yField.join("/")]=h),null!==c&&(!0===m.p&&(t.pValue=t.pValueList.length),h=(y.p[t.pField.join("/")]||0)+(c._hasMeasure()?Math.abs(t.pValue):0),y.p[t.pField.join("/")]=h),null!==u&&(!0===m.z&&(t.zValue=t.zValueList.length),h=(y.z[t.zField.join("/")]||0)+(u._hasMeasure()?Math.abs(t.zValue):0),y.z[t.zField.join("/")]=h),null!==d&&((null===b.min||t.cValue<b.min)&&(b.min=t.cValue),(null===b.max||t.cValue>b.max)&&(b.max=t.cValue))},this);for(f in y.x)y.x.hasOwnProperty(f)&&(C.x+=y.x[f]);for(f in y.y)y.y.hasOwnProperty(f)&&(C.y+=y.y[f]);for(f in y.p)y.p.hasOwnProperty(f)&&(C.p+=y.p[f]);for(f in y.z)y.z.hasOwnProperty(f)&&(C.z+=y.z[f]);return p.forEach(function(e){var n,r,i,o,h=function(t,n,r){var i,o,s,l,u;null!==t&&void 0!==t&&(l=t.position,t._hasCategories()?t._hasMeasure()?(i=e[t.position+"Field"].join("/"),o=t.showPercent?y[t.position][i]/C[t.position]:y[t.position][i],-1===_.indexOf(i)&&(w[i]=o+(_.length>0?w[_[_.length-1]]:0),_.push(i)),s=e[l+"Bound"]=e["c"+l]="x"!==l&&"y"!==l||!a?o:w[i],e[r]=o,e[l]=s-("x"===l&&o>=0||"y"===l&&o<=0?o:0)):(e[l]=e["c"+l]=e[l+"Field"][0],e[r]=1,void 0!==v[l]&&null!==v[l]&&v[l].length>=2&&(e[l+"Offset"]=v[l].indexOf(e[l+"Field"][1]),e[r]=1/v[l].length)):(o=t.showPercent?e[l+"Value"]/y[n][e[n+"Field"].join("/")]:e[l+"Value"],i=e[n+"Field"].join("/")+(e[l+"Value"]>=0),u=x[l][i]=(null===x[l][i]||void 0===x[l][i]||"z"===l||"p"===l?0:x[l][i])+o,s=e[l+"Bound"]=e["c"+l]="x"!==l&&"y"!==l||!a?o:u,e[r]=o,e[l]=s-("x"===l&&o>=0||"y"===l&&o<=0?o:0)))};h(s,"y","width"),h(l,"x","height"),h(u,"z","r"),h(c,"p","angle"),null!==d&&null!==b.min&&null!==b.max&&(b.min===b.max&&(b.min-=.5,b.max+=.5),b.min=d.overrideMin||b.min,b.max=d.overrideMax||b.max,e.cValue=e.cValue>b.max?b.max:e.cValue<b.min?b.min:e.cValue,o=(i=t.scale.linear().range([0,null===d.colors||1===d.colors.length?1:d.colors.length-1]).domain([b.min,b.max])(e.cValue))-Math.floor(i),e.cValue===b.max&&(o=1),d.colors&&1===d.colors.length?(n=t.rgb(d.colors[0]),r=t.rgb(this.getColor(e.aggField.slice(-1)[0]).fill)):d.colors&&d.colors.length>1?(n=t.rgb(d.colors[Math.floor(i)]),r=t.rgb(d.colors[Math.ceil(i)])):(n=t.rgb("white"),r=t.rgb(this.getColor(e.aggField.slice(-1)[0]).fill)),n.r=Math.floor(n.r+(r.r-n.r)*o),n.g=Math.floor(n.g+(r.g-n.g)*o),n.b=Math.floor(n.b+(r.b-n.b)*o),e.fill=n.toString(),e.stroke=n.darker(.5).toString())},this),p},this._getDelay=function(t,n,r){return function(i){var o=0;return r&&n.staggerDraw&&(r.x._hasCategories()?o=e._helpers.cx(i,n,r)/n._widthPixels()*t:r.y._hasCategories()&&(o=(1-e._helpers.cy(i,n,r)/n._heightPixels())*t)),o}},this._getSeriesData=function(){null!==this.series&&void 0!==this.series&&this.series.forEach(function(t){var e,n,r,i,o,a,s=t.data||this.data||[],l=[].concat(t.categoryFields||"All"),u=this._getData(s,l,t.aggregate,t._orderRules,t._isStacked(),t.x,t.y,t.z,t.p,t.c),c=[],d={},h=t.startAngle*(Math.PI/180)||0,f=(t.endAngle||360)*(Math.PI/180);if(h>f&&(h-=2*Math.PI),t.p&&l.length>0){if(t.x&&t.y){for(l.pop(),c=this._getData(s,["__dimple_placeholder__"].concat(l),t.aggregate,t._orderRules,t._isStacked(),t.x,t.y,t.z,t.p,t.c),e=0;e<u.length;e+=1)for((r=["__dimple_placeholder__"].concat(u[e].aggField)).pop(),t.x&&t.x._hasCategories()&&(r=r.concat(u[e].xField)),t.y&&t.y._hasCategories()&&(r=r.concat(u[e].yField)),i=r.join("|"),n=0;n<c.length;n+=1)if(o=[].concat(c[n].aggField),t.x&&t.x._hasCategories()&&(o=o.concat(c[n].xField)),t.y&&t.y._hasCategories()&&(o=o.concat(c[n].yField)),a=o.join("|"),i===a){u[e].xField=c[n].xField,u[e].xValue=c[n].xValue,u[e].xCount=c[n].xCount,u[e].yField=c[n].yField,u[e].yValue=c[n].yValue,u[e].yCount=c[n].yCount,u[e].zField=c[n].zField,u[e].zValue=c[n].zValue,u[e].zCount=c[n].zCount,u[e].x=c[n].x,u[e].y=c[n].y,u[e].r=c[n].r,u[e].xOffset=c[n].xOffset,u[e].yOffset=c[n].yOffset,u[e].width=c[n].width,u[e].height=c[n].height,u[e].cx=c[n].cx,u[e].cy=c[n].cy,u[e].xBound=c[n].xBound,u[e].yBound=c[n].yBound,u[e].xValueList=c[n].xValueList,u[e].yValueList=c[n].yValueList,u[e].zValueList=c[n].zValueList,u[e].cValueList=c[n].cValueList,u[e].pieKey=c[n].key,u[e].value=u.pValue,d[c[n].key]||(d[c[n].key]={total:0,angle:h}),d[c[n].key].total+=u[e].pValue;break}}else for(e=0;e<u.length;e+=1)u[e].pieKey="All",u[e].value=u.pValue,d[u[e].pieKey]||(d[u[e].pieKey]={total:0,angle:h}),d[u[e].pieKey].total+=u[e].pValue;for(e=0;e<u.length;e+=1)u[e].piePct=u[e].pValue/d[u[e].pieKey].total,u[e].startAngle=d[u[e].pieKey].angle,u[e].endAngle=u[e].startAngle+u[e].piePct*(f-h),d[u[e].pieKey].angle=u[e].endAngle}t._positionData=u},this)},this._handleTransition=function(t,e,n,r){return 0===e?t:t.transition().duration(e).delay(n._getDelay(e,n,r)).ease(n.ease)},this._heightPixels=function(){return e._parseYPosition(this.height,this.svg.node())},this._registerEventHandlers=function(n){null!==n._eventHandlers&&n._eventHandlers.length>0&&n._eventHandlers.forEach(function(r){var i,o=function(i){var o=new e.eventArgs;null!==n.chart.storyboard&&(o.frameValue=n.chart.storyboard.getFrameValue()),o.seriesValue=i.aggField,o.xValue=i.x,o.yValue=i.y,o.zValue=i.z,o.pValue=i.p,o.colorValue=i.cValue,o.seriesShapes=n.shapes,o.selectedShape=t.select(this),r.handler(o)};if(null!==r.handler&&"function"==typeof r.handler)if(null!==n._markers&&void 0!==n._markers)for(i in n._markers)n._markers.hasOwnProperty(i)&&n._markers[i].on(r.event,o);else n.shapes.on(r.event,o)},this)},this._widthPixels=function(){return e._parseXPosition(this.width,this.svg.node())},this._xPixels=function(){return e._parseXPosition(this.x,this.svg.node())},this._yPixels=function(){return e._parseYPosition(this.y,this.svg.node())},this.addAxis=function(t,n,r,i){var o=null,a=null;if(null!==n&&void 0!==n&&(n=[].concat(n)),"string"==typeof t||t instanceof String)o=new e.axis(this,t,n,r,i),this.axes.push(o);else{if(a=t,(o=new e.axis(this,a.position,n,r,i))._hasMeasure()!==a._hasMeasure())throw"You have specified a composite axis where some but not all axes have a measure - this is not supported, all axes must be of the same type.";if(o._hasTimeField()!==a._hasTimeField())throw"You have specified a composite axis where some but not all axes have a time field - this is not supported, all axes must be of the same type.";if((null===o.categoryFields||void 0===o.categoryFields?0:o.categoryFields.length)!==(null===a.categoryFields||void 0===a.categoryFields?0:a.categoryFields.length))throw"You have specified a composite axis where axes have differing numbers of category fields - this is not supported, all axes must be of the same type.";a._slaves.push(o)}return o},this.addCategoryAxis=function(t,e){return this.addAxis(t,e,null)},this.addColorAxis=function(t,e){var n=this.addAxis("c",null,t);return n.colors=null===e||void 0===e?null:[].concat(e),n},this.addLegend=function(t,n,r,i,o,a){a=null===a||void 0===a?this.series:[].concat(a),o=null===o||void 0===o?"left":o;var s=new e.legend(this,t,n,r,i,o,a);return this.legends.push(s),s},this.addLogAxis=function(t,e,n){var r=this.addAxis(t,null,e,null);return null!==n&&void 0!==n&&(r.logBase=n),r.useLog=!0,r},this.addMeasureAxis=function(t,e){return this.addAxis(t,null,e)},this.addPctAxis=function(t,e,n){var r=null;return r=null!==n&&void 0!==n?this.addAxis(t,n,e):this.addMeasureAxis(t,e),r.showPercent=!0,r},this.addSeries=function(t,n,r){null!==r&&void 0!==r||(r=this.axes),null!==n&&void 0!==n||(n=e.plot.bubble);var i,o=null,a=null,s=null,l=null,u=null;return r.forEach(function(t){null!==t&&n.supportedAxes.indexOf(t.position)>-1&&(null===o&&"x"===t.position[0]?o=t:null===a&&"y"===t.position[0]?a=t:null===s&&"z"===t.position[0]?s=t:null===l&&"c"===t.position[0]?l=t:null===l&&"p"===t.position[0]&&(u=t))},this),t&&(t=[].concat(t)),i=new e.series(this,t,o,a,s,l,u,n,e.aggregateMethod.sum,n.stacked),this.series.push(i),i},this.addTimeAxis=function(t,e,n,r){var i=this.addAxis(t,null,null,e);return i.tickFormat=r,i.dateParseFormat=n,i},this.assignClass=function(t,e){return this._assignedClasses[t]=e,this._assignedClasses[t]},this.assignColor=function(t,n,r,i){return this._assignedColors[t]=new e.color(n,r,i),this._assignedColors[t]},this.customClassList={axisLine:"dimple-custom-axis-line",axisLabel:"dimple-custom-axis-label",axisTitle:"dimple-custom-axis-title",tooltipBox:"dimple-custom-tooltip-box",tooltipLabel:"dimple-custom-tooltip-label",tooltipDropLine:"dimple-custom-tooltip-dropline",lineMarker:"dimple-custom-line-marker",legendLabel:"dimple-custom-legend-label",legendKey:"dimple-custom-legend-key",areaSeries:"dimple-custom-series-area",barSeries:"dimple-custom-series-bar",bubbleSeries:"dimple-custom-series-bubble",lineSeries:"dimple-custom-series-line",pieSeries:"dimple-custom-series-pie",gridline:"dimple-custom-gridline",colorClasses:["dimple-custom-format-1","dimple-custom-format-2","dimple-custom-format-3","dimple-custom-format-4","dimple-custom-format-5","dimple-custom-format-6","dimple-custom-format-7","dimple-custom-format-8","dimple-custom-format-9","dimple-custom-format-10"]},this.defaultColors=[new e.color("#80B1D3"),new e.color("#FB8072"),new e.color("#FDB462"),new e.color("#B3DE69"),new e.color("#FFED6F"),new e.color("#BC80BD"),new e.color("#8DD3C7"),new e.color("#CCEBC5"),new e.color("#FFFFB3"),new e.color("#BEBADA"),new e.color("#FCCDE5"),new e.color("#D9D9D9")],this.draw=function(e,n){e=e||0;var r,i,o=null,a=null,s=!1,l=!1,u=this._xPixels(),c=this._yPixels(),d=this._widthPixels(),h=this._heightPixels();return void 0!==n&&null!==n&&!1!==n||this._getSeriesData(),this.axes.forEach(function(t){t._scale=null},this),this.axes.forEach(function(t){if(t._min=0,t._max=0,i=[],t._hasMeasure()){var e=!1;this.series.forEach(function(n){if(n._deepMatch(t)){var r=n._axisBounds(t.position);t._min>r.min&&(t._min=r.min),t._max<r.max&&(t._max=r.max),e=!0}},this),e||this._getAllData().forEach(function(e){t._min>e[t.measure]&&(t._min=e[t.measure]),t._max<e[t.measure]&&(t._max=e[t.measure])},this)}else t._hasTimeField()?(t._min=null,t._max=null,this.series.forEach(function(e){e._deepMatch(t)&&null!==e[t.position].timeField&&void 0!==e[t.position].timeField&&-1===i.indexOf(e[t.position].timeField)&&i.push(e[t.position].timeField)},this),t._getAxisData().forEach(function(e){i.forEach(function(n){var r=t._parseDate(e[n]);(null===t._min||r<t._min)&&(t._min=r),(null===t._max||r>t._max)&&(t._max=r)},this)},this)):t._hasCategories()&&(t._min=0,r=[],this.series.forEach(function(e){e._deepMatch(t)&&null!==e[t.position].categoryFields[0]&&void 0!==e[t.position].categoryFields[0]&&-1===i.indexOf(e[t.position].categoryFields[0])&&i.push(e[t.position].categoryFields[0])},this),t._getAxisData().forEach(function(t){i.forEach(function(e){-1===r.indexOf(t[e])&&r.push(t[e])},this)},this),t._max=r.length);null!==t._slaves&&void 0!==t._slaves&&t._slaves.length>0&&t._slaves.forEach(function(e){e._min=t._min,e._max=t._max},this),t._update(),null===o&&"x"===t.position?o=t:null===a&&"y"===t.position&&(a=t)},this),this.axes.forEach(function(n){var r=!1,i=null,f=0,p=null,g=!1,m=0,v={l:null,t:null,r:null,b:null},y=0,b=0,x="",_=this,w=function(t){return null===i||0===e||r?t:_._handleTransition(t,e,_)},C=function(){var e=t.select(this).selectAll("text");return!n.measure&&n._max>0&&("x"===n.position?e.attr("x",d/n._max/2):"y"===n.position&&e.attr("y",h/n._max*-1/2)),n.categoryFields&&n.categoryFields.length>0&&(n!==o||null!==a.categoryFields&&0!==a.categoryFields.length||e.attr("y",c+h-a._scale(0)+9),n!==a||null!==o.categoryFields&&0!==o.categoryFields.length||e.attr("x",-1*(o._scale(0)-u)-9)),this},k=function(e){return function(){var n=t.select(this).attr("class")||"";return-1===n.indexOf(e)&&(n+=" "+e),n.trim()}};null===n.gridlineShapes?(n.showGridlines||null===n.showGridlines&&!n._hasCategories()&&(!s&&"x"===n.position||!l&&"y"===n.position))&&(n.gridlineShapes=this._group.append("g").attr("class","dimple-gridline"),"x"===n.position?s=!0:l=!0):"x"===n.position?s=!0:l=!0,null===n.shapes&&(n.shapes=this._group.append("g").attr("class","dimple-axis dimple-axis-"+n.position).each(function(){_.noFormats||t.select(this).style("font-family",n.fontFamily).style("font-size",n._getFontSize())}),r=!0),n===o&&null!==a?(i="translate(0, "+(null===a.categoryFields||0===a.categoryFields.length?a._scale(0):c+h)+")",p="translate(0, "+(n===o?c+h:c)+")",f=-h):n===a&&null!==o?(i="translate("+(null===o.categoryFields||0===o.categoryFields.length?o._scale(0):u)+", 0)",p="translate("+(n===a?u:u+d)+", 0)",f=-d):"x"===n.position?(p=i="translate(0, "+(n===o?c+h:c)+")",f=-h):"y"===n.position&&(p=i="translate("+(n===a?u:u+d)+", 0)",f=-d),null!==i&&null!==n._draw&&(n._hasTimeField()?w(n.shapes).call(n._draw.ticks(n._getTimePeriod(),n.timeInterval).tickFormat(n._getFormat())).attr("transform",i).each(C):n.useLog?w(n.shapes).call(n._draw.ticks(4,n._getFormat())).attr("transform",i).each(C):w(n.shapes).call(n._draw.tickFormat(n._getFormat())).attr("transform",i).each(C),null!==n.gridlineShapes&&w(n.gridlineShapes).call(n._draw.tickSize(f,0,0).tickFormat("")).attr("transform",p)),w(n.shapes.selectAll("text")).attr("class",k(_.customClassList.axisLabel)).call(function(){_.noFormats||this.style("font-family",n.fontFamily).style("font-size",n._getFontSize())}),w(n.shapes.selectAll("path, line")).attr("class",k(_.customClassList.axisLine)).call(function(){_.noFormats||this.style("fill","none").style("stroke","black").style("shape-rendering","crispEdges")}),null!==n.gridlineShapes&&w(n.gridlineShapes.selectAll("line")).attr("class",k(_.customClassList.gridline)).call(function(){_.noFormats||this.style("fill","none").style("stroke","lightgray").style("opacity",.8)}),null!==n.measure&&void 0!==n.measure||(n.autoRotateLabel?n===o?(m=0,n.shapes.selectAll("text").each(function(){var t=this.getComputedTextLength();m=t>m?t:m}),m>d/n.shapes.selectAll("text")[0].length?(g=!0,n.shapes.selectAll("text").style("text-anchor","start").each(function(){var e=this.getBBox();t.select(this).attr("transform","rotate(90,"+e.x+","+(e.y+e.height/2)+") translate(-5, 0)")})):(g=!1,n.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))):"x"===n.position&&(m=0,n.shapes.selectAll("text").each(function(){var t=this.getComputedTextLength();m=t>m?t:m}),m>d/n.shapes.selectAll("text")[0].length?(g=!0,n.shapes.selectAll("text").style("text-anchor","end").each(function(){var e=this.getBBox();t.select(this).attr("transform","rotate(90,"+(e.x+e.width)+","+(e.y+e.height/2)+") translate(5, 0)")})):(g=!1,n.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))):(g=!1,n.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))),null!==n.titleShape&&void 0!==n.titleShape&&n.titleShape.remove(),n.shapes.selectAll("text").each(function(){var t=this.getBBox();(null===v.l||-9-t.width<v.l)&&(v.l=-9-t.width),(null===v.r||t.x+t.width>v.r)&&(v.r=t.x+t.width),g?((null===v.t||t.y+t.height-t.width<v.t)&&(v.t=t.y+t.height-t.width),(null===v.b||t.height+t.width>v.b)&&(v.b=t.height+t.width)):((null===v.t||t.y<v.t)&&(v.t=t.y),(null===v.b||9+t.height>v.b)&&(v.b=9+t.height))}),"x"===n.position?(b=n===o?c+h+v.b+5:c+v.t-10,y=u+d/2):"y"===n.position&&(x="rotate(270, "+(y=n===a?u+v.l-10:u+d+v.r+20)+", "+(b=c+h/2)+")"),n.hidden||"x"!==n.position&&"y"!==n.position||null===n.title||(n.titleShape=this._group.append("text").attr("class","dimple-axis dimple-title "+_.customClassList.axisTitle+" dimple-axis-"+n.position),n.titleShape.attr("x",y).attr("y",b).attr("text-anchor","middle").attr("transform",x).text(void 0!==n.title?n.title:null===n.categoryFields||void 0===n.categoryFields||0===n.categoryFields.length?n.measure:n.categoryFields.join("/")).each(function(){_.noFormats||t.select(this).style("font-family",n.fontFamily).style("font-size",n._getFontSize())}),n===o?n.titleShape.each(function(){t.select(this).attr("y",b+this.getBBox().height/1.65)}):n===a&&n.titleShape.each(function(){t.select(this).attr("x",y+this.getBBox().height/1.65)}))},this),this.series.forEach(function(t){t.plot.draw(this,t,e),this._registerEventHandlers(t)},this),this.legends.forEach(function(t){t._draw()},this),this.storyboard&&(this.storyboard._drawText(),this.storyboard.autoplay&&this.storyboard.startAnimation()),this},this.getClass=function(t){return this._assignedClasses[t]||(this._assignedClasses[t]=this.customClassList.colorClasses[this._nextClass],this._nextClass=(this._nextClass+1)%this.customClassList.colorClasses.length),this._assignedClasses[t]},this.getColor=function(t){return null!==this._assignedColors[t]&&void 0!==this._assignedColors[t]||(this._assignedColors[t]=this.defaultColors[this._nextColor],this._nextColor=(this._nextColor+1)%this.defaultColors.length),this._assignedColors[t]},this.setBounds=function(t,n,r,i){return this.x=t,this.y=n,this.width=r,this.height=i,this._xPixels=function(){return e._parseXPosition(this.x,this.svg.node())},this.draw(0,!0),this._yPixels=function(){return e._parseYPosition(this.y,this.svg.node())},this._widthPixels=function(){return e._parseXPosition(this.width,this.svg.node())},this._heightPixels=function(){return e._parseYPosition(this.height,this.svg.node())},this},this.setMargins=function(t,n,r,i){return this.x=t,this.y=n,this.width=0,this.height=0,this._xPixels=function(){return e._parseXPosition(this.x,this.svg.node())},this._yPixels=function(){return e._parseYPosition(this.y,this.svg.node())},this._widthPixels=function(){return e._parentWidth(this.svg.node())-this._xPixels()-e._parseXPosition(r,this.svg.node())},this._heightPixels=function(){return e._parentHeight(this.svg.node())-this._yPixels()-e._parseYPosition(i,this.svg.node())},this.draw(0,!0),this},this.setStoryboard=function(t,n){return this.storyboard=new e.storyboard(this,t),null!==n&&void 0!==n&&(this.storyboard.onTick=n),this.storyboard}},e.color=function(e,n,r){this.fill=e,this.stroke=null===n||void 0===n?t.rgb(e).darker(.5).toString():n,this.opacity=null===r||void 0===r?.8:r},e.eventArgs=function(){this.seriesValue=null,this.xValue=null,this.yValue=null,this.zValue=null,this.pValue=null,this.colorValue=null,this.frameValue=null,this.seriesShapes=null,this.selectedShape=null},e.legend=function(n,r,i,o,a,s,l){this.chart=n,this.series=l,this.x=r,this.y=i,this.width=o,this.height=a,this.horizontalAlign=s,this.shapes=null,this.fontSize="10px",this.fontFamily="sans-serif",this._draw=function(){var n,r=this._getEntries(),i=0,o=0,a=0,s=0,l=this;this.shapes&&this.shapes.remove(),(n=this.chart._group.selectAll(".dimple-dont-select-any").data(r).enter().append("g").attr("class",function(t){return"dimple-legend "+e._createClass(t.aggField)}).attr("opacity",1)).append("text").attr("class",function(t){return"dimple-legend dimple-legend-text "+e._createClass(t.aggField)+" "+l.chart.customClassList.legendLabel}).text(function(t){return t.key}).call(function(){l.chart.noFormats||this.style("font-family",l.fontFamily).style("font-size",l._getFontSize()).style("shape-rendering","crispEdges")}).each(function(){var t=this.getBBox();t.width>i&&(i=t.width),t.height>o&&(o=t.height)}),n.append("rect").attr("class",function(t){return"dimple-legend dimple-legend-key "+e._createClass(t.aggField)}).attr("height",9).attr("width",15),o=(o<9?9:o)+l._getVerticalPadding(),i+=15+l._getHorizontalPadding(),n.each(function(n){a+i>l._widthPixels()&&(a=0,s+=o),s>l._heightPixels()?t.select(this).remove():(t.select(this).select("text").attr("x","left"===l.horizontalAlign?l._xPixels()+15+5+a:l._xPixels()+(l._widthPixels()-a-i)+15+5).attr("y",function(){return l._yPixels()+s+this.getBBox().height/1.65}).attr("width",l._widthPixels()).attr("height",l._heightPixels()),t.select(this).select("rect").attr("class",function(t){return"dimple-legend dimple-legend-key "+e._createClass(t.aggField)+" "+l.chart.customClassList.legendKey+" "+t.css}).attr("x","left"===l.horizontalAlign?l._xPixels()+a:l._xPixels()+(l._widthPixels()-a-i)).attr("y",l._yPixels()+s).attr("height",9).attr("width",15).call(function(){l.chart.noFormats||this.style("fill",n.fill).style("stroke",n.stroke).style("opacity",n.opacity).style("shape-rendering","crispEdges")}),a+=i)}),this.shapes=n},this._getEntries=function(){var t=[];return this.series&&this.series.forEach(function(e){e._positionData.forEach(function(n){var r,i=-1,o=e.plot.grouped&&!e.x._hasCategories()&&!e.y._hasCategories()&&n.aggField.length<2?"All":n.aggField.slice(-1)[0];for(r=0;r<t.length;r+=1)if(t[r].key===o){i=r;break}-1===i&&e.chart._assignedColors[o]&&(t.push({key:o,fill:e.chart._assignedColors[o].fill,stroke:e.chart._assignedColors[o].stroke,opacity:e.chart._assignedColors[o].opacity,css:e.chart._assignedClasses[o],series:e,aggField:n.aggField}),i=t.length-1)})},this),t},this._getFontSize=function(){return this.fontSize&&"auto"!==this.fontSize.toString().toLowerCase()?isNaN(this.fontSize)?this.fontSize:this.fontSize+"px":(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px"},this._getHorizontalPadding=function(){return isNaN(this.horizontalPadding)?20:this.horizontalPadding},this._getVerticalPadding=function(){return isNaN(this.verticalPadding)?2:this.verticalPadding},this._heightPixels=function(){return e._parseYPosition(this.height,this.chart.svg.node())},this._widthPixels=function(){return e._parseXPosition(this.width,this.chart.svg.node())},this._xPixels=function(){return e._parseXPosition(this.x,this.chart.svg.node())},this._yPixels=function(){return e._parseYPosition(this.y,this.chart.svg.node())}},e.series=function(t,e,n,r,i,o,a,s,l,u){this.chart=t,this.x=n,this.y=r,this.z=i,this.c=o,this.p=a,this.plot=s,this.categoryFields=e,this.aggregate=l,this.stacked=u,this.barGap=.2,this.clusterBarGap=.1,this.lineWeight=2,this.lineMarkers=!1,this.afterDraw=null,this.interpolation="linear",this.tooltipFontSize="10px",this.tooltipFontFamily="sans-serif",this.radius="auto",this._eventHandlers=[],this._positionData=[],this._orderRules=[],this._axisBounds=function(t){var e,n,r,i={min:0,max:0},o=null,a=null,s=[],l=0,u=this._positionData;return"x"===t?(o=this.x,a=this.y):"y"===t?(o=this.y,a=this.x):"z"===t?o=this.z:"p"===t?o=this.p:"c"===t&&(o=this.c),o.showPercent?u.forEach(function(t){t[o.position+"Bound"]<i.min&&(i.min=t[o.position+"Bound"]),t[o.position+"Bound"]>i.max&&(i.max=t[o.position+"Bound"])},this):null===a||null===a.categoryFields||0===a.categoryFields.length?u.forEach(function(t){!this._isStacked()||"x"!==o.position&&"y"!==o.position?(t[o.position+"Value"]<i.min&&(i.min=t[o.position+"Value"]),t[o.position+"Value"]>i.max&&(i.max=t[o.position+"Value"])):t[o.position+"Value"]<0?i.min=i.min+t[o.position+"Value"]:i.max=i.max+t[o.position+"Value"]},this):(e=o.position+"Value",n=a.position+"Field",r=[],u.forEach(function(t){var i=t[n].join("/"),o=r.indexOf(i);-1===o&&(r.push(i),o=r.length-1),void 0===s[o]&&(s[o]={min:0,max:0},o>=l&&(l=o+1)),this.stacked?t[e]<0?s[o].min=s[o].min+t[e]:s[o].max=s[o].max+t[e]:(t[e]<s[o].min&&(s[o].min=t[e]),t[e]>s[o].max&&(s[o].max=t[e]))},this),s.forEach(function(t){void 0!==t&&(t.min<i.min&&(i.min=t.min),t.max>i.max&&(i.max=t.max))},this)),i},this._deepMatch=function(t){var e=!1;return this[t.position]===t?e=!0:void 0!==t._slaves&&null!==t._slaves&&t._slaves.length>0&&t._slaves.forEach(function(t){e=e||this._deepMatch(t)},this),e},this._dropLineOrigin=function(){var t=0,e=0,n={x:null,y:null},r={x:null,y:null};return this.chart.axes.forEach(function(t){"x"===t.position&&null===r.x?t._hasTimeField()?r.x=this.chart._xPixels():r.x=t._origin:"y"===t.position&&null===r.y&&(t._hasTimeField()?r.y=this.chart._yPixels()+this.chart._heightPixels():r.y=t._origin)},this),this.chart.axes.forEach(function(i){"x"!==i.position||this.x.hidden?"y"!==i.position||this.y.hidden||(this._deepMatch(i)&&(0===e?n.x=r.x:1===e&&(n.x=this.chart._xPixels()+this.chart._widthPixels())),e+=1):(this._deepMatch(i)&&(0===t?n.y=r.y:1===t&&(n.y=this.chart._yPixels())),t+=1)},this),n},this._getTooltipFontSize=function(){return this.tooltipFontSize&&"auto"!==this.tooltipFontSize.toString().toLowerCase()?isNaN(this.tooltipFontSize)?this.tooltipFontSize:this.tooltipFontSize+"px":(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px"},this._isStacked=function(){return this.stacked&&(this.x._hasCategories()||this.y._hasCategories())},this.addEventHandler=function(t,e){this._eventHandlers.push({event:t,handler:e})},this.addOrderRule=function(t,e){this._orderRules.push({ordering:t,desc:e})},this.getTooltipText=function(t){var e=[];return null!==this.categoryFields&&void 0!==this.categoryFields&&this.categoryFields.length>0&&this.categoryFields.forEach(function(n,r){null!==n&&void 0!==n&&null!==t.aggField[r]&&void 0!==t.aggField[r]&&e.push(n+(t.aggField[r]!==n?": "+t.aggField[r]:""))},this),this.p?(this.x&&this.x._hasCategories()&&this.x._getTooltipText(e,t),this.y&&this.y._hasCategories()&&this.y._getTooltipText(e,t),this.z&&this.z._hasCategories()&&this.z._getTooltipText(e,t),this.p._getTooltipText(e,t)):(this.x&&this.x._getTooltipText(e,t),this.y&&this.y._getTooltipText(e,t),this.z&&this.z._getTooltipText(e,t)),this.c&&this.c._getTooltipText(e,t),e.filter(function(t,n){return e.indexOf(t)===n})}},e.storyboard=function(t,e){null!==e&&void 0!==e&&(e=[].concat(e)),this.chart=t,this.categoryFields=e,this.autoplay=!0,this.frameDuration=3e3,this.storyLabel=null,this.onTick=null,this.fontSize="10px",this.fontFamily="sans-serif",this._frame=0,this._animationTimer=null,this._categories=[],this._cachedCategoryFields=[],this._orderRules=[],this._drawText=function(){if(!this.storyLabel){var t=this.chart,e=this,n=0;this.chart.axes.forEach(function(t){"x"===t.position&&(n+=1)},this),this.storyLabel=this.chart._group.append("text").attr("class","dimple-storyboard-label").attr("opacity",1).attr("x",this.chart._xPixels()+.01*this.chart._widthPixels()).attr("y",this.chart._yPixels()+(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)*(n>1?1.25:-1)).call(function(){t.noFormats||this.style("font-family",e.fontFamily).style("font-size",e._getFontSize())})}this.storyLabel.text(this.categoryFields.join("\\")+": "+this.getFrameValue())},this._getCategories=function(){return this._categoryFields!==this._cachedCategoryFields&&(this._categories=[],this.chart._getAllData().forEach(function(t){var e="";null!==this.categoryFields&&(this.categoryFields.forEach(function(n,r){r>0&&(e+="/"),e+=t[n]},this),-1===this._categories.indexOf(e)&&(this._categories.push(e),this._categories.length))},this),this._cachedCategoryFields=this._categoryFields),this._categories},this._getFontSize=function(){return this.fontSize&&"auto"!==this.fontSize.toString().toLowerCase()?isNaN(this.fontSize)?this.fontSize:this.fontSize+"px":(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px"},this._goToFrameIndex=function(t){this._frame=t%this._getCategories().length,this.chart.draw(this.frameDuration/2)},this.addOrderRule=function(t,e){this._orderRules.push({ordering:t,desc:e})},this.getFrameValue=function(){var t=null;return this._frame>=0&&this._getCategories().length>this._frame&&(t=this._getCategories()[this._frame]),t},this.goToFrame=function(t){if(this._getCategories().length>0){var e=this._getCategories().indexOf(t);this._goToFrameIndex(e)}},this.pauseAnimation=function(){null!==this._animationTimer&&(window.clearInterval(this._animationTimer),this._animationTimer=null)},this.startAnimation=function(){null===this._animationTimer&&(null!==this.onTick&&this.onTick(this.getFrameValue()),this._animationTimer=window.setInterval(function(t){return function(){t._goToFrameIndex(t._frame+1),null!==t.onTick&&t.onTick(t.getFrameValue()),t._drawText(t.frameDuration/2)}}(this),this.frameDuration))},this.stopAnimation=function(){null!==this._animationTimer&&(window.clearInterval(this._animationTimer),this._animationTimer=null,this._frame=0)}},e.aggregateMethod.avg=function(t,e){return t.value=null===t.value||void 0===t.value?0:parseFloat(t.value),t.count=null===t.count||void 0===t.count?1:parseFloat(t.count),e.value=null===e.value||void 0===e.value?0:parseFloat(e.value),e.count=null===e.count||void 0===e.count?1:parseFloat(e.count),(t.value*t.count+e.value*e.count)/(t.count+e.count)},e.aggregateMethod.count=function(t,e){return t.count=null===t.count||void 0===t.count?0:parseFloat(t.count),e.count=null===e.count||void 0===e.count?0:parseFloat(e.count),t.count+e.count},e.aggregateMethod.max=function(t,e){return t.value=null===t.value||void 0===t.value?0:parseFloat(t.value),e.value=null===e.value||void 0===e.value?0:parseFloat(e.value),t.value>e.value?t.value:e.value},e.aggregateMethod.min=function(t,e){return null===t.value?parseFloat(e.value):parseFloat(t.value)<parseFloat(e.value)?parseFloat(t.value):parseFloat(e.value)},e.aggregateMethod.sum=function(t,e){return t.value=null===t.value||void 0===t.value?0:parseFloat(t.value),e.value=null===e.value||void 0===e.value?0:parseFloat(e.value),t.value+e.value},e.plot.area={stacked:!0,grouped:!0,supportedAxes:["x","y","c"],draw:function(n,r,i){var o,a,s,l,u,c,d,h,f,p,g,m,v,y,b,x,_,w,C,k,S,M,T=r._positionData,$=[],D=null,E="dimple-series-"+n.series.indexOf(r),L=r.x._hasCategories()||r.y._hasCategories()?0:1,A=!1,F={},P=[],R=[],O=function(){return function(n,r,i,o){t.select(r).style("opacity",1),e._showPointTooltip(n,r,i,o)}},N=function(n){return function(r,i,o,a){t.select(i).style("opacity",a.lineMarkers||n.data.length<2?e._helpers.opacity(r,o,a):0),e._removeTooltip(r,i,o,a)}},I=function(t,o){e._drawMarkers(t,n,r,i,E,A,O(),N(t),o)},Y=function(t,i){var o;return"step"===r.interpolation&&r[t]._hasCategories()?(o=e._helpers[t](i,n,r)+("y"===t?e._helpers.height(i,n,r):0),r[t].categoryFields.length<2&&(o+=("y"===t?1:-1)*e._helpers[t+"Gap"](n,r))):o=e._helpers["c"+t](i,n,r),parseFloat(o)},V=function(e,n){return t.svg.line().x(function(t){return r.x._hasCategories()||!n?t.x:r.x[n]}).y(function(t){return r.y._hasCategories()||!n?t.y:r.y[n]}).interpolate(e)},j=function(t,e){return parseFloat(t)-parseFloat(e)},H=function(t,e){return parseFloat(t.x)-parseFloat(e.x)};for(o="step"===r.interpolation?"step-after":r.interpolation,p=e._getSeriesOrder(r.data||n.data,r),r.c&&(r.x._hasCategories()&&r.y._hasMeasure()||r.y._hasCategories()&&r.x._hasMeasure())&&(A=!0),r.x._hasCategories()?(S="x",M="y"):r.y._hasCategories()&&(S="y",M="x"),a=0;a<T.length;a+=1){for(u=[],d=-1,l=L;l<T[a].aggField.length;l+=1)u.push(T[a].aggField[l]);for(c=e._createClass(u),l=0;l<$.length;l+=1)if($[l].keyString===c){d=l;break}-1===d&&(d=$.length,$.push({key:u,keyString:c,color:"white",data:[],points:[],area:{},entry:{},exit:{},group:S&&T[a][S+"Field"]&&T[a][S+"Field"].length>=2?T[a][S+"Field"][0]:"All"})),$[d].data.push(T[a])}for(p&&$.sort(function(t,n){return e._arrayIndexCompare(p,t.key,n.key)}),a=0;a<$.length;a+=1){for($[a].data.sort(e._getSeriesSortPredicate(n,r,p)),s=0;s<$[a].data.length;s+=1)$[a].points.push({x:Y("x",$[a].data[s]),y:Y("y",$[a].data[s])}),S&&(F[$[a].group]||(F[$[a].group]={}),F[$[a].group][$[a].points[$[a].points.length-1][S]]=r[M]._origin);g=$[a].points,"step"===r.interpolation&&g.length>1&&S&&(r.x._hasCategories()?(g.push({x:2*g[g.length-1].x-g[g.length-2].x,y:g[g.length-1].y}),F[$[a].group][g[g.length-1][S]]=r[M]._origin):r.y._hasCategories()&&(g=[{x:g[0].x,y:2*g[0].y-g[1].y}].concat(g),F[$[a].group][g[0][S]]=r[M]._origin,$[a].points=g))}for(y in F)if(F.hasOwnProperty(y)){P[y]=[];for(b in F[y])F[y].hasOwnProperty(b)&&P[y].push(parseFloat(b));P[y].sort(j)}for(a=0;a<$.length;a+=1){if(g=$[a].points,x=$[a].group,m=[],R=[],A&&e._addGradient($[a].key,"fill-area-gradient-"+$[a].keyString,r.x._hasCategories()?r.x:r.y,T,n,i,"fill"),P[x]&&P[x].length>0)for(s=0,l=0;s<P[x].length;s+=1)P[x][s]>=g[0][S]&&P[x][s]<=g[g.length-1][S]&&((v={})[S]=P[x][s],v[M]=F[x][P[x][s]],m.push(v),g[l][S]>P[x][s]?R.push(v):(R.push(g[l]),F[$[a].group][P[x][s]]=g[l][M],l+=1));else if(r._orderRules&&r._orderRules.length>0)R=g.concat(g[0]);else{g=g.sort(H),R.push(g[0]),k=0;do{k=function(t,e,n){var r,i,o=e[e.length-1],a=9999,s=o;for(r=0;r<t.length;r+=1)t[r].x===o.x&&t[r].y===o.y||(i=180-Math.atan2(t[r].x-o.x,t[r].y-o.y)*(180/Math.PI))>n&&i<a&&(s=t[r],a=i);return e.push(s),a}(g,R,k)}while(R.length<=g.length&&(R[0].x!==R[R.length-1].x||R[0].y!==R[R.length-1].y))}m=m.reverse(),_=V(o,"_previousOrigin")(R),w=V("step-after"===o?"step-before":"step-before"===o?"step-after":o,"_previousOrigin")(m),C=V("linear","_previousOrigin")(R),$[a].entry=_+(w&&w.length>0?"L"+w.substring(1):"")+(C&&C.length>0?"L"+C.substring(1,C.indexOf("L")):0),_=V(o)(R),w=V("step-after"===o?"step-before":"step-before"===o?"step-after":o)(m),C=V("linear")(R),$[a].update=_+(w&&w.length>0?"L"+w.substring(1):"")+(C&&C.length>0?"L"+C.substring(1,C.indexOf("L")):0),_=V(o,"_origin")(R),w=V("step-after"===o?"step-before":"step-before"===o?"step-after":o,"_origin")(m),C=V("linear","_origin")(R),$[a].exit=_+(w&&w.length>0?"L"+w.substring(1):"")+(C&&C.length>0?"L"+C.substring(1,C.indexOf("L")):0),$[a].color=n.getColor($[a].key.length>0?$[a].key[$[a].key.length-1]:"All"),$[a].css=n.getClass($[a].key.length>0?$[a].key[$[a].key.length-1]:"All")}null!==n._tooltipGroup&&void 0!==n._tooltipGroup&&n._tooltipGroup.remove(),(D=null===r.shapes||void 0===r.shapes?n._group.selectAll("."+E).data($):r.shapes.data($,function(t){return t.key})).enter().append("path").attr("id",function(t){return e._createClass([t.key])}).attr("class",function(t){return E+" dimple-line "+t.keyString+" "+n.customClassList.areaSeries+" "+t.css}).attr("d",function(t){return t.entry}).call(function(){n.noFormats||this.attr("opacity",function(t){return A?1:t.color.opacity}).style("fill",function(t){return A?"url(#"+e._createClass(["fill-area-gradient-"+t.keyString])+")":t.color.fill}).style("stroke",function(t){return A?"url(#"+e._createClass(["stroke-area-gradient-"+t.keyString])+")":t.color.stroke}).style("stroke-width",r.lineWeight)}).each(function(t){t.markerData=t.data,I(t,this)}),h=n._handleTransition(D,i,n).attr("d",function(t){return t.update}).each(function(t){t.markerData=t.data,I(t,this)}),f=n._handleTransition(D.exit(),i,n).attr("d",function(t){return t.exit}).each(function(t){t.markerData=[],I(t,this)}),e._postDrawHandling(r,h,f,i),r.shapes=D}},e.plot.bar={stacked:!0,grouped:!1,supportedAxes:["x","y","c"],draw:function(t,n,r){var i,o,a=n._positionData,s=null,l=["dimple-series-"+t.series.indexOf(n),"dimple-bar"],u=!n._isStacked()&&n.x._hasMeasure(),c=!n._isStacked()&&n.y._hasMeasure(),d="none";n.x._hasCategories()&&n.y._hasCategories()?d="both":n.x._hasCategories()?d="x":n.y._hasCategories()&&(d="y"),null!==t._tooltipGroup&&void 0!==t._tooltipGroup&&t._tooltipGroup.remove(),(s=null===n.shapes||void 0===n.shapes?t._group.selectAll("."+l.join(".")).data(a):n.shapes.data(a,function(t){return t.key})).enter().append("rect").attr("id",function(t){return e._createClass([t.key])}).attr("class",function(n){var r=[];return r=r.concat(n.aggField),r=r.concat(n.xField),r=r.concat(n.yField),l.join(" ")+" "+e._createClass(r)+" "+t.customClassList.barSeries+" "+e._helpers.css(n,t)}).attr("x",function(r){var i=n.x._previousOrigin;return"x"===d?i=e._helpers.x(r,t,n):"both"===d&&(i=e._helpers.cx(r,t,n)),i}).attr("y",function(r){var i=n.y._previousOrigin;return"y"===d?i=e._helpers.y(r,t,n):"both"===d&&(i=e._helpers.cy(r,t,n)),i}).attr("width",function(r){return"x"===d?e._helpers.width(r,t,n):0}).attr("height",function(r){return"y"===d?e._helpers.height(r,t,n):0}).on("mouseover",function(r){e._showBarTooltip(r,this,t,n)}).on("mouseleave",function(r){e._removeTooltip(r,this,t,n)}).call(function(){t.noFormats||this.attr("opacity",function(r){return e._helpers.opacity(r,t,n)}).style("fill",function(r){return e._helpers.fill(r,t,n)}).style("stroke",function(r){return e._helpers.stroke(r,t,n)})}),i=t._handleTransition(s,r,t,n).attr("x",function(r){return u?e._helpers.cx(r,t,n)-n.x.floatingBarWidth/2:e._helpers.x(r,t,n)}).attr("y",function(r){return c?e._helpers.cy(r,t,n)-n.y.floatingBarWidth/2:e._helpers.y(r,t,n)}).attr("width",function(r){return u?n.x.floatingBarWidth:e._helpers.width(r,t,n)}).attr("height",function(r){return c?n.y.floatingBarWidth:e._helpers.height(r,t,n)}).call(function(){t.noFormats||this.attr("fill",function(r){return e._helpers.fill(r,t,n)}).attr("stroke",function(r){return e._helpers.stroke(r,t,n)})}),o=t._handleTransition(s.exit(),r,t,n).attr("x",function(r){var i=n.x._origin;return"x"===d?i=e._helpers.x(r,t,n):"both"===d&&(i=e._helpers.cx(r,t,n)),i}).attr("y",function(r){var i=n.y._origin;return"y"===d?i=e._helpers.y(r,t,n):"both"===d&&(i=e._helpers.cy(r,t,n)),i}).attr("width",function(r){return"x"===d?e._helpers.width(r,t,n):0}).attr("height",function(r){return"y"===d?e._helpers.height(r,t,n):0}),e._postDrawHandling(n,i,o,r),n.shapes=s}},e.plot.bubble={stacked:!1,grouped:!1,supportedAxes:["x","y","z","c"],draw:function(t,n,r){var i,o,a=n._positionData,s=null,l=["dimple-series-"+t.series.indexOf(n),"dimple-bubble"];null!==t._tooltipGroup&&void 0!==t._tooltipGroup&&t._tooltipGroup.remove(),(s=null===n.shapes||void 0===n.shapes?t._group.selectAll("."+l.join(".")).data(a):n.shapes.data(a,function(t){return t.key})).enter().append("circle").attr("id",function(t){return e._createClass([t.key])}).attr("class",function(n){var r=[];return r=r.concat(n.aggField),r=r.concat(n.xField),r=r.concat(n.yField),r=r.concat(n.zField),l.join(" ")+" "+e._createClass(r)+" "+t.customClassList.bubbleSeries+" "+e._helpers.css(n,t)}).attr("cx",function(r){return n.x._hasCategories()?e._helpers.cx(r,t,n):n.x._previousOrigin}).attr("cy",function(r){return n.y._hasCategories()?e._helpers.cy(r,t,n):n.y._previousOrigin}).attr("r",0).on("mouseover",function(r){e._showPointTooltip(r,this,t,n)}).on("mouseleave",function(r){e._removeTooltip(r,this,t,n)}).call(function(){t.noFormats||this.attr("opacity",function(r){return e._helpers.opacity(r,t,n)}).style("fill",function(r){return e._helpers.fill(r,t,n)}).style("stroke",function(r){return e._helpers.stroke(r,t,n)})}),i=t._handleTransition(s,r,t,n).attr("cx",function(r){return e._helpers.cx(r,t,n)}).attr("cy",function(r){return e._helpers.cy(r,t,n)}).attr("r",function(r){return e._helpers.r(r,t,n)}).call(function(){t.noFormats||this.attr("fill",function(r){return e._helpers.fill(r,t,n)}).attr("stroke",function(r){return e._helpers.stroke(r,t,n)})}),o=t._handleTransition(s.exit(),r,t,n).attr("r",0).attr("cx",function(r){return n.x._hasCategories()?e._helpers.cx(r,t,n):n.x._origin}).attr("cy",function(r){return n.y._hasCategories()?e._helpers.cy(r,t,n):n.y._origin}),e._postDrawHandling(n,i,o,r),n.shapes=s}},e.plot.line={stacked:!1,grouped:!0,supportedAxes:["x","y","c"],draw:function(n,r,i){var o,a,s,l,u,c,d,h,f,p,g=r._positionData,m=[],v=null,y="dimple-series-"+n.series.indexOf(r),b=r.x._hasCategories()||r.y._hasCategories()?0:1,x=!1,_=function(){return function(n,r,i,o){t.select(r).style("opacity",1),e._showPointTooltip(n,r,i,o)}},w=function(n){return function(r,i,o,a){t.select(i).style("opacity",a.lineMarkers||n.data.length<2?e._helpers.opacity(r,o,a):0),e._removeTooltip(r,i,o,a)}},C=function(t,o){e._drawMarkers(t,n,r,i,y,x,_(),w(t),o)},k=function(t,i){var o;return"step"===r.interpolation&&r[t]._hasCategories()?(r.barGap=0,r.clusterBarGap=0,o=e._helpers[t](i,n,r)+("y"===t?e._helpers.height(i,n,r):0)):o=e._helpers["c"+t](i,n,r),parseFloat(o.toFixed(1))},S=function(e,n){return t.svg.line().x(function(t){return r.x._hasCategories()||!n?t.x:r.x[n]}).y(function(t){return r.y._hasCategories()||!n?t.y:r.y[n]}).interpolate(e)};for(o="step"===r.interpolation?"step-after":r.interpolation,p=e._getSeriesOrder(r.data||n.data,r),r.c&&(r.x._hasCategories()&&r.y._hasMeasure()||r.y._hasCategories()&&r.x._hasMeasure())&&(x=!0),a=0;a<g.length;a+=1){for(u=[],d=-1,l=b;l<g[a].aggField.length;l+=1)u.push(g[a].aggField[l]);for(c=e._createClass(u),l=0;l<m.length;l+=1)if(m[l].keyString===c){d=l;break}-1===d&&(d=m.length,m.push({key:u,keyString:c,color:"white",data:[],markerData:[],points:[],line:{},entry:{},exit:{}})),m[d].data.push(g[a])}for(p&&m.sort(function(t,n){return e._arrayIndexCompare(p,t.key,n.key)}),a=0;a<m.length;a+=1){for(m[a].data.sort(e._getSeriesSortPredicate(n,r,p)),x&&e._addGradient(m[a].key,"fill-line-gradient-"+m[a].keyString,r.x._hasCategories()?r.x:r.y,g,n,i,"fill"),s=0;s<m[a].data.length;s+=1)m[a].points.push({x:k("x",m[a].data[s]),y:k("y",m[a].data[s])});"step"===r.interpolation&&m[a].points.length>1&&(r.x._hasCategories()?m[a].points.push({x:2*m[a].points[m[a].points.length-1].x-m[a].points[m[a].points.length-2].x,y:m[a].points[m[a].points.length-1].y}):r.y._hasCategories()&&(m[a].points=[{x:m[a].points[0].x,y:2*m[a].points[0].y-m[a].points[1].y}].concat(m[a].points))),m[a].entry=S(o,"_previousOrigin")(m[a].points),m[a].update=S(o)(m[a].points),m[a].exit=S(o,"_origin")(m[a].points),m[a].color=n.getColor(m[a].key.length>0?m[a].key[m[a].key.length-1]:"All"),m[a].css=n.getClass(m[a].key.length>0?m[a].key[m[a].key.length-1]:"All")}null!==n._tooltipGroup&&void 0!==n._tooltipGroup&&n._tooltipGroup.remove(),(v=null===r.shapes||void 0===r.shapes?n._group.selectAll("."+y).data(m):r.shapes.data(m,function(t){return t.key})).enter().append("path").attr("id",function(t){return e._createClass([t.key])}).attr("class",function(t){return y+" dimple-line "+t.keyString+" "+n.customClassList.lineSeries+" "+t.css}).attr("d",function(t){return t.entry}).call(function(){n.noFormats||this.attr("opacity",function(t){return x?1:t.color.opacity}).style("fill","none").style("stroke",function(t){return x?"url(#"+e._createClass(["fill-line-gradient-"+t.keyString])+")":t.color.stroke}).style("stroke-width",r.lineWeight)}).each(function(t){t.markerData=t.data,C(t,this)}),h=n._handleTransition(v,i,n).attr("d",function(t){return t.update}).each(function(t){t.markerData=t.data,C(t,this)}),f=n._handleTransition(v.exit(),i,n).attr("d",function(t){return t.exit}).each(function(t){t.markerData=[],C(t,this)}),e._postDrawHandling(r,h,f,i),r.shapes=v}},e.plot.pie={stacked:!1,grouped:!1,supportedAxes:["x","y","c","z","p"],draw:function(n,r,i){var o,a,s=r._positionData,l=null,u=["dimple-series-"+n.series.indexOf(r),"dimple-pie"],c=function(t){return r.x&&r.y?e._helpers.r(t,n,r):n._widthPixels()<n._heightPixels()?n._widthPixels()/2:n._heightPixels()/2},d=function(t){var n=c(t);return r.outerRadius&&(n=e._parsePosition(r.outerRadius,n)),Math.max(n,0)},h=function(t){var n=0;return r.innerRadius&&(n=e._parsePosition(r.innerRadius,c(t))),Math.max(n,0)},f=function(e){return t.svg.arc().innerRadius(h(e)).outerRadius(d(e))(e)},p=function(e){e.innerRadius=h(e),e.outerRadius=d(e);var n,r=t.interpolate(this._current,e);return n=t.svg.arc().innerRadius(function(t){return t.innerRadius}).outerRadius(function(t){return t.outerRadius}),this._current=r(0),function(t){return n(r(t))}},g=function(t){return function(i){var o,a;return r.x&&r.y?(o=!t||r.x._hasCategories()?e._helpers.cx(i,n,r):r.x._previousOrigin,a=!t||r.y._hasCategories()?e._helpers.cy(i,n,r):r.y._previousOrigin):(o=n._xPixels()+n._widthPixels()/2,a=n._yPixels()+n._heightPixels()/2),"translate("+o+","+a+")"}};null!==n._tooltipGroup&&void 0!==n._tooltipGroup&&n._tooltipGroup.remove(),(l=null===r.shapes||void 0===r.shapes?n._group.selectAll("."+u.join(".")).data(s):r.shapes.data(s,function(t){return t.key})).enter().append("path").attr("id",function(t){return e._createClass([t.key])}).attr("class",function(t){var r=[];return r=r.concat(t.aggField),r=r.concat(t.pField),u.join(" ")+" "+e._createClass(r)+" "+n.customClassList.pieSeries+" "+e._helpers.css(t,n)}).attr("d",f).on("mouseover",function(t){e._showBarTooltip(t,this,n,r)}).on("mouseleave",function(t){e._removeTooltip(t,this,n,r)}).call(function(){n.noFormats||this.attr("opacity",function(t){return e._helpers.opacity(t,n,r)}).style("fill",function(t){return e._helpers.fill(t,n,r)}).style("stroke",function(t){return e._helpers.stroke(t,n,r)})}).attr("transform",g(!0)).each(function(t){this._current=t,t.innerRadius=h(t),t.outerRadius=d(t)}),o=n._handleTransition(l,i,n,r).call(function(){i&&i>0?this.attrTween("d",p):this.attr("d",f),n.noFormats||this.attr("fill",function(t){return e._helpers.fill(t,n,r)}).attr("stroke",function(t){return e._helpers.stroke(t,n,r)})}).attr("transform",g(!1)),a=n._handleTransition(l.exit(),i,n,r).attr("transform",g(!0)).attr("d",f),e._postDrawHandling(r,o,a,i),r.shapes=l}},e._addGradient=function(t,n,r,i,o,a,s){var l=[].concat(t),u=o.svg.select("#"+e._createClass([n])),c=[],d=r.position+"Field",h=!0,f=[];i.forEach(function(t){-1===c.indexOf(t[d])&&t.aggField.join("_")===l.join("_")&&c.push(t[d])},this),c=c.sort(function(t,e){return r._scale(t)-r._scale(e)}),null===u.node()&&(h=!1,u=o.svg.append("defs").append("linearGradient").attr("id",e._createClass([n])).attr("gradientUnits","userSpaceOnUse").attr("x1","x"===r.position?r._scale(c[0])+o._widthPixels()/c.length/2:0).attr("y1","y"===r.position?r._scale(c[0])-o._heightPixels()/c.length/2:0).attr("x2","x"===r.position?r._scale(c[c.length-1])+o._widthPixels()/c.length/2:0).attr("y2","y"===r.position?r._scale(c[c.length-1])-o._heightPixels()/c.length/2:0)),c.forEach(function(t,e){var n={},r=0;for(r=0;r<i.length;r+=1)if(i[r].aggField.join("_")===l.join("_")&&i[r][d].join("_")===t.join("_")){n=i[r];break}f.push({offset:Math.round(e/(c.length-1)*100)+"%",color:n[s]})},this),h?o._handleTransition(u.selectAll("stop").data(f),a,o).attr("offset",function(t){return t.offset}).attr("stop-color",function(t){return t.color}):u.selectAll("stop").data(f).enter().append("stop").attr("offset",function(t){return t.offset}).attr("stop-color",function(t){return t.color})},e._arrayIndexCompare=function(t,e,n){var r,i,o,a,s,l;for(i=0;i<t.length;i+=1){for(a=!0,s=!0,l=[].concat(t[i]),o=0;o<e.length;o+=1)a=a&&e[o]===l[o];for(o=0;o<n.length;o+=1)s=s&&n[o]===l[o];if(a&&s){r=0;break}if(a){r=-1;break}if(s){r=1;break}}return r},e._createClass=function(t){var e,n,r=[];if(n=function(t){var e=t.charCodeAt(0),n="-";return e>=65&&e<=90&&(n=t.toLowerCase()),n},t.length>0)for(e=0;e<t.length;e+=1)t[e]&&r.push("dimple-"+t[e].toString().replace(/[^a-z0-9]/g,n));else r=["dimple-all"];return r.join(" ")},e._drawMarkerBacks=function(n,r,i,o,a,s){var l,u,c=["dimple-marker-back",a,n.keyString];i.lineMarkers&&(l=null===i._markerBacks||void 0===i._markerBacks||void 0===i._markerBacks[n.keyString]?r._group.selectAll("."+c.join(".")).data(n.markerData):i._markerBacks[n.keyString].data(n.markerData,function(t){return t.key}),(s.nextSibling&&s.nextSibling.id?l.enter().insert("circle","#"+s.nextSibling.id):l.enter().append("circle")).attr("id",function(t){return e._createClass([t.key+" Marker Back"])}).attr("class",function(t){var n=[];return i.x._hasCategories()&&(n=n.concat(t.xField)),i.y._hasCategories()&&(n=n.concat(t.yField)),e._createClass(n)+" "+c.join(" ")}).attr("cx",function(t){return i.x._hasCategories()?e._helpers.cx(t,r,i):i.x._previousOrigin}).attr("cy",function(t){return i.y._hasCategories()?e._helpers.cy(t,r,i):i.y._previousOrigin}).attr("r",0).attr("fill","white").attr("stroke","none"),r._handleTransition(l,o,r).attr("cx",function(t){return e._helpers.cx(t,r,i)}).attr("cy",function(t){return e._helpers.cy(t,r,i)}).attr("r",2+i.lineWeight),u=r._handleTransition(l.exit(),o,r).attr("cx",function(t){return i.x._hasCategories()?e._helpers.cx(t,r,i):i.x._origin}).attr("cy",function(t){return i.y._hasCategories()?e._helpers.cy(t,r,i):i.y._origin}).attr("r",0),0===o?u.remove():u.each("end",function(){t.select(this).remove()}),void 0!==i._markerBacks&&null!==i._markerBacks||(i._markerBacks={}),i._markerBacks[n.keyString]=l)},e._drawMarkers=function(n,r,i,o,a,s,l,u,c){var d,h,f=["dimple-marker",a,n.keyString];d=null===i._markers||void 0===i._markers||void 0===i._markers[n.keyString]?r._group.selectAll("."+f.join(".")).data(n.markerData):i._markers[n.keyString].data(n.markerData,function(t){return t.key}),(c.nextSibling&&c.nextSibling.id?d.enter().insert("circle","#"+c.nextSibling.id):d.enter().append("circle")).attr("id",function(t){return e._createClass([t.key+" Marker"])}).attr("class",function(t){var n=[],o=r.getClass(t.aggField.length>0?t.aggField[t.aggField.length-1]:"All");return i.x._hasCategories()&&(n=n.concat(t.xField)),i.y._hasCategories()&&(n=n.concat(t.yField)),e._createClass(n)+" "+f.join(" ")+" "+r.customClassList.lineMarker+" "+o}).on("mouseover",function(t){l(t,this,r,i)}).on("mouseleave",function(t){u(t,this,r,i)}).attr("cx",function(t){return i.x._hasCategories()?e._helpers.cx(t,r,i):i.x._previousOrigin}).attr("cy",function(t){return i.y._hasCategories()?e._helpers.cy(t,r,i):i.y._previousOrigin}).attr("r",0).attr("opacity",i.lineMarkers||n.data.length<2?n.color.opacity:0).call(function(){r.noFormats||this.attr("fill","white").style("stroke-width",i.lineWeight).attr("stroke",function(t){return s?e._helpers.fill(t,r,i):n.color.stroke})}),r._handleTransition(d,o,r).attr("cx",function(t){return e._helpers.cx(t,r,i)}).attr("cy",function(t){return e._helpers.cy(t,r,i)}).attr("r",2+i.lineWeight).attr("opacity",i.lineMarkers||n.data.length<2?n.color.opacity:0).call(function(){r.noFormats||this.attr("fill","white").style("stroke-width",i.lineWeight).attr("stroke",function(t){return s?e._helpers.fill(t,r,i):n.color.stroke})}),h=r._handleTransition(d.exit(),o,r).attr("cx",function(t){return i.x._hasCategories()?e._helpers.cx(t,r,i):i.x._origin}).attr("cy",function(t){return i.y._hasCategories()?e._helpers.cy(t,r,i):i.y._origin}).attr("r",0),0===o?h.remove():h.each("end",function(){t.select(this).remove()}),void 0!==i._markers&&null!==i._markers||(i._markers={}),i._markers[n.keyString]=d,e._drawMarkerBacks(n,r,i,o,a,c)},e._getOrderedList=function(t,n,r){var i,o=[],a=[],s=[].concat(n),l=[].concat(n),u=[];return null!==r&&void 0!==r&&(u=u.concat(r)),(u=u.concat({ordering:s,desc:!1})).forEach(function(e){var n,r=[],i=[];if("function"==typeof e.ordering){if(t&&t.length>0)for(n in t[0])t[0].hasOwnProperty(n)&&-1===l.indexOf(n)&&l.push(n)}else if(e.ordering instanceof Array){for(n=0;n<e.ordering.length;n+=1)t&&t.length>0&&t[0].hasOwnProperty(e.ordering[n])&&i.push(e.ordering[n]),r.push(e.ordering[n]);i.length>r.length/2?l.concat(i):e.values=r}else l.push(e.ordering)},this),i=e._rollUp(t,s,l),u.length>=1&&(u.forEach(function(t){var e=null!==t.desc&&void 0!==t.desc&&t.desc,n=t.ordering,r=[],i=function(t){var e,n=0;for(e=0;e<t.length;e+=1){if(isNaN(t[e])){n=void 0;break}n+=parseFloat(t[e])}return n},a=function(t,e){var n=0,r=i(t),o=i(e);return isNaN(r)||isNaN(o)?isNaN(Date.parse(t[0]))||isNaN(Date.parse(e[0]))?t[0]<e[0]?n=-1:t[0]>e[0]&&(n=1):n=Date.parse(t[0])-Date.parse(e[0]):n=parseFloat(r)-parseFloat(o),n};"function"==typeof n?o.push(function(t,r){return(e?-1:1)*n(t,r)}):t.values&&t.values.length>0?(t.values.forEach(function(t){r.push([].concat(t).join("|"))},this),o.push(function(t,n){var i,o,a,l="",u="";for(a=0;a<s.length;a+=1)a>0&&(l+="|",u+="|"),l+=t[s[a]],u+=n[s[a]];return i=r.indexOf(l),o=r.indexOf(u),i=i<0?e?-1:r.length:i,o=o<0?e?-1:r.length:o,(e?-1:1)*(i-o)})):[].concat(t.ordering).forEach(function(t){o.push(function(n,r){var i=0;return void 0!==n[t]&&void 0!==r[t]&&(i=a([].concat(n[t]),[].concat(r[t]))),(e?-1:1)*i})})}),i.sort(function(t,e){for(var n=0,r=0;n<o.length&&0===r;)r=o[n](t,e),n+=1;return r}),i.forEach(function(t){var e,n=[];if(1===s.length)a.push(t[s[0]]);else{for(e=0;e<s.length;e+=1)n.push(t[s[e]]);a.push(n)}},this)),a},e._getSeriesOrder=function(t,n){var r=[].concat(n._orderRules),i=n.categoryFields,o=[];return null!==i&&void 0!==i&&i.length>0&&(null!==n.c&&void 0!==n.c&&n.c._hasMeasure()&&r.push({ordering:n.c.measure,desc:!0}),n.x._hasMeasure()&&r.push({ordering:n.x.measure,desc:!0}),n.y._hasMeasure()&&r.push({ordering:n.y.measure,desc:!0}),o=e._getOrderedList(t,i,r)),o},e._getSeriesSortPredicate=function(t,n,r){return function(i,o){var a=0;return n.x._hasCategories()&&(a=e._helpers.cx(i,t,n)-e._helpers.cx(o,t,n)),0===a&&n.y._hasCategories()&&(a=e._helpers.cy(i,t,n)-e._helpers.cy(o,t,n)),0===a&&r&&(a=e._arrayIndexCompare(r,i.aggField,o.aggField)),a}},e._helpers={cx:function(t,n,r){return null!==r.x.measure&&void 0!==r.x.measure?r.x._scale(t.cx):r.x._hasCategories()&&r.x.categoryFields.length>=2?r.x._scale(t.cx)+e._helpers.xGap(n,r)+(t.xOffset+.5)*((n._widthPixels()/r.x._max-2*e._helpers.xGap(n,r))*t.width):r.x._scale(t.cx)+n._widthPixels()/r.x._max/2},cy:function(t,n,r){return null!==r.y.measure&&void 0!==r.y.measure?r.y._scale(t.cy):null!==r.y.categoryFields&&void 0!==r.y.categoryFields&&r.y.categoryFields.length>=2?r.y._scale(t.cy)-n._heightPixels()/r.y._max+e._helpers.yGap(n,r)+(t.yOffset+.5)*((n._heightPixels()/r.y._max-2*e._helpers.yGap(n,r))*t.height):r.y._scale(t.cy)-n._heightPixels()/r.y._max/2},r:function(t,e,n){var r=0,i=1;return null===n.z||void 0===n.z?r=n.radius&&"auto"!==n.radius?n.radius:5:(n.radius&&"auto"!==n.radius&&n.radius>1&&(i=n.radius/n.z._scale(n.z._max)),r=n.z._hasMeasure()?n.z._scale(t.r)*i:n.z._scale(e._heightPixels()/100)*i),r},xGap:function(t,e){var n=0;return(null===e.x.measure||void 0===e.x.measure)&&e.barGap>0&&(n=t._widthPixels()/e.x._max*(e.barGap>.99?.99:e.barGap)/2),n},xClusterGap:function(t,n,r){var i=0;return null!==r.x.categoryFields&&void 0!==r.x.categoryFields&&r.x.categoryFields.length>=2&&r.clusterBarGap>0&&!r.x._hasMeasure()&&(i=t.width*(n._widthPixels()/r.x._max-2*e._helpers.xGap(n,r))*(r.clusterBarGap>.99?.99:r.clusterBarGap)/2),i},yGap:function(t,e){var n=0;return(null===e.y.measure||void 0===e.y.measure)&&e.barGap>0&&(n=t._heightPixels()/e.y._max*(e.barGap>.99?.99:e.barGap)/2),n},yClusterGap:function(t,n,r){var i=0;return null!==r.y.categoryFields&&void 0!==r.y.categoryFields&&r.y.categoryFields.length>=2&&r.clusterBarGap>0&&!r.y._hasMeasure()&&(i=t.height*(n._heightPixels()/r.y._max-2*e._helpers.yGap(n,r))*(r.clusterBarGap>.99?.99:r.clusterBarGap)/2),i},x:function(t,n,r){return r.x._hasTimeField()?r.x._scale(t.x)-e._helpers.width(t,n,r)/2:null!==r.x.measure&&void 0!==r.x.measure?r.x._scale(t.x):r.x._scale(t.x)+e._helpers.xGap(n,r)+t.xOffset*(e._helpers.width(t,n,r)+2*e._helpers.xClusterGap(t,n,r))+e._helpers.xClusterGap(t,n,r)},y:function(t,n,r){return r.y._hasTimeField()?r.y._scale(t.y)-e._helpers.height(t,n,r)/2:null!==r.y.measure&&void 0!==r.y.measure?r.y._scale(t.y):r.y._scale(t.y)-n._heightPixels()/r.y._max+e._helpers.yGap(n,r)+t.yOffset*(e._helpers.height(t,n,r)+2*e._helpers.yClusterGap(t,n,r))+e._helpers.yClusterGap(t,n,r)},width:function(t,n,r){return null!==r.x.measure&&void 0!==r.x.measure?Math.abs(r.x._scale(t.x<0?t.x-t.width:t.x+t.width)-r.x._scale(t.x)):r.x._hasTimeField()?r.x.floatingBarWidth:t.width*(n._widthPixels()/r.x._max-2*e._helpers.xGap(n,r))-2*e._helpers.xClusterGap(t,n,r)},height:function(t,n,r){return r.y._hasTimeField()?r.y.floatingBarWidth:null!==r.y.measure&&void 0!==r.y.measure?Math.abs(r.y._scale(t.y)-r.y._scale(t.y<=0?t.y+t.height:t.y-t.height)):t.height*(n._heightPixels()/r.y._max-2*e._helpers.yGap(n,r))-2*e._helpers.yClusterGap(t,n,r)},opacity:function(t,e,n){return null!==n.c&&void 0!==n.c?t.opacity:e.getColor(t.aggField.slice(-1)[0]).opacity},fill:function(t,e,n){return null!==n.c&&void 0!==n.c?t.fill:e.getColor(t.aggField.slice(-1)[0]).fill},stroke:function(t,e,n){return null!==n.c&&void 0!==n.c?t.stroke:e.getColor(t.aggField.slice(-1)[0]).stroke},css:function(t,e){return e.getClass(t.aggField.slice(-1)[0])}},e._parentHeight=function(t){var n=t.offsetHeight;return(n<=0||null===n||void 0===n)&&(n=t.clientHeight),(n<=0||null===n||void 0===n)&&(n=null===t.parentNode||void 0===t.parentNode?0:e._parentHeight(t.parentNode)),n},e._parentWidth=function(t){var n=t.offsetWidth;return(!n||n<0)&&(n=t.clientWidth),(!n||n<0)&&(n=t.parentNode?e._parentWidth(t.parentNode):0),n},e._parsePosition=function(t,e){var n=0;return t&&t.toString().split(",").forEach(function(r){r&&(isNaN(r)?"%"===r.slice(-1)?n+=e*(parseFloat(r.slice(0,r.length-1))/100):"px"===r.slice(-2)?n+=parseFloat(r.slice(0,r.length-2)):n=t:n+=parseFloat(r))},this),n<0&&(n=e+n),n},e._parseXPosition=function(t,n){return e._parsePosition(t,e._parentWidth(n))},e._parseYPosition=function(t,n){return e._parsePosition(t,e._parentHeight(n))},e._postDrawHandling=function(e,n,r,i){0===i?(n.each(function(t,n){null!==e.afterDraw&&void 0!==e.afterDraw&&e.afterDraw(this,t,n)}),r.remove()):(n.each("end",function(t,n){null!==e.afterDraw&&void 0!==e.afterDraw&&e.afterDraw(this,t,n)}),r.each("end",function(){t.select(this).remove()}))},e._removeTooltip=function(t,e,n,r){n._tooltipGroup&&n._tooltipGroup.remove()},e._rollUp=function(t,e,n){var r=[];return e=null!==e&&void 0!==e?[].concat(e):[],t.forEach(function(t){var i=-1,o={},a=!0;r.forEach(function(n,r){-1===i&&(a=!0,e.forEach(function(e){a=a&&t[e]===n[e]},this),a&&(i=r))},this),-1!==i?o=r[i]:(e.forEach(function(e){o[e]=t[e]},this),r.push(o),i=r.length-1),n.forEach(function(n){-1===e.indexOf(n)&&(void 0===o[n]&&(o[n]=[]),o[n]=o[n].concat(t[n]))},this),r[i]=o},this),r},e._showBarTooltip=function(e,n,r,i){var o,a,s,l,u,c,d=t.select(n),h=d.node().getBBox().x,f=d.node().getBBox().y,p=d.node().getBBox().width,g=d.node().getBBox().height,m=d.attr("opacity"),v=d.attr("fill"),y=i._dropLineOrigin(),b=t.rgb(t.rgb(v).r+.6*(255-t.rgb(v).r),t.rgb(v).g+.6*(255-t.rgb(v).g),t.rgb(v).b+.6*(255-t.rgb(v).b)),x=t.rgb(t.rgb(v).r+.8*(255-t.rgb(v).r),t.rgb(v).g+.8*(255-t.rgb(v).g),t.rgb(v).b+.8*(255-t.rgb(v).b)),_=i.getTooltipText(e),w=0,C=0,k=0,S=function(t,e){var n=d.node().getCTM(),i=r.svg.node().createSVGPoint();return i.x=t||0,i.y=e||0,i.matrixTransform(n)};null!==r._tooltipGroup&&void 0!==r._tooltipGroup&&r._tooltipGroup.remove(),r._tooltipGroup=r.svg.append("g"),i.p||(c=i._isStacked()?1:p/2,i.x._hasCategories()||null===y.y||r._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+r.customClassList.tooltipDropLine).attr("x1",h<i.x._origin?h+c:h+p-c).attr("y1",f<y.y?f+g:f).attr("x2",h<i.x._origin?h+c:h+p-c).attr("y2",f<y.y?f+g:f).call(function(){r.noFormats||this.style("fill","none").style("stroke",v).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",m)}).transition().delay(375).duration(375).ease("linear").attr("y2",f<y.y?y.y-1:y.y+1),c=i._isStacked()?1:g/2,i.y._hasCategories()||null===y.x||r._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+r.customClassList.tooltipDropLine).attr("x1",h<y.x?h+p:h).attr("y1",f<i.y._origin?f+c:f+g-c).attr("x2",h<y.x?h+p:h).attr("y2",f<i.y._origin?f+c:f+g-c).call(function(){r.noFormats||this.style("fill","none").style("stroke",v).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",m)}).transition().delay(375).duration(375).ease("linear").attr("x2",h<y.x?y.x-1:y.x+1)),a=(o=r._tooltipGroup.append("g")).append("rect").attr("class","dimple-tooltip "+r.customClassList.tooltipBox),o.selectAll(".dimple-dont-select-any").data(_).enter().append("text").attr("class","dimple-tooltip "+r.customClassList.tooltipLabel).text(function(t){return t}).call(function(){r.noFormats||this.style("font-family",i.tooltipFontFamily).style("font-size",i._getTooltipFontSize())}),o.each(function(){C=this.getBBox().width>C?this.getBBox().width:C,k=this.getBBox().width>k?this.getBBox().height:k}),o.selectAll("text").attr("x",0).attr("y",function(){return(w+=this.getBBox().height)-this.getBBox().height/2}),a.attr("x",-5).attr("y",-5).attr("height",Math.floor(w+5)-.5).attr("width",C+10).attr("rx",5).attr("ry",5).call(function(){r.noFormats||this.style("fill",x).style("stroke",b).style("stroke-width",2).style("opacity",.95)}),S(h+p+5+10+C).x<parseFloat(r.svg.node().getBBox().width)?(s=h+p+5+10,l=f+g/2-(w-(k-5))/2):S(h-(15+C)).x>0?(s=h-(15+C),l=f+g/2-(w-(k-5))/2):S(0,f+g+w+10+5).y<parseFloat(r.svg.node().getBBox().height)?(s=(s=(s=h+p/2-(10+C)/2)>0?s:10)+C<parseFloat(r.svg.node().getBBox().width)?s:parseFloat(r.svg.node().getBBox().width)-C-10,l=f+g+10):(s=(s=(s=h+p/2-(10+C)/2)>0?s:10)+C<parseFloat(r.svg.node().getBBox().width)?s:parseFloat(r.svg.node().getBBox().width)-C-10,l=f-w-(k-5)),u=S(s,l),o.attr("transform","translate("+u.x+" , "+u.y+")")},e._showPointTooltip=function(n,r,i,o){var a,s,l,u,c=t.select(r),d=parseFloat(c.attr("cx")),h=parseFloat(c.attr("cy")),f=parseFloat(c.attr("r")),p=e._helpers.opacity(n,i,o),g=c.attr("stroke"),m=o._dropLineOrigin(),v=t.rgb(t.rgb(g).r+.6*(255-t.rgb(g).r),t.rgb(g).g+.6*(255-t.rgb(g).g),t.rgb(g).b+.6*(255-t.rgb(g).b)),y=t.rgb(t.rgb(g).r+.8*(255-t.rgb(g).r),t.rgb(g).g+.8*(255-t.rgb(g).g),t.rgb(g).b+.8*(255-t.rgb(g).b)),b=0,x=0,_=0,w=o.getTooltipText(n);null!==i._tooltipGroup&&void 0!==i._tooltipGroup&&i._tooltipGroup.remove(),i._tooltipGroup=i.svg.append("g"),i._tooltipGroup.append("circle").attr("cx",d).attr("cy",h).attr("r",f).call(function(){i.noFormats||this.attr("opacity",0).style("fill","none").style("stroke",g).style("stroke-width",1)}).transition().duration(375).ease("linear").attr("r",f+o.lineWeight+2).call(function(){i.noFormats||this.attr("opacity",1).style("stroke-width",2)}),null!==m.y&&i._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+i.customClassList.tooltipDropLine).attr("x1",d).attr("y1",h<m.y?h+f+o.lineWeight+2:h-f-o.lineWeight-2).attr("x2",d).attr("y2",h<m.y?h+f+o.lineWeight+2:h-f-o.lineWeight-2).call(function(){i.noFormats||this.style("fill","none").style("stroke",g).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",p)}).transition().delay(375).duration(375).ease("linear").attr("y2",h<m.y?m.y-1:m.y+1),null!==m.x&&i._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+i.customClassList.tooltipDropLine).attr("x1",d<m.x?d+f+o.lineWeight+2:d-f-o.lineWeight-2).attr("y1",h).attr("x2",d<m.x?d+f+o.lineWeight+2:d-f-o.lineWeight-2).attr("y2",h).call(function(){i.noFormats||this.style("fill","none").style("stroke",g).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",p)}).transition().delay(375).duration(375).ease("linear").attr("x2",d<m.x?m.x-1:m.x+1),s=(a=i._tooltipGroup.append("g")).append("rect").attr("class","dimple-tooltip "+i.customClassList.tooltipBox),a.selectAll(".dont-select-any").data(w).enter().append("text").attr("class","dimple-tooltip "+i.customClassList.tooltipLabel).text(function(t){return t}).call(function(){i.noFormats||this.style("font-family",o.tooltipFontFamily).style("font-size",o._getTooltipFontSize())}),a.each(function(){x=this.getBBox().width>x?this.getBBox().width:x,_=this.getBBox().width>_?this.getBBox().height:_}),a.selectAll("text").attr("x",0).attr("y",function(){return(b+=this.getBBox().height)-this.getBBox().height/2}),s.attr("x",-5).attr("y",-5).attr("height",Math.floor(b+5)-.5).attr("width",x+10).attr("rx",5).attr("ry",5).call(function(){i.noFormats||this.style("fill",y).style("stroke",v).style("stroke-width",2).style("opacity",.95)}),d+f+5+10+x<parseFloat(i.svg.node().getBBox().width)?(l=d+f+5+10,u=h-(b-(_-5))/2):d-f-(15+x)>0?(l=d-f-(15+x),u=h-(b-(_-5))/2):h+f+b+10+5<parseFloat(i.svg.node().getBBox().height)?(l=(l=(l=d-(10+x)/2)>0?l:10)+x<parseFloat(i.svg.node().getBBox().width)?l:parseFloat(i.svg.node().getBBox().width)-x-10,u=h+f+10):(l=(l=(l=d-(10+x)/2)>0?l:10)+x<parseFloat(i.svg.node().getBBox().width)?l:parseFloat(i.svg.node().getBBox().width)-x-10,u=h-b-(_-5)),a.attr("transform","translate("+l+" , "+u+")")},e.filterData=function(t,e,n){var r=t;return null!==e&&null!==n&&(null!==n&&void 0!==n&&(n=[].concat(n)),r=[],t.forEach(function(t){null===t[e]?r.push(t):n.indexOf([].concat(t[e]).join("/"))>-1&&r.push(t)},this)),r},e.getUniqueValues=function(t,e){var n=[];return null!==e&&void 0!==e&&(e=[].concat(e),t.forEach(function(t){var r="";e.forEach(function(e,n){n>0&&(r+="/"),r+=t[e]},this),-1===n.indexOf(r)&&n.push(r)},this)),n},e.newSvg=function(e,n,r){var i=null;if(null!==e&&void 0!==e||(e="body"),(i=t.select(e)).empty())throw"The '"+e+"' selector did not match any elements.  Please prefix with '#' to select by id or '.' to select by class";return i.append("svg").attr("width",n).attr("height",r)},e}),function(t,e){"undefined"!=typeof module&&module.exports?(e("undefined"==typeof angular?require("angular"):angular),module.exports="ngDialog"):"function"==typeof define&&define.amd?define(["angular"],e):e(t.angular)}(this,function(t){"use strict";var e=t.module("ngDialog",[]),n=t.element,r=t.isDefined,i=(document.body||document.documentElement).style,o=r(i.animation)||r(i.WebkitAnimation)||r(i.MozAnimation)||r(i.MsAnimation)||r(i.OAnimation),a="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",s={html:!1,body:!1},l={},u=[],c=!1;return e.provider("ngDialog",function(){var e=this.defaults={className:"ngdialog-theme-default",disableAnimation:!1,plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0,closeByNavigation:!1,appendTo:!1,preCloseCallback:!1,overlay:!0,cache:!0,trapFocus:!0,preserveFocus:!0,ariaAuto:!0,ariaRole:null,ariaLabelledById:null,ariaLabelledBySelector:null,ariaDescribedById:null,ariaDescribedBySelector:null};this.setForceHtmlReload=function(t){s.html=t||!1},this.setForceBodyReload=function(t){s.body=t||!1},this.setDefaults=function(n){t.extend(e,n)};var r,i=0,d=0,h={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$injector",function(f,p,g,m,v,y,b,x,_,w){var C=[],k={onDocumentKeydown:function(t){27===t.keyCode&&S.close("$escape")},activate:function(t){t.data("$ngDialogOptions").trapFocus&&(t.on("keydown",k.onTrapFocusKeydown),C.body.on("keydown",k.onTrapFocusKeydown))},deactivate:function(t){t.off("keydown",k.onTrapFocusKeydown),C.body.off("keydown",k.onTrapFocusKeydown)},deactivateAll:function(e){t.forEach(e,function(e){var n=t.element(e);k.deactivate(n)})},setBodyPadding:function(t){var e=parseInt(C.body.css("padding-right")||0,10);C.body.css("padding-right",e+t+"px"),C.body.data("ng-dialog-original-padding",e),y.$broadcast("ngDialog.setPadding",t)},resetBodyPadding:function(){var t=C.body.data("ng-dialog-original-padding");t?C.body.css("padding-right",t+"px"):C.body.css("padding-right",""),y.$broadcast("ngDialog.setPadding",0)},performCloseDialog:function(t,e){var n=t.data("$ngDialogOptions"),i=t.attr("id"),s=l[i];if(s){if(void 0!==x.Hammer){var f=s.hammerTime;f.off("tap",r),f.destroy&&f.destroy(),delete s.hammerTime}else t.unbind("click");1===d&&C.body.unbind("keydown",k.onDocumentKeydown),t.hasClass("ngdialog-closing")||(d-=1);var p=t.data("$ngDialogPreviousFocus");p&&p.focus&&p.focus(),y.$broadcast("ngDialog.closing",t,e),d=d<0?0:d,o&&!n.disableAnimation?(s.$destroy(),t.unbind(a).bind(a,function(){k.closeDialogElement(t,e)}).addClass("ngdialog-closing")):(s.$destroy(),k.closeDialogElement(t,e)),h[i]&&(h[i].resolve({id:i,value:e,$dialog:t,remainingDialogs:d}),delete h[i]),l[i]&&delete l[i],u.splice(u.indexOf(i),1),u.length||(C.body.unbind("keydown",k.onDocumentKeydown),c=!1)}},closeDialogElement:function(t,e){t.remove(),0===d&&(C.html.removeClass("ngdialog-open"),C.body.removeClass("ngdialog-open"),k.resetBodyPadding()),y.$broadcast("ngDialog.closed",t,e)},closeDialog:function(e,n){var r=e.data("$ngDialogPreCloseCallback");if(r&&t.isFunction(r)){var i=r.call(e,n);t.isObject(i)?i.closePromise?i.closePromise.then(function(){k.performCloseDialog(e,n)}):i.then(function(){k.performCloseDialog(e,n)},function(){}):!1!==i&&k.performCloseDialog(e,n)}else k.performCloseDialog(e,n)},onTrapFocusKeydown:function(e){var n,r=t.element(e.currentTarget);if(r.hasClass("ngdialog"))n=r;else if(null===(n=k.getActiveDialog()))return;var i=9===e.keyCode,o=!0===e.shiftKey;i&&k.handleTab(n,e,o)},handleTab:function(t,e,n){var r=k.getFocusableElements(t);if(0!==r.length){var i=document.activeElement,o=Array.prototype.indexOf.call(r,i),a=-1===o,s=0===o,l=o===r.length-1,u=!1;n?(a||s)&&(r[r.length-1].focus(),u=!0):(a||l)&&(r[0].focus(),u=!0),u&&(e.preventDefault(),e.stopPropagation())}else document.activeElement&&document.activeElement.blur()},autoFocus:function(t){var e=t[0],r=e.querySelector("*[autofocus]");if(null===r||(r.focus(),document.activeElement!==r)){var i=k.getFocusableElements(t);if(i.length>0)i[0].focus();else{var o=k.filterVisibleElements(e.querySelectorAll("h1,h2,h3,h4,h5,h6,p,span"));if(o.length>0){var a=o[0];n(a).attr("tabindex","-1").css("outline","0"),a.focus()}}}},getFocusableElements:function(t){var e=t[0].querySelectorAll("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]"),n=k.filterTabbableElements(e);return k.filterVisibleElements(n)},filterTabbableElements:function(t){for(var e=[],r=0;r<t.length;r++){var i=t[r];"-1"!==n(i).attr("tabindex")&&e.push(i)}return e},filterVisibleElements:function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];(r.offsetWidth>0||r.offsetHeight>0)&&e.push(r)}return e},getActiveDialog:function(){var t=document.querySelectorAll(".ngdialog");return 0===t.length?null:n(t[t.length-1])},applyAriaAttributes:function(t,e){if(e.ariaAuto){if(!e.ariaRole){var n=k.getFocusableElements(t).length>0?"dialog":"alertdialog";e.ariaRole=n}e.ariaLabelledBySelector||(e.ariaLabelledBySelector="h1,h2,h3,h4,h5,h6"),e.ariaDescribedBySelector||(e.ariaDescribedBySelector="article,section,p")}e.ariaRole&&t.attr("role",e.ariaRole),k.applyAriaAttribute(t,"aria-labelledby",e.ariaLabelledById,e.ariaLabelledBySelector),k.applyAriaAttribute(t,"aria-describedby",e.ariaDescribedById,e.ariaDescribedBySelector)},applyAriaAttribute:function(t,e,r,i){if(r&&t.attr(e,r),i){var o=t.attr("id"),a=t[0].querySelector(i);if(!a)return;var s=o+"-"+e;return n(a).attr("id",s),t.attr(e,s),s}},detectUIRouter:function(){try{return t.module("ui.router"),!0}catch(t){return!1}},getRouterLocationEventName:function(){return k.detectUIRouter()?"$stateChangeSuccess":"$locationChangeSuccess"}},S={__PRIVATE__:k,open:function(o){function a(t,e){return y.$broadcast("ngDialog.templateLoading",t),v.get(t,e||{}).then(function(e){return y.$broadcast("ngDialog.templateLoaded",t),e.data||""})}var s=t.copy(e),f=++i,M="ngdialog"+f;u.push(M),o=o||{},t.extend(s,o);var T;h[M]=T=m.defer();var $;l[M]=$=t.isObject(s.scope)?s.scope.$new():y.$new();var D,E,L=t.extend({},s.resolve);return t.forEach(L,function(e,n){L[n]=t.isString(e)?w.get(e):w.invoke(e,null,null,n)}),m.all({template:function(e){return e?t.isString(e)&&s.plain?e:"boolean"!=typeof s.cache||s.cache?a(e,{cache:p}):a(e,{cache:!1}):"Empty template"}(s.template||s.templateUrl),locals:m.all(L)}).then(function(e){var i=e.template,o=e.locals;s.showClose&&(i+='<div class="ngdialog-close"></div>');var a=s.overlay?"":" ngdialog-no-overlay";if((D=n('<div id="ngdialog'+f+'" class="ngdialog'+a+'"></div>')).html(s.overlay?'<div class="ngdialog-overlay"></div><div class="ngdialog-content" role="document">'+i+"</div>":'<div class="ngdialog-content" role="document">'+i+"</div>"),D.data("$ngDialogOptions",s),$.ngDialogId=M,s.data&&t.isString(s.data)){var l=s.data.replace(/^\s*/,"")[0];$.ngDialogData="{"===l||"["===l?t.fromJson(s.data):s.data,$.ngDialogData.ngDialogId=M}else s.data&&t.isObject(s.data)&&($.ngDialogData=s.data,$.ngDialogData.ngDialogId=M);if(s.className&&D.addClass(s.className),s.disableAnimation&&D.addClass("ngdialog-disabled-animation"),E=s.appendTo&&t.isString(s.appendTo)?t.element(document.querySelector(s.appendTo)):C.body,k.applyAriaAttributes(D,s),s.preCloseCallback){var u;t.isFunction(s.preCloseCallback)?u=s.preCloseCallback:t.isString(s.preCloseCallback)&&$&&(t.isFunction($[s.preCloseCallback])?u=$[s.preCloseCallback]:$.$parent&&t.isFunction($.$parent[s.preCloseCallback])?u=$.$parent[s.preCloseCallback]:y&&t.isFunction(y[s.preCloseCallback])&&(u=y[s.preCloseCallback])),u&&D.data("$ngDialogPreCloseCallback",u)}if($.closeThisDialog=function(t){k.closeDialog(D,t)},s.controller&&(t.isString(s.controller)||t.isArray(s.controller)||t.isFunction(s.controller))){var h;s.controllerAs&&t.isString(s.controllerAs)&&(h=s.controllerAs);var p=_(s.controller,t.extend(o,{$scope:$,$element:D}),!0,h);s.bindToController&&t.extend(p.instance,{ngDialogId:$.ngDialogId,ngDialogData:$.ngDialogData,closeThisDialog:$.closeThisDialog}),D.data("$ngDialogControllerController",p())}if(b(function(){var t=document.querySelectorAll(".ngdialog");k.deactivateAll(t),g(D)($);var e=x.innerWidth-C.body.prop("clientWidth");C.html.addClass("ngdialog-open"),C.body.addClass("ngdialog-open");var n=e-(x.innerWidth-C.body.prop("clientWidth"));n>0&&k.setBodyPadding(n),E.append(D),k.activate(D),s.trapFocus&&k.autoFocus(D),s.name?y.$broadcast("ngDialog.opened",{dialog:D,name:s.name}):y.$broadcast("ngDialog.opened",D)}),c||(C.body.bind("keydown",k.onDocumentKeydown),c=!0),s.closeByNavigation){var m=k.getRouterLocationEventName();y.$on(m,function(){k.closeDialog(D)})}return s.preserveFocus&&D.data("$ngDialogPreviousFocus",document.activeElement),r=function(t){var e=!!s.closeByDocument&&n(t.target).hasClass("ngdialog-overlay"),r=n(t.target).hasClass("ngdialog-close");(e||r)&&S.close(D.attr("id"),r?"$closeButton":"$document")},void 0!==x.Hammer?($.hammerTime=x.Hammer(D[0])).on("tap",r):D.bind("click",r),d+=1,S}),{id:M,closePromise:T.promise,close:function(t){k.closeDialog(D,t)}}},openConfirm:function(r){var i=m.defer(),o=t.copy(e);r=r||{},t.extend(o,r),o.scope=t.isObject(o.scope)?o.scope.$new():y.$new(),o.scope.confirm=function(t){i.resolve(t);var e=n(document.getElementById(a.id));k.performCloseDialog(e,t)};var a=S.open(o);return a.closePromise.then(function(t){return t?i.reject(t.value):i.reject()}),i.promise},isOpen:function(t){return n(document.getElementById(t)).length>0},close:function(t,e){var r=n(document.getElementById(t));if(r.length)k.closeDialog(r,e);else if("$escape"===t){var i=u[u.length-1];(r=n(document.getElementById(i))).data("$ngDialogOptions").closeByEscape&&k.closeDialog(r,"$escape")}else S.closeAll(e);return S},closeAll:function(t){for(var e=document.querySelectorAll(".ngdialog"),r=e.length-1;r>=0;r--){var i=e[r];k.closeDialog(n(i),t)}},getOpenDialogs:function(){return u},getDefaults:function(){return e}};return t.forEach(["html","body"],function(t){if(C[t]=f.find(t),s[t]){var e=k.getRouterLocationEventName();y.$on(e,function(){C[t]=f.find(t)})}}),S}]}),e.directive("ngDialog",["ngDialog",function(e){return{restrict:"A",scope:{ngDialogScope:"="},link:function(n,r,i){r.on("click",function(r){r.preventDefault();var o=t.isDefined(n.ngDialogScope)?n.ngDialogScope:"noScope";t.isDefined(i.ngDialogClosePrevious)&&e.close(i.ngDialogClosePrevious);var a=e.getDefaults();e.open({template:i.ngDialog,className:i.ngDialogClass||a.className,controller:i.ngDialogController,controllerAs:i.ngDialogControllerAs,bindToController:i.ngDialogBindToController,scope:o,data:i.ngDialogData,showClose:"false"!==i.ngDialogShowClose&&("true"===i.ngDialogShowClose||a.showClose),closeByDocument:"false"!==i.ngDialogCloseByDocument&&("true"===i.ngDialogCloseByDocument||a.closeByDocument),closeByEscape:"false"!==i.ngDialogCloseByEscape&&("true"===i.ngDialogCloseByEscape||a.closeByEscape),overlay:"false"!==i.ngDialogOverlay&&("true"===i.ngDialogOverlay||a.overlay),preCloseCallback:i.ngDialogPreCloseCallback||a.preCloseCallback})})}}}]),e}),function(t,e){e.true=t,function(e,n){"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&"object"==typeof t?module.exports=e():n.rangy=e()}(function(){function t(t,e){var n=typeof t[e];return n==x||!(n!=b||!t[e])||"unknown"==n}function e(t,e){return!(typeof t[e]!=b||!t[e])}function n(t,e){return typeof t[e]!=_}function r(t){return function(e,n){for(var r=n.length;r--;)if(!t(e,n[r]))return!1;return!0}}function i(t){return t&&M(t,S)&&$(t,k)}function o(t){return e(t,"body")?t.body:t.getElementsByTagName("body")[0]}function a(e){typeof console!=_&&t(console,"log")&&console.log(e)}function s(t,e){L&&e?alert(t):a(t)}function l(t){F.initialized=!0,F.supported=!1,s("Rangy is not supported in this environment. Reason: "+t,F.config.alertOnFail)}function u(t){s("Rangy warning: "+t,F.config.alertOnWarn)}function c(t){return t.message||t.description||String(t)}function d(){if(L&&!F.initialized){var e,n=!1,r=!1;t(document,"createRange")&&(e=document.createRange(),M(e,C)&&$(e,w)&&(n=!0));var s=o(document);if(!s||"body"!=s.nodeName.toLowerCase())return void l("No body element found");if(s&&t(s,"createTextRange")&&(e=s.createTextRange(),i(e)&&(r=!0)),!n&&!r)return void l("Neither Range nor TextRange are available");F.initialized=!0,F.features={implementsDomRange:n,implementsTextRange:r};var u;for(var d in E)(u=E[d])instanceof g&&u.init(u,F);for(var h=0,f=O.length;f>h;++h)try{O[h](F)}catch(t){a("Rangy init listener threw an exception. Continuing. Detail: "+c(t))}}}function h(t,e,n){n&&(t+=" in module "+n.name),F.warn("DEPRECATED: "+t+" is deprecated. Please use "+e+" instead.")}function f(t,e,n,r){t[e]=function(){return h(e,n,r),t[n].apply(t,A.toArray(arguments))}}function p(t){t=t||window,d();for(var e=0,n=N.length;n>e;++e)N[e](t)}function g(t,e,n){this.name=t,this.dependencies=e,this.initialized=!1,this.supported=!1,this.initializer=n}function m(t,e,n){var r=new g(t,e,function(e){if(!e.initialized){e.initialized=!0;try{n(F,e),e.supported=!0}catch(e){a("Module '"+t+"' failed to load: "+c(e)),e.stack&&a(e.stack)}}});return E[t]=r,r}function v(){}function y(){}var b="object",x="function",_="undefined",w=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],C=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],k=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],S=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],M=r(t),T=r(e),$=r(n),D=[].forEach?function(t,e){t.forEach(e)}:function(t,e){for(var n=0,r=t.length;r>n;++n)e(t[n],n)},E={},L=typeof window!=_&&typeof document!=_,A={isHostMethod:t,isHostObject:e,isHostProperty:n,areHostMethods:M,areHostObjects:T,areHostProperties:$,isTextRange:i,getBody:o,forEach:D},F={version:"1.3.0",initialized:!1,isBrowser:L,supported:!0,util:A,features:{},modules:E,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==_||rangyAutoInitialize}};F.fail=l,F.warn=u;var P;!{}.hasOwnProperty?l("hasOwnProperty not supported"):(A.extend=P=function(t,e,n){var r,i;for(var o in e)e.hasOwnProperty(o)&&(r=t[o],i=e[o],n&&null!==r&&"object"==typeof r&&null!==i&&"object"==typeof i&&P(r,i,!0),t[o]=i);return e.hasOwnProperty("toString")&&(t.toString=e.toString),t},A.createOptions=function(t,e){var n={};return P(n,e),t&&P(n,t),n}),L||l("Rangy can only run in a browser"),function(){var t;if(L){var e=document.createElement("div");e.appendChild(document.createElement("span"));var n=[].slice;try{1==n.call(e.childNodes,0)[0].nodeType&&(t=function(t){return n.call(t,0)})}catch(t){}}t||(t=function(t){for(var e=[],n=0,r=t.length;r>n;++n)e[n]=t[n];return e}),A.toArray=t}();var R;L&&(t(document,"addEventListener")?R=function(t,e,n){t.addEventListener(e,n,!1)}:t(document,"attachEvent")?R=function(t,e,n){t.attachEvent("on"+e,n)}:l("Document does not have required addEventListener or attachEvent method"),A.addListener=R);var O=[];A.deprecationNotice=h,A.createAliasForDeprecatedMethod=f,F.init=d,F.addInitListener=function(t){F.initialized?t(F):O.push(t)};var N=[];F.addShimListener=function(t){N.push(t)},L&&(F.shim=F.createMissingNativeApi=p,f(F,"createMissingNativeApi","shim")),g.prototype={init:function(){for(var t,e,n=this.dependencies||[],r=0,i=n.length;i>r;++r){if(e=n[r],!((t=E[e])&&t instanceof g))throw new Error("required module '"+e+"' not found");if(t.init(),!t.supported)throw new Error("required module '"+e+"' not supported")}this.initializer(this)},fail:function(t){throw this.initialized=!0,this.supported=!1,new Error(t)},warn:function(t){F.warn("Module "+this.name+": "+t)},deprecationNotice:function(t,e){F.warn("DEPRECATED: "+t+" in module "+this.name+" is deprecated. Please use "+e+" instead")},createError:function(t){return new Error("Error in Rangy "+this.name+" module: "+t)}},F.createModule=function(t){var e,n;2==arguments.length?(e=arguments[1],n=[]):(e=arguments[2],n=arguments[1]);var r=m(t,n,e);F.initialized&&F.supported&&r.init()},F.createCoreModule=function(t,e,n){m(t,e,n)},F.RangePrototype=v,F.rangePrototype=new v,F.selectionPrototype=new y,F.createCoreModule("DomUtil",[],function(t,e){function n(t){var e;return typeof t.namespaceURI==L||null===(e=t.namespaceURI)||"http://www.w3.org/1999/xhtml"==e}function r(t){var e=t.parentNode;return 1==e.nodeType?e:null}function i(t){for(var e=0;t=t.previousSibling;)++e;return e}function o(t){switch(t.nodeType){case 7:case 10:return 0;case 3:case 8:return t.length;default:return t.childNodes.length}}function a(t,e){var n,r=[];for(n=t;n;n=n.parentNode)r.push(n);for(n=e;n;n=n.parentNode)if(O(r,n))return n;return null}function s(t,e,n){for(var r=n?e:e.parentNode;r;){if(r===t)return!0;r=r.parentNode}return!1}function l(t,e){return s(t,e,!0)}function u(t,e,n){for(var r,i=n?t:t.parentNode;i;){if((r=i.parentNode)===e)return i;i=r}return null}function c(t){var e=t.nodeType;return 3==e||4==e||8==e}function d(t){if(!t)return!1;var e=t.nodeType;return 3==e||8==e}function h(t,e){var n=e.nextSibling,r=e.parentNode;return n?r.insertBefore(t,n):r.appendChild(t),t}function f(t,e,n){var r=t.cloneNode(!1);if(r.deleteData(0,e),t.deleteData(e,t.length-e),h(r,t),n)for(var o,a=0;o=n[a++];)o.node==t&&o.offset>e?(o.node=r,o.offset-=e):o.node==t.parentNode&&o.offset>i(t)&&++o.offset;return r}function p(t){if(9==t.nodeType)return t;if(typeof t.ownerDocument!=L)return t.ownerDocument;if(typeof t.document!=L)return t.document;if(t.parentNode)return p(t.parentNode);throw e.createError("getDocument: no document found for node")}function g(t){var n=p(t);if(typeof n.defaultView!=L)return n.defaultView;if(typeof n.parentWindow!=L)return n.parentWindow;throw e.createError("Cannot get a window object for node")}function m(t){if(typeof t.contentDocument!=L)return t.contentDocument;if(typeof t.contentWindow!=L)return t.contentWindow.document;throw e.createError("getIframeDocument: No Document object found for iframe element")}function v(t){if(typeof t.contentWindow!=L)return t.contentWindow;if(typeof t.contentDocument!=L)return t.contentDocument.defaultView;throw e.createError("getIframeWindow: No Window object found for iframe element")}function y(t){return t&&A.isHostMethod(t,"setTimeout")&&A.isHostObject(t,"document")}function b(t,e,n){var r;if(t?A.isHostProperty(t,"nodeType")?r=1==t.nodeType&&"iframe"==t.tagName.toLowerCase()?m(t):p(t):y(t)&&(r=t.document):r=document,!r)throw e.createError(n+"(): Parameter must be a Window object or DOM node");return r}function x(t){for(var e;e=t.parentNode;)t=e;return t}function _(t,n,r,o){var s,l,c,d,h;if(t==r)return n===o?0:o>n?-1:1;if(s=u(r,t,!0))return n<=i(s)?-1:1;if(s=u(t,r,!0))return i(s)<o?-1:1;if(!(l=a(t,r)))throw new Error("comparePoints error: nodes have no common ancestor");if(c=t===l?l:u(t,l,!0),d=r===l?l:u(r,l,!0),c===d)throw e.createError("comparePoints got to case 4 and childA and childB are the same!");for(h=l.firstChild;h;){if(h===c)return-1;if(h===d)return 1;h=h.nextSibling}}function w(t){try{return t.parentNode,!1}catch(t){return!0}}function C(t){if(!t)return"[No node]";if(N&&w(t))return"[Broken node]";if(c(t))return'"'+t.data+'"';if(1==t.nodeType){var e=t.id?' id="'+t.id+'"':"";return"<"+t.nodeName+e+">[index:"+i(t)+",length:"+t.childNodes.length+"]["+(t.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return t.nodeName}function k(t){for(var e,n=p(t).createDocumentFragment();e=t.firstChild;)n.appendChild(e);return n}function S(t,e,n){var r=F(t),i=t.createElement("div");i.contentEditable=""+!!n,e&&(i.innerHTML=e);var o=r.firstChild;return o?r.insertBefore(i,o):r.appendChild(i),i}function M(t){return t.parentNode.removeChild(t)}function T(t){this.root=t,this._next=t}function $(t){return new T(t)}function D(t,e){this.node=t,this.offset=e}function E(t){this.code=this[t],this.codeName=t,this.message="DOMException: "+this.codeName}var L="undefined",A=t.util,F=A.getBody;A.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||e.fail("document missing a Node creation method"),A.isHostMethod(document,"getElementsByTagName")||e.fail("document missing getElementsByTagName method");var P=document.createElement("div");A.areHostMethods(P,["insertBefore","appendChild","cloneNode"]||!A.areHostObjects(P,["previousSibling","nextSibling","childNodes","parentNode"]))||e.fail("Incomplete Element implementation"),A.isHostProperty(P,"innerHTML")||e.fail("Element is missing innerHTML property");var R=document.createTextNode("test");A.areHostMethods(R,["splitText","deleteData","insertData","appendData","cloneNode"]||!A.areHostObjects(P,["previousSibling","nextSibling","childNodes","parentNode"])||!A.areHostProperties(R,["data"]))||e.fail("Incomplete Text Node implementation");var O=function(t,e){for(var n=t.length;n--;)if(t[n]===e)return!0;return!1},N=!1;!function(){var e=document.createElement("b");e.innerHTML="1";var n=e.firstChild;e.innerHTML="<br />",N=w(n),t.features.crashyTextNodes=N}();var I;typeof window.getComputedStyle!=L?I=function(t,e){return g(t).getComputedStyle(t,null)[e]}:typeof document.documentElement.currentStyle!=L?I=function(t,e){return t.currentStyle?t.currentStyle[e]:""}:e.fail("No means of obtaining computed style properties found"),T.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var t,e,n=this._current=this._next;if(this._current)if(t=n.firstChild)this._next=t;else{for(e=null;n!==this.root&&!(e=n.nextSibling);)n=n.parentNode;this._next=e}return this._current},detach:function(){this._current=this._next=this.root=null}},D.prototype={equals:function(t){return!!t&&this.node===t.node&&this.offset==t.offset},inspect:function(){return"[DomPosition("+C(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},E.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},E.prototype.toString=function(){return this.message},t.dom={arrayContains:O,isHtmlNamespace:n,parentElement:r,getNodeIndex:i,getNodeLength:o,getCommonAncestor:a,isAncestorOf:s,isOrIsAncestorOf:l,getClosestAncestorIn:u,isCharacterDataNode:c,isTextOrCommentNode:d,insertAfter:h,splitDataNode:f,getDocument:p,getWindow:g,getIframeWindow:v,getIframeDocument:m,getBody:F,isWindow:y,getContentDocument:b,getRootContainer:x,comparePoints:_,isBrokenNode:w,inspectNode:C,getComputedStyleProperty:I,createTestElement:S,removeNode:M,fragmentFromNodeChildren:k,createIterator:$,DomPosition:D},t.DOMException=E}),F.createCoreModule("DomRange",["DomUtil"],function(t,e){function n(t,e){return 3!=t.nodeType&&(j(t,e.startContainer)||j(t,e.endContainer))}function r(t){return t.document||H(t.startContainer)}function i(t){return q(t.startContainer)}function o(t){return new N(t.parentNode,V(t))}function a(t){return new N(t.parentNode,V(t)+1)}function s(t,e,n){var r=11==t.nodeType?t.firstChild:t;return Y(e)?n==e.length?R.insertAfter(t,e):e.parentNode.insertBefore(t,0==n?e:W(e,n)):n>=e.childNodes.length?e.appendChild(t):e.insertBefore(t,e.childNodes[n]),r}function l(t,e,n){if(S(t),S(e),r(e)!=r(t))throw new I("WRONG_DOCUMENT_ERR");var i=z(t.startContainer,t.startOffset,e.endContainer,e.endOffset),o=z(t.endContainer,t.endOffset,e.startContainer,e.startOffset);return n?0>=i&&o>=0:0>i&&o>0}function u(t){for(var e,n,i,o=r(t.range).createDocumentFragment();n=t.next();){if(e=t.isPartiallySelectedSubtree(),n=n.cloneNode(!e),e&&(i=t.getSubtreeIterator(),n.appendChild(u(i)),i.detach()),10==n.nodeType)throw new I("HIERARCHY_REQUEST_ERR");o.appendChild(n)}return o}function c(t,e,n){var r,i;n=n||{stop:!1};for(var o,a;o=t.next();)if(t.isPartiallySelectedSubtree()){if(!1===e(o))return void(n.stop=!0);if(a=t.getSubtreeIterator(),c(a,e,n),a.detach(),n.stop)return}else for(r=R.createIterator(o);i=r.next();)if(!1===e(i))return void(n.stop=!0)}function d(t){for(var e;t.next();)t.isPartiallySelectedSubtree()?(e=t.getSubtreeIterator(),d(e),e.detach()):t.remove()}function h(t){for(var e,n,i=r(t.range).createDocumentFragment();e=t.next();){if(t.isPartiallySelectedSubtree()?(e=e.cloneNode(!1),n=t.getSubtreeIterator(),e.appendChild(h(n)),n.detach()):t.remove(),10==e.nodeType)throw new I("HIERARCHY_REQUEST_ERR");i.appendChild(e)}return i}function f(t,e,n){var r,i=!(!e||!e.length),o=!!n;i&&(r=new RegExp("^("+e.join("|")+")$"));var a=[];return c(new g(t,!1),function(e){if((!i||r.test(e.nodeType))&&(!o||n(e))){var s=t.startContainer;if(e!=s||!Y(s)||t.startOffset!=s.length){var l=t.endContainer;e==l&&Y(l)&&0==t.endOffset||a.push(e)}}}),a}function p(t){return"["+(void 0===t.getName?"Range":t.getName())+"("+R.inspectNode(t.startContainer)+":"+t.startOffset+", "+R.inspectNode(t.endContainer)+":"+t.endOffset+")]"}function g(t,e){if(this.range=t,this.clonePartiallySelectedTextNodes=e,!t.collapsed){this.sc=t.startContainer,this.so=t.startOffset,this.ec=t.endContainer,this.eo=t.endOffset;var n=t.commonAncestorContainer;this.sc===this.ec&&Y(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||Y(this.sc)?B(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||Y(this.ec)?B(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function m(t){return function(e,n){for(var r,i=n?e:e.parentNode;i;){if(r=i.nodeType,G(t,r))return i;i=i.parentNode}return null}}function v(t,e){if(it(t,e))throw new I("INVALID_NODE_TYPE_ERR")}function y(t,e){if(!G(e,t.nodeType))throw new I("INVALID_NODE_TYPE_ERR")}function b(t,e){if(0>e||e>(Y(t)?t.length:t.childNodes.length))throw new I("INDEX_SIZE_ERR")}function x(t,e){if(nt(t,!0)!==nt(e,!0))throw new I("WRONG_DOCUMENT_ERR")}function _(t){if(rt(t,!0))throw new I("NO_MODIFICATION_ALLOWED_ERR")}function w(t,e){if(!t)throw new I(e)}function C(t,e){return e<=(Y(t)?t.length:t.childNodes.length)}function k(t){return!!t.startContainer&&!!t.endContainer&&!(K&&(R.isBrokenNode(t.startContainer)||R.isBrokenNode(t.endContainer)))&&q(t.startContainer)==q(t.endContainer)&&C(t.startContainer,t.startOffset)&&C(t.endContainer,t.endOffset)}function S(t){if(!k(t))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+t.inspect()+")")}function M(t,e){S(t);var n=t.startContainer,r=t.startOffset,i=t.endContainer,o=t.endOffset,a=n===i;Y(i)&&o>0&&o<i.length&&W(i,o,e),Y(n)&&r>0&&r<n.length&&(n=W(n,r,e),a?(o-=r,i=n):i==n.parentNode&&o>=V(n)&&o++,r=0),t.setStartAndEnd(n,r,i,o)}function T(t){S(t);var e=t.commonAncestorContainer.parentNode.cloneNode(!1);return e.appendChild(t.cloneContents()),e.innerHTML}function $(t){t.START_TO_START=ut,t.START_TO_END=ct,t.END_TO_END=dt,t.END_TO_START=ht,t.NODE_BEFORE=ft,t.NODE_AFTER=pt,t.NODE_BEFORE_AND_AFTER=gt,t.NODE_INSIDE=mt}function D(t){$(t),$(t.prototype)}function E(t,e){return function(){S(this);var n,r,i=this.startContainer,o=this.startOffset,s=this.commonAncestorContainer,l=new g(this,!0);i!==s&&(n=B(i,s,!0),r=a(n),i=r.node,o=r.offset),c(l,_),l.reset();var u=t(l);return l.detach(),e(this,i,o,i,o),u}}function L(e,r){function i(t,e){return function(n){y(n,X),y(q(n),Z);var r=(t?o:a)(n);(e?s:l)(this,r.node,r.offset)}}function s(t,e,n){var i=t.endContainer,o=t.endOffset;(e!==t.startContainer||n!==t.startOffset)&&((q(e)!=q(i)||1==z(e,n,i,o))&&(i=e,o=n),r(t,e,n,i,o))}function l(t,e,n){var i=t.startContainer,o=t.startOffset;(e!==t.endContainer||n!==t.endOffset)&&((q(e)!=q(i)||-1==z(e,n,i,o))&&(i=e,o=n),r(t,i,o,e,n))}var u=function(){};u.prototype=t.rangePrototype,e.prototype=new u,O.extend(e.prototype,{setStart:function(t,e){v(t,!0),b(t,e),s(this,t,e)},setEnd:function(t,e){v(t,!0),b(t,e),l(this,t,e)},setStartAndEnd:function(){var t=arguments,e=t[0],n=t[1],i=e,o=n;switch(t.length){case 3:o=t[2];break;case 4:i=t[2],o=t[3]}r(this,e,n,i,o)},setBoundary:function(t,e,n){this["set"+(n?"Start":"End")](t,e)},setStartBefore:i(!0,!0),setStartAfter:i(!1,!0),setEndBefore:i(!0,!1),setEndAfter:i(!1,!1),collapse:function(t){S(this),t?r(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):r(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(t){v(t,!0),r(this,t,0,t,U(t))},selectNode:function(t){v(t,!1),y(t,X);var e=o(t),n=a(t);r(this,e.node,e.offset,n.node,n.offset)},extractContents:E(h,r),deleteContents:E(d,r),canSurroundContents:function(){S(this),_(this.startContainer),_(this.endContainer);var t=new g(this,!0),e=t._first&&n(t._first,this)||t._last&&n(t._last,this);return t.detach(),!e},splitBoundaries:function(){M(this)},splitBoundariesPreservingPositions:function(t){M(this,t)},normalizeBoundaries:function(){S(this);var t,e=this.startContainer,n=this.startOffset,i=this.endContainer,o=this.endOffset,a=function(t){var e=t.nextSibling;e&&e.nodeType==t.nodeType&&(i=t,o=t.length,t.appendData(e.data),J(e))},s=function(t){var r=t.previousSibling;if(r&&r.nodeType==t.nodeType){e=t;var a=t.length;if(n=r.length,t.insertData(0,r.data),J(r),e==i)o+=n,i=e;else if(i==t.parentNode){var s=V(t);o==s?(i=t,o=a):o>s&&o--}}},l=!0;if(Y(i))o==i.length?a(i):0==o&&(t=i.previousSibling)&&t.nodeType==i.nodeType&&(o=t.length,e==i&&(l=!1),t.appendData(i.data),J(i),i=t);else{if(o>0){var u=i.childNodes[o-1];u&&Y(u)&&a(u)}l=!this.collapsed}if(l){if(Y(e))0==n?s(e):n==e.length&&(t=e.nextSibling)&&t.nodeType==e.nodeType&&(i==t&&(i=e,o+=e.length),e.appendData(t.data),J(t));else if(n<e.childNodes.length){var c=e.childNodes[n];c&&Y(c)&&s(c)}}else e=i,n=o;r(this,e,n,i,o)},collapseToPoint:function(t,e){v(t,!0),b(t,e),this.setStartAndEnd(t,e)}}),D(e)}function A(t){t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset,t.commonAncestorContainer=t.collapsed?t.startContainer:R.getCommonAncestor(t.startContainer,t.endContainer)}function F(t,e,n,r,i){t.startContainer=e,t.startOffset=n,t.endContainer=r,t.endOffset=i,t.document=R.getDocument(e),A(t)}function P(t){this.startContainer=t,this.startOffset=0,this.endContainer=t,this.endOffset=0,this.document=t,A(this)}var R=t.dom,O=t.util,N=R.DomPosition,I=t.DOMException,Y=R.isCharacterDataNode,V=R.getNodeIndex,j=R.isOrIsAncestorOf,H=R.getDocument,z=R.comparePoints,W=R.splitDataNode,B=R.getClosestAncestorIn,U=R.getNodeLength,G=R.arrayContains,q=R.getRootContainer,K=t.features.crashyTextNodes,J=R.removeNode;g.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var t=this._current=this._next;return t&&(this._next=t!==this._last?t.nextSibling:null,Y(t)&&this.clonePartiallySelectedTextNodes&&(t===this.ec&&(t=t.cloneNode(!0)).deleteData(this.eo,t.length-this.eo),this._current===this.sc&&(t=t.cloneNode(!0)).deleteData(0,this.so))),t},remove:function(){var t,e,n=this._current;!Y(n)||n!==this.sc&&n!==this.ec?n.parentNode&&J(n):(t=n===this.sc?this.so:0,e=n===this.ec?this.eo:n.length,t!=e&&n.deleteData(t,e-t))},isPartiallySelectedSubtree:function(){return n(this._current,this.range)},getSubtreeIterator:function(){var t;if(this.isSingleCharacterDataNode)(t=this.range.cloneRange()).collapse(!1);else{t=new P(r(this.range));var e=this._current,n=e,i=0,o=e,a=U(e);j(e,this.sc)&&(n=this.sc,i=this.so),j(e,this.ec)&&(o=this.ec,a=this.eo),F(t,n,i,o,a)}return new g(t,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var X=[1,3,4,5,7,8,10],Z=[2,9,11],Q=[5,6,10,12],tt=[1,3,4,5,7,8,10,11],et=[1,3,4,5,7,8],nt=m([9,11]),rt=m(Q),it=m([6,10,12]),ot=document.createElement("style"),at=!1;try{ot.innerHTML="<b>x</b>",at=3==ot.firstChild.nodeType}catch(t){}t.features.htmlParsingConforms=at;var st=at?function(t){var e=this.startContainer,n=H(e);if(!e)throw new I("INVALID_STATE_ERR");var r=null;return 1==e.nodeType?r=e:Y(e)&&(r=R.parentElement(e)),r=null===r||"HTML"==r.nodeName&&R.isHtmlNamespace(H(r).documentElement)&&R.isHtmlNamespace(r)?n.createElement("body"):r.cloneNode(!1),r.innerHTML=t,R.fragmentFromNodeChildren(r)}:function(t){var e=r(this).createElement("body");return e.innerHTML=t,R.fragmentFromNodeChildren(e)},lt=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],ut=0,ct=1,dt=2,ht=3,ft=0,pt=1,gt=2,mt=3;O.extend(t.rangePrototype,{compareBoundaryPoints:function(t,e){S(this),x(this.startContainer,e.startContainer);var n,r,i,o,a=t==ht||t==ut?"start":"end",s=t==ct||t==ut?"start":"end";return n=this[a+"Container"],r=this[a+"Offset"],i=e[s+"Container"],o=e[s+"Offset"],z(n,r,i,o)},insertNode:function(t){if(S(this),y(t,tt),_(this.startContainer),j(t,this.startContainer))throw new I("HIERARCHY_REQUEST_ERR");var e=s(t,this.startContainer,this.startOffset);this.setStartBefore(e)},cloneContents:function(){S(this);var t,e;if(this.collapsed)return r(this).createDocumentFragment();if(this.startContainer===this.endContainer&&Y(this.startContainer))return t=this.startContainer.cloneNode(!0),t.data=t.data.slice(this.startOffset,this.endOffset),(e=r(this).createDocumentFragment()).appendChild(t),e;var n=new g(this,!0);return t=u(n),n.detach(),t},canSurroundContents:function(){S(this),_(this.startContainer),_(this.endContainer);var t=new g(this,!0),e=t._first&&n(t._first,this)||t._last&&n(t._last,this);return t.detach(),!e},surroundContents:function(t){if(y(t,et),!this.canSurroundContents())throw new I("INVALID_STATE_ERR");var e=this.extractContents();if(t.hasChildNodes())for(;t.lastChild;)t.removeChild(t.lastChild);s(t,this.startContainer,this.startOffset),t.appendChild(e),this.selectNode(t)},cloneRange:function(){S(this);for(var t,e=new P(r(this)),n=lt.length;n--;)t=lt[n],e[t]=this[t];return e},toString:function(){S(this);var t=this.startContainer;if(t===this.endContainer&&Y(t))return 3==t.nodeType||4==t.nodeType?t.data.slice(this.startOffset,this.endOffset):"";var e=[],n=new g(this,!0);return c(n,function(t){(3==t.nodeType||4==t.nodeType)&&e.push(t.data)}),n.detach(),e.join("")},compareNode:function(t){S(this);var e=t.parentNode,n=V(t);if(!e)throw new I("NOT_FOUND_ERR");var r=this.comparePoint(e,n),i=this.comparePoint(e,n+1);return 0>r?i>0?gt:ft:i>0?pt:mt},comparePoint:function(t,e){return S(this),w(t,"HIERARCHY_REQUEST_ERR"),x(t,this.startContainer),z(t,e,this.startContainer,this.startOffset)<0?-1:z(t,e,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:st,toHtml:function(){return T(this)},intersectsNode:function(t,e){if(S(this),q(t)!=i(this))return!1;var n=t.parentNode,r=V(t);if(!n)return!0;var o=z(n,r,this.endContainer,this.endOffset),a=z(n,r+1,this.startContainer,this.startOffset);return e?0>=o&&a>=0:0>o&&a>0},isPointInRange:function(t,e){return S(this),w(t,"HIERARCHY_REQUEST_ERR"),x(t,this.startContainer),z(t,e,this.startContainer,this.startOffset)>=0&&z(t,e,this.endContainer,this.endOffset)<=0},intersectsRange:function(t){return l(this,t,!1)},intersectsOrTouchesRange:function(t){return l(this,t,!0)},intersection:function(t){if(this.intersectsRange(t)){var e=z(this.startContainer,this.startOffset,t.startContainer,t.startOffset),n=z(this.endContainer,this.endOffset,t.endContainer,t.endOffset),r=this.cloneRange();return-1==e&&r.setStart(t.startContainer,t.startOffset),1==n&&r.setEnd(t.endContainer,t.endOffset),r}return null},union:function(t){if(this.intersectsOrTouchesRange(t)){var e=this.cloneRange();return-1==z(t.startContainer,t.startOffset,this.startContainer,this.startOffset)&&e.setStart(t.startContainer,t.startOffset),1==z(t.endContainer,t.endOffset,this.endContainer,this.endOffset)&&e.setEnd(t.endContainer,t.endOffset),e}throw new I("Ranges do not intersect")},containsNode:function(t,e){return e?this.intersectsNode(t,!1):this.compareNode(t)==mt},containsNodeContents:function(t){return this.comparePoint(t,0)>=0&&this.comparePoint(t,U(t))<=0},containsRange:function(t){var e=this.intersection(t);return null!==e&&t.equals(e)},containsNodeText:function(t){var e=this.cloneRange();e.selectNode(t);var n=e.getNodes([3]);if(n.length>0){e.setStart(n[0],0);var r=n.pop();return e.setEnd(r,r.length),this.containsRange(e)}return this.containsNodeContents(t)},getNodes:function(t,e){return S(this),f(this,t,e)},getDocument:function(){return r(this)},collapseBefore:function(t){this.setEndBefore(t),this.collapse(!1)},collapseAfter:function(t){this.setStartAfter(t),this.collapse(!0)},getBookmark:function(e){var n=r(this),i=t.createRange(n);e=e||R.getBody(n),i.selectNodeContents(e);var o=this.intersection(i),a=0,s=0;return o&&(i.setEnd(o.startContainer,o.startOffset),a=i.toString().length,s=a+o.toString().length),{start:a,end:s,containerNode:e}},moveToBookmark:function(t){var e=t.containerNode,n=0;this.setStart(e,0),this.collapse(!0);for(var r,i,o,a,s=[e],l=!1,u=!1;!u&&(r=s.pop());)if(3==r.nodeType)i=n+r.length,!l&&t.start>=n&&t.start<=i&&(this.setStart(r,t.start-n),l=!0),l&&t.end>=n&&t.end<=i&&(this.setEnd(r,t.end-n),u=!0),n=i;else for(a=r.childNodes,o=a.length;o--;)s.push(a[o])},getName:function(){return"DomRange"},equals:function(t){return P.rangesEqual(this,t)},isValid:function(){return k(this)},inspect:function(){return p(this)},detach:function(){}}),L(P,F),O.extend(P,{rangeProperties:lt,RangeIterator:g,copyComparisonConstants:D,createPrototypeRange:L,inspect:p,toHtml:T,getRangeDocument:r,rangesEqual:function(t,e){return t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset}}),t.DomRange=P}),F.createCoreModule("WrappedRange",["DomRange"],function(t,e){var n,r,i=t.dom,o=t.util,a=i.DomPosition,s=t.DomRange,l=i.getBody,u=i.getContentDocument,c=i.isCharacterDataNode;if(t.features.implementsDomRange&&function(){function r(t){for(var e,n=h.length;n--;)e=h[n],t[e]=t.nativeRange[e];t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset}function a(t,e,n,r,i){var o=t.startContainer!==e||t.startOffset!=n,a=t.endContainer!==r||t.endOffset!=i,s=!t.equals(t.nativeRange);(o||a||s)&&(t.setEnd(r,i),t.setStart(e,n))}var c,d,h=s.rangeProperties;n=function(t){if(!t)throw e.createError("WrappedRange: Range must be specified");this.nativeRange=t,r(this)},s.createPrototypeRange(n,a),(c=n.prototype).selectNode=function(t){this.nativeRange.selectNode(t),r(this)},c.cloneContents=function(){return this.nativeRange.cloneContents()},c.surroundContents=function(t){this.nativeRange.surroundContents(t),r(this)},c.collapse=function(t){this.nativeRange.collapse(t),r(this)},c.cloneRange=function(){return new n(this.nativeRange.cloneRange())},c.refresh=function(){r(this)},c.toString=function(){return this.nativeRange.toString()};var f=document.createTextNode("test");l(document).appendChild(f);var p=document.createRange();p.setStart(f,0),p.setEnd(f,0);try{p.setStart(f,1),c.setStart=function(t,e){this.nativeRange.setStart(t,e),r(this)},c.setEnd=function(t,e){this.nativeRange.setEnd(t,e),r(this)},d=function(t){return function(e){this.nativeRange[t](e),r(this)}}}catch(t){c.setStart=function(t,e){try{this.nativeRange.setStart(t,e)}catch(n){this.nativeRange.setEnd(t,e),this.nativeRange.setStart(t,e)}r(this)},c.setEnd=function(t,e){try{this.nativeRange.setEnd(t,e)}catch(n){this.nativeRange.setStart(t,e),this.nativeRange.setEnd(t,e)}r(this)},d=function(t,e){return function(n){try{this.nativeRange[t](n)}catch(r){this.nativeRange[e](n),this.nativeRange[t](n)}r(this)}}}c.setStartBefore=d("setStartBefore","setEndBefore"),c.setStartAfter=d("setStartAfter","setEndAfter"),c.setEndBefore=d("setEndBefore","setStartBefore"),c.setEndAfter=d("setEndAfter","setStartAfter"),c.selectNodeContents=function(t){this.setStartAndEnd(t,0,i.getNodeLength(t))},p.selectNodeContents(f),p.setEnd(f,3);var g=document.createRange();g.selectNodeContents(f),g.setEnd(f,4),g.setStart(f,2),-1==p.compareBoundaryPoints(p.START_TO_END,g)&&1==p.compareBoundaryPoints(p.END_TO_START,g)?c.compareBoundaryPoints=function(t,e){return e=e.nativeRange||e,t==e.START_TO_END?t=e.END_TO_START:t==e.END_TO_START&&(t=e.START_TO_END),this.nativeRange.compareBoundaryPoints(t,e)}:c.compareBoundaryPoints=function(t,e){return this.nativeRange.compareBoundaryPoints(t,e.nativeRange||e)};var m=document.createElement("div");m.innerHTML="123";var v=m.firstChild,y=l(document);y.appendChild(m),p.setStart(v,1),p.setEnd(v,2),p.deleteContents(),"13"==v.data&&(c.deleteContents=function(){this.nativeRange.deleteContents(),r(this)},c.extractContents=function(){var t=this.nativeRange.extractContents();return r(this),t}),y.removeChild(m),y=null,o.isHostMethod(p,"createContextualFragment")&&(c.createContextualFragment=function(t){return this.nativeRange.createContextualFragment(t)}),l(document).removeChild(f),c.getName=function(){return"WrappedRange"},t.WrappedRange=n,t.createNativeRange=function(t){return(t=u(t,e,"createNativeRange")).createRange()}}(),t.features.implementsTextRange){var d=function(t){var e=t.parentElement(),n=t.duplicate();n.collapse(!0);var r=n.parentElement();(n=t.duplicate()).collapse(!1);var o=n.parentElement(),a=r==o?r:i.getCommonAncestor(r,o);return a==e?a:i.getCommonAncestor(e,a)},h=function(t){return 0==t.compareEndPoints("StartToEnd",t)},f=function(t,e,n,r,o){var s=t.duplicate();s.collapse(n);var l=s.parentElement();if(i.isOrIsAncestorOf(e,l)||(l=e),!l.canHaveHTML){var u=new a(l.parentNode,i.getNodeIndex(l));return{boundaryPosition:u,nodeInfo:{nodeIndex:u.offset,containerElement:u.node}}}var d=i.getDocument(l).createElement("span");d.parentNode&&i.removeNode(d);for(var h,f,p,g,m,v=n?"StartToStart":"StartToEnd",y=o&&o.containerElement==l?o.nodeIndex:0,b=l.childNodes.length,x=b,_=x;_==b?l.appendChild(d):l.insertBefore(d,l.childNodes[_]),s.moveToElementText(d),0!=(h=s.compareEndPoints(v,t))&&y!=x;){if(-1==h){if(x==y+1)break;y=_}else x=x==y+1?y:_;_=Math.floor((y+x)/2),l.removeChild(d)}if(m=d.nextSibling,-1==h&&m&&c(m)){s.setEndPoint(n?"EndToStart":"EndToEnd",t);var w;if(/[\r\n]/.test(m.data)){var C=s.duplicate(),k=C.text.replace(/\r\n/g,"\r").length;for(w=C.moveStart("character",k);-1==(h=C.compareEndPoints("StartToEnd",C));)w++,C.moveStart("character",1)}else w=s.text.length;g=new a(m,w)}else f=(r||!n)&&d.previousSibling,p=(r||n)&&d.nextSibling,g=p&&c(p)?new a(p,0):f&&c(f)?new a(f,f.data.length):new a(l,i.getNodeIndex(d));return i.removeNode(d),{boundaryPosition:g,nodeInfo:{nodeIndex:_,containerElement:l}}},p=function(t,e){var n,r,o,a,s=t.offset,u=i.getDocument(t.node),d=l(u).createTextRange(),h=c(t.node);return h?(n=t.node,r=n.parentNode):(a=t.node.childNodes,n=s<a.length?a[s]:null,r=t.node),o=u.createElement("span"),o.innerHTML="&#feff;",n?r.insertBefore(o,n):r.appendChild(o),d.moveToElementText(o),d.collapse(!e),r.removeChild(o),h&&d[e?"moveStart":"moveEnd"]("character",s),d};(r=function(t){this.textRange=t,this.refresh()}).prototype=new s(document),r.prototype.refresh=function(){var t,e,n,r=d(this.textRange);h(this.textRange)?e=t=f(this.textRange,r,!0,!0).boundaryPosition:(n=f(this.textRange,r,!0,!1),t=n.boundaryPosition,e=f(this.textRange,r,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(t.node,t.offset),this.setEnd(e.node,e.offset)},r.prototype.getName=function(){return"WrappedTextRange"},s.copyComparisonConstants(r);var g=function(t){if(t.collapsed)return p(new a(t.startContainer,t.startOffset),!0);var e=p(new a(t.startContainer,t.startOffset),!0),n=p(new a(t.endContainer,t.endOffset),!1),r=l(s.getRangeDocument(t)).createTextRange();return r.setEndPoint("StartToStart",e),r.setEndPoint("EndToEnd",n),r};if(r.rangeToTextRange=g,r.prototype.toTextRange=function(){return g(this)},t.WrappedTextRange=r,!t.features.implementsDomRange||t.config.preferTextRange){var m=function(t){return t("return this;")()}(Function);void 0===m.Range&&(m.Range=r),t.createNativeRange=function(t){return t=u(t,e,"createNativeRange"),l(t).createTextRange()},t.WrappedRange=r}}t.createRange=function(n){return n=u(n,e,"createRange"),new t.WrappedRange(t.createNativeRange(n))},t.createRangyRange=function(t){return t=u(t,e,"createRangyRange"),new s(t)},o.createAliasForDeprecatedMethod(t,"createIframeRange","createRange"),o.createAliasForDeprecatedMethod(t,"createIframeRangyRange","createRangyRange"),t.addShimListener(function(e){var n=e.document;void 0===n.createRange&&(n.createRange=function(){return t.createRange(n)}),n=e=null})}),F.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(t,e){function n(t){return"string"==typeof t?/^backward(s)?$/i.test(t):!!t}function r(t,n){if(t){if($.isWindow(t))return t;if(t instanceof v)return t.win;var r=$.getContentDocument(t,e,n);return $.getWindow(r)}return window}function i(t){return r(t,"getWinSelection").getSelection()}function o(t){return r(t,"getDocSelection").document.selection}function a(t){var e=!1;return t.anchorNode&&(e=1==$.comparePoints(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)),e}function s(t,e,n){var r=n?"end":"start",i=n?"start":"end";t.anchorNode=e[r+"Container"],t.anchorOffset=e[r+"Offset"],t.focusNode=e[i+"Container"],t.focusOffset=e[i+"Offset"]}function l(t){var e=t.nativeSelection;t.anchorNode=e.anchorNode,t.anchorOffset=e.anchorOffset,t.focusNode=e.focusNode,t.focusOffset=e.focusOffset}function u(t){t.anchorNode=t.focusNode=null,t.anchorOffset=t.focusOffset=0,t.rangeCount=0,t.isCollapsed=!0,t._ranges.length=0}function c(e){var n;return e instanceof L?((n=t.createNativeRange(e.getDocument())).setEnd(e.endContainer,e.endOffset),n.setStart(e.startContainer,e.startOffset)):e instanceof A?n=e.nativeRange:R.implementsDomRange&&e instanceof $.getWindow(e.startContainer).Range&&(n=e),n}function d(t){if(!t.length||1!=t[0].nodeType)return!1;for(var e=1,n=t.length;n>e;++e)if(!$.isAncestorOf(t[0],t[e]))return!1;return!0}function h(t){var n=t.getNodes();if(!d(n))throw e.createError("getSingleElementFromRange: range "+t.inspect()+" did not consist of a single element");return n[0]}function f(t){return!!t&&void 0!==t.text}function p(t,e){var n=new A(e);t._ranges=[n],s(t,n,!1),t.rangeCount=1,t.isCollapsed=n.collapsed}function g(e){if(e._ranges.length=0,"None"==e.docSelection.type)u(e);else{var n=e.docSelection.createRange();if(f(n))p(e,n);else{e.rangeCount=n.length;for(var r,i=N(n.item(0)),o=0;o<e.rangeCount;++o)(r=t.createRange(i)).selectNode(n.item(o)),e._ranges.push(r);e.isCollapsed=1==e.rangeCount&&e._ranges[0].collapsed,s(e,e._ranges[e.rangeCount-1],!1)}}}function m(t,n){for(var r=t.docSelection.createRange(),i=h(n),o=N(r.item(0)),a=I(o).createControlRange(),s=0,l=r.length;l>s;++s)a.add(r.item(s));try{a.add(i)}catch(t){throw e.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}a.select(),g(t)}function v(t,e,n){this.nativeSelection=t,this.docSelection=e,this._ranges=[],this.win=n,this.refresh()}function y(t){t.win=t.anchorNode=t.focusNode=t._ranges=null,t.rangeCount=t.anchorOffset=t.focusOffset=0,t.detached=!0}function b(t,e){for(var n,r,i=et.length;i--;)if(n=et[i],r=n.selection,"deleteAll"==e)y(r);else if(n.win==t)return"delete"==e?(et.splice(i,1),!0):r;return"deleteAll"==e&&(et.length=0),null}function x(t,n){for(var r,i=N(n[0].startContainer),o=I(i).createControlRange(),a=0,s=n.length;s>a;++a){r=h(n[a]);try{o.add(r)}catch(t){throw e.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}o.select(),g(t)}function _(t,e){if(t.win.document!=N(e))throw new F("WRONG_DOCUMENT_ERR")}function w(e){return function(n,r){var i;this.rangeCount?(i=this.getRangeAt(0))["set"+(e?"Start":"End")](n,r):(i=t.createRange(this.win.document)).setStartAndEnd(n,r),this.setSingleRange(i,this.isBackward())}}function C(t){var e=[],n=new P(t.anchorNode,t.anchorOffset),r=new P(t.focusNode,t.focusOffset),i="function"==typeof t.getName?t.getName():"Selection";if(void 0!==t.rangeCount)for(var o=0,a=t.rangeCount;a>o;++o)e[o]=L.inspect(t.getRangeAt(o));return"["+i+"(Ranges: "+e.join(", ")+")(anchor: "+n.inspect()+", focus: "+r.inspect()+"]"}t.config.checkSelectionRanges=!0;var k,S,M="boolean",T="number",$=t.dom,D=t.util,E=D.isHostMethod,L=t.DomRange,A=t.WrappedRange,F=t.DOMException,P=$.DomPosition,R=t.features,O="Control",N=$.getDocument,I=$.getBody,Y=L.rangesEqual,V=E(window,"getSelection"),j=D.isHostObject(document,"selection");R.implementsWinGetSelection=V,R.implementsDocSelection=j;var H=j&&(!V||t.config.preferTextRange);if(H)k=o,t.isSelectionValid=function(t){var e=r(t,"isSelectionValid").document,n=e.selection;return"None"!=n.type||N(n.createRange().parentElement())==e};else{if(!V)return e.fail("Neither document.selection or window.getSelection() detected."),!1;k=i,t.isSelectionValid=function(){return!0}}t.getNativeSelection=k;var z=k();if(!z)return e.fail("Native selection was null (possibly issue 138?)"),!1;var W=t.createNativeRange(document),B=I(document),U=D.areHostProperties(z,["anchorNode","focusNode","anchorOffset","focusOffset"]);R.selectionHasAnchorAndFocus=U;var G=E(z,"extend");R.selectionHasExtend=G;var q=typeof z.rangeCount==T;R.selectionHasRangeCount=q;var K=!1,J=!0,X=G?function(e,n){var r=L.getRangeDocument(n),i=t.createRange(r);i.collapseToPoint(n.endContainer,n.endOffset),e.addRange(c(i)),e.extend(n.startContainer,n.startOffset)}:null;D.areHostMethods(z,["addRange","getRangeAt","removeAllRanges"])&&typeof z.rangeCount==T&&R.implementsDomRange&&function(){var e=window.getSelection();if(e){for(var n=e.rangeCount,r=n>1,i=[],o=a(e),s=0;n>s;++s)i[s]=e.getRangeAt(s);var l=$.createTestElement(document,"",!1),u=l.appendChild(document.createTextNode("")),c=document.createRange();if(c.setStart(u,1),c.collapse(!0),e.removeAllRanges(),e.addRange(c),J=1==e.rangeCount,e.removeAllRanges(),!r){var d=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(d&&parseInt(d[1])>=36)K=!1;else{var h=c.cloneRange();c.setStart(u,0),h.setEnd(u,3),h.setStart(u,2),e.addRange(c),e.addRange(h),K=2==e.rangeCount}}for($.removeNode(l),e.removeAllRanges(),s=0;n>s;++s)0==s&&o?X?X(e,i[s]):(t.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),e.addRange(i[s])):e.addRange(i[s])}}(),R.selectionSupportsMultipleRanges=K,R.collapsedNonEditableSelectionsSupported=J;var Z,Q=!1;B&&E(B,"createControlRange")&&(Z=B.createControlRange(),D.areHostProperties(Z,["item","add"])&&(Q=!0)),R.implementsControlRange=Q,S=U?function(t){return t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset}:function(t){return!!t.rangeCount&&t.getRangeAt(t.rangeCount-1).collapsed};var tt;E(z,"getRangeAt")?tt=function(t,e){try{return t.getRangeAt(e)}catch(t){return null}}:U&&(tt=function(e){var n=N(e.anchorNode),r=t.createRange(n);return r.setStartAndEnd(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),r.collapsed!==this.isCollapsed&&r.setStartAndEnd(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset),r}),v.prototype=t.selectionPrototype;var et=[],nt=function(t){if(t&&t instanceof v)return t.refresh(),t;var e=b(t=r(t,"getNativeSelection")),n=k(t),i=j?o(t):null;return e?(e.nativeSelection=n,e.docSelection=i,e.refresh()):(e=new v(n,i,t),et.push({win:t,selection:e})),e};t.getSelection=nt,D.createAliasForDeprecatedMethod(t,"getIframeSelection","getSelection");var rt=v.prototype;if(!H&&U&&D.areHostMethods(z,["removeAllRanges","addRange"])){rt.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),u(this)};var it=function(t,e){X(t.nativeSelection,e),t.refresh()};rt.addRange=q?function(e,r){if(Q&&j&&this.docSelection.type==O)m(this,e);else if(n(r)&&G)it(this,e);else{var i;K?i=this.rangeCount:(this.removeAllRanges(),i=0);var o=c(e).cloneRange();try{this.nativeSelection.addRange(o)}catch(t){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==i+1){if(t.config.checkSelectionRanges){var a=tt(this.nativeSelection,this.rangeCount-1);a&&!Y(a,e)&&(e=new A(a))}this._ranges[this.rangeCount-1]=e,s(this,e,st(this.nativeSelection)),this.isCollapsed=S(this)}else this.refresh()}}:function(t,e){n(e)&&G?it(this,t):(this.nativeSelection.addRange(c(t)),this.refresh())},rt.setRanges=function(t){if(Q&&j&&t.length>1)x(this,t);else{this.removeAllRanges();for(var e=0,n=t.length;n>e;++e)this.addRange(t[e])}}}else{if(!(E(z,"empty")&&E(W,"select")&&Q&&H))return e.fail("No means of selecting a Range or TextRange was found"),!1;rt.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var t;if(this.anchorNode)t=N(this.anchorNode);else if(this.docSelection.type==O){var e=this.docSelection.createRange();e.length&&(t=N(e.item(0)))}t&&(I(t).createTextRange().select(),this.docSelection.empty())}}catch(t){}u(this)},rt.addRange=function(e){this.docSelection.type==O?m(this,e):(t.WrappedTextRange.rangeToTextRange(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,s(this,e,!1))},rt.setRanges=function(t){this.removeAllRanges();var e=t.length;e>1?x(this,t):e&&this.addRange(t[0])}}rt.getRangeAt=function(t){if(0>t||t>=this.rangeCount)throw new F("INDEX_SIZE_ERR");return this._ranges[t].cloneRange()};var ot;if(H)ot=function(e){var n;t.isSelectionValid(e.win)?n=e.docSelection.createRange():(n=I(e.win.document).createTextRange()).collapse(!0),e.docSelection.type==O?g(e):f(n)?p(e,n):u(e)};else if(E(z,"getRangeAt")&&typeof z.rangeCount==T)ot=function(e){if(Q&&j&&e.docSelection.type==O)g(e);else if(e._ranges.length=e.rangeCount=e.nativeSelection.rangeCount,e.rangeCount){for(var n=0,r=e.rangeCount;r>n;++n)e._ranges[n]=new t.WrappedRange(e.nativeSelection.getRangeAt(n));s(e,e._ranges[e.rangeCount-1],st(e.nativeSelection)),e.isCollapsed=S(e)}else u(e)};else{if(!U||typeof z.isCollapsed!=M||typeof W.collapsed!=M||!R.implementsDomRange)return e.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;ot=function(t){var e,n=t.nativeSelection;n.anchorNode?(e=tt(n,0),t._ranges=[e],t.rangeCount=1,l(t),t.isCollapsed=S(t)):u(t)}}rt.refresh=function(t){var e=t?this._ranges.slice(0):null,n=this.anchorNode,r=this.anchorOffset;if(ot(this),t){var i=e.length;if(i!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=r)return!0;for(;i--;)if(!Y(e[i],this._ranges[i]))return!0;return!1}};var at=function(t,e){var n=t.getAllRanges();t.removeAllRanges();for(var r=0,i=n.length;i>r;++r)Y(e,n[r])||t.addRange(n[r]);t.rangeCount||u(t)};rt.removeRange=Q&&j?function(t){if(this.docSelection.type==O){for(var e,n=this.docSelection.createRange(),r=h(t),i=N(n.item(0)),o=I(i).createControlRange(),a=!1,s=0,l=n.length;l>s;++s)e=n.item(s),e!==r||a?o.add(n.item(s)):a=!0;o.select(),g(this)}else at(this,t)}:function(t){at(this,t)};var st;!H&&U&&R.implementsDomRange?(st=a,rt.isBackward=function(){return st(this)}):st=rt.isBackward=function(){return!1},rt.isBackwards=rt.isBackward,rt.toString=function(){for(var t=[],e=0,n=this.rangeCount;n>e;++e)t[e]=""+this._ranges[e];return t.join("")},rt.collapse=function(e,n){_(this,e);var r=t.createRange(e);r.collapseToPoint(e,n),this.setSingleRange(r),this.isCollapsed=!0},rt.collapseToStart=function(){if(!this.rangeCount)throw new F("INVALID_STATE_ERR");var t=this._ranges[0];this.collapse(t.startContainer,t.startOffset)},rt.collapseToEnd=function(){if(!this.rangeCount)throw new F("INVALID_STATE_ERR");var t=this._ranges[this.rangeCount-1];this.collapse(t.endContainer,t.endOffset)},rt.selectAllChildren=function(e){_(this,e);var n=t.createRange(e);n.selectNodeContents(e),this.setSingleRange(n)},rt.deleteFromDocument=function(){if(Q&&j&&this.docSelection.type==O){for(var t,e=this.docSelection.createRange();e.length;)t=e.item(0),e.remove(t),$.removeNode(t);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var r=0,i=n.length;i>r;++r)n[r].deleteContents();this.addRange(n[i-1])}}},rt.eachRange=function(t,e){for(var n=0,r=this._ranges.length;r>n;++n)if(t(this.getRangeAt(n)))return e},rt.getAllRanges=function(){var t=[];return this.eachRange(function(e){t.push(e)}),t},rt.setSingleRange=function(t,e){this.removeAllRanges(),this.addRange(t,e)},rt.callMethodOnEachRange=function(t,e){var n=[];return this.eachRange(function(r){n.push(r[t].apply(r,e||[]))}),n},rt.setStart=w(!0),rt.setEnd=w(!1),t.rangePrototype.select=function(t){nt(this.getDocument()).setSingleRange(this,t)},rt.changeEachRange=function(t){var e=[],n=this.isBackward();this.eachRange(function(n){t(n),e.push(n)}),this.removeAllRanges(),n&&1==e.length?this.addRange(e[0],"backward"):this.setRanges(e)},rt.containsNode=function(t,e){return this.eachRange(function(n){return n.containsNode(t,e)},!0)||!1},rt.getBookmark=function(t){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[t])}},rt.moveToBookmark=function(e){for(var n,r,i=[],o=0;n=e.rangeBookmarks[o++];)(r=t.createRange(this.win)).moveToBookmark(n),i.push(r);e.backward?this.setSingleRange(i[0],"backward"):this.setRanges(i)},rt.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},rt.restoreRanges=function(t){this.removeAllRanges();for(var e,n=0;e=t.ranges[n];++n)this.addRange(e,t.backward&&0==n)},rt.toHtml=function(){var t=[];return this.eachRange(function(e){t.push(L.toHtml(e))}),t.join("")},R.implementsTextRange&&(rt.getNativeTextRange=function(){var n;if(n=this.docSelection){var r=n.createRange();if(f(r))return r;throw e.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return t.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw e.createError("getNativeTextRange: selection contains no range")}),rt.getName=function(){return"WrappedSelection"},rt.inspect=function(){return C(this)},rt.detach=function(){b(this.win,"delete"),y(this)},v.detachAll=function(){b(null,"deleteAll")},v.inspect=C,v.isDirectionBackward=n,t.Selection=v,t.selectionPrototype=rt,t.addShimListener(function(t){void 0===t.getSelection&&(t.getSelection=function(){return nt(t)}),t=null})});var I=!1,Y=function(t){I||(I=!0,!F.initialized&&F.config.autoInitialize&&d())};return L&&("complete"==document.readyState?Y():(t(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",Y,!1),R(window,"load",Y))),F},this),function(e,n){"function"==typeof define&&define.amd?define(["./rangy-core"],e):"undefined"!=typeof module&&"object"==typeof t?module.exports=e(require("rangy")):e(n.rangy)}(function(t){return t.createModule("SaveRestore",["WrappedRange"],function(t,e){function n(t,e){return(e||document).getElementById(t)}function r(t,e){var n,r="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),i=p.getDocument(t.startContainer),o=t.cloneRange();return o.collapse(e),n=i.createElement("span"),n.id=r,n.style.lineHeight="0",n.style.display="none",n.className="rangySelectionBoundary",n.appendChild(i.createTextNode(v)),o.insertNode(n),n}function i(t,r,i,o){var a=n(i,t);a?(r[o?"setStartBefore":"setEndBefore"](a),g(a)):e.warn("Marker element has been removed. Cannot restore selection.")}function o(t,e){return e.compareBoundaryPoints(t.START_TO_START,t)}function a(e,n){var i,o,a=t.DomRange.getRangeDocument(e),s=e.toString(),l=m(n);return e.collapsed?(o=r(e,!1),{document:a,markerId:o.id,collapsed:!0}):(o=r(e,!1),i=r(e,!0),{document:a,startMarkerId:i.id,endMarkerId:o.id,collapsed:!1,backward:l,toString:function(){return"original text: '"+s+"', new text: '"+e.toString()+"'"}})}function s(r,o){var a=r.document;void 0===o&&(o=!0);var s=t.createRange(a);if(r.collapsed){var l=n(r.markerId,a);if(l){l.style.display="inline";var u=l.previousSibling;u&&3==u.nodeType?(g(l),s.collapseToPoint(u,u.length)):(s.collapseBefore(l),g(l))}else e.warn("Marker element has been removed. Cannot restore selection.")}else i(a,s,r.startMarkerId,!0),i(a,s,r.endMarkerId,!1);return o&&s.normalizeBoundaries(),s}function l(e,r){var i,s,l=[],u=m(r);(e=e.slice(0)).sort(o);for(var c=0,d=e.length;d>c;++c)l[c]=a(e[c],u);for(c=d-1;c>=0;--c)i=e[c],s=t.DomRange.getRangeDocument(i),i.collapsed?i.collapseAfter(n(l[c].markerId,s)):(i.setEndBefore(n(l[c].endMarkerId,s)),i.setStartAfter(n(l[c].startMarkerId,s)));return l}function u(n){if(!t.isSelectionValid(n))return e.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var r=t.getSelection(n),i=r.getAllRanges(),o=1==i.length&&r.isBackward(),a=l(i,o);return o?r.setSingleRange(i[0],o):r.setRanges(i),{win:n,rangeInfos:a,restored:!1}}function c(t){for(var e=[],n=t.length-1;n>=0;n--)e[n]=s(t[n],!0);return e}function d(e,n){if(!e.restored){var r=e.rangeInfos,i=t.getSelection(e.win),o=c(r);1==r.length&&n&&t.features.selectionHasExtend&&r[0].backward?(i.removeAllRanges(),i.addRange(o[0],!0)):i.setRanges(o),e.restored=!0}}function h(t,e){var r=n(e,t);r&&g(r)}function f(t){for(var e,n=t.rangeInfos,r=0,i=n.length;i>r;++r)e=n[r],e.collapsed?h(t.doc,e.markerId):(h(t.doc,e.startMarkerId),h(t.doc,e.endMarkerId))}var p=t.dom,g=p.removeNode,m=t.Selection.isDirectionBackward,v="\ufeff";t.util.extend(t,{saveRange:a,restoreRange:s,saveRanges:l,restoreRanges:c,saveSelection:u,restoreSelection:d,removeMarkerElement:h,removeMarkers:f})}),t},this)}({},function(){return this}()),function(t,e,n){"use strict";function r(){this.$get=["$$sanitizeUri",function(t){return function(e){void 0!==arguments[1]&&(arguments[1].version="taSanitize");var n=[];return a(e,d(n,function(e,n){return!/^unsafe/.test(t(e,n))})),n.join("")}}]}function i(t){var n=[];return d(n,e.noop).chars(t),n.join("")}function o(t){var e,n={},r=t.split(",");for(e=0;e<r.length;e++)n[r[e]]=!0;return n}function a(t,n){function r(t,r,o,a){if(r=e.lowercase(r),D[r])for(;c.last()&&E[c.last()];)i("",c.last());$[r]&&c.last()==r&&i("",r),(a=S[r]||!!a)||c.push(r);var l={};o.replace(g,function(t,e,n,r,i){var o=n||r||i||"";l[e]=s(o)}),n.start&&n.start(r,l,a)}function i(t,r){var i,o=0;if(r=e.lowercase(r))for(o=c.length-1;o>=0&&c[o]!=r;o--);if(o>=0){for(i=c.length-1;i>=o;i--)n.end&&n.end(c[i]);c.length=o}}"string"!=typeof t&&(t=null===t||void 0===t?"":""+t);var o,a,l,u,c=[],d=t;for(c.last=function(){return c[c.length-1]};t;){if(u="",a=!0,c.last()&&A[c.last()])t=t.replace(new RegExp("([^]*)<\\s*\\/\\s*"+c.last()+"[^>]*>","i"),function(t,e){return e=e.replace(y,"$1").replace(_,"$1"),n.chars&&n.chars(s(e)),""}),i("",c.last());else{if(k.test(t)){if(l=t.match(k)){l[0];n.whitespace&&n.whitespace(l[0]),t=t.replace(l[0],""),a=!1}}else b.test(t)?(l=t.match(b))&&(n.comment&&n.comment(l[1]),t=t.replace(l[0],""),a=!1):x.test(t)?(l=t.match(x))&&(t=t.replace(l[0],""),a=!1):v.test(t)?(l=t.match(p))&&(t=t.substring(l[0].length),l[0].replace(p,i),a=!1):m.test(t)&&((l=t.match(f))?(l[4]&&(t=t.substring(l[0].length),l[0].replace(f,r)),a=!1):(u+="<",t=t.substring(1)));a&&(u+=(o=t.indexOf("<"))<0?t:t.substring(0,o),t=o<0?"":t.substring(o),n.chars&&n.chars(s(u)))}if(t==d)throw h("badparse","The sanitizer was unable to parse the following block of html: {0}",t);d=t}i()}function s(t){if(!t)return"";var e=Y.exec(t),n=e[1],r=e[3],i=e[2];return i&&(I.innerHTML=i.replace(/</g,"&lt;"),i="textContent"in I?I.textContent:I.innerText),n+i+r}function l(t){return t.replace(/&/g,"&amp;").replace(w,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(C,function(t){var e=t.charCodeAt(0);return e<=159||173==e||e>=1536&&e<=1540||1807==e||6068==e||6069==e||e>=8204&&e<=8207||e>=8232&&e<=8239||e>=8288&&e<=8303||65279==e||e>=65520&&e<=65535?"&#"+e+";":t}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(t){var n="",r=t.split(";");return e.forEach(r,function(t){var r=t.split(":");if(2==r.length){var i=V(e.lowercase(r[0])),t=V(e.lowercase(r[1]));(("color"===i||"background-color"===i)&&(t.match(/^rgb\([0-9%,\. ]*\)$/i)||t.match(/^rgba\([0-9%,\. ]*\)$/i)||t.match(/^hsl\([0-9%,\. ]*\)$/i)||t.match(/^hsla\([0-9%,\. ]*\)$/i)||t.match(/^#[0-9a-f]{3,6}$/i)||t.match(/^[a-z]*$/i))||"text-align"===i&&("left"===t||"right"===t||"center"===t||"justify"===t)||"text-decoration"===i&&("underline"===t||"line-through"===t)||"font-weight"===i&&"bold"===t||"float"===i&&("left"===t||"right"===t||"none"===t)||("width"===i||"height"===i)&&t.match(/[0-9\.]*(px|em|rem|%)/)||"direction"===i&&t.match(/^ltr|rtl|initial|inherit$/))&&(n+=i+": "+t+";")}}),n}function c(t,e,n,r){return!("img"!==t||!e["ta-insert-video"]||"ta-insert-video"!==n&&"allowfullscreen"!==n&&"frameborder"!==n&&("contenteditable"!==n||"false"!==r))}function d(t,n){var r=!1,i=e.bind(t,t.push);return{start:function(t,o,a){t=e.lowercase(t),!r&&A[t]&&(r=t),r||!0!==F[t]||(i("<"),i(t),e.forEach(o,function(r,a){var s=e.lowercase(a),d="img"===t&&"src"===s||"background"===s;("style"===s&&""!==(r=u(r))||c(t,o,s,r)||!0===N[s]&&(!0!==P[s]||n(r,d)))&&(i(" "),i(a),i('="'),i(l(r)),i('"'))}),i(a?"/>":">"))},comment:function(t){i(t)},whitespace:function(t){i(l(t))},end:function(t){t=e.lowercase(t),r||!0!==F[t]||(i("</"),i(t),i(">")),t==r&&(r=!1)},chars:function(t){r||i(l(t))}}}var h=e.$$minErr("$sanitize"),f=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,p=/^<\/\s*([\w:-]+)[^>]*>/,g=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,m=/^</,v=/^<\//,y=/<!--(.*?)-->/g,b=/(^<!--.*?-->)/,x=/<!DOCTYPE([^>]*?)>/i,_=/<!\[CDATA\[(.*?)]]>/g,w=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,C=/([^\#-~| |!])/g,k=/^(\s+)/,S=o("area,br,col,hr,img,wbr,input"),M=o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),T=o("rp,rt"),$=e.extend({},T,M),D=e.extend({},M,o("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),E=e.extend({},T,o("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),L=o("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),A=o("script,style"),F=e.extend({},S,D,E,$,L),P=o("background,cite,href,longdesc,src,usemap,xlink:href"),R=o("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,id,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),O=o("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),N=e.extend({},P,O,R),I=document.createElement("pre"),Y=/^(\s*)([\s\S]*?)(\s*)$/,V=function(){return String.prototype.trim?function(t){return e.isString(t)?t.trim():t}:function(t){return e.isString(t)?t.replace(/^\s\s*/,"").replace(/\s\s*$/,""):t}}();e.module("ngSanitize",[]).provider("$sanitize",r),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,r=/^mailto:/;return function(o,a){function s(t){t&&h.push(i(t))}if(!o)return o;for(var l,u,c,d=o,h=[];l=d.match(n);)u=l[0],l[2]||l[4]||(u=(l[3]?"http://":"mailto:")+u),c=l.index,s(d.substr(0,c)),function(t,n){h.push("<a "),e.isDefined(a)&&h.push('target="',a,'" '),h.push('href="',t.replace(/"/g,"&quot;"),'">'),s(n),h.push("</a>")}(u,l[0].replace(r,"")),d=d.substring(c+l[0].length);return s(d),t(h.join(""))}}])}(window,window.angular),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="textAngular"),function(){"use strict";var t={ie:function(){for(var t=3,e=document.createElement("div"),n=e.getElementsByTagName("i");e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e",n[0];);return t>4?t:void 0}(),webkit:/AppleWebKit\/([\d.]+)/i.test(navigator.userAgent)},e=!1;t.webkit&&(document.addEventListener("mousedown",function(t){var n=(t||window.event).target;if(e&&null!==n){for(var r=!1,i=n;null!==i&&"html"!==i.tagName.toLowerCase()&&!r;)r="true"===i.contentEditable,i=i.parentNode;r||(document.getElementById("textAngular-editableFix-010203040506070809").setSelectionRange(0,0),n.focus(),n.select&&n.select())}e=!1},!1),angular.element(document).ready(function(){angular.element(document.body).append(angular.element('<input id="textAngular-editableFix-010203040506070809" class="ta-hidden-input" aria-hidden="true" unselectable="on" tabIndex="-1">'))}));var n=/^(address|article|aside|audio|blockquote|canvas|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video)$/i,r=/^(ul|li|ol)$/i,i=/^(address|article|aside|audio|blockquote|canvas|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video|li)$/i;String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var o,a,s,l,u,c;if(t.ie>8||void 0===t.ie){for(var d=document.styleSheets,h=0;h<d.length;h++)if((0===d[h].media.length||d[h].media.mediaText.match(/(all|screen)/gi))&&d[h].href&&d[h].href.match(/textangular\.(min\.|)css/gi)){o=d[h];break}o||(o=function(){var e=document.createElement("style");return t.webkit&&e.appendChild(document.createTextNode("")),document.getElementsByTagName("head")[0].appendChild(e),e.sheet}()),a=function(t,e){return l(o,t,e)},l=function(t,e,n){var r,i;return t.cssRules?r=Math.max(t.cssRules.length-1,0):t.rules&&(r=Math.max(t.rules.length-1,0)),t.insertRule?t.insertRule(e+"{"+n+"}",r):t.addRule(e,n,r),o.rules?i=o.rules[r]:o.cssRules&&(i=o.cssRules[r]),i},c=function(t,e){var n,r;for(n=0;n<e.length;n++)if(e[n].cssText===t.cssText){r=n;break}return r},s=function(t){u(o,t)},u=function(t,e){var n=t.cssRules||t.rules;if(n&&0!==n.length){var r=c(e,n);t.removeRule?t.removeRule(r):t.deleteRule(r)}}}angular.module("textAngular.factories",[]).factory("taBrowserTag",[function(){return function(e){return e?""===e?void 0===t.ie?"div":t.ie<=8?"P":"p":t.ie<=8?e.toUpperCase():e:t.ie<=8?"P":"p"}}]).factory("taApplyCustomRenderers",["taCustomRenderers","taDOM",function(t,e){return function(n){var r=angular.element("<div></div>");return r[0].innerHTML=n,angular.forEach(t,function(t){var n=[];t.selector&&""!==t.selector?n=r.find(t.selector):t.customAttribute&&""!==t.customAttribute&&(n=e.getByAttribute(r,t.customAttribute)),angular.forEach(n,function(e){e=angular.element(e),t.selector&&""!==t.selector&&t.customAttribute&&""!==t.customAttribute?void 0!==e.attr(t.customAttribute)&&t.renderLogic(e):t.renderLogic(e)})}),r[0].innerHTML}}]).factory("taFixChrome",function(){return function(t){if(!t||!angular.isString(t)||t.length<=0)return t;for(var e,n,r,i=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,o="",a=0;e=i.exec(t);)(n=e[3]||e[4])&&n.match(/line-height: 1.[0-9]{3,12};|color: inherit; line-height: 1.1;/i)&&(n=n.replace(/( |)font-family: inherit;|( |)line-height: 1.[0-9]{3,12};|( |)color: inherit;/gi,""),r="<"+e[1].trim(),n.trim().length>0&&(r+=" style="+e[2].substring(0,1)+n+e[2].substring(0,1)),r+=e[5].trim()+">",o+=t.substring(a,e.index)+r,a=e.index+e[0].length);return o+=t.substring(a),a>0?o.replace(/<span\s?>(.*?)<\/span>(<br(\/|)>|)/gi,"$1"):t}}).factory("taSanitize",["$sanitize",function(t){function e(t,e){for(var n,r=0,i=0,o=/<[^>]*>/gi;n=o.exec(t);)if(i=n.index,"/"===n[0].substr(1,1)){if(0===r)break;r--}else r++;return e+t.substring(0,i)+angular.element(e)[0].outerHTML.substring(e.length)+t.substring(i)}function n(t){if(!t||!angular.isString(t)||t.length<=0)return t;for(var r,o,a,s,l,c,d=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,h="",f="",p=0;o=d.exec(t);){s=o[3]||o[4];var g=new RegExp(u,"i");if(angular.isString(s)&&g.test(s)){l="";for(var m=new RegExp(u,"ig");a=m.exec(s);)for(r=0;r<i.length;r++)a[2*r+2]&&(l+="<"+i[r].tag+">");c=n(t.substring(p,o.index)),h.length>0?f+=e(c,h):f+=c,s=s.replace(new RegExp(u,"ig"),""),f+="<"+o[1].trim(),s.length>0&&(f+=' style="'+s+'"'),f+=o[5]+">",p=o.index+o[0].length,h=l}}return h.length>0?f+=e(t.substring(p),h):f+=t.substring(p),f}function r(t){if(!t||!angular.isString(t)||t.length<=0)return t;for(var e,n=/<([^>\/]+?)align=("([^"]+)"|'([^']+)')([^>]*)>/gi,r="",i=0;e=n.exec(t);){r+=t.substring(i,e.index),i=e.index+e[0].length;var o="<"+e[1]+e[5];/style=("([^"]+)"|'([^']+)')/gi.test(o)?o=o.replace(/style=("([^"]+)"|'([^']+)')/i,'style="$2$3 text-align:'+(e[3]||e[4])+';"'):o+=' style="text-align:'+(e[3]||e[4])+';"',r+=o+=">"}return r+t.substring(i)}for(var i=[{property:"font-weight",values:["bold"],tag:"b"},{property:"font-style",values:["italic"],tag:"i"}],o=[],a=0;a<i.length;a++){for(var s="("+i[a].property+":\\s*(",l=0;l<i[a].values.length;l++)l>0&&(s+="|"),s+=i[a].values[l];s+=");)",o.push(s)}var u="("+o.join("|")+")";return function(e,i,o){if(!o)try{e=n(e)}catch(t){}e=r(e);var a;try{a=t(e),o&&(a=e)}catch(t){a=i||""}var s,l=a.match(/(<pre[^>]*>.*?<\/pre[^>]*>)/gi),u=a.replace(/(&#(9|10);)*/gi,""),c=/<pre[^>]*>.*?<\/pre[^>]*>/gi,d=0,h=0;for(a="";null!==(s=c.exec(u))&&d<l.length;)a+=u.substring(h,s.index)+l[d],h=s.index+s[0].length,d++;return a+u.substring(h)}}]).factory("taToolExecuteAction",["$q","$log",function(t,e){return function(n){void 0!==n&&(this.$editor=function(){return n});var r,i=t.defer(),o=i.promise,a=this.$editor();try{r=this.action(i,a.startAction()),o.finally(function(){a.endAction.call(a)})}catch(t){e.error(t)}(r||void 0===r)&&i.resolve()}}]),angular.module("textAngular.DOM",["textAngular.factories"]).factory("taExecCommand",["taSelection","taBrowserTag","$document",function(t,e,i){var o=function(e,n){var r,i,o=e.find("li");for(i=o.length-1;i>=0;i--)r=angular.element("<"+n+">"+o[i].innerHTML+"</"+n+">"),e.after(r);e.remove(),t.setSelectionToElementEnd(r[0])},a=function(e){/(<br(|\/)>)$/i.test(e.innerHTML.trim())?t.setSelectionBeforeElement(angular.element(e).find("br")[0]):t.setSelectionToElementEnd(e)},s=function(t,e){var n=angular.element("<"+e+">"+t[0].innerHTML+"</"+e+">");t.after(n),t.remove(),a(n.find("li")[0])},l=function(t,n,r){for(var i="",o=0;o<t.length;o++)i+="<"+e("li")+">"+t[o].innerHTML+"</"+e("li")+">";var s=angular.element("<"+r+">"+i+"</"+r+">");n.after(s),n.remove(),a(s.find("li")[0])};return function(a,u){return a=e(a),function(c,d,h,f){var p,g,m,v,y,b,x,_=angular.element("<"+a+">");try{x=t.getSelectionElement()}catch(t){}var w=angular.element(x);if(void 0!==x){var C=x.tagName.toLowerCase();if("insertorderedlist"===c.toLowerCase()||"insertunorderedlist"===c.toLowerCase()){var k=e("insertorderedlist"===c.toLowerCase()?"ol":"ul");if(C===k)return o(w,a);if("li"===C&&w.parent()[0].tagName.toLowerCase()===k&&1===w.parent().children().length)return o(w.parent(),a);if("li"===C&&w.parent()[0].tagName.toLowerCase()!==k&&1===w.parent().children().length)return s(w.parent(),k);if(C.match(n)&&!w.hasClass("ta-bind")){if("ol"===C||"ul"===C)return s(w,k);var S=!1;return angular.forEach(w.children(),function(t){t.tagName.match(n)&&(S=!0)}),S?l(w.children(),w,k):l([angular.element("<div>"+x.innerHTML+"</div>")[0]],w,k)}if(C.match(n)){if(0===(v=t.getOnlySelectedElements()).length)g=angular.element("<"+k+"><li>"+x.innerHTML+"</li></"+k+">"),w.html(""),w.append(g);else{if(1===v.length&&("ol"===v[0].tagName.toLowerCase()||"ul"===v[0].tagName.toLowerCase()))return v[0].tagName.toLowerCase()===k?o(angular.element(v[0]),a):s(angular.element(v[0]),k);m="";var M=[];for(p=0;p<v.length;p++)if(3!==v[p].nodeType){var T=angular.element(v[p]);if("li"===v[p].tagName.toLowerCase())continue;"ol"===v[p].tagName.toLowerCase()||"ul"===v[p].tagName.toLowerCase()?m+=T[0].innerHTML:"span"!==v[p].tagName.toLowerCase()||"ol"!==v[p].childNodes[0].tagName.toLowerCase()&&"ul"!==v[p].childNodes[0].tagName.toLowerCase()?m+="<"+e("li")+">"+T[0].innerHTML+"</"+e("li")+">":m+=T[0].childNodes[0].innerHTML,M.unshift(T)}g=angular.element("<"+k+">"+m+"</"+k+">"),M.pop().replaceWith(g),angular.forEach(M,function(t){t.remove()})}return void t.setSelectionToElementEnd(g[0])}}else{if("formatblock"===c.toLowerCase()){for("default"===(b=h.toLowerCase().replace(/[<>]/gi,"")).trim()&&(b=a,h="<"+a+">"),g="li"===C?w.parent():w;!g[0].tagName||!g[0].tagName.match(n)&&!g.parent().attr("contenteditable");)C=((g=g.parent())[0].tagName||"").toLowerCase();if(C===b){v=g.children();var $=!1;for(p=0;p<v.length;p++)$=$||v[p].tagName.match(n);$?(g.after(v),y=g.next(),g.remove(),g=y):(_.append(g[0].childNodes),g.after(_),g.remove(),g=_)}else if(g.parent()[0].tagName.toLowerCase()!==b||g.parent().hasClass("ta-bind"))if(C.match(r))g.wrap(h);else{for(0===(v=t.getOnlySelectedElements()).length&&(v=[g[0]]),p=0;p<v.length;p++)if(3===v[p].nodeType||!v[p].tagName.match(n))for(;3===v[p].nodeType||!v[p].tagName||!v[p].tagName.match(n);)v[p]=v[p].parentNode;if(angular.element(v[0]).hasClass("ta-bind"))(g=angular.element(h))[0].innerHTML=v[0].innerHTML,v[0].innerHTML=g[0].outerHTML;else if("blockquote"===b){for(m="",p=0;p<v.length;p++)m+=v[p].outerHTML;for((g=angular.element(h))[0].innerHTML=m,v[0].parentNode.insertBefore(g[0],v[0]),p=v.length-1;p>=0;p--)v[p].parentNode&&v[p].parentNode.removeChild(v[p])}else for(p=0;p<v.length;p++)(g=angular.element(h))[0].innerHTML=v[p].innerHTML,v[p].parentNode.insertBefore(g[0],v[p]),v[p].parentNode.removeChild(v[p])}else{var D=g.parent(),E=D.contents();for(p=0;p<E.length;p++)D.parent().hasClass("ta-bind")&&3===E[p].nodeType&&((_=angular.element("<"+a+">"))[0].innerHTML=E[p].outerHTML,E[p]=_[0]),D.parent()[0].insertBefore(E[p],D[0]);D.remove()}return void t.setSelectionToElementEnd(g[0])}if("createlink"===c.toLowerCase()){var L='<a href="'+h+'" target="'+(f.a.target?f.a.target:"")+'">';if(t.getSelection().collapsed)t.insertHtml(L+h+"</a>",u);else if(rangy.getSelection().getRangeAt(0).canSurroundContents()){var A=angular.element(L+"</a>")[0];rangy.getSelection().getRangeAt(0).surroundContents(A)}return}if("inserthtml"===c.toLowerCase())return void t.insertHtml(h,u)}}try{i[0].execCommand(c,d,h)}catch(t){}}}}]).service("taSelection",["$window","$document","taDOM",function(t,e,r){var o=e[0],a=t.rangy,s=function(t,e){return t.tagName&&t.tagName.match(/^br$/i)&&0===e&&!t.previousSibling?{element:t.parentNode,offset:0}:{element:t,offset:e}},l={getSelection:function(){var t=a.getSelection().getRangeAt(0),e=t.commonAncestorContainer,n={start:s(t.startContainer,t.startOffset),end:s(t.endContainer,t.endOffset),collapsed:t.collapsed};return e=3===e.nodeType?e.parentNode:e,e.parentNode===n.start.element||e.parentNode===n.end.element?n.container=e.parentNode:n.container=e,n},getOnlySelectedElements:function(){var t=a.getSelection().getRangeAt(0),e=t.commonAncestorContainer;return e=3===e.nodeType?e.parentNode:e,t.getNodes([1],function(t){return t.parentNode===e})},getSelectionElement:function(){return l.getSelection().container},setSelection:function(t,e,n){var r=a.createRange();r.setStart(t,e),r.setEnd(t,n),a.getSelection().setSingleRange(r)},setSelectionBeforeElement:function(t){var e=a.createRange();e.selectNode(t),e.collapse(!0),a.getSelection().setSingleRange(e)},setSelectionAfterElement:function(t){var e=a.createRange();e.selectNode(t),e.collapse(!1),a.getSelection().setSingleRange(e)},setSelectionToElementStart:function(t){var e=a.createRange();e.selectNodeContents(t),e.collapse(!0),a.getSelection().setSingleRange(e)},setSelectionToElementEnd:function(t){var e=a.createRange();e.selectNodeContents(t),e.collapse(!1),t.childNodes&&t.childNodes[t.childNodes.length-1]&&"br"===t.childNodes[t.childNodes.length-1].nodeName&&(e.startOffset=e.endOffset=e.startOffset-1),a.getSelection().setSingleRange(e)},insertHtml:function(t,e){var s,u,c,d,h,f,p,g=angular.element("<div>"+t+"</div>"),m=a.getSelection().getRangeAt(0),v=o.createDocumentFragment(),y=g[0].childNodes,b=!0;if(y.length>0){for(d=[],c=0;c<y.length;c++)"p"===y[c].nodeName.toLowerCase()&&""===y[c].innerHTML.trim()||3===y[c].nodeType&&""===y[c].nodeValue.trim()||(b=b&&!n.test(y[c].nodeName),d.push(y[c]));for(var x=0;x<d.length;x++)f=v.appendChild(d[x]);!b&&m.collapsed&&/^(|<br(|\/)>)$/i.test(m.startContainer.innerHTML)&&m.selectNode(m.startContainer)}else b=!0,f=v=o.createTextNode(t);if(b)m.deleteContents();else if(m.collapsed&&m.startContainer!==e)if(m.startContainer.innerHTML&&m.startContainer.innerHTML.match(/^<[^>]*>$/i))s=m.startContainer,1===m.startOffset?(m.setStartAfter(s),m.setEndAfter(s)):(m.setStartBefore(s),m.setEndBefore(s));else{if(3===m.startContainer.nodeType&&m.startContainer.parentNode!==e)for(u=(s=m.startContainer.parentNode).cloneNode(),r.splitNodes(s.childNodes,s,u,m.startContainer,m.startOffset);!i.test(s.nodeName);){angular.element(s).after(u);var _=u;u=(s=s.parentNode).cloneNode(),r.splitNodes(s.childNodes,s,u,_)}else u=(s=m.startContainer).cloneNode(),r.splitNodes(s.childNodes,s,u,void 0,void 0,m.startOffset);if(angular.element(s).after(u),m.setStartAfter(s),m.setEndAfter(s),/^(|<br(|\/)>)$/i.test(s.innerHTML.trim())&&(m.setStartBefore(s),m.setEndBefore(s),angular.element(s).remove()),/^(|<br(|\/)>)$/i.test(u.innerHTML.trim())&&angular.element(u).remove(),"li"===s.nodeName.toLowerCase()){for(p=o.createDocumentFragment(),h=0;h<v.childNodes.length;h++)g=angular.element("<li>"),r.transferChildNodes(v.childNodes[h],g[0]),r.transferNodeAttributes(v.childNodes[h],g[0]),p.appendChild(g[0]);v=p,f&&(f=(f=v.childNodes[v.childNodes.length-1]).childNodes[f.childNodes.length-1])}}else m.deleteContents();m.insertNode(v),f&&l.setSelectionToElementEnd(f)}};return l}]).service("taDOM",function(){var t={getByAttribute:function(e,n){var r=[],i=e.children();return i.length&&angular.forEach(i,function(e){r=r.concat(t.getByAttribute(angular.element(e),n))}),void 0!==e.attr(n)&&r.push(e),r},transferChildNodes:function(t,e){for(e.innerHTML="";t.childNodes.length>0;)e.appendChild(t.childNodes[0]);return e},splitNodes:function(e,n,r,i,o,a){if(!i&&isNaN(a))throw new Error("taDOM.splitNodes requires a splitNode or splitIndex");for(var s=document.createDocumentFragment(),l=document.createDocumentFragment(),u=0;e.length>0&&(isNaN(a)||a!==u)&&e[0]!==i;)s.appendChild(e[0]),u++;for(!isNaN(o)&&o>=0&&e[0]&&(s.appendChild(document.createTextNode(e[0].nodeValue.substring(0,o))),e[0].nodeValue=e[0].nodeValue.substring(o));e.length>0;)l.appendChild(e[0]);t.transferChildNodes(s,n),t.transferChildNodes(l,r)},transferNodeAttributes:function(t,e){for(var n=0;n<t.attributes.length;n++)e.setAttribute(t.attributes[n].name,t.attributes[n].value);return e}};return t}),angular.module("textAngular.validators",[]).directive("taMaxText",function(){return{restrict:"A",require:"ngModel",link:function(t,e,n,r){var i=parseInt(t.$eval(n.taMaxText));if(isNaN(i))throw"Max text must be an integer";n.$observe("taMaxText",function(t){if(i=parseInt(t),isNaN(i))throw"Max text must be an integer";r.$dirty&&r.$validate()}),r.$validators.taMaxText=function(t){var e=angular.element("<div/>");return e.html(t),e.text().length<=i}}}}).directive("taMinText",function(){return{restrict:"A",require:"ngModel",link:function(t,e,n,r){var i=parseInt(t.$eval(n.taMinText));if(isNaN(i))throw"Min text must be an integer";n.$observe("taMinText",function(t){if(i=parseInt(t),isNaN(i))throw"Min text must be an integer";r.$dirty&&r.$validate()}),r.$validators.taMinText=function(t){var e=angular.element("<div/>");return e.html(t),!e.text().length||e.text().length>=i}}}}),angular.module("textAngular.taBind",["textAngular.factories","textAngular.DOM"]).service("_taBlankTest",[function(){var t=/<(a|abbr|acronym|bdi|bdo|big|cite|code|del|dfn|img|ins|kbd|label|map|mark|q|ruby|rp|rt|s|samp|time|tt|var)[^>]*(>|$)/i;return function(e){return function(n){if(!n)return!0;var r,i=/(^[^<]|>)[^<]/i.exec(n);return r=i?i.index:(n=n.toString().replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,"")).indexOf(">"),n=n.trim().substring(r,r+100),!/^[^<>]+$/i.test(n)&&(!(0!==n.length&&n!==e&&!/^>(\s|&nbsp;)*<\/[^>]+>$/gi.test(n))||!/>\s*[^\s<]/i.test(n)&&!t.test(n))}}}]).directive("taButton",[function(){return{link:function(t,e,n){e.attr("unselectable","on"),e.on("mousedown",function(t,e){return e&&angular.extend(t,e),t.preventDefault(),!1})}}}]).directive("taBind",["taSanitize","$timeout","$window","$document","taFixChrome","taBrowserTag","taSelection","taSelectableElements","taApplyCustomRenderers","taOptions","_taBlankTest","$parse","taDOM","textAngularManager",function(r,o,l,u,c,d,h,p,g,m,v,y,b,x){return{priority:2,require:["ngModel","?ngModelOptions"],link:function(d,_,w,C){function k(t){var e;return z.forEach(function(n){if(n.keyCode===t.keyCode){var r=(t.metaKey?V:0)+(t.ctrlKey?Y:0)+(t.shiftKey?H:0)+(t.altKey?j:0);if(n.forbiddenModifiers&r)return;n.mustHaveModifiers.every(function(t){return r&t})&&(e=n.specialKey)}}),e}var S,M,T,$,D=C[0],E=C[1]||{},L=void 0!==_.attr("contenteditable")&&_.attr("contenteditable"),A=L||"textarea"===_[0].tagName.toLowerCase()||"input"===_[0].tagName.toLowerCase(),F=!1,P=!1,R=!1,O=w.taUnsafeSanitizer||m.disableSanitizer,N=/^(9|19|20|27|33|34|35|36|37|38|39|40|45|112|113|114|115|116|117|118|119|120|121|122|123|144|145)$/i,I=/^(8|13|32|46|59|61|107|109|173|186|187|188|189|190|191|192|219|220|221|222)$/i,Y=1,V=2,j=4,H=8,z=[{specialKey:"UndoKey",forbiddenModifiers:j+H,mustHaveModifiers:[V+Y],keyCode:90},{specialKey:"RedoKey",forbiddenModifiers:j,mustHaveModifiers:[V+Y,H],keyCode:90},{specialKey:"RedoKey",forbiddenModifiers:j+H,mustHaveModifiers:[V+Y],keyCode:89},{specialKey:"TabKey",forbiddenModifiers:V+H+j+Y,mustHaveModifiers:[],keyCode:9},{specialKey:"ShiftTabKey",forbiddenModifiers:V+j+Y,mustHaveModifiers:[H],keyCode:9}];void 0===w.taDefaultWrap&&(w.taDefaultWrap="p"),""===w.taDefaultWrap?(T="",$=void 0===t.ie?"<div><br></div>":t.ie>=11?"<p><br></p>":t.ie<=8?"<P>&nbsp;</P>":"<p>&nbsp;</p>"):(T=void 0===t.ie||t.ie>=11?"<"+w.taDefaultWrap+"><br></"+w.taDefaultWrap+">":t.ie<=8?"<"+w.taDefaultWrap.toUpperCase()+"></"+w.taDefaultWrap.toUpperCase()+">":"<"+w.taDefaultWrap+"></"+w.taDefaultWrap+">",$=void 0===t.ie||t.ie>=11?"<"+w.taDefaultWrap+"><br></"+w.taDefaultWrap+">":t.ie<=8?"<"+w.taDefaultWrap.toUpperCase()+">&nbsp;</"+w.taDefaultWrap.toUpperCase()+">":"<"+w.taDefaultWrap+">&nbsp;</"+w.taDefaultWrap+">"),E.$options||(E.$options={});var W=v($),B=function(t){if(W(t))return t;var e=angular.element("<div>"+t+"</div>");if(0===e.children().length)t="<"+w.taDefaultWrap+">"+t+"</"+w.taDefaultWrap+">";else{var r,i=e[0].childNodes,o=!1;for(r=0;r<i.length&&!(o=i[r].nodeName.toLowerCase().match(n));r++);if(o)for(t="",r=0;r<i.length;r++){var a=i[r],s=a.nodeName.toLowerCase();if("#comment"===s)t+="\x3c!--"+a.nodeValue+"--\x3e";else if("#text"===s){var l=a.textContent;l.trim()?t+="<"+w.taDefaultWrap+">"+l+"</"+w.taDefaultWrap+">":t+=l}else if(s.match(n))t+=a.outerHTML;else{var u=a.outerHTML||a.nodeValue;""!==u.trim()?t+="<"+w.taDefaultWrap+">"+u+"</"+w.taDefaultWrap+">":t+=u}}else t="<"+w.taDefaultWrap+">"+t+"</"+w.taDefaultWrap+">"}return t};w.taPaste&&(M=y(w.taPaste)),_.addClass("ta-bind");var U;d["$undoManager"+(w.id||"")]=D.$undoManager={_stack:[],_index:0,_max:1e3,push:function(t){return void 0===t||null===t||void 0!==this.current()&&null!==this.current()&&t===this.current()?t:(this._index<this._stack.length-1&&(this._stack=this._stack.slice(0,this._index+1)),this._stack.push(t),U&&o.cancel(U),this._stack.length>this._max&&this._stack.shift(),this._index=this._stack.length-1,t)},undo:function(){return this.setToIndex(this._index-1)},redo:function(){return this.setToIndex(this._index+1)},setToIndex:function(t){if(!(t<0||t>this._stack.length-1))return this._index=t,this.current()},current:function(){return this._stack[this._index]}};var G,q=d["$undoTaBind"+(w.id||"")]=function(){if(!F&&L){var t=D.$undoManager.undo();void 0!==t&&null!==t&&(ct(t),X(t,!1),G&&o.cancel(G),G=o(function(){_[0].focus(),h.setSelectionToElementEnd(_[0])},1))}},K=d["$redoTaBind"+(w.id||"")]=function(){if(!F&&L){var t=D.$undoManager.redo();void 0!==t&&null!==t&&(ct(t),X(t,!1),G&&o.cancel(G),G=o(function(){_[0].focus(),h.setSelectionToElementEnd(_[0])},1))}},J=function(){if(L)return _[0].innerHTML;if(A)return _.val();throw"textAngular Error: attempting to update non-editable taBind"},X=function(t,e,n){R=n||!1,void 0!==e&&null!==e||(e=L),void 0!==t&&null!==t||(t=J()),W(t)?(""!==D.$viewValue&&D.$setViewValue(""),e&&""!==D.$undoManager.current()&&D.$undoManager.push("")):(ut(),D.$viewValue!==t&&(D.$setViewValue(t),e&&D.$undoManager.push(t))),D.$render()};d["updateTaBind"+(w.id||"")]=function(){F||X(void 0,void 0,!0)};var Z=function(t){return D.$oldViewValue=r(c(t),D.$oldViewValue,O)};if(_.attr("required")&&(D.$validators.required=function(t,e){return!W(t||e)}),D.$parsers.push(Z),D.$parsers.unshift(B),D.$formatters.push(Z),D.$formatters.unshift(B),D.$formatters.unshift(function(t){return D.$undoManager.push(t||"")}),A)if(d.events={},L){var Q=!1,tt=function(t){if(t&&t.trim().length){if(t.match(/class=["']*Mso(Normal|List)/i)||t.match(/content=["']*Word.Document/i)){var e=t.match(/<!--StartFragment-->([\s\S]*?)<!--EndFragment-->/i);e=(e=e?e[1]:t).replace(/<o:p>[\s\S]*?<\/o:p>/gi,"").replace(/class=(["']|)MsoNormal(["']|)/gi,"");var n=angular.element("<div>"+e+"</div>"),i=angular.element("<div></div>"),a={element:null,lastIndent:[],lastLi:null,isUl:!1};a.lastIndent.peek=function(){var t=this.length;if(t>0)return this[t-1]};for(var s=function(t){a.isUl=t,a.element=angular.element(t?"<ul>":"<ol>"),a.lastIndent=[],a.lastIndent.peek=function(){var t=this.length;if(t>0)return this[t-1]},a.lastLevelMatch=null},l=0;l<=n[0].childNodes.length;l++)if(n[0].childNodes[l]&&"#text"!==n[0].childNodes[l].nodeName){var u=n[0].childNodes[l].tagName.toLowerCase();if("p"===u||"h1"===u||"h2"===u||"h3"===u||"h4"===u||"h5"===u||"h6"===u){var c=angular.element(n[0].childNodes[l]),f=(c.attr("class")||"").match(/MsoList(Bullet|Number|Paragraph)(CxSp(First|Middle|Last)|)/i);if(f){if(c[0].childNodes.length<2||c[0].childNodes[1].childNodes.length<1)continue;var p="bullet"===f[1].toLowerCase()||"number"!==f[1].toLowerCase()&&!(/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(c[0].childNodes[1].innerHTML)||/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(c[0].childNodes[1].childNodes[0].innerHTML)),g=(c.attr("style")||"").match(/margin-left:([\-\.0-9]*)/i),m=parseFloat(g?g[1]:0),v=(c.attr("style")||"").match(/mso-list:l([0-9]+) level([0-9]+) lfo[0-9+]($|;)/i);if(v&&v[2]&&(m=parseInt(v[2])),v&&(!a.lastLevelMatch||v[1]!==a.lastLevelMatch[1])||!f[3]||"first"===f[3].toLowerCase()||null===a.lastIndent.peek()||a.isUl!==p&&a.lastIndent.peek()===m)s(p),i.append(a.element);else if(null!=a.lastIndent.peek()&&a.lastIndent.peek()<m)a.element=angular.element(p?"<ul>":"<ol>"),a.lastLi.append(a.element);else if(null!=a.lastIndent.peek()&&a.lastIndent.peek()>m){for(;null!=a.lastIndent.peek()&&a.lastIndent.peek()>m;)if("li"!==a.element.parent()[0].tagName.toLowerCase()){if(!/[uo]l/i.test(a.element.parent()[0].tagName.toLowerCase()))break;a.element=a.element.parent(),a.lastIndent.pop()}else a.element=a.element.parent();a.isUl="ul"===a.element[0].tagName.toLowerCase(),p!==a.isUl&&(s(p),i.append(a.element))}a.lastLevelMatch=v,m!==a.lastIndent.peek()&&a.lastIndent.push(m),a.lastLi=angular.element("<li>"),a.element.append(a.lastLi),a.lastLi.html(c.html().replace(/<!(--|)\[if !supportLists\](--|)>[\s\S]*?<!(--|)\[endif\](--|)>/gi,"")),c.remove()}else s(!1),i.append(c)}}var y=function(t){for(var e=(t=angular.element(t))[0].childNodes.length-1;e>=0;e--)t.after(t[0].childNodes[e]);t.remove()};angular.forEach(i.find("span"),function(t){t.removeAttribute("lang"),t.attributes.length<=0&&y(t)}),angular.forEach(i.find("font"),y),t=i.html()}else{if((t=t.replace(/<(|\/)meta[^>]*?>/gi,"")).match(/<[^>]*?(ta-bind)[^>]*?>/)){if(t.match(/<[^>]*?(text-angular)[^>]*?>/)){var x=angular.element("<div>"+t+"</div>");x.find("textarea").remove();for(var w=b.getByAttribute(x,"ta-bind"),C=0;C<w.length;C++){for(var k=w[C][0].parentNode.parentNode,S=0;S<w[C][0].childNodes.length;S++)k.parentNode.insertBefore(w[C][0].childNodes[S],k);k.parentNode.removeChild(k)}t=x.html().replace('<br class="Apple-interchange-newline">',"")}}else t.match(/^<span/)&&(t.match(/<span class=(\"Apple-converted-space\"|\'Apple-converted-space\')>.<\/span>/gi)||(t=t.replace(/<(|\/)span[^>]*?>/gi,"")));t=t.replace(/<br class="Apple-interchange-newline"[^>]*?>/gi,"").replace(/<span class="Apple-converted-space">( |&nbsp;)<\/span>/gi,"&nbsp;")}/<li(\s.*)?>/i.test(t)&&!1===/(<ul(\s.*)?>|<ol(\s.*)?>).*<li(\s.*)?>/i.test(t)&&(t=t.replace(/<li(\s.*)?>.*<\/li(\s.*)?>/i,"<ul>$&</ul>")),t=t.replace(/^[ |\u00A0]+/gm,function(t){for(var e="",n=0;n<t.length;n++)e+="&nbsp;";return e}).replace(/\n|\r\n|\r/g,"<br />").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;"),M&&(t=M(d,{$html:t})||t),t=r(t,"",O),h.insertHtml(t,_[0]),o(function(){D.$setViewValue(J()),Q=!1,_.removeClass("processing-paste")},0)}else Q=!1,_.removeClass("processing-paste")};_.on("paste",d.events.paste=function(t,e){if(e&&angular.extend(t,e),F||Q)return t.stopPropagation(),t.preventDefault(),!1;Q=!0,_.addClass("processing-paste");var n,r=(t.originalEvent||t).clipboardData;if(r&&r.getData&&r.types.length>0){for(var i="",a=0;a<r.types.length;a++)i+=" "+r.types[a];return/text\/html/i.test(i)?n=r.getData("text/html"):/text\/plain/i.test(i)&&(n=r.getData("text/plain")),tt(n),t.stopPropagation(),t.preventDefault(),!1}var s=l.rangy.saveSelection(),c=angular.element('<div class="ta-hidden-input" contenteditable="true"></div>');u.find("body").append(c),c[0].focus(),o(function(){l.rangy.restoreSelection(s),tt(c[0].innerHTML),_[0].focus(),c.remove()},0)}),_.on("cut",d.events.cut=function(t){F?t.preventDefault():o(function(){D.$setViewValue(J())},0)}),_.on("keydown",d.events.keydown=function(t,e){e&&angular.extend(t,e),t.specialKey=k(t);var n;if(m.keyMappings.forEach(function(e){t.specialKey===e.commandKeyCode&&(t.specialKey=void 0),e.testForKey(t)&&(n=e.commandKeyCode),"UndoKey"!==e.commandKeyCode&&"RedoKey"!==e.commandKeyCode||e.enablePropagation||t.preventDefault()}),void 0!==n&&(t.specialKey=n),void 0===t.specialKey||"UndoKey"===t.specialKey&&"RedoKey"===t.specialKey||(t.preventDefault(),x.sendKeyCommand(d,t)),!F&&("UndoKey"===t.specialKey&&(q(),t.preventDefault()),"RedoKey"===t.specialKey&&(K(),t.preventDefault()),13===t.keyCode&&!t.shiftKey)){var r,o=h.getSelectionElement();if(!o.tagName.match(i))return;var a=angular.element(T);if(function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}(["blockquote","ul","ol"],o.parentNode.tagName.toLowerCase())){if(/^<br(|\/)>$/i.test(o.innerHTML.trim())&&!o.nextSibling){var s=(r=angular.element(o)).parent();s.after(a),r.remove(),0===s.children().length&&s.remove(),h.setSelectionToElementStart(a[0]),t.preventDefault()}/^<[^>]+><br(|\/)><\/[^>]+>$/i.test(o.innerHTML.trim())&&((r=angular.element(o)).after(a),r.remove(),h.setSelectionToElementStart(a[0]),t.preventDefault())}}});var et;if(_.on("keyup",d.events.keyup=function(t,e){if(e&&angular.extend(t,e),9!==t.keyCode){if(U&&o.cancel(U),!F&&!N.test(t.keyCode)){if(""!==T&&13===t.keyCode&&!t.shiftKey){for(var n=h.getSelectionElement();!n.tagName.match(i)&&n!==_[0];)n=n.parentNode;if(n.tagName.toLowerCase()!==w.taDefaultWrap&&"li"!==n.tagName.toLowerCase()&&(""===n.innerHTML.trim()||"<br>"===n.innerHTML.trim())){var r=angular.element(T);angular.element(n).replaceWith(r),h.setSelectionToElementStart(r[0])}}var a=J();""!==T&&""===a.trim()?(ct(T),h.setSelectionToElementStart(_.children()[0])):"<"!==a.substring(0,1)&&w.taDefaultWrap;var s=S!==t.keyCode&&I.test(t.keyCode);et&&o.cancel(et),et=o(function(){X(a,s,!0)},E.$options.debounce||400),s||(U=o(function(){D.$undoManager.push(a)},250)),S=t.keyCode}}else h.getSelection().start.element===_[0]&&_.children().length&&h.setSelectionToElementStart(_.children()[0])}),_.on("blur",d.events.blur=function(){P=!1,F?(R=!0,D.$render()):X(void 0,void 0,!0)}),w.placeholder&&(t.ie>8||void 0===t.ie)){var nt;if(!w.id)throw"textAngular Error: An unique ID is required for placeholders to work";nt=a("#"+w.id+".placeholder-text:before",'content: "'+w.placeholder+'"'),d.$on("$destroy",function(){s(nt)})}_.on("focus",d.events.focus=function(){P=!0,_.removeClass("placeholder-text"),ut()}),_.on("mouseup",d.events.mouseup=function(){h.getSelection().start.element===_[0]&&_.children().length&&h.setSelectionToElementStart(_.children()[0])}),_.on("mousedown",d.events.mousedown=function(t,e){e&&angular.extend(t,e),t.stopPropagation()})}else{_.on("change blur",d.events.change=d.events.blur=function(){F||D.$setViewValue(J())}),_.on("keydown",d.events.keydown=function(t,e){if(e&&angular.extend(t,e),9===t.keyCode){var n=this.selectionStart,r=this.selectionEnd,i=_.val();if(t.shiftKey){var o=i.lastIndexOf("\n",n),a=i.lastIndexOf("\t",n);-1!==a&&a>=o&&(_.val(i.substring(0,a)+i.substring(a+1)),this.selectionStart=this.selectionEnd=n-1)}else _.val(i.substring(0,n)+"\t"+i.substring(r)),this.selectionStart=this.selectionEnd=n+1;t.preventDefault()}});var rt=function(t,e){for(var n="",r=0;r<e;r++)n+=t;return n},it=function(t,e,n){for(var r=0;r<t.length;r++)e.call(n,r,t[r])},ot=function(t,e){var n="",r=t.childNodes;return e++,n+=rt("\t",e-1)+t.outerHTML.substring(0,4),it(r,function(t,r){var i=r.nodeName.toLowerCase();"#comment"!==i?"#text"!==i?r.outerHTML&&(n+="ul"===i||"ol"===i?"\n"+ot(r,e):"\n"+rt("\t",e)+r.outerHTML):n+=r.textContent:n+="\x3c!--"+r.nodeValue+"--\x3e"}),n+="\n"+rt("\t",e-1)+t.outerHTML.substring(t.outerHTML.lastIndexOf("<"))};D.$formatters.unshift(function(t){var e=angular.element("<div>"+t+"</div>")[0].childNodes;return e.length>0&&(t="",it(e,function(e,n){var r=n.nodeName.toLowerCase();"#comment"!==r?"#text"!==r?n.outerHTML&&(t.length>0&&(t+="\n"),t+="ul"===r||"ol"===r?""+ot(n,0):""+n.outerHTML):t+=n.textContent:t+="\x3c!--"+n.nodeValue+"--\x3e"})),t})}var at,st=function(t){return d.$emit("ta-element-select",this),t.preventDefault(),!1},lt=function(t,e){if(e&&angular.extend(t,e),!f&&!F){f=!0;var n;n=t.originalEvent?t.originalEvent.dataTransfer:t.dataTransfer,d.$emit("ta-drop-event",this,t,n),o(function(){f=!1,X(void 0,void 0,!0)},100)}},ut=d["reApplyOnSelectorHandlers"+(w.id||"")]=function(){F||angular.forEach(p,function(t){_.find(t).off("click",st).on("click",st)})},ct=function(t){_[0].innerHTML=t},dt=!1;D.$render=function(){if(!dt){dt=!0;var t=D.$viewValue||"";R||(L&&P&&(_.removeClass("placeholder-text"),at&&o.cancel(at),at=o(function(){P||(_[0].focus(),h.setSelectionToElementEnd(_.children()[_.children().length-1])),at=void 0},1)),L?(ct(w.placeholder?""===t?T:t:""===t?T:t),F?_.off("drop",lt):(ut(),_.on("drop",lt))):"textarea"!==_[0].tagName.toLowerCase()&&"input"!==_[0].tagName.toLowerCase()?ct(g(t)):_.val(t)),L&&w.placeholder&&(""===t?P?_.removeClass("placeholder-text"):_.addClass("placeholder-text"):_.removeClass("placeholder-text")),dt=R=!1}},w.taReadonly&&((F=d.$eval(w.taReadonly))?(_.addClass("ta-readonly"),"textarea"!==_[0].tagName.toLowerCase()&&"input"!==_[0].tagName.toLowerCase()||_.attr("disabled","disabled"),void 0!==_.attr("contenteditable")&&_.attr("contenteditable")&&_.removeAttr("contenteditable")):(_.removeClass("ta-readonly"),"textarea"===_[0].tagName.toLowerCase()||"input"===_[0].tagName.toLowerCase()?_.removeAttr("disabled"):L&&_.attr("contenteditable","true")),d.$watch(w.taReadonly,function(t,e){e!==t&&(t?(_.addClass("ta-readonly"),"textarea"!==_[0].tagName.toLowerCase()&&"input"!==_[0].tagName.toLowerCase()||_.attr("disabled","disabled"),void 0!==_.attr("contenteditable")&&_.attr("contenteditable")&&_.removeAttr("contenteditable"),angular.forEach(p,function(t){_.find(t).on("click",st)}),_.off("drop",lt)):(_.removeClass("ta-readonly"),"textarea"===_[0].tagName.toLowerCase()||"input"===_[0].tagName.toLowerCase()?_.removeAttr("disabled"):L&&_.attr("contenteditable","true"),angular.forEach(p,function(t){_.find(t).off("click",st)}),_.on("drop",lt)),F=t)})),L&&!F&&(angular.forEach(p,function(t){_.find(t).on("click",st)}),_.on("drop",lt),_.on("blur",function(){t.webkit&&(e=!0)}))}}}]);var f=!1,p=angular.module("textAngular",["ngSanitize","textAngularSetup","textAngular.factories","textAngular.DOM","textAngular.validators","textAngular.taBind"]);p.config([function(){angular.forEach(taTools,function(t,e){delete taTools[e]})}]),p.run([function(){if("function"==typeof define&&define.amd)define(function(t){window.rangy=t("rangy"),window.rangy.saveSelection=t("rangy/lib/rangy-selectionsaverestore")});else if("function"==typeof require&&"undefined"!=typeof module&&"object"==typeof exports)window.rangy=require("rangy"),window.rangy.saveSelection=require("rangy/lib/rangy-selectionsaverestore");else{if(!window.rangy)throw"rangy-core.js and rangy-selectionsaverestore.js are required for textAngular to work correctly, rangy-core is not yet loaded.";if(window.rangy.init(),!window.rangy.saveSelection)throw"rangy-selectionsaverestore.js is required for textAngular to work correctly."}}]),p.directive("textAngular",["$compile","$timeout","taOptions","taSelection","taExecCommand","textAngularManager","$window","$document","$animate","$log","$q","$parse",function(t,e,n,r,i,o,a,s,l,u,c,d){return{require:"?ngModel",scope:{},restrict:"EA",priority:2,link:function(h,f,p,g){var m,v,y,b,x,_,w,C,k,S,M,T=p.serial?p.serial:Math.floor(1e16*Math.random());h._name=p.name?p.name:"textAngularEditor"+T;var $=function(t,n,r){e(function(){var e=function(){t.off(n,e),r.apply(this,arguments)};t.on(n,e)},100)};if(k=i(p.taDefaultWrap),angular.extend(h,angular.copy(n),{wrapSelection:function(t,e,n){"undo"===t.toLowerCase()?h["$undoTaBindtaTextElement"+T]():"redo"===t.toLowerCase()?h["$redoTaBindtaTextElement"+T]():(k(t,!1,e,h.defaultTagAttributes),n&&h["reApplyOnSelectorHandlerstaTextElement"+T](),h.displayElements.text[0].focus())},showHtml:h.$eval(p.taShowHtml)||!1}),p.taFocussedClass&&(h.classes.focussed=p.taFocussedClass),p.taTextEditorClass&&(h.classes.textEditor=p.taTextEditorClass),p.taHtmlEditorClass&&(h.classes.htmlEditor=p.taHtmlEditorClass),p.taDefaultTagAttributes)try{angular.extend(h.defaultTagAttributes,angular.fromJson(p.taDefaultTagAttributes))}catch(t){u.error(t)}p.taTextEditorSetup&&(h.setup.textEditorSetup=h.$parent.$eval(p.taTextEditorSetup)),p.taHtmlEditorSetup&&(h.setup.htmlEditorSetup=h.$parent.$eval(p.taHtmlEditorSetup)),p.taFileDrop?h.fileDropHandler=h.$parent.$eval(p.taFileDrop):h.fileDropHandler=h.defaultFileDropHandler,w=f[0].innerHTML,f[0].innerHTML="",h.displayElements={forminput:angular.element("<input type='hidden' tabindex='-1' style='display: none;'>"),html:angular.element("<textarea></textarea>"),text:angular.element("<div></div>"),scrollWindow:angular.element("<div class='ta-scroll-window'></div>"),popover:angular.element('<div class="popover fade bottom" style="max-width: none; width: 305px;"></div>'),popoverArrow:angular.element('<div class="arrow"></div>'),popoverContainer:angular.element('<div class="popover-content"></div>'),resize:{overlay:angular.element('<div class="ta-resizer-handle-overlay"></div>'),background:angular.element('<div class="ta-resizer-handle-background"></div>'),anchors:[angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tr"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-bl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-br"></div>')],info:angular.element('<div class="ta-resizer-handle-info"></div>')}},h.displayElements.popover.append(h.displayElements.popoverArrow),h.displayElements.popover.append(h.displayElements.popoverContainer),h.displayElements.scrollWindow.append(h.displayElements.popover),h.displayElements.popover.on("mousedown",function(t,e){return e&&angular.extend(t,e),t.preventDefault(),!1}),h.showPopover=function(t){h.displayElements.popover.css("display","block"),h.reflowPopover(t),l.addClass(h.displayElements.popover,"in"),$(s.find("body"),"click keyup",function(){h.hidePopover()})},h.reflowPopover=function(t){h.displayElements.text[0].offsetHeight-51>t[0].offsetTop?(h.displayElements.popover.css("top",t[0].offsetTop+t[0].offsetHeight+h.displayElements.scrollWindow[0].scrollTop+"px"),h.displayElements.popover.removeClass("top").addClass("bottom")):(h.displayElements.popover.css("top",t[0].offsetTop-54+h.displayElements.scrollWindow[0].scrollTop+"px"),h.displayElements.popover.removeClass("bottom").addClass("top"));var e=h.displayElements.text[0].offsetWidth-h.displayElements.popover[0].offsetWidth,n=t[0].offsetLeft+t[0].offsetWidth/2-h.displayElements.popover[0].offsetWidth/2;h.displayElements.popover.css("left",Math.max(0,Math.min(e,n))+"px"),h.displayElements.popoverArrow.css("margin-left",Math.min(n,Math.max(0,n-e))-11+"px")},h.hidePopover=function(){h.displayElements.popover.css("display",""),h.displayElements.popoverContainer.attr("style",""),h.displayElements.popoverContainer.attr("class","popover-content"),h.displayElements.popover.removeClass("in")},h.displayElements.resize.overlay.append(h.displayElements.resize.background),angular.forEach(h.displayElements.resize.anchors,function(t){h.displayElements.resize.overlay.append(t)}),h.displayElements.resize.overlay.append(h.displayElements.resize.info),h.displayElements.scrollWindow.append(h.displayElements.resize.overlay),h.reflowResizeOverlay=function(t){t=angular.element(t)[0],h.displayElements.resize.overlay.css({display:"block",left:t.offsetLeft-5+"px",top:t.offsetTop-5+"px",width:t.offsetWidth+10+"px",height:t.offsetHeight+10+"px"}),h.displayElements.resize.info.text(t.offsetWidth+" x "+t.offsetHeight)},h.showResizeOverlay=function(t){var e=s.find("body");S=function(n){var r={width:parseInt(t.attr("width")),height:parseInt(t.attr("height")),x:n.clientX,y:n.clientY};(void 0===r.width||isNaN(r.width))&&(r.width=t[0].offsetWidth),(void 0===r.height||isNaN(r.height))&&(r.height=t[0].offsetHeight),h.hidePopover();var i=r.height/r.width,o=function(e){function n(t){return Math.round(Math.max(0,t))}var o={x:Math.max(0,r.width+(e.clientX-r.x)),y:Math.max(0,r.height+(e.clientY-r.y))},a=void 0!==p.taResizeForceAspectRatio,s=p.taResizeMaintainAspectRatio;if(a||s&&!e.shiftKey){var l=o.y/o.x;o.x=i>l?o.x:o.y/i,o.y=i>l?o.x*i:o.y}var u=angular.element(t);u.css("height",n(o.y)+"px"),u.css("width",n(o.x)+"px"),h.reflowResizeOverlay(t)};e.on("mousemove",o),$(e,"mouseup",function(t){t.preventDefault(),t.stopPropagation(),e.off("mousemove",o),h.$apply(function(){h.hidePopover(),h.updateTaBindtaTextElement()},100)}),n.stopPropagation(),n.preventDefault()},h.displayElements.resize.anchors[3].off("mousedown"),h.displayElements.resize.anchors[3].on("mousedown",S),h.reflowResizeOverlay(t),$(e,"click",function(){h.hideResizeOverlay()})},h.hideResizeOverlay=function(){h.displayElements.resize.anchors[3].off("mousedown",S),h.displayElements.resize.overlay.css("display","")},h.setup.htmlEditorSetup(h.displayElements.html),h.setup.textEditorSetup(h.displayElements.text),h.displayElements.html.attr({id:"taHtmlElement"+T,"ng-show":"showHtml","ta-bind":"ta-bind","ng-model":"html","ng-model-options":f.attr("ng-model-options")}),h.displayElements.text.attr({id:"taTextElement"+T,contentEditable:"true","ta-bind":"ta-bind","ng-model":"html","ng-model-options":f.attr("ng-model-options")}),h.displayElements.scrollWindow.attr({"ng-hide":"showHtml"}),p.taDefaultWrap&&h.displayElements.text.attr("ta-default-wrap",p.taDefaultWrap),p.taUnsafeSanitizer&&(h.displayElements.text.attr("ta-unsafe-sanitizer",p.taUnsafeSanitizer),h.displayElements.html.attr("ta-unsafe-sanitizer",p.taUnsafeSanitizer)),h.displayElements.scrollWindow.append(h.displayElements.text),f.append(h.displayElements.scrollWindow),f.append(h.displayElements.html),h.displayElements.forminput.attr("name",h._name),f.append(h.displayElements.forminput),p.tabindex&&(f.removeAttr("tabindex"),h.displayElements.text.attr("tabindex",p.tabindex),h.displayElements.html.attr("tabindex",p.tabindex)),p.placeholder&&(h.displayElements.text.attr("placeholder",p.placeholder),h.displayElements.html.attr("placeholder",p.placeholder)),p.taDisabled&&(h.displayElements.text.attr("ta-readonly","disabled"),h.displayElements.html.attr("ta-readonly","disabled"),h.disabled=h.$parent.$eval(p.taDisabled),h.$parent.$watch(p.taDisabled,function(t){h.disabled=t,h.disabled?f.addClass(h.classes.disabled):f.removeClass(h.classes.disabled)})),p.taPaste&&(h._pasteHandler=function(t){return d(p.taPaste)(h.$parent,{$html:t})},h.displayElements.text.attr("ta-paste","_pasteHandler($html)")),t(h.displayElements.scrollWindow)(h),t(h.displayElements.html)(h),h.updateTaBindtaTextElement=h["updateTaBindtaTextElement"+T],h.updateTaBindtaHtmlElement=h["updateTaBindtaHtmlElement"+T],f.addClass("ta-root"),h.displayElements.scrollWindow.addClass("ta-text ta-editor "+h.classes.textEditor),h.displayElements.html.addClass("ta-html ta-editor "+h.classes.htmlEditor),h._actionRunning=!1;var D=!1;if(h.startAction=function(){return h._actionRunning=!0,D=a.rangy.saveSelection(),function(){D&&a.rangy.restoreSelection(D)}},h.endAction=function(){h._actionRunning=!1,D&&(h.showHtml?h.displayElements.html[0].focus():h.displayElements.text[0].focus(),a.rangy.removeMarkers(D)),D=!1,h.updateSelectedStyles(),h.showHtml||h["updateTaBindtaTextElement"+T]()},x=function(){h.focussed=!0,f.addClass(h.classes.focussed),C.focus(),f.triggerHandler("focus")},h.displayElements.html.on("focus",x),h.displayElements.text.on("focus",x),_=function(t){return h._actionRunning||s[0].activeElement===h.displayElements.html[0]||s[0].activeElement===h.displayElements.text[0]||(f.removeClass(h.classes.focussed),C.unfocus(),e(function(){h._bUpdateSelectedStyles=!1,f.triggerHandler("blur"),h.focussed=!1},0)),t.preventDefault(),!1},h.displayElements.html.on("blur",_),h.displayElements.text.on("blur",_),h.displayElements.text.on("paste",function(t){f.triggerHandler("paste",t)}),h.queryFormatBlockState=function(t){return!h.showHtml&&t.toLowerCase()===s[0].queryCommandValue("formatBlock").toLowerCase()},h.queryCommandState=function(t){return h.showHtml?"":s[0].queryCommandState(t)},h.switchView=function(){h.showHtml=!h.showHtml,l.enabled(!1,h.displayElements.html),l.enabled(!1,h.displayElements.text),h.showHtml?e(function(){return l.enabled(!0,h.displayElements.html),l.enabled(!0,h.displayElements.text),h.displayElements.html[0].focus()},100):e(function(){return l.enabled(!0,h.displayElements.html),l.enabled(!0,h.displayElements.text),h.displayElements.text[0].focus()},100)},p.ngModel){var E=!0;g.$render=function(){if(E){E=!1;var t=h.$parent.$eval(p.ngModel);void 0!==t&&null!==t||!w||""===w||g.$setViewValue(w)}h.displayElements.forminput.val(g.$viewValue),h.html=g.$viewValue||""},f.attr("required")&&(g.$validators.required=function(t,e){var n=t||e;return!(!n||""===n.trim())})}else h.displayElements.forminput.val(w),h.html=w;if(h.$watch("html",function(t,e){t!==e&&(p.ngModel&&g.$viewValue!==t&&g.$setViewValue(t),h.displayElements.forminput.val(t))}),p.taTargetToolbars)C=o.registerEditor(h._name,h,p.taTargetToolbars.split(","));else{var L=angular.element('<div text-angular-toolbar name="textAngularToolbar'+T+'">');p.taToolbar&&L.attr("ta-toolbar",p.taToolbar),p.taToolbarClass&&L.attr("ta-toolbar-class",p.taToolbarClass),p.taToolbarGroupClass&&L.attr("ta-toolbar-group-class",p.taToolbarGroupClass),p.taToolbarButtonClass&&L.attr("ta-toolbar-button-class",p.taToolbarButtonClass),p.taToolbarActiveButtonClass&&L.attr("ta-toolbar-active-button-class",p.taToolbarActiveButtonClass),p.taFocussedClass&&L.attr("ta-focussed-class",p.taFocussedClass),f.prepend(L),t(L)(h.$parent),C=o.registerEditor(h._name,h,["textAngularToolbar"+T])}h.$on("$destroy",function(){o.unregisterEditor(h._name),angular.element(window).off("blur")}),h.$on("ta-element-select",function(t,e){C.triggerElementSelect(t,e)&&h["reApplyOnSelectorHandlerstaTextElement"+T]()}),h.$on("ta-drop-event",function(t,n,r,i){h.displayElements.text[0].focus(),i&&i.files&&i.files.length>0?(angular.forEach(i.files,function(t){try{c.when(h.fileDropHandler(t,h.wrapSelection)||h.fileDropHandler!==h.defaultFileDropHandler&&c.when(h.defaultFileDropHandler(t,h.wrapSelection))).then(function(){h["updateTaBindtaTextElement"+T]()})}catch(t){u.error(t)}}),r.preventDefault(),r.stopPropagation()):e(function(){h["updateTaBindtaTextElement"+T]()},0)}),h._bUpdateSelectedStyles=!1,angular.element(window).on("blur",function(){h._bUpdateSelectedStyles=!1,h.focussed=!1}),h.updateSelectedStyles=function(){var t;M&&e.cancel(M),void 0!==(t=r.getSelectionElement())&&t.parentNode!==h.displayElements.text[0]?C.updateSelectedStyles(angular.element(t)):C.updateSelectedStyles(),h._bUpdateSelectedStyles&&(M=e(h.updateSelectedStyles,200))},m=function(){h.focussed?h._bUpdateSelectedStyles||(h._bUpdateSelectedStyles=!0,h.$apply(function(){h.updateSelectedStyles()})):h._bUpdateSelectedStyles=!1},h.displayElements.html.on("keydown",m),h.displayElements.text.on("keydown",m),v=function(){h._bUpdateSelectedStyles=!1},h.displayElements.html.on("keyup",v),h.displayElements.text.on("keyup",v),y=function(t,e){e&&angular.extend(t,e),h.$apply(function(){if(C.sendKeyCommand(t))return h._bUpdateSelectedStyles||h.updateSelectedStyles(),t.preventDefault(),!1})},h.displayElements.html.on("keypress",y),h.displayElements.text.on("keypress",y),b=function(){h._bUpdateSelectedStyles=!1,h.$apply(function(){h.updateSelectedStyles()})},h.displayElements.html.on("mouseup",b),h.displayElements.text.on("mouseup",b)}}}]),p.service("textAngularManager",["taToolExecuteAction","taTools","taRegisterTool",function(t,e,n){var r={},i={};return{registerEditor:function(n,o,a){if(!n||""===n)throw"textAngular Error: An editor requires a name";if(!o)throw"textAngular Error: An editor requires a scope";if(i[n])throw'textAngular Error: An Editor with name "'+n+'" already exists';var s=[];return angular.forEach(a,function(t){r[t]&&s.push(r[t])}),i[n]={scope:o,toolbars:a,_registerToolbar:function(t){this.toolbars.indexOf(t.name)>=0&&s.push(t)},editorFunctions:{disable:function(){angular.forEach(s,function(t){t.disabled=!0})},enable:function(){angular.forEach(s,function(t){t.disabled=!1})},focus:function(){angular.forEach(s,function(t){t._parent=o,t.disabled=!1,t.focussed=!0,o.focussed=!0})},unfocus:function(){angular.forEach(s,function(t){t.disabled=!0,t.focussed=!1}),o.focussed=!1},updateSelectedStyles:function(t){angular.forEach(s,function(e){angular.forEach(e.tools,function(n){n.activeState&&(e._parent=o,n.active=n.activeState(t))})})},sendKeyCommand:function(n){var r=!1;return(n.ctrlKey||n.metaKey||n.specialKey)&&angular.forEach(e,function(e,i){if(e.commandKeyCode&&(e.commandKeyCode===n.which||e.commandKeyCode===n.specialKey))for(var a=0;a<s.length;a++)if(void 0!==s[a].tools[i]){t.call(s[a].tools[i],o),r=!0;break}}),r},triggerElementSelect:function(t,n){var r=function(t,e){for(var n=!0,r=0;r<e.length;r++)n=n&&t.attr(e[r]);return n},i=[],a={},l=!1;n=angular.element(n);var u=!1;if(angular.forEach(e,function(t,e){t.onElementSelect&&t.onElementSelect.element&&t.onElementSelect.element.toLowerCase()===n[0].tagName.toLowerCase()&&(!t.onElementSelect.filter||t.onElementSelect.filter(n))&&(u=u||angular.isArray(t.onElementSelect.onlyWithAttrs)&&r(n,t.onElementSelect.onlyWithAttrs),t.onElementSelect.onlyWithAttrs&&!r(n,t.onElementSelect.onlyWithAttrs)||(a[e]=t))}),u?(angular.forEach(a,function(t,e){t.onElementSelect.onlyWithAttrs&&r(n,t.onElementSelect.onlyWithAttrs)&&i.push({name:e,tool:t})}),i.sort(function(t,e){return e.tool.onElementSelect.onlyWithAttrs.length-t.tool.onElementSelect.onlyWithAttrs.length})):angular.forEach(a,function(t,e){i.push({name:e,tool:t})}),i.length>0)for(var c=0;c<i.length;c++){for(var d=i[c].tool,h=i[c].name,f=0;f<s.length;f++)if(void 0!==s[f].tools[h]){d.onElementSelect.action.call(s[f].tools[h],t,n,o),l=!0;break}if(l)break}return l}}},i[n].editorFunctions},retrieveEditor:function(t){return i[t]},unregisterEditor:function(t){delete i[t]},registerToolbar:function(t){if(!t)throw"textAngular Error: A toolbar requires a scope";if(!t.name||""===t.name)throw"textAngular Error: A toolbar requires a name";if(r[t.name])throw'textAngular Error: A toolbar with name "'+t.name+'" already exists';r[t.name]=t,angular.forEach(i,function(e){e._registerToolbar(t)})},retrieveToolbar:function(t){return r[t]},retrieveToolbarsViaEditor:function(t){var e=[],n=this;return angular.forEach(this.retrieveEditor(t).toolbars,function(t){e.push(n.retrieveToolbar(t))}),e},unregisterToolbar:function(t){delete r[t]},updateToolsDisplay:function(t){var e=this;angular.forEach(t,function(t,n){e.updateToolDisplay(n,t)})},resetToolsDisplay:function(){var t=this;angular.forEach(e,function(e,n){t.resetToolDisplay(n)})},updateToolDisplay:function(t,e){var n=this;angular.forEach(r,function(r,i){n.updateToolbarToolDisplay(i,t,e)})},resetToolDisplay:function(t){var e=this;angular.forEach(r,function(n,r){e.resetToolbarToolDisplay(r,t)})},updateToolbarToolDisplay:function(t,e,n){if(!r[t])throw'textAngular Error: No Toolbar with name "'+t+'" exists';r[t].updateToolDisplay(e,n)},resetToolbarToolDisplay:function(t,n){if(!r[t])throw'textAngular Error: No Toolbar with name "'+t+'" exists';r[t].updateToolDisplay(n,e[n],!0)},removeTool:function(t){delete e[t],angular.forEach(r,function(e){delete e.tools[t];for(var n=0;n<e.toolbar.length;n++){for(var r,i=0;i<e.toolbar[n].length;i++){if(e.toolbar[n][i]===t){r={group:n,index:i};break}if(void 0!==r)break}void 0!==r&&(e.toolbar[r.group].slice(r.index,1),e._$element.children().eq(r.group).children().eq(r.index).remove())}})},addTool:function(t,e,i,o){n(t,e),angular.forEach(r,function(n){n.addTool(t,e,i,o)})},addToolToToolbar:function(t,e,i,o,a){n(t,e),r[i].addTool(t,e,o,a)},refreshEditor:function(t){if(!i[t])throw'textAngular Error: No Editor with name "'+t+'" exists';i[t].scope.updateTaBindtaTextElement(),i[t].scope.$$phase||i[t].scope.$digest()},sendKeyCommand:function(t,e){var n=i[t._name];if(n&&n.editorFunctions.sendKeyCommand(e))return t._bUpdateSelectedStyles||t.updateSelectedStyles(),e.preventDefault(),!1}}}]),p.directive("textAngularToolbar",["$compile","textAngularManager","taOptions","taTools","taToolExecuteAction","$window",function(t,e,n,r,i,o){return{scope:{name:"@"},restrict:"EA",link:function(a,s,l){if(!a.name||""===a.name)throw"textAngular Error: A toolbar requires a name";angular.extend(a,angular.copy(n)),l.taToolbar&&(a.toolbar=a.$parent.$eval(l.taToolbar)),l.taToolbarClass&&(a.classes.toolbar=l.taToolbarClass),l.taToolbarGroupClass&&(a.classes.toolbarGroup=l.taToolbarGroupClass),l.taToolbarButtonClass&&(a.classes.toolbarButton=l.taToolbarButtonClass),l.taToolbarActiveButtonClass&&(a.classes.toolbarButtonActive=l.taToolbarActiveButtonClass),l.taFocussedClass&&(a.classes.focussed=l.taFocussedClass),a.disabled=!0,a.focussed=!1,a._$element=s,s[0].innerHTML="",s.addClass("ta-toolbar "+a.classes.toolbar),a.$watch("focussed",function(){a.focussed?s.addClass(a.classes.focussed):s.removeClass(a.classes.focussed)});var u=function(e,n){var r;if(r=e&&e.display?angular.element(e.display):angular.element("<button type='button'>"),e&&e.class?r.addClass(e.class):r.addClass(a.classes.toolbarButton),r.attr("name",n.name),r.attr("ta-button","ta-button"),r.attr("ng-disabled","isDisabled()"),r.attr("tabindex","-1"),r.attr("ng-click","executeAction()"),r.attr("ng-class","displayActiveToolClass(active)"),e&&e.tooltiptext&&r.attr("title",e.tooltiptext),e&&!e.display&&!n._display&&(r[0].innerHTML="",e.buttontext&&(r[0].innerHTML=e.buttontext),e.iconclass)){var i=angular.element("<i>"),o=r[0].innerHTML;i.addClass(e.iconclass),r[0].innerHTML="",r.append(i),o&&""!==o&&r.append("&nbsp;"+o)}return n._lastToolDefinition=angular.copy(e),t(r)(n)};a.tools={},a._parent={disabled:!0,showHtml:!1,queryFormatBlockState:function(){return!1},queryCommandState:function(){return!1}};var c={$window:o,$editor:function(){return a._parent},isDisabled:function(){return"function"!=typeof this.$eval("disabled")&&this.$eval("disabled")||this.$eval("disabled()")||"html"!==this.name&&this.$editor().showHtml||this.$parent.disabled||this.$editor().disabled},displayActiveToolClass:function(t){return t?a.classes.toolbarButtonActive:""},executeAction:i};angular.forEach(a.toolbar,function(t){var e=angular.element("<div>");e.addClass(a.classes.toolbarGroup),angular.forEach(t,function(t){a.tools[t]=angular.extend(a.$new(!0),r[t],c,{name:t}),a.tools[t].$element=u(r[t],a.tools[t]),e.append(a.tools[t].$element)}),s.append(e)}),a.updateToolDisplay=function(t,e,n){var r=a.tools[t];if(r){if(r._lastToolDefinition&&!n&&(e=angular.extend({},r._lastToolDefinition,e)),null===e.buttontext&&null===e.iconclass&&null===e.display)throw'textAngular Error: Tool Definition for updating "'+t+'" does not have a valid display/iconclass/buttontext value';null===e.buttontext&&delete e.buttontext,null===e.iconclass&&delete e.iconclass,null===e.display&&delete e.display;var i=u(e,r);r.$element.replaceWith(i),r.$element=i}},a.addTool=function(t,e,n,i){a.tools[t]=angular.extend(a.$new(!0),r[t],c,{name:t}),a.tools[t].$element=u(r[t],a.tools[t]);var o;void 0===n&&(n=a.toolbar.length-1),o=angular.element(s.children()[n]),void 0===i?(o.append(a.tools[t].$element),a.toolbar[n][a.toolbar[n].length-1]=t):(o.children().eq(i).after(a.tools[t].$element),a.toolbar[n][i]=t)},e.registerToolbar(a),a.$on("$destroy",function(){e.unregisterToolbar(a.name)})}}}])}();var taTools={};angular.module("textAngularSetup",[]).constant("taRegisterTool",registerTextAngularTool).value("taTools",taTools).value("taOptions",{forceTextAngularSanitize:!0,keyMappings:[],toolbar:[["h1","h2","h3","h4","h5","h6","p","pre","quote"],["bold","italics","underline","strikeThrough","ul","ol","redo","undo","clear"],["justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent"],["html","insertImage","insertLink","insertVideo","wordcount","charcount"]],classes:{focussed:"focussed",toolbar:"btn-toolbar",toolbarGroup:"btn-group",toolbarButton:"btn btn-default",toolbarButtonActive:"active",disabled:"disabled",textEditor:"form-control",htmlEditor:"form-control"},defaultTagAttributes:{a:{target:""}},setup:{textEditorSetup:function(t){},htmlEditorSetup:function(t){}},defaultFileDropHandler:function(t,e){var n=new FileReader;return"image"===t.type.substring(0,5)&&(n.onload=function(){""!==n.result&&e("insertImage",n.result,!0)},n.readAsDataURL(t),!0)}}).value("taSelectableElements",["a","img"]).value("taCustomRenderers",[{selector:"img",customAttribute:"ta-insert-video",renderLogic:function(t){var e=angular.element("<iframe></iframe>"),n=t.prop("attributes");angular.forEach(n,function(t){e.attr(t.name,t.value)}),e.attr("src",e.attr("ta-insert-video")),t.replaceWith(e)}}]).value("taTranslations",{html:{tooltip:"Toggle html / Rich Text"},heading:{tooltip:"Heading "},p:{tooltip:"Paragraph"},pre:{tooltip:"Preformatted text"},ul:{tooltip:"Unordered List"},ol:{tooltip:"Ordered List"},quote:{tooltip:"Quote/unquote selection or paragraph"},undo:{tooltip:"Undo"},redo:{tooltip:"Redo"},bold:{tooltip:"Bold"},italic:{tooltip:"Italic"},underline:{tooltip:"Underline"},strikeThrough:{tooltip:"Strikethrough"},justifyLeft:{tooltip:"Align text left"},justifyRight:{tooltip:"Align text right"},justifyFull:{tooltip:"Justify text"},justifyCenter:{tooltip:"Center"},indent:{tooltip:"Increase indent"},outdent:{tooltip:"Decrease indent"},clear:{tooltip:"Clear formatting"},insertImage:{dialogPrompt:"Please enter an image URL to insert",tooltip:"Insert image",hotkey:"the - possibly language dependent hotkey ... for some future implementation"},insertVideo:{tooltip:"Insert video",dialogPrompt:"Please enter a youtube URL to embed"},insertLink:{tooltip:"Insert / edit link",dialogPrompt:"Please enter a URL to insert"},editLink:{reLinkButton:{tooltip:"Relink"},unLinkButton:{tooltip:"Unlink"},targetToggle:{buttontext:"Open in New Window"}},wordcount:{tooltip:"Display words Count"},charcount:{tooltip:"Display characters Count"}}).factory("taToolFunctions",["$window","taTranslations",function(t,e){return{imgOnSelectAction:function(t,e,n){var r=function(){n.updateTaBindtaTextElement(),n.hidePopover()};t.preventDefault(),n.displayElements.popover.css("width","375px");var i=n.displayElements.popoverContainer;i.empty();var o=angular.element('<div class="btn-group" style="padding-right: 6px;">'),a=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">100% </button>');a.on("click",function(t){t.preventDefault(),e.css({width:"100%",height:""}),r()});var s=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">50% </button>');s.on("click",function(t){t.preventDefault(),e.css({width:"50%",height:""}),r()});var l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">25% </button>');l.on("click",function(t){t.preventDefault(),e.css({width:"25%",height:""}),r()});var u=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">Reset</button>');u.on("click",function(t){t.preventDefault(),e.css({width:"",height:""}),r()}),o.append(a),o.append(s),o.append(l),o.append(u),i.append(o),o=angular.element('<div class="btn-group" style="padding-right: 6px;">');var c=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-left"></i></button>');c.on("click",function(t){t.preventDefault(),e.css("float","left"),e.css("cssFloat","left"),e.css("styleFloat","left"),r()});var d=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-right"></i></button>');d.on("click",function(t){t.preventDefault(),e.css("float","right"),e.css("cssFloat","right"),e.css("styleFloat","right"),r()});var h=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-justify"></i></button>');h.on("click",function(t){t.preventDefault(),e.css("float",""),e.css("cssFloat",""),e.css("styleFloat",""),r()}),o.append(c),o.append(h),o.append(d),i.append(o),o=angular.element('<div class="btn-group">');var f=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-trash-o"></i></button>');f.on("click",function(t){t.preventDefault(),e.remove(),r()}),o.append(f),i.append(o),n.showPopover(e),n.showResizeOverlay(e)},aOnSelectAction:function(n,r,i){n.preventDefault(),i.displayElements.popover.css("width","436px");var o=i.displayElements.popoverContainer;o.empty(),o.css("line-height","28px");var a=angular.element('<a href="'+r.attr("href")+'" target="_blank">'+r.attr("href")+"</a>");a.css({display:"inline-block","max-width":"200px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","vertical-align":"middle"}),o.append(a);var s=angular.element('<div class="btn-group pull-right">'),l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+e.editLink.reLinkButton.tooltip+'"><i class="fa fa-edit icon-edit"></i></button>');l.on("click",function(n){n.preventDefault();var o=t.prompt(e.insertLink.dialogPrompt,r.attr("href"));o&&""!==o&&"http://"!==o&&(r.attr("href",o),i.updateTaBindtaTextElement()),i.hidePopover()}),s.append(l);var u=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+e.editLink.unLinkButton.tooltip+'"><i class="fa fa-unlink icon-unlink"></i></button>');u.on("click",function(t){t.preventDefault(),r.replaceWith(r.contents()),i.updateTaBindtaTextElement(),i.hidePopover()}),s.append(u);var c=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on">'+e.editLink.targetToggle.buttontext+"</button>");"_blank"===r.attr("target")&&c.addClass("active"),c.on("click",function(t){t.preventDefault(),r.attr("target","_blank"===r.attr("target")?"":"_blank"),c.toggleClass("active"),i.updateTaBindtaTextElement()}),s.append(c),o.append(s),i.showPopover(r)},extractYoutubeVideoId:function(t){var e=/(?:youtube(?:-nocookie)?\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/i,n=t.match(e);return n&&n[1]||null}}}]).run(["taRegisterTool","$window","taTranslations","taSelection","taToolFunctions","$sanitize","taOptions",function(t,e,n,r,i,o,a){var s={};if(o("",s),!0===a.forceTextAngularSanitize&&"taSanitize"!==s.version)throw angular.$$minErr("textAngular")("textAngularSetup","The textAngular-sanitize provider has been replaced by another -- have you included angular-sanitize by mistake?");t("html",{iconclass:"fa fa-code",tooltiptext:n.html.tooltip,action:function(){this.$editor().switchView()},activeState:function(){return this.$editor().showHtml}});var l=function(t){return function(){return this.$editor().queryFormatBlockState(t)}},u=function(){return this.$editor().wrapSelection("formatBlock","<"+this.name.toUpperCase()+">")};angular.forEach(["h1","h2","h3","h4","h5","h6"],function(e){t(e.toLowerCase(),{buttontext:e.toUpperCase(),tooltiptext:n.heading.tooltip+e.charAt(1),action:u,activeState:l(e.toLowerCase())})}),t("p",{buttontext:"P",tooltiptext:n.p.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<P>")},activeState:function(){return this.$editor().queryFormatBlockState("p")}}),t("pre",{buttontext:"pre",tooltiptext:n.pre.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<PRE>")},activeState:function(){return this.$editor().queryFormatBlockState("pre")}}),t("ul",{iconclass:"fa fa-list-ul",tooltiptext:n.ul.tooltip,action:function(){return this.$editor().wrapSelection("insertUnorderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertUnorderedList")}}),t("ol",{iconclass:"fa fa-list-ol",tooltiptext:n.ol.tooltip,action:function(){return this.$editor().wrapSelection("insertOrderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertOrderedList")}}),t("quote",{iconclass:"fa fa-quote-right",tooltiptext:n.quote.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<BLOCKQUOTE>")},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")}}),t("undo",{iconclass:"fa fa-undo",tooltiptext:n.undo.tooltip,action:function(){return this.$editor().wrapSelection("undo",null)}}),t("redo",{iconclass:"fa fa-repeat",tooltiptext:n.redo.tooltip,action:function(){return this.$editor().wrapSelection("redo",null)}}),t("bold",{iconclass:"fa fa-bold",tooltiptext:n.bold.tooltip,action:function(){return this.$editor().wrapSelection("bold",null)},activeState:function(){return this.$editor().queryCommandState("bold")},commandKeyCode:98}),t("justifyLeft",{iconclass:"fa fa-align-left",tooltiptext:n.justifyLeft.tooltip,action:function(){return this.$editor().wrapSelection("justifyLeft",null)},activeState:function(t){if(t&&"#document"===t.nodeName)return!1;var e=!1;return t&&(e="left"===t.css("text-align")||"left"===t.attr("align")||"right"!==t.css("text-align")&&"center"!==t.css("text-align")&&"justify"!==t.css("text-align")&&!this.$editor().queryCommandState("justifyRight")&&!this.$editor().queryCommandState("justifyCenter")&&!this.$editor().queryCommandState("justifyFull")),e=e||this.$editor().queryCommandState("justifyLeft")}}),t("justifyRight",{iconclass:"fa fa-align-right",tooltiptext:n.justifyRight.tooltip,action:function(){return this.$editor().wrapSelection("justifyRight",null)},activeState:function(t){if(t&&"#document"===t.nodeName)return!1;var e=!1;return t&&(e="right"===t.css("text-align")),e=e||this.$editor().queryCommandState("justifyRight")}}),t("justifyFull",{iconclass:"fa fa-align-justify",tooltiptext:n.justifyFull.tooltip,action:function(){return this.$editor().wrapSelection("justifyFull",null)},activeState:function(t){var e=!1;return t&&(e="justify"===t.css("text-align")),e=e||this.$editor().queryCommandState("justifyFull")}}),t("justifyCenter",{iconclass:"fa fa-align-center",tooltiptext:n.justifyCenter.tooltip,action:function(){return this.$editor().wrapSelection("justifyCenter",null)},activeState:function(t){if(t&&"#document"===t.nodeName)return!1;var e=!1;return t&&(e="center"===t.css("text-align")),e=e||this.$editor().queryCommandState("justifyCenter")}}),t("indent",{iconclass:"fa fa-indent",tooltiptext:n.indent.tooltip,action:function(){return this.$editor().wrapSelection("indent",null)},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")},commandKeyCode:"TabKey"}),t("outdent",{iconclass:"fa fa-outdent",tooltiptext:n.outdent.tooltip,action:function(){return this.$editor().wrapSelection("outdent",null)},activeState:function(){return!1},commandKeyCode:"ShiftTabKey"}),t("italics",{iconclass:"fa fa-italic",tooltiptext:n.italic.tooltip,action:function(){return this.$editor().wrapSelection("italic",null)},activeState:function(){return this.$editor().queryCommandState("italic")},commandKeyCode:105}),t("underline",{iconclass:"fa fa-underline",tooltiptext:n.underline.tooltip,action:function(){return this.$editor().wrapSelection("underline",null)},activeState:function(){return this.$editor().queryCommandState("underline")},commandKeyCode:117}),t("strikeThrough",{iconclass:"fa fa-strikethrough",tooltiptext:n.strikeThrough.tooltip,action:function(){return this.$editor().wrapSelection("strikeThrough",null)},activeState:function(){return document.queryCommandState("strikeThrough")}}),t("clear",{iconclass:"fa fa-ban",tooltiptext:n.clear.tooltip,action:function(t,e){var n;this.$editor().wrapSelection("removeFormat",null);var i=angular.element(r.getSelectionElement()),o=function(t){var e=t=angular.element(t);angular.forEach(t.children(),function(t){var n=angular.element("<p></p>");n.html(angular.element(t).html()),e.after(n),e=n}),t.remove()};if(angular.forEach(i.find("ul"),o),angular.forEach(i.find("ol"),o),"li"===i[0].tagName.toLowerCase()){var a=i[0].parentNode.childNodes,s=[],l=[],u=!1;for(n=0;n<a.length;n++)a[n]===i[0]?u=!0:u?l.push(a[n]):s.push(a[n]);var c=angular.element(i[0].parentNode),d=angular.element("<p></p>");if(d.html(angular.element(i[0]).html()),0===s.length||0===l.length)0===l.length?c.after(d):c[0].parentNode.insertBefore(d[0],c[0]),0===s.length&&0===l.length?c.remove():angular.element(i[0]).remove();else{var h=angular.element("<"+c[0].tagName+"></"+c[0].tagName+">"),f=angular.element("<"+c[0].tagName+"></"+c[0].tagName+">");for(n=0;n<s.length;n++)h.append(angular.element(s[n]));for(n=0;n<l.length;n++)f.append(angular.element(l[n]));c.after(f),c.after(d),c.after(h),c.remove()}r.setSelectionToElementEnd(d[0])}var p=this.$editor(),g=function(t){(t=angular.element(t))[0]!==p.displayElements.text[0]&&t.removeAttr("class"),angular.forEach(t.children(),g)};angular.forEach(i,g),"li"!==i[0].tagName.toLowerCase()&&"ol"!==i[0].tagName.toLowerCase()&&"ul"!==i[0].tagName.toLowerCase()&&this.$editor().wrapSelection("formatBlock","default"),e()}}),t("insertImage",{iconclass:"fa fa-picture-o",tooltiptext:n.insertImage.tooltip,action:function(){var t;if((t=e.prompt(n.insertImage.dialogPrompt,"http://"))&&""!==t&&"http://"!==t)return this.$editor().wrapSelection("insertImage",t,!0)},onElementSelect:{element:"img",action:i.imgOnSelectAction}}),t("insertVideo",{iconclass:"fa fa-youtube-play",tooltiptext:n.insertVideo.tooltip,action:function(){var t;if((t=e.prompt(n.insertVideo.dialogPrompt,"https://"))&&""!==t&&"https://"!==t&&(videoId=i.extractYoutubeVideoId(t),videoId)){var r="https://www.youtube.com/embed/"+videoId,o='<img class="ta-insert-video" src="https://img.youtube.com/vi/'+videoId+'/hqdefault.jpg" ta-insert-video="'+r+'" contenteditable="false" allowfullscreen="true" frameborder="0" />';return this.$editor().wrapSelection("insertHTML",o,!0)}},onElementSelect:{element:"img",onlyWithAttrs:["ta-insert-video"],action:i.imgOnSelectAction}}),t("insertLink",{tooltiptext:n.insertLink.tooltip,iconclass:"fa fa-link",action:function(){var t;if((t=e.prompt(n.insertLink.dialogPrompt,"http://"))&&""!==t&&"http://"!==t)return this.$editor().wrapSelection("createLink",t,!0)},activeState:function(t){return!!t&&"A"===t[0].tagName},onElementSelect:{element:"a",action:i.aOnSelectAction}}),t("wordcount",{display:'<div id="toolbarWC" style="display:block; min-width:100px;">Words: <span ng-bind="wordcount"></span></div>',disabled:!0,wordcount:0,activeState:function(){var t=this.$editor().displayElements.text[0].innerHTML||"",e=0;return""!==t.replace(/\s*<[^>]*?>\s*/g,"")&&(e=t.replace(/<\/?(b|i|em|strong|span|u|strikethrough|a|img|small|sub|sup|label)( [^>*?])?>/gi,"").replace(/(<[^>]*?>\s*<[^>]*?>)/gi," ").replace(/(<[^>]*?>)/gi,"").replace(/\s+/gi," ").match(/\S+/g).length),this.wordcount=e,this.$editor().wordcount=e,!1}}),t("charcount",{display:'<div id="toolbarCC" style="display:block; min-width:120px;">Characters: <span ng-bind="charcount"></span></div>',disabled:!0,charcount:0,activeState:function(){var t=this.$editor().displayElements.text,e=(t[0].innerText||t[0].textContent).replace(/(\r\n|\n|\r)/gm,"").replace(/^\s+/g," ").replace(/\s+$/g," ").length;return this.charcount=e,this.$editor().charcount=e,!1}})}]),angular.module("acute.select",["angularUUID2"]).factory("AcuteSelectService",function(){function t(t,n){e.hasOwnProperty(t)&&(e[t]=n)}var e={templatePath:"/acute.select/template",noItemsText:"No items found.",placeholderText:"Please select...",itemHeight:24,itemsInView:10,pageSize:null,minWidth:"100px",maxWidth:"",showSearchBox:!0,comboMode:!1,comboSelectOnFocus:!0,loadOnCreate:!0,loadOnOpen:!1,allowCustomText:!1,minSearchLength:0,filterType:"contains",showFilterOptions:!1,allowClear:!0,debug:!1,positionAbsolute:!1};return{getSettings:function(){var t=e.templatePath.length;return t>0&&"/"!==e.templatePath.substr(t-1,1)&&(e.templatePath+="/"),angular.copy(e)},updateSetting:function(e,n){t(e,n)},updateSettings:function(e){for(name in e)t(name,e[name])}}}).directive("acSelect",["$parse","AcuteSelectService","uuid2",function(t,e,n){return{restrict:"EAC",scope:{acSettings:"@",acOptions:"@",model:"=acModel",acChange:"&",keyField:"@acKey",acRefresh:"=",acFocusWhen:"=",id:"@"},replace:!0,templateUrl:e.getSettings().templatePath+"acute.select.htm",link:function(t,e,r){t.directiveID=n.newuuid(),t.initialise()},controller:"AcSelectController"}}]).controller("AcSelectController",["$scope","$element","$window","$rootScope","$timeout","$filter","navKey","safeApply","AcuteSelectService",function(t,e,n,r,i,o,a,s,l){function u(){t.settings.comboMode?t.comboFocus=!0:t.searchBoxFocus=!0}function c(){if(t.acSettings){var e=t.$eval(t.acSettings);"object"==typeof e&&angular.extend(t.settings,e)}if(t.longestText=t.settings.placeholderText,t.maxTextWidth="",t.settings.maxWidth){var n=parseInt(t.settings.maxWidth);t.maxCharacters=Math.round(n/6),t.maxTextWidth=n-100+"px"}var r=t.settings.positionAbsolute?"static":"absolute";if(t.popupStyles={minWidth:t.settings.minWidth,position:r},t.settings.showFilterOptions){var i=parseInt(t.settings.minWidth);(isNaN(i)||i<220)&&(t.settings.minWidth="220px")}}function d(){if(t.noItemsFound=0===t.items.length,t.showAddMessage=!1,t.noItemsFound&&(t.selectedItem=null),t.settings.comboMode&&t.comboText&&t.settings.allowCustomText){var e=t.selectedItem?t.selectedItem.text:"";t.comboText!=e&&(t.showAddMessage=!0)}}function h(e){var n,r,i;if(e.keyCode)for(n=String.fromCharCode(e.keyCode),r=0;r<t.items.length;r++)(i=t.items[r]).text.length>0&&i.text.substr(0,1).toUpperCase()===n&&(t.selectedItem=i)}function f(e,n){t.selectedItem=e;t.confirmedItem;var r=!1;t.selectedItem?(t.confirmedItem=angular.copy(t.selectedItem),t.modelUpdating=!0,t.model=t.selectedItem.value,t.comboText=t.selectedItem.text,r=!0):g()&&(r=!0),t.popupVisible&&p(),t.initialSelection=null,t.initialItem,t.popupVisible&&(r||n)&&(t.popupVisible=!1,t.wrapperFocus=!0,E&&!t.allDataLoaded||t.settings.comboMode||(t.searchText="",$()))}function p(){"function"==typeof t.acChange&&t.acChange({value:t.selectedItem?t.selectedItem.value:null})}function g(){var e,n,r,i=!1;return t.settings.allowCustomText&&t.showAddMessage&&(e=t.settings.comboMode?t.comboText:t.searchText,r=t.selectedItem?t.selectedItem.text:"",e.length>0&&e!==r&&((n={})[t.textField]=e,t.keyField&&(n[t.keyField]=e),t.modelUpdating=!0,t.model=n,t.confirmedItem=t.selectedItem={text:e,value:n,index:-1},t.items.push(t.selectedItem),t.allItems.push(t.selectedItem),i=!0)),i}function m(){t.popupVisible&&f(t.selectedItem)}function v(){if(t.items.length>0){if(t.selectedItem){var e=t.selectedItem.index+1;if(e<t.items.length){var n=t.items[e];t.selectedItem=n,M(t.selectedItem),!0}else t.settings.pageSize&&t.items.length>=t.settings.pageSize&&(t.requestedItemIndex=e,t.scrollTo+=t.settings.itemHeight,t.loadMore())}else t.selectedItem=t.items[0],!0}}function y(){if(t.items.length>0)if(t.selectedItem){var e=t.items[t.selectedItem.index-1];e&&(t.selectedItem=e,M(t.selectedItem))}else t.settings.comboMode?t.comboFocus=!0:t.searchBoxFocus=!0}function b(){if(t.items.length>0&&t.selectedItem){var e=t.selectedItem.index-t.settings.itemsInView;e<0&&(e=0);var n=t.items[e];n&&(t.selectedItem=n,M(t.selectedItem))}}function x(){var e;if(t.items.length>0){(e=t.selectedItem?t.selectedItem.index+t.settings.itemsInView:t.settings.itemsInView-1)>=t.items.length&&t.allDataLoaded&&(e=t.items.length-1);var n=t.items[e];n&&(t.selectedItem=n,M(t.selectedItem))}}function _(){if(t.items.length>0){t.selectedItem=t.items[t.items.length-1];var e=t.settings.itemHeight*t.items.length;t.scrollTo=e-t.listHeight}}function w(){t.items.length>0&&(t.selectedItem=t.items[0],t.scrollTo=0)}function C(){t.selectedItem=t.confirmedItem,f(t.selectedItem,!0)}function k(e){t.settings.allowClear&&(angular.element(e.target).hasClass("ac-select-text")?e.stopPropagation():S())}function S(){var e=t.confirmedItem;t.selectedItem=null,t.confirmedItem=null,t.modelUpdating=!0,t.model=null,t.initialSelection=null,t.scrollTo=0,t.comboText="",null!==e&&p()}function M(e){var n=t.settings.itemHeight,r=n*e.index;r+n>t.listHeight+t.scrollPosition?t.scrollTo=r+n-t.listHeight:r<t.scrollPosition&&(t.scrollTo=r)}function T(){var e,n=!1;if(t.searchText.length>0)for(e=0;e<t.items.length;e++)if(t.searchText.toLowerCase()===t.items[e].text.toLowerCase()){t.selectedItem=t.items[e],t.searchText=t.comboText=t.selectedItem.text,n=!0;break}return n}function $(){(null===t.dataFunction||t.allDataLoaded)&&(t.items=t.allItems,t.setListHeight())}function D(t,e){var n=t.target;if(n){for(var r=!1,i=0;i<10&&n&&!r;i++)angular.element(n).hasClass("ac-select-wrapper")?r=!0:n=n.parentElement;r||e()}}var E=!1;t.$on("acute.select.event.refresh",function(e,n){t.initialise()}),t.initialise=function(){if(t.settings=l.getSettings(),t.previousSearchText="",t.searchText="",t.longestText="",t.comboText="",t.items=[],t.allItems=[],t.selectedItem=null,t.allDataLoaded=!1,t.scrollTo=0,t.scrollPosition=0,t.listHeight=0,t.matchFound=!1,!t.acOptions||void 0===t.model)throw"ac-options and ac-model attributes must be set";c();var e=t.acOptions.split(" "),n=e.length;if(t.textField=null,t.dataFunction=null,t.setInitialSelection(),n>3){if(n>4){var r=e[n-5];t.textField=r.split(".")[1]}var i=e[n-1];if(i.indexOf("()")===i.length-2){i=i.substr(0,i.length-2);var o=t.$parent.$eval(i);if("function"!=typeof o)throw"Invalid data function: "+i;t.dataFunction=o,E=t.dataFunction.length>=2,t.settings.loadOnCreate&&t.dataFunction(t.dataCallback,"",0,t.settings.filterType)}else{var a=t.$parent.$eval(i);t.loadItems(a,t.model),t.confirmedItem=angular.copy(t.selectedItem),t.allDataLoaded=!0}}},t.filterTypeChange=function(){E&&(t.allDataLoaded=!1),t.filterData(),u()},void 0!==t.acRefresh&&t.$watch("acRefresh",function(e,n){!0===e&&e!==n&&t.initialise()}),void 0!==t.acFocusWhen&&t.$watch("acFocusWhen",function(e,n){!0===e&&e!==n&&(t.acFocusWhen=!1,u())}),t.setInitialSelection=function(){t.model&&(t.initialSelection=angular.copy(t.model),t.initialItem=t.getItemFromDataItem(t.model,0),t.confirmedItem=t.selectedItem=t.initialItem,t.comboText=t.confirmedItem?t.confirmedItem.text:"")},t.loadItems=function(e,n){var r,i,o,a=t.keyField;if(angular.isArray(e)){var s=!1;r=t.items.length,angular.forEach(e,function(e,l){i=r+l,(o=t.getItemFromDataItem(e,i))&&(t.items.push(o),t.searchText?t.searchText.toLowerCase()===o.text.toLowerCase()&&(t.selectedItem=o):(e===n||a&&n&&e[a]==n[a])&&(f(o),s=!0),o.text.length>t.longestText.length&&(t.maxCharacters&&o.text.length>t.maxCharacters?t.longestText=o.text.substr(0,t.maxCharacters):t.longestText=o.text))}),t.searchText||!t.initialSelection||s||(o=t.getItemFromDataItem(t.initialSelection,0))&&(t.items.unshift(o),angular.forEach(t.items,function(t,e){t.index=e}),f(o)),t.searchText||angular.copy(t.items,t.allItems),t.setListHeight(),d(t.items)}},t.getItemFromDataItem=function(e,n){var r=null;return null!==e&&(null===t.textField&&"string"==typeof e?r={text:e,value:e,index:n}:e[t.textField]&&(r={text:e[t.textField],value:e,index:n})),r},t.setListHeight=function(){var e=t.items.length;e>t.settings.itemsInView&&(e=t.settings.itemsInView),t.listHeight=t.settings.itemHeight*e},t.$watch("model",function(e,n){e!=n&&(t.modelUpdating?t.modelUpdating=!1:(e||n)&&(e&&!n?t.setInitialSelection():n&&!e?t.setInitialSelection():t.textField&&e[t.textField]===n[t.textField]||t.setInitialSelection()))}),t.selectedItem&&(t.comboText=t.selectedItem.text),n.onclick=function(e){D(e,function(){t.sentBroadcast=!1,r.$broadcast("ac-select-close-all")})},t.keyHandler=function(e){t.settings.showSearchBox||h(e);var n=e.which||e.keyCode;if(n===a.downArrow&&(t.popupVisible=!0),n===a.leftArrow||n===a.rightArrow)e.stopPropagation();else if(t.popupVisible||n===a.del){var r=!0;switch(n){case a.downArrow:v();break;case a.upArrow:y();break;case a.enter:m();break;case a.end:_();break;case a.home:w();break;case a.escape:C();break;case a.del:k(e);break;case a.pageUp:b();break;case a.pageDown:x();break;default:r=!1}r&&e.stopPropagation()}},t.comboKeyHandler=function(t){(t.which||t.keyCode)===a.enter&&g()&&f(null)},t.dataCallback=function(e,n,r){if(void 0===n||n===t.searchText){var i=null;t.dataItems=e,i=null!==t.selectedItem?t.selectedItem.value:t.model,r&&0!=r||(t.items=[]),t.loadItems(e,i),t.settings.pageSize?(t.allDataLoaded=e.length<t.settings.pageSize,t.requestedItemIndex&&(t.requestedItemIndex<t.items.length&&(t.selectedItem=t.items[t.requestedItemIndex],M(t.selectedItem)),t.requestedItemIndex=null)):(t.allDataLoaded=!0,t.settings.loadOnOpen=!1),t.allDataLoaded&&(t.previousSearchText=t.searchText),t.loading=!1,t.loadMessage="Load more..."}},t.comboTextChange=function(){r.$broadcast("acute.select.event.text.changed",{text:t.comboText}),t.popupVisible=!0,t.ensureDataLoaded(),t.searchText=t.comboText,""==t.comboText&&t.settings.allowClear&&S(),t.filterData()},t.togglePopup=function(){t.popupVisible=!t.popupVisible,t.popupVisible&&(i(t.settings.comboMode?function(){t.comboFocus=!0}:function(){t.searchBoxFocus=!0}),t.ensureDataLoaded(),$())},t.ensureDataLoaded=function(){!t.allDataLoaded&&t.dataFunction&&t.settings.loadOnOpen&&t.dataFunction(t.dataCallback,"",0,t.settings.filterType)},t.mainClick=function(){t.sentBroadcast=!0,r.$broadcast("ac-select-close-all")},t.$on("ac-select-close-all",function(){!t.sentBroadcast&&t.popupVisible?(t.popupVisible=!1,s(t),!t.settings.allowClear&&t.settings.comboMode&&t.selectedItem&&(t.comboText=t.confirmedItem.text)):t.sentBroadcast=!1}),t.itemClick=function(e){f(t.items[e])},t.getItemClass=function(e){return t.selectedItem&&t.items[e].value===t.selectedItem.value?"ac-select-highlight":""},t.addButtonClick=function(){g()&&f(null)},t.listScrolled=function(e){t.scrollPosition=e,t.settings.pageSize&&e>t.items.length*t.settings.itemHeight-t.listHeight&&t.loadMore()},t.loadMore=function(){if(!t.loading){t.loading=!0,t.loadMessage="Loading...";var e=t.items.length;t.dataFunction(t.dataCallback,t.searchText,e,t.settings.filterType)}},t.filterData=function(){var e=t.allItems.length;if(E&&(""===t.searchText||t.settings.pageSize&&(e>=t.settings.pageSize||0===e))&&(t.allDataLoaded=!1),t.allDataLoaded){var n=t.allItems;t.previousSearchText&&-1!=t.searchText.indexOf(t.previousSearchText)&&(n=t.items),"contains"==t.settings.filterType?t.items=o("filter")(n,function(e){return e.text.toLowerCase().indexOf(t.searchText.toLowerCase())>-1}):t.items=o("filter")(n,function(e){return e.text.substr(0,t.searchText.length).toLowerCase()===t.searchText.toLowerCase()}),angular.forEach(t.items,function(t,e){t.index=e}),d()}else E?(t.searchText.length>=t.settings.minSearchLength||""==t.searchText)&&t.dataFunction(t.dataCallback,t.searchText,0,t.settings.filterType):""===t.searchText&&$();1===t.items.length&&-1===t.previousSearchText.indexOf(t.searchText)?(t.matchFound=!0,t.selectedItem=t.items[0]):(t.matchFound=T(),t.matchFound&&(t.showAddMessage=!1)),t.previousSearchText=t.searchText,t.setListHeight()}}]).directive("acFocus",["$timeout","$parse","safeApply",function(t,e,n){return{restrict:"A",link:function(r,i,o){var a=e(o.acFocus);r.$watch(a,function(e,n){!0===e&&e!=n&&t(function(){i[0].focus()},100)}),i.bind("blur",function(){n(r,function(){a.assign(r,!1)})})}}}]).directive("acSelectOnFocus",function(){return{restrict:"A",scope:{acSelectOnFocus:"="},link:function(t,e,n){e.bind("focus",function(){!1!==t.acSelectOnFocus&&"false"!==t.acSelectOnFocus&&e[0].select()})}}}).directive("acScrollTo",function(){return{restrict:"A",scope:!1,controller:"AcScrollToController"}}).controller("AcScrollToController",["$scope","$element","$attrs",function(t,e,n){var r=n.acScrollTo;t.$watch(r,function(n,i){if(n!=i){var o=t.$eval(r);angular.element(e)[0].scrollTop=o}})}]).directive("acOnScroll",function(){return{restrict:"A",link:function(t,e,n){var r=n.acOnScroll;r.indexOf("()")===r.length-2&&(r=r.substr(0,r.length-2));var i=t[r];"function"==typeof i&&e.bind("scroll",function(){i(e[0].scrollTop)})}}}).factory("navKey",function(){return{backspace:8,tab:9,enter:13,escape:27,pageUp:33,pageDown:34,end:35,home:36,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40,del:46}}).factory("safeApply",[function(t){return function(t,e){var n=t.$root.$$phase;"$apply"==n||"$digest"==n?e&&t.$eval(e):e?t.$apply(e):t.$apply()}}]),angular.module("xeditable",[]).value("editableOptions",{theme:"default",buttons:"right",blurElem:"cancel",blurForm:"ignore",activate:"focus"}),angular.module("xeditable").directive("editableBsdate",["editableDirectiveFactory",function(t){return t({directiveName:"editableBsdate",inputTpl:'<input type="text">'})}]),angular.module("xeditable").directive("editableBstime",["editableDirectiveFactory",function(t){return t({directiveName:"editableBstime",inputTpl:"<timepicker></timepicker>",render:function(){this.parent.render.call(this);var t=angular.element('<div class="well well-small" style="display:inline-block;"></div>');t.attr("ng-model",this.inputEl.attr("ng-model")),this.inputEl.removeAttr("ng-model"),this.attrs.eNgChange&&(t.attr("ng-change",this.inputEl.attr("ng-change")),this.inputEl.removeAttr("ng-change")),this.inputEl.wrap(t)}})}]),angular.module("xeditable").directive("editableCheckbox",["editableDirectiveFactory",function(t){return t({directiveName:"editableCheckbox",inputTpl:'<input type="checkbox">',render:function(){this.parent.render.call(this),this.attrs.eTitle&&(this.inputEl.wrap("<label></label>"),this.inputEl.after(angular.element("<span></span>").text(this.attrs.eTitle)))},autosubmit:function(){var t=this;t.inputEl.bind("change",function(){setTimeout(function(){t.scope.$apply(function(){t.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableChecklist",["editableDirectiveFactory","editableNgOptionsParser",function(t,e){return t({directiveName:"editableChecklist",inputTpl:"<span></span>",useCopy:!0,render:function(){this.parent.render.call(this);var t=e(this.attrs.eNgOptions),n='<label ng-repeat="'+t.ngRepeat+'"><input type="checkbox" checklist-model="$parent.$data" checklist-value="'+t.locals.valueFn+'"><span ng-bind="'+t.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.html(n)}})}]),function(){var t="text|email|tel|number|url|search|color|date|datetime|time|month|week".split("|");angular.forEach(t,function(t){var e="editable"+t.charAt(0).toUpperCase()+t.slice(1);angular.module("xeditable").directive(e,["editableDirectiveFactory",function(n){return n({directiveName:e,inputTpl:'<input type="'+t+'">'})}])}),angular.module("xeditable").directive("editableRange",["editableDirectiveFactory",function(t){return t({directiveName:"editableRange",inputTpl:'<input type="range" id="range" name="range">',render:function(){this.parent.render.call(this),this.inputEl.after("<output>{{$data}}</output>")}})}])}(),angular.module("xeditable").directive("editableRadiolist",["editableDirectiveFactory","editableNgOptionsParser",function(t,e){return t({directiveName:"editableRadiolist",inputTpl:"<span></span>",render:function(){this.parent.render.call(this);var t=e(this.attrs.eNgOptions),n='<label ng-repeat="'+t.ngRepeat+'"><input type="radio" ng-model="$parent.$data" value="{{'+t.locals.valueFn+'}}"><span ng-bind="'+t.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.html(n)},autosubmit:function(){var t=this;t.inputEl.bind("change",function(){setTimeout(function(){t.scope.$apply(function(){t.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableSelect",["editableDirectiveFactory",function(t){return t({directiveName:"editableSelect",inputTpl:"<select></select>",autosubmit:function(){var t=this;t.inputEl.bind("change",function(){t.scope.$apply(function(){t.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableTextarea",["editableDirectiveFactory",function(t){return t({directiveName:"editableTextarea",inputTpl:"<textarea></textarea>",addListeners:function(){var t=this;t.parent.addListeners.call(t),t.single&&"no"!==t.buttons&&t.autosubmit()},autosubmit:function(){var t=this;t.inputEl.bind("keydown",function(e){(e.ctrlKey||e.metaKey)&&13===e.keyCode&&t.scope.$apply(function(){t.scope.$form.$submit()})})}})}]),angular.module("xeditable").factory("editableController",["$q","editableUtils",function(t,e){function n(t,n,r,i,o,a,s,l,u){var c,d,h=this;h.scope=t,h.elem=r,h.attrs=n,h.inputEl=null,h.editorEl=null,h.single=!0,h.error="",h.theme=o[a.theme]||o.default,h.parent={},h.inputTpl="",h.directiveName="",h.useCopy=!1,h.single=null,h.buttons="right",h.init=function(e){if(h.single=e,h.name=n.eName||n[h.directiveName],!n[h.directiveName])throw"You should provide value for `"+h.directiveName+"` in editable element!";c=i(n[h.directiveName]),h.buttons=h.single?h.attrs.buttons||a.buttons:"no",n.eName&&h.scope.$watch("$data",function(t){h.scope.$form.$data[n.eName]=t}),n.onshow&&(h.onshow=function(){return h.catchError(i(n.onshow)(t))}),n.onhide&&(h.onhide=function(){return i(n.onhide)(t)}),n.oncancel&&(h.oncancel=function(){return i(n.oncancel)(t)}),n.onbeforesave&&(h.onbeforesave=function(){return h.catchError(i(n.onbeforesave)(t))}),n.onaftersave&&(h.onaftersave=function(){return h.catchError(i(n.onaftersave)(t))}),t.$parent.$watch(n[h.directiveName],function(){h.handleEmpty()})},h.render=function(){var t=h.theme;h.inputEl=angular.element(h.inputTpl),h.controlsEl=angular.element(t.controlsTpl),h.controlsEl.append(h.inputEl),"no"!==h.buttons&&(h.buttonsEl=angular.element(t.buttonsTpl),h.submitEl=angular.element(t.submitTpl),h.cancelEl=angular.element(t.cancelTpl),h.buttonsEl.append(h.submitEl).append(h.cancelEl),h.controlsEl.append(h.buttonsEl),h.inputEl.addClass("editable-has-buttons")),h.errorEl=angular.element(t.errorTpl),h.controlsEl.append(h.errorEl),h.editorEl=angular.element(h.single?t.formTpl:t.noformTpl),h.editorEl.append(h.controlsEl);for(var r in n.$attr)if(!(r.length<=1)){var i=!1,o=r.substring(1,2);if("e"===r.substring(0,1)&&o===o.toUpperCase()&&"Form"!==(i=r.substring(1))&&"NgSubmit"!==i){i=i.substring(0,1).toLowerCase()+e.camelToDash(i.substring(1));var s=""===n[r]?i:n[r];h.inputEl.attr(i,s)}}h.inputEl.addClass("editable-input"),h.inputEl.attr("ng-model","$data"),h.editorEl.addClass(e.camelToDash(h.directiveName)),h.single&&(h.editorEl.attr("editable-form","$form"),h.editorEl.attr("blur",h.attrs.blur||("no"===h.buttons?"cancel":a.blurElem))),angular.isFunction(t.postrender)&&t.postrender.call(h)},h.setLocalValue=function(){h.scope.$data=h.useCopy?angular.copy(c(t.$parent)):c(t.$parent)},h.show=function(){return h.setLocalValue(),h.render(),r.after(h.editorEl),l(h.editorEl)(t),h.addListeners(),r.addClass("editable-hide"),h.onshow()},h.hide=function(){return h.editorEl.remove(),r.removeClass("editable-hide"),h.onhide()},h.cancel=function(){h.oncancel()},h.addListeners=function(){h.inputEl.bind("keyup",function(t){if(h.single)switch(t.keyCode){case 27:h.scope.$apply(function(){h.scope.$form.$cancel()})}}),h.single&&"no"===h.buttons&&h.autosubmit(),h.editorEl.bind("click",function(t){1===t.which&&h.scope.$form.$visible&&(h.scope.$form._clicked=!0)})},h.setWaiting=function(t){t?(d=!h.inputEl.attr("disabled")&&!h.inputEl.attr("ng-disabled")&&!h.inputEl.attr("ng-enabled"))&&(h.inputEl.attr("disabled","disabled"),h.buttonsEl&&h.buttonsEl.find("button").attr("disabled","disabled")):d&&(h.inputEl.removeAttr("disabled"),h.buttonsEl&&h.buttonsEl.find("button").removeAttr("disabled"))},h.activate=function(){setTimeout(function(){var t=h.inputEl[0];"focus"===a.activate&&t.focus&&t.focus(),"select"===a.activate&&t.select&&t.select()},0)},h.setError=function(e){angular.isObject(e)||(t.$error=e,h.error=e)},h.catchError=function(t,e){return angular.isObject(t)&&!0!==e?u.when(t).then(angular.bind(this,function(t){this.catchError(t,!0)}),angular.bind(this,function(t){this.catchError(t,!0)})):e&&angular.isObject(t)&&t.status&&200!==t.status&&t.data&&angular.isString(t.data)?(this.setError(t.data),t=t.data):angular.isString(t)&&this.setError(t),t},h.save=function(){c.assign(t.$parent,angular.copy(h.scope.$data))},h.handleEmpty=function(){var e=c(t.$parent),n=null===e||void 0===e||""===e||angular.isArray(e)&&0===e.length;r.toggleClass("editable-empty",n)},h.autosubmit=angular.noop,h.onshow=angular.noop,h.onhide=angular.noop,h.oncancel=angular.noop,h.onbeforesave=angular.noop,h.onaftersave=angular.noop}return n.$inject=["$scope","$attrs","$element","$parse","editableThemes","editableOptions","$rootScope","$compile","$q"],n}]),angular.module("xeditable").factory("editableDirectiveFactory",["$parse","$compile","editableThemes","$rootScope","$document","editableController","editableFormController",function(t,e,n,r,i,o,a){return function(e){return{restrict:"A",scope:!0,require:[e.directiveName,"?^form"],controller:o,link:function(n,o,s,l){var u,c=l[0],d=!1;if(l[1])u=l[1],d=!0;else if(s.eForm){var h=t(s.eForm)(n);if(h)u=h,d=!0;else for(var f=0;f<i[0].forms.length;f++)if(i[0].forms[f].name===s.eForm){u=null,d=!0;break}}if(angular.forEach(e,function(t,e){void 0!==c[e]&&(c.parent[e]=c[e])}),angular.extend(c,e),c.init(!d),n.$editable=c,o.addClass("editable"),d)if(u){if(n.$form=u,!n.$form.$addEditable)throw"Form with editable elements should have `editable-form` attribute.";n.$form.$addEditable(c)}else r.$$editableBuffer=r.$$editableBuffer||{},r.$$editableBuffer[s.eForm]=r.$$editableBuffer[s.eForm]||[],r.$$editableBuffer[s.eForm].push(c),n.$form=null;else n.$form=a(),n.$form.$addEditable(c),s.eForm&&(n.$parent[s.eForm]=n.$form),s.eForm||(o.addClass("editable-click"),o.bind("click",function(t){t.preventDefault(),t.editable=c,n.$apply(function(){n.$form.$show()})}))}}}}]),angular.module("xeditable").factory("editableFormController",["$parse","$document","$rootScope","editablePromiseCollection","editableUtils",function(t,e,n,r,i){var o=[];e.bind("click",function(t){if(1===t.which){for(var e=[],r=[],i=0;i<o.length;i++)o[i]._clicked?o[i]._clicked=!1:o[i].$waiting||("cancel"===o[i]._blur&&e.push(o[i]),"submit"===o[i]._blur&&r.push(o[i]));(e.length||r.length)&&n.$apply(function(){angular.forEach(e,function(t){t.$cancel()}),angular.forEach(r,function(t){t.$submit()})})}});var a={$addEditable:function(t){this.$editables.push(t),t.elem.bind("$destroy",angular.bind(this,this.$removeEditable,t)),t.scope.$form||(t.scope.$form=this),this.$visible&&t.catchError(t.show())},$removeEditable:function(t){for(var e=0;e<this.$editables.length;e++)if(this.$editables[e]===t)return void this.$editables.splice(e,1)},$show:function(){if(!this.$visible){this.$visible=!0;var t=r();t.when(this.$onshow()),this.$setError(null,""),angular.forEach(this.$editables,function(e){t.when(e.show())}),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$activate),onFalse:angular.bind(this,this.$activate),onString:angular.bind(this,this.$activate)}),setTimeout(angular.bind(this,function(){this._clicked=!1,-1===i.indexOf(o,this)&&o.push(this)}),0)}},$activate:function(t){var e;if(this.$editables.length){if(angular.isString(t))for(e=0;e<this.$editables.length;e++)if(this.$editables[e].name===t)return void this.$editables[e].activate();for(e=0;e<this.$editables.length;e++)if(this.$editables[e].error)return void this.$editables[e].activate();this.$editables[0].activate()}},$hide:function(){this.$visible&&(this.$visible=!1,this.$onhide(),angular.forEach(this.$editables,function(t){t.hide()}),i.arrayRemove(o,this))},$cancel:function(){this.$visible&&(this.$oncancel(),angular.forEach(this.$editables,function(t){t.cancel()}),this.$hide())},$setWaiting:function(t){this.$waiting=!!t,angular.forEach(this.$editables,function(e){e.setWaiting(!!t)})},$setError:function(t,e){angular.forEach(this.$editables,function(n){t&&n.name!==t||n.setError(e)})},$submit:function(){function t(t){var e=r();e.when(this.$onbeforesave()),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:t?angular.bind(this,this.$save):angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})}if(!this.$waiting){this.$setError(null,"");var e=r();angular.forEach(this.$editables,function(t){e.when(t.onbeforesave())}),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,t,!0),onFalse:angular.bind(this,t,!1),onString:angular.bind(this,this.$activate)})}},$save:function(){angular.forEach(this.$editables,function(t){t.save()});var t=r();t.when(this.$onaftersave()),angular.forEach(this.$editables,function(e){t.when(e.onaftersave())}),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})},$onshow:angular.noop,$oncancel:angular.noop,$onhide:angular.noop,$onbeforesave:angular.noop,$onaftersave:angular.noop};return function(){return angular.extend({$editables:[],$visible:!1,$waiting:!1,$data:{},_clicked:!1,_blur:null},a)}}]),angular.module("xeditable").directive("editableForm",["$rootScope","$parse","editableFormController","editableOptions",function(t,e,n,r){return{restrict:"A",require:["form"],compile:function(){return{pre:function(e,r,i,o){var a,s=o[0];i.editableForm?e[i.editableForm]&&e[i.editableForm].$show?(a=e[i.editableForm],angular.extend(s,a)):(a=n(),e[i.editableForm]=a,angular.extend(a,s)):(a=n(),angular.extend(s,a));var l=t.$$editableBuffer,u=s.$name;u&&l&&l[u]&&(angular.forEach(l[u],function(t){a.$addEditable(t)}),delete l[u])},post:function(t,n,i,o){var a;a=i.editableForm&&t[i.editableForm]&&t[i.editableForm].$show?t[i.editableForm]:o[0],i.onshow&&(a.$onshow=angular.bind(a,e(i.onshow),t)),i.onhide&&(a.$onhide=angular.bind(a,e(i.onhide),t)),i.oncancel&&(a.$oncancel=angular.bind(a,e(i.oncancel),t)),i.shown&&e(i.shown)(t)&&a.$show(),a._blur=i.blur||r.blurForm,i.ngSubmit||i.submit||(i.onbeforesave&&(a.$onbeforesave=function(){return e(i.onbeforesave)(t,{$data:a.$data})}),i.onaftersave&&(a.$onaftersave=function(){return e(i.onaftersave)(t,{$data:a.$data})}),n.bind("submit",function(e){e.preventDefault(),t.$apply(function(){a.$submit()})})),n.bind("click",function(t){1===t.which&&a.$visible&&(a._clicked=!0)})}}}}}]),angular.module("xeditable").factory("editablePromiseCollection",["$q",function(t){function e(){return{promises:[],hasFalse:!1,hasString:!1,when:function(e,n){if(!1===e)this.hasFalse=!0;else if(!n&&angular.isObject(e))this.promises.push(t.when(e));else{if(!angular.isString(e))return;this.hasString=!0}},then:function(e){function n(){s.hasString||s.hasFalse?!s.hasString&&s.hasFalse?i():o():r()}var r=(e=e||{}).onTrue||angular.noop,i=e.onFalse||angular.noop,o=e.onString||angular.noop,a=e.onWait||angular.noop,s=this;this.promises.length?(a(!0),t.all(this.promises).then(function(t){a(!1),angular.forEach(t,function(t){s.when(t,!0)}),n()},function(){a(!1),o()})):n()}}}return e}]),angular.module("xeditable").factory("editableUtils",[function(){return{indexOf:function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1},arrayRemove:function(t,e){var n=this.indexOf(t,e);return n>=0&&t.splice(n,1),e},camelToDash:function(t){var e=/[A-Z]/g;return t.replace(e,function(t,e){return(e?"-":"")+t.toLowerCase()})},dashToCamel:function(t){var e=/([\:\-\_]+(.))/g,n=/^moz([A-Z])/;return t.replace(e,function(t,e,n,r){return r?n.toUpperCase():n}).replace(n,"Moz$1")}}}]),angular.module("xeditable").factory("editableNgOptionsParser",[function(){function t(t){var n;if(!(n=t.match(e)))throw"ng-options parse error";var r,i=n[2]||n[1],o=n[4]||n[6],a=n[5],s=(n[3],n[2]?n[1]:o),l=n[7],u=n[8],c=u?n[8]:null;return void 0===a?(r=o+" in "+l,void 0!==u&&(r+=" track by "+c)):r="("+a+", "+o+") in "+l,{ngRepeat:r,locals:{valueName:o,keyName:a,valueFn:s,displayFn:i}}}var e=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/;return t}]),angular.module("xeditable").factory("editableThemes",function(){return{default:{formTpl:'<form class="editable-wrap"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<span class="editable-controls"></span>',inputTpl:"",errorTpl:'<div class="editable-error" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit">save</button>',cancelTpl:'<button type="button" ng-click="$form.$cancel()">cancel</button>'},bs2:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls controls control-group" ng-class="{\'error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span class="icon-ok icon-white"></span></button>',cancelTpl:'<button type="button" class="btn" ng-click="$form.$cancel()"><span class="icon-remove"></span></button>'},bs3:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls form-group" ng-class="{\'has-error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-ok"></span></button>',cancelTpl:'<button type="button" class="btn btn-default" ng-click="$form.$cancel()"><span class="glyphicon glyphicon-remove"></span></button>',buttonsClass:"",inputClass:"",postrender:function(){switch(this.directiveName){case"editableText":case"editableSelect":case"editableTextarea":case"editableEmail":case"editableTel":case"editableNumber":case"editableUrl":case"editableSearch":case"editableDate":case"editableDatetime":case"editableTime":case"editableMonth":case"editableWeek":if(this.inputEl.addClass("form-control"),this.theme.inputClass){if(this.inputEl.attr("multiple")&&("input-sm"===this.theme.inputClass||"input-lg"===this.theme.inputClass))break;this.inputEl.addClass(this.theme.inputClass)}}this.buttonsEl&&this.theme.buttonsClass&&this.buttonsEl.find("button").addClass(this.theme.buttonsClass)}}}}),function(t){var e="object"==typeof window&&window||"object"==typeof self&&self;"undefined"!=typeof exports?t(exports):e&&(e.hljs=t({}),"function"==typeof define&&define.amd&&define([],function(){return e.hljs}))}(function(t){function e(t){return t.replace(/</gm,"&lt;").replace(/>/gm,"&gt;")}function n(t){return t.nodeName.toLowerCase()}function r(t,e){var n=t&&t.exec(e);return n&&0==n.index}function i(t){return/^(no-?highlight|plain|text)$/i.test(t)}function o(t){var e,n,r,o=t.className+" ";if(o+=t.parentNode?t.parentNode.className:"",n=/\blang(?:uage)?-([\w-]+)\b/i.exec(o))return x(n[1])?n[1]:"no-highlight";for(e=0,r=(o=o.split(/\s+/)).length;r>e;e++)if(x(o[e])||i(o[e]))return o[e]}function a(t,e){var n,r={};for(n in t)r[n]=t[n];if(e)for(n in e)r[n]=e[n];return r}function s(t){var e=[];return function t(r,i){for(var o=r.firstChild;o;o=o.nextSibling)3==o.nodeType?i+=o.nodeValue.length:1==o.nodeType&&(e.push({event:"start",offset:i,node:o}),i=t(o,i),n(o).match(/br|hr|img|input/)||e.push({event:"stop",offset:i,node:o}));return i}(t,0),e}function l(t,r,i){function o(){return t.length&&r.length?t[0].offset!=r[0].offset?t[0].offset<r[0].offset?t:r:"start"==r[0].event?t:r:t.length?t:r}function a(t){function r(t){return" "+t.nodeName+'="'+e(t.value)+'"'}c+="<"+n(t)+Array.prototype.map.call(t.attributes,r).join("")+">"}function s(t){c+="</"+n(t)+">"}function l(t){("start"==t.event?a:s)(t.node)}for(var u=0,c="",d=[];t.length||r.length;){var h=o();if(c+=e(i.substr(u,h[0].offset-u)),u=h[0].offset,h==t){d.reverse().forEach(s);do{l(h.splice(0,1)[0]),h=o()}while(h==t&&h.length&&h[0].offset==u);d.reverse().forEach(a)}else"start"==h[0].event?d.push(h[0].node):d.pop(),l(h.splice(0,1)[0])}return c+e(i.substr(u))}function u(t){function e(t){return t&&t.source||t}function n(n,r){return new RegExp(e(n),"m"+(t.cI?"i":"")+(r?"g":""))}function r(i,o){if(!i.compiled){if(i.compiled=!0,i.k=i.k||i.bK,i.k){var s={},l=function(e,n){t.cI&&(n=n.toLowerCase()),n.split(" ").forEach(function(t){var n=t.split("|");s[n[0]]=[e,n[1]?Number(n[1]):1]})};"string"==typeof i.k?l("keyword",i.k):Object.keys(i.k).forEach(function(t){l(t,i.k[t])}),i.k=s}i.lR=n(i.l||/\w+/,!0),o&&(i.bK&&(i.b="\\b("+i.bK.split(" ").join("|")+")\\b"),i.b||(i.b=/\B|\b/),i.bR=n(i.b),i.e||i.eW||(i.e=/\B|\b/),i.e&&(i.eR=n(i.e)),i.tE=e(i.e)||"",i.eW&&o.tE&&(i.tE+=(i.e?"|":"")+o.tE)),i.i&&(i.iR=n(i.i)),void 0===i.r&&(i.r=1),i.c||(i.c=[]);var u=[];i.c.forEach(function(t){t.v?t.v.forEach(function(e){u.push(a(t,e))}):u.push("self"==t?i:t)}),i.c=u,i.c.forEach(function(t){r(t,i)}),i.starts&&r(i.starts,o);var c=i.c.map(function(t){return t.bK?"\\.?("+t.b+")\\.?":t.b}).concat([i.tE,i.i]).map(e).filter(Boolean);i.t=c.length?n(c.join("|"),!0):{exec:function(){return null}}}}r(t)}function c(t,n,i,o){function a(t,e){for(var n=0;n<e.c.length;n++)if(r(e.c[n].bR,t))return e.c[n]}function s(t,e){if(r(t.eR,e)){for(;t.endsParent&&t.parent;)t=t.parent;return t}return t.eW?s(t.parent,e):void 0}function l(t,e){return!i&&r(e.iR,t)}function h(t,e){var n=b.cI?e[0].toLowerCase():e[0];return t.k.hasOwnProperty(n)&&t.k[n]}function f(t,e,n,r){var i='<span class="'+(r?"":_.classPrefix);return(i+=t+'">')+e+(n?"":"</span>")}function p(){if(!k.k)return e(T);var t="",n=0;k.lR.lastIndex=0;for(var r=k.lR.exec(T);r;){t+=e(T.substr(n,r.index-n));var i=h(k,r);i?($+=i[1],t+=f(i[0],e(r[0]))):t+=e(r[0]),n=k.lR.lastIndex,r=k.lR.exec(T)}return t+e(T.substr(n))}function g(){var t="string"==typeof k.sL;if(t&&!w[k.sL])return e(T);var n=t?c(k.sL,T,!0,S[k.sL]):d(T,k.sL.length?k.sL:void 0);return k.r>0&&($+=n.r),t&&(S[k.sL]=n.top),f(n.language,n.value,!1,!0)}function m(){M+=void 0!==k.sL?g():p(),T=""}function v(t,e){M+=t.cN?f(t.cN,"",!0):"",k=Object.create(t,{parent:{value:k}})}function y(t,e){if(T+=t,void 0===e)return m(),0;var n=a(e,k);if(n)return n.skip?T+=e:(n.eB&&(T+=e),m(),n.rB||n.eB||(T=e)),v(n,e),n.rB?0:e.length;var r=s(k,e);if(r){var i=k;i.skip?T+=e:(i.rE||i.eE||(T+=e),m(),i.eE&&(T=e));do{k.cN&&(M+="</span>"),k.skip||($+=k.r),k=k.parent}while(k!=r.parent);return r.starts&&v(r.starts,""),i.rE?0:e.length}if(l(e,k))throw new Error('Illegal lexeme "'+e+'" for mode "'+(k.cN||"<unnamed>")+'"');return T+=e,e.length||1}var b=x(t);if(!b)throw new Error('Unknown language: "'+t+'"');u(b);var C,k=o||b,S={},M="";for(C=k;C!=b;C=C.parent)C.cN&&(M=f(C.cN,"",!0)+M);var T="",$=0;try{for(var D,E,L=0;k.t.lastIndex=L,D=k.t.exec(n);)E=y(n.substr(L,D.index-L),D[0]),L=D.index+E;for(y(n.substr(L)),C=k;C.parent;C=C.parent)C.cN&&(M+="</span>");return{r:$,value:M,language:t,top:k}}catch(t){if(-1!=t.message.indexOf("Illegal"))return{r:0,value:e(n)};throw t}}function d(t,n){n=n||_.languages||Object.keys(w);var r={r:0,value:e(t)},i=r;return n.filter(x).forEach(function(e){var n=c(e,t,!1);n.language=e,n.r>i.r&&(i=n),n.r>r.r&&(i=r,r=n)}),i.language&&(r.second_best=i),r}function h(t){return _.tabReplace&&(t=t.replace(/^((<[^>]+>|\t)+)/gm,function(t,e){return e.replace(/\t/g,_.tabReplace)})),_.useBR&&(t=t.replace(/\n/g,"<br>")),t}function f(t,e,n){var r=e?C[e]:n,i=[t.trim()];return t.match(/\bhljs\b/)||i.push("hljs"),-1===t.indexOf(r)&&i.push(r),i.join(" ").trim()}function p(t){var e=o(t);if(!i(e)){var n;_.useBR?(n=document.createElementNS("http://www.w3.org/1999/xhtml","div"),n.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n")):n=t;var r=n.textContent,a=e?c(e,r,!0):d(r),u=s(n);if(u.length){var p=document.createElementNS("http://www.w3.org/1999/xhtml","div");p.innerHTML=a.value,a.value=l(u,s(p),r)}a.value=h(a.value),t.innerHTML=a.value,t.className=f(t.className,e,a.language),t.result={language:a.language,re:a.r},a.second_best&&(t.second_best={language:a.second_best.language,re:a.second_best.r})}}function g(t){_=a(_,t)}function m(){if(!m.called){m.called=!0;var t=document.querySelectorAll("pre code");Array.prototype.forEach.call(t,p)}}function v(){addEventListener("DOMContentLoaded",m,!1),addEventListener("load",m,!1)}function y(e,n){var r=w[e]=n(t);r.aliases&&r.aliases.forEach(function(t){C[t]=e})}function b(){return Object.keys(w)}function x(t){return t=(t||"").toLowerCase(),w[t]||w[C[t]]}var _={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},w={},C={};return t.highlight=c,t.highlightAuto=d,t.fixMarkup=h,t.highlightBlock=p,t.configure=g,t.initHighlighting=m,t.initHighlightingOnLoad=v,t.registerLanguage=y,t.listLanguages=b,t.getLanguage=x,t.inherit=a,t.IR="[a-zA-Z]\\w*",t.UIR="[a-zA-Z_]\\w*",t.NR="\\b\\d+(\\.\\d+)?",t.CNR="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",t.BNR="\\b(0b[01]+)",t.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",t.BE={b:"\\\\[\\s\\S]",r:0},t.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[t.BE]},t.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[t.BE]},t.PWM={b:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|like)\b/},t.C=function(e,n,r){var i=t.inherit({cN:"comment",b:e,e:n,c:[]},r||{});return i.c.push(t.PWM),i.c.push({cN:"doctag",b:"(?:TODO|FIXME|NOTE|BUG|XXX):",r:0}),i},t.CLCM=t.C("//","$"),t.CBCM=t.C("/\\*","\\*/"),t.HCM=t.C("#","$"),t.NM={cN:"number",b:t.NR,r:0},t.CNM={cN:"number",b:t.CNR,r:0},t.BNM={cN:"number",b:t.BNR,r:0},t.CSSNM={cN:"number",b:t.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",r:0},t.RM={cN:"regexp",b:/\//,e:/\/[gimuy]*/,i:/\n/,c:[t.BE,{b:/\[/,e:/\]/,r:0,c:[t.BE]}]},t.TM={cN:"title",b:t.IR,r:0},t.UTM={cN:"title",b:t.UIR,r:0},t.METHOD_GUARD={b:"\\.\\s*"+t.UIR,r:0},t}),hljs.registerLanguage("xml",function(t){var e={eW:!0,i:/</,r:0,c:[{cN:"attr",b:"[A-Za-z0-9\\._:-]+",r:0},{b:/=\s*/,r:0,c:[{cN:"string",endsParent:!0,v:[{b:/"/,e:/"/},{b:/'/,e:/'/},{b:/[^\s"'=<>`]+/}]}]}]};return{aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist"],cI:!0,c:[{cN:"meta",b:"<!DOCTYPE",e:">",r:10,c:[{b:"\\[",e:"\\]"}]},t.C("\x3c!--","--\x3e",{r:10}),{b:"<\\!\\[CDATA\\[",e:"\\]\\]>",r:10},{b:/<\?(php)?/,e:/\?>/,sL:"php",c:[{b:"/\\*",e:"\\*/",skip:!0}]},{cN:"tag",b:"<style(?=\\s|>|$)",e:">",k:{name:"style"},c:[e],starts:{e:"</style>",rE:!0,sL:["css","xml"]}},{cN:"tag",b:"<script(?=\\s|>|$)",e:">",k:{name:"script"},c:[e],starts:{e:"<\/script>",rE:!0,sL:["actionscript","javascript","handlebars","xml"]}},{cN:"meta",v:[{b:/<\?xml/,e:/\?>/,r:10},{b:/<\?\w+/,e:/\?>/}]},{cN:"tag",b:"</?",e:"/?>",c:[{cN:"name",b:/[^\/><\s]+/,r:0},e]}]}}),hljs.registerLanguage("css",function(t){var e={b:/[A-Z\_\.\-]+\s*:/,rB:!0,e:";",eW:!0,c:[{cN:"attribute",b:/\S/,e:":",eE:!0,starts:{eW:!0,eE:!0,c:[{b:/[\w-]+\(/,rB:!0,c:[{cN:"built_in",b:/[\w-]+/},{b:/\(/,e:/\)/,c:[t.ASM,t.QSM]}]},t.CSSNM,t.QSM,t.ASM,t.CBCM,{cN:"number",b:"#[0-9A-Fa-f]+"},{cN:"meta",b:"!important"}]}}]};return{cI:!0,i:/[=\/|'\$]/,c:[t.CBCM,{cN:"selector-id",b:/#[A-Za-z0-9_-]+/},{cN:"selector-class",b:/\.[A-Za-z0-9_-]+/},{cN:"selector-attr",b:/\[/,e:/\]/,i:"$"},{cN:"selector-pseudo",b:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{b:"@(font-face|page)",l:"[a-z-]+",k:"font-face page"},{b:"@",e:"[{;]",i:/:/,c:[{cN:"keyword",b:/\w+/},{b:/\s/,eW:!0,eE:!0,r:0,c:[t.ASM,t.QSM,t.CSSNM]}]},{cN:"selector-tag",b:"[a-zA-Z-][a-zA-Z0-9_-]*",r:0},{b:"{",e:"}",i:/\S/,c:[t.CBCM,e]}]}}),hljs.registerLanguage("javascript",function(t){return{aliases:["js","jsx"],k:{keyword:"in of if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const export super debugger as async await static import from as",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect Promise"},c:[{cN:"meta",r:10,b:/^\s*['"]use (strict|asm)['"]/},{cN:"meta",b:/^#!/,e:/$/},t.ASM,t.QSM,{cN:"string",b:"`",e:"`",c:[t.BE,{cN:"subst",b:"\\$\\{",e:"\\}"}]},t.CLCM,t.CBCM,{cN:"number",v:[{b:"\\b(0[bB][01]+)"},{b:"\\b(0[oO][0-7]+)"},{b:t.CNR}],r:0},{b:"("+t.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[t.CLCM,t.CBCM,t.RM,{b:/</,e:/(\/\w+|\w+\/)>/,sL:"xml",c:[{b:/<\w+\s*\/>/,skip:!0},{b:/<\w+/,e:/(\/\w+|\w+\/)>/,skip:!0,c:["self"]}]}],r:0},{cN:"function",bK:"function",e:/\{/,eE:!0,c:[t.inherit(t.TM,{b:/[A-Za-z$_][0-9A-Za-z$_]*/}),{cN:"params",b:/\(/,e:/\)/,eB:!0,eE:!0,c:[t.CLCM,t.CBCM]}],i:/\[|%/},{b:/\$[(.]/},t.METHOD_GUARD,{cN:"class",bK:"class",e:/[{;=]/,eE:!0,i:/[:"\[\]]/,c:[{bK:"extends"},t.UTM]},{bK:"constructor",e:/\{/,eE:!0}],i:/#(?!!)/}}),function(t,e){"object"==typeof exports||"object"==typeof module&&module.exports?module.exports=e(require("angular"),require("highlight.js")):"function"==typeof define&&define.amd?define(["angular","hljs"],e):t.returnExports=e(t.angular,t.hljs)}(this,function(t,e){function n(e){return function(n){switch(n){case"escape":return t.isDefined(e.hljsEscape)?e.hljsEscape:e.escape;case"no-escape":return t.isDefined(e.hljsNoEscape)?e.hljsNoEscape:e.noEscape;case"onhighlight":return t.isDefined(e.hljsOnhighlight)?e.hljsOnhighlight:e.onhighlight}}}function r(e){var n=!0;return t.forEach(["source","include"],function(t){e[t]&&(n=!1)}),n}var i=t.module("hljs",[]);i.provider("hljsService",function(){var n={};return{setOptions:function(e){t.extend(n,e)},getOptions:function(){return t.copy(n)},$get:function(){return(e.configure||t.noop)(n),e}}}),i.factory("hljsCache",["$cacheFactory",function(t){return t("hljsCache")}]),i.controller("HljsCtrl",["hljsCache","hljsService","$interpolate","$window",function(e,n,r,i){function o(t,e){var n=e?"\\\\$&":"\\$&";return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,n)}function a(t){for(var e,n=[],r=new RegExp(g,"g"),i="",o=0;null!==(e=r.exec(t));)i+=t.substring(o,e.index)+m,o=e.index+e[0].length,n.push(e[0]);return i+=t.substr(o),{code:i,tokens:n}}function s(t,e){for(var n,r=new RegExp(m,"g"),i="",o=0;null!==(n=r.exec(t));)i+=t.substring(o,n.index)+e.shift(),o=n.index+n[0].length;return i+=t.substr(o)}var l=this,u=null,c=null,d=null,h=!1,f=null,p=null,g=o(r.startSymbol())+"((.|\\s)+?)"+o(r.endSymbol()),m="";l.init=function(t){u=t},l.setInterpolateScope=function(t){h=t,d&&l.highlight(d)},l.setLanguage=function(t){c=t,d&&l.highlight(d)},l.highlightCallback=function(t){p=t},l._highlight=function(i){if(u){var o,g,m;if(d=i,h&&(m=a(i),i=m.code),c?(g=l._cacheKey(c,!!h,i),(o=e.get(g))||(o=n.highlight(c,n.fixMarkup(i),!0),e.put(g,o))):(g=l._cacheKey(!!h,i),(o=e.get(g))||(o=n.highlightAuto(n.fixMarkup(i)),e.put(g,o))),i=o.value,h){(f||t.noop)(),m&&(i=s(i,m.tokens));var v=r(i);f=h.$watch(v,function(t,e){t!==e&&u.html(t)}),h.$apply(),u.html(v(h))}else u.html(i);u.addClass(o.language),null!==p&&t.isFunction(p)&&p()}},l.highlight=function(t,e,n){var r;return function(){var o=this,a=arguments,s=function(){r=null,n||t.apply(o,a)},l=n&&!r;i.clearTimeout(r),r=i.setTimeout(s,e),l&&t.apply(o,a)}}(l._highlight,17),l.clear=function(){u&&(d=null,u.text(""))},l.release=function(){u=null,h=null,(f||t.noop)(),f=null},l._cacheKey=function(){return Array.prototype.slice.call(arguments).join("!angular-highlightjs!")}}]);var o,a,s,l,u;return o=["$parse",function(e){return{restrict:"EA",controller:"HljsCtrl",compile:function(i,o,a){var s=i[0].innerHTML.replace(/^(\r\n|\r|\n)/,""),l=i[0].textContent.replace(/^(\r\n|\r|\n)/,"");return i.html('<pre><code class="hljs"></code></pre>'),function(i,o,a,u){var c,d=n(a);if(t.isDefined(d("escape"))?c=e(d("escape")):t.isDefined(d("no-escape"))&&(c=e("false")),u.init(o.find("code")),d("onhighlight")&&u.highlightCallback(function(){i.$eval(d("onhighlight"))}),(s||l)&&r(a)){var h;h=c&&!c(i)?l:s,u.highlight(h)}i.$on("$destroy",function(){u.release()})}}}}],s=function(e){return function(){return{require:"?hljs",restrict:"A",link:function(n,r,i,o){o&&i.$observe(e,function(e){t.isDefined(e)&&o.setLanguage(e)})}}}},a=function(t){return function(){return{require:"?hljs",restrict:"A",link:function(e,n,r,i){i&&e.$watch(r[t],function(t,n){(t||t!==n)&&i.setInterpolateScope(t?e:null)})}}}},l=function(t){return function(){return{require:"?hljs",restrict:"A",link:function(e,n,r,i){i&&e.$watch(r[t],function(t,e){t?i.highlight(t):i.clear()})}}}},u=function(e){return["$http","$templateCache","$q",function(n,r,i){return{require:"?hljs",restrict:"A",compile:function(o,a,s){var l=a[e];return function(e,o,a,s){var u=0;s&&e.$watch(l,function(e){var o=++u;if(e&&t.isString(e)){var a,l;(a=r.get(e))||(l=i.defer(),n.get(e,{cache:r,transformResponse:function(t,e){return t}}).then(function(t){o===u&&l.resolve(t)}).catch(function(){o===u&&s.clear(),l.resolve()}),a=l.promise),i.when(a).then(function(e){e&&(t.isArray(e)?e=e[1]:t.isObject(e)&&(e=e.data),e=e.replace(/^(\r\n|\r|\n)/,""),s.highlight(e))})}else s.clear()})}}}}]},function(e){e.directive("hljs",o),t.forEach(["interpolate","hljsInterpolate","compile","hljsCompile"],function(t){e.directive(t,a(t))}),t.forEach(["language","hljsLanguage"],function(t){e.directive(t,s(t))}),t.forEach(["source","hljsSource"],function(t){e.directive(t,l(t))}),t.forEach(["include","hljsInclude"],function(t){e.directive(t,u(t))})}(i),"hljs"}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("angular")):"function"==typeof define&&define.amd?define(["angular"],e):"object"==typeof exports?exports["ng-table"]=e(require("angular")):t["ng-table"]=e(t.angular)}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=51)}([function(e,n){e.exports=t},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}var i=n(0),o=n(3),a=n(37),s=n(7),l=n(10),u=n(9),c=n(8),d=i.module("ngTable-core",[]).provider("ngTableDefaultGetData",o.NgTableDefaultGetDataProvider).factory("ngTableDefaultGetGroups",a.ngTableDefaultGetGroups).value("ngTableDefaults",s.ngTableDefaults).service("ngTableEventsChannel",c.NgTableEventsChannel).service("ngTableSettings",l.NgTableSettings).run(u.NgTableParams.init);e.ngTableCoreModule=d,d.value("NgTableParams",u.NgTableParams);var h=n(7);e.IDefaults=h.IDefaults,r(n(8));var f=n(10);e.ISettings=f.ISettings,r(n(9)),r(n(3)),r(n(36)),r(n(39)),r(n(40)),r(n(41))},function(t,e,n){"use strict";var r=n(0),i=n(13),o=n(14),a=n(15),s=n(16);e.NgTableController=s.NgTableController;var l=n(17),u=n(18);e.NgTableFilterConfigProvider=u.NgTableFilterConfigProvider,e.NgTableFilterConfig=u.NgTableFilterConfig;var c=n(19),d=n(20),h=n(21),f=n(22),p=n(23),g=n(24),m=n(25),v=n(26);n(43),n(45),n(44),n(46),n(49),n(48);var y=r.module("ngTable-browser",[]).directive("ngTable",i.ngTable).service("ngTableColumn",o.NgTableColumn).directive("ngTableColumnsBinding",a.ngTableColumnsBinding).controller("ngTableController",s.NgTableController).directive("ngTableDynamic",l.ngTableDynamic).provider("ngTableFilterConfig",u.NgTableFilterConfigProvider).directive("ngTableFilterRow",c.ngTableFilterRow).controller("ngTableFilterRowController",d.NgTableFilterRowController).directive("ngTableGroupRow",h.ngTableGroupRow).controller("ngTableGroupRowController",f.NgTableGroupRowController).directive("ngTablePagination",p.ngTablePagination).directive("ngTableSelectFilterDs",g.ngTableSelectFilterDs).directive("ngTableSorterRow",m.ngTableSorterRow).controller("ngTableSorterRowController",v.NgTableSorterRowController);e.ngTableBrowserModule=y,function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(27))},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}r(n(28)),r(n(29)),r(n(30)),r(n(31)),r(n(32))},function(t,e){"use strict"},function(t,e){"use strict"},function(t,e){"use strict"},function(t,e){"use strict";e.ngTableDefaults={params:{},settings:{}}},function(t,e,n){"use strict";var r=n(0),i=function(){function t(t){this.$rootScope=t;var e=this;e=this.addTableParamsEvent("afterCreated",e),e=this.addTableParamsEvent("afterReloadData",e),e=this.addTableParamsEvent("datasetChanged",e),e=this.addTableParamsEvent("pagesChanged",e),e=this.addTableParamsEvent("afterDataFiltered",e),e=this.addTableParamsEvent("afterDataSorted",e)}return t.prototype.addTableParamsEvent=function(t,e){var n=t.charAt(0).toUpperCase()+t.substring(1),i=(o={},o["on"+n]=this.createEventSubscriptionFn(t),o["publish"+n]=this.createPublishEventFn(t),o);return r.extend(e,i);var o},t.prototype.createPublishEventFn=function(t){var e=this;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];(i=e.$rootScope).$broadcast.apply(i,["ngTable:"+t].concat(n));var i}},t.prototype.createEventSubscriptionFn=function(t){function e(t){return t?n(t)?t:function(e){return e===t}:function(t){return!0}}function n(t){return"function"==typeof t}function r(t){return t&&"function"==typeof t.$new}var i=this;return function(n,o,a){var s,l=i.$rootScope;return r(o)?(l=o,s=e(a)):s=e(o),l.$on("ngTable:"+t,function(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(!e.isNullInstance){var o=[e].concat(r);s.apply(this,o)&&n.apply(this,o)}})}},t.$inject=["$rootScope"],t}();e.NgTableEventsChannel=i},function(t,e,n){"use strict";function r(t){return!isNaN(parseFloat(t))&&isFinite(t)}var i=n(0),o=n(11),a=function(){function t(e,n){var r=this;this.data=[],this.defaultSettings=t.ngTableSettings.createDefaults(),this.isCommittedDataset=!1,this.initialEvents=[],this._params={page:1,count:10,filter:{},sorting:{},group:{}},this._settings=this.defaultSettings,"boolean"==typeof e&&(this.isNullInstance=!0),this.reloadPages=function(){var e;return function(){var n=e,o=r.generatePagesArray(r.page(),r.total(),r.count());i.equals(n,o)||(e=o,t.ngTableEventsChannel.publishPagesChanged(r,o,n))}}(),i.extend(this._params,t.ngTableDefaults.params),this.settings(n),this.parameters(e,!0),t.ngTableEventsChannel.publishAfterCreated(this),i.forEach(this.initialEvents,function(t){t()}),this.initialEvents=null}return t.prototype.count=function(t){return void 0!==t?this.parameters({count:t,page:1}):this._params.count},t.prototype.filter=function(t){if(null!=t&&"object"==typeof t)return this.parameters({filter:t,page:1});if(!0===t){for(var e=Object.keys(this._params.filter),n={},r=0;r<e.length;r++){var i=this._params.filter[e[r]];null!=i&&""!==i&&(n[e[r]]=i)}return n}return this._params.filter},t.prototype.generatePagesArray=function(t,e,n,r){arguments.length||(t=this.page(),e=this.total(),n=this.count());var i,o,a,s;r=r&&r<6?6:r;var l=[];if((s=Math.ceil(e/n))>1){l.push({type:"prev",number:Math.max(1,t-1),active:t>1}),l.push({type:"first",number:1,active:t>1,current:1===t}),o=Math.round((this._settings.paginationMaxBlocks-this._settings.paginationMinBlocks)/2),a=Math.max(2,t-o),i=Math.min(s-1,t+2*o-(t-a));for(var u=a=Math.max(2,a-(2*o-(i-a)));u<=i;)u===a&&2!==u||u===i&&u!==s-1?l.push({type:"more",active:!1}):l.push({type:"page",number:u,active:t!==u,current:t===u}),u++;l.push({type:"last",number:s,active:t!==s,current:t===s}),l.push({type:"next",number:Math.min(s,t+1),active:t<s})}return l},t.prototype.group=function(t,e){if(void 0===t)return this._params.group;var n={page:1};return o.isGroupingFun(t)&&void 0!==e?(t.sortDirection=e,n.group=t):n.group="string"==typeof t&&void 0!==e?(r={},r[t]=e,r):t,this.parameters(n),this;var r},t.prototype.hasErrorState=function(){return!(!this.errParamsMemento||!i.equals(this.errParamsMemento,this.createComparableParams()))},t.prototype.hasFilter=function(){return Object.keys(this.filter(!0)).length>0},t.prototype.hasFilterChanges=function(){var t=this.prevParamsMemento&&this.prevParamsMemento.params.filter;return!i.equals(this._params.filter,t)||this.hasGlobalSearchFieldChanges()},t.prototype.hasGroup=function(t,e){return null==t?o.isGroupingFun(this._params.group)||Object.keys(this._params.group).length>0:o.isGroupingFun(t)?null==e?this._params.group===t:this._params.group===t&&t.sortDirection===e:null==e?-1!==Object.keys(this._params.group).indexOf(t):this._params.group[t]===e},t.prototype.isDataReloadRequired=function(){return!this.isCommittedDataset||!i.equals(this.createComparableParams(),this.prevParamsMemento)||this.hasGlobalSearchFieldChanges()},t.prototype.isSortBy=function(t,e){return void 0!==e?void 0!==this._params.sorting[t]&&this._params.sorting[t]==e:void 0!==this._params.sorting[t]},t.prototype.orderBy=function(){return o.convertSortToOrderBy(this._params.sorting)},t.prototype.page=function(t){return void 0!==t?this.parameters({page:t}):this._params.page},t.prototype.parameters=function(t,e){if(e=e||!1,void 0!==typeof t){for(var n in t){var o=t[n];if(e&&n.indexOf("[")>=0){for(var a=n.split(/\[(.*)\]/).reverse(),s="",l=0,u=a.length;l<u;l++){var c=a[l];if(""!==c){var d=o;(o={})[s=c]=r(d)?parseFloat(d):d}}"sorting"===s&&(this._params[s]={}),this._params[s]=i.extend(this._params[s]||{},o[s])}else this._params[n]="group"===n?this.parseGroup(t[n]):r(t[n])?parseFloat(t[n]):t[n]}return this.log("ngTable: set parameters",this._params),this}return this._params},t.prototype.reload=function(){var e=this,n=null;if(this._settings.$loading=!0,this.prevParamsMemento=i.copy(this.createComparableParams()),this.isCommittedDataset=!0,this.hasGroup())n=this.runInterceptorPipeline(t.$q.when(this._settings.getGroups(this)));else{var r=this._settings.getData;n=this.runInterceptorPipeline(t.$q.when(r(this)))}this.log("ngTable: reload data");var o=this.data;return n.then(function(n){return e._settings.$loading=!1,e.errParamsMemento=null,e.data=n,t.ngTableEventsChannel.publishAfterReloadData(e,n,o),e.reloadPages(),n}).catch(function(n){return e.errParamsMemento=e.prevParamsMemento,t.$q.reject(n)})},t.prototype.settings=function(e){var n=this;if(i.isDefined(e)){var r=t.ngTableSettings.merge(this._settings,e),o=this._settings.dataset;if(this._settings=r,e.hasOwnProperty("dataset")&&e.dataset!=o){this.isCommittedDataset&&this.page(1),this.isCommittedDataset=!1;var a=function(){t.ngTableEventsChannel.publishDatasetChanged(n,e.dataset,o)};this.initialEvents?this.initialEvents.push(a):a()}return this.log("ngTable: set settings",this._settings),this}return this._settings},t.prototype.sorting=function(t,e){return"string"==typeof t?(this.parameters({sorting:(n={},n[t]=e,n)}),this):void 0!==t?this.parameters({sorting:t}):this._params.sorting;var n},t.prototype.total=function(t){return void 0!==t?this.settings({total:t}):this._settings.total},t.prototype.url=function(t){function e(t,e){n(o)?o.push(e+"="+encodeURIComponent(t)):o[e]=encodeURIComponent(t)}function n(e){return t}function r(t,e){return"group"===e||void 0!==typeof t&&""!==t}var o=(t=t||!1)?[]:{};for(var a in this._params)if(this._params.hasOwnProperty(a)){var s=this._params[a],l=encodeURIComponent(a);if("object"==typeof s){for(var u in s)if(r(s[u],a)){var c=l+"["+encodeURIComponent(u)+"]";e(s[u],c)}}else!i.isFunction(s)&&r(s,a)&&e(s,l)}return o},t.prototype.createComparableParams=function(){var t=this._params.group;return{params:this._params,groupSortDirection:o.isGroupingFun(t)?t.sortDirection:void 0}},t.prototype.hasGlobalSearchFieldChanges=function(){var t=this._params.filter&&this._params.filter.$,e=this.prevParamsMemento&&this.prevParamsMemento.params.filter&&this.prevParamsMemento.params.filter.$;return!i.equals(t,e)},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];this._settings.debugMode&&t.$log.debug&&(r=t.$log).debug.apply(r,e);var r},t.prototype.parseGroup=function(t){var e=this._settings.groupOptions&&this._settings.groupOptions.defaultSort;if(t){if(o.isGroupingFun(t))return null==t.sortDirection&&(t.sortDirection=e),t;if("object"==typeof t){for(var n in t)null==t[n]&&(t[n]=e);return t}return r={},r[t]=e,r}return t;var r},t.prototype.runInterceptorPipeline=function(e){var n=this;return(this._settings.interceptors||[]).reduce(function(e,r){var i=r.response&&r.response.bind(r)||t.$q.when,o=r.responseError&&r.responseError.bind(r)||t.$q.reject;return e.then(function(t){return i(t,n)},function(t){return o(t,n)})},e)},t.init=function(e,n,r,i,o){t.$q=e,t.$log=n,t.ngTableDefaults=r,t.ngTableEventsChannel=i,t.ngTableSettings=o},t}();e.NgTableParams=a,a.init.$inject=["$q","$log","ngTableDefaults","ngTableEventsChannel","ngTableSettings"]},function(t,e,n){"use strict";var r=n(0),i=function(){function t(t,e,n){var r=this;this.ngTableDefaults=t,this.ngTableDefaultGetData=e,this.ngTableDefaultGetGroups=n,this.defaults={$loading:!1,dataset:null,total:0,defaultSort:"desc",counts:[10,25,50,100],filterOptions:{filterComparator:void 0,filterDelay:500,filterDelayThreshold:1e4,filterFilterName:void 0,filterFn:void 0,filterLayout:"stack"},getData:function(t){return r.ngTableDefaultGetData(t.settings().dataset,t)},getGroups:this.ngTableDefaultGetGroups,groupOptions:{defaultSort:"asc",isExpanded:!0},interceptors:[],paginationMaxBlocks:11,paginationMinBlocks:5,sortingIndicator:"span"}}return t.prototype.createDefaults=function(){return this.merge(this.defaults,this.ngTableDefaults.settings)},t.prototype.merge=function(t,e){(e=r.extend({},e)).filterOptions&&(e.filterOptions=r.extend({},t.filterOptions||{},e.filterOptions)),e.groupOptions&&(e.groupOptions=r.extend({},t.groupOptions||{},e.groupOptions)),r.isArray(e.dataset)&&(e.total=e.dataset.length);var n=r.extend({},t,e);return r.isArray(e.dataset)&&this.optimizeFilterDelay(n),r.extend({},t,e)},t.prototype.optimizeFilterDelay=function(t){t.filterOptions.filterDelay===this.defaults.filterOptions.filterDelay&&t.total<=t.filterOptions.filterDelayThreshold&&t.getData===this.defaults.getData&&(t.filterOptions.filterDelay=0)},t.$inject=["ngTableDefaults","ngTableDefaultGetData","ngTableDefaultGetGroups"],t}();e.NgTableSettings=i},function(t,e){"use strict";function n(t){var e=[];for(var n in t)e.push(("asc"===t[n]?"+":"-")+n);return e}function r(t){return"function"==typeof t}e.convertSortToOrderBy=n,e.isGroupingFun=r},,function(t,e,n){"use strict";function r(t,e){return{restrict:"A",priority:1001,scope:!0,controller:"ngTableController",compile:function(t){var n,r,o=[],a=0,s=[];if(i.forEach(t.find("tr"),function(t){s.push(i.element(t))}),n=s.filter(function(t){return!t.hasClass("ng-table-group")})[0],r=s.filter(function(t){return t.hasClass("ng-table-group")})[0],n)return i.forEach(n.find("td"),function(t){var n=i.element(t);if(!n.attr("ignore-cell")||"true"!==n.attr("ignore-cell")){var s=function(t){return n.attr("x-data-"+t)||n.attr("data-"+t)||n.attr(t)},l=function(t){var n=s(t);if(n){var r,i=function(t){return void 0!==r?r:e(n)(t)};return i.assign=function(t,i){var o=e(n);o.assign?o.assign(t.$parent,i):r=i},i}},u=s("title-alt")||s("title");u&&n.attr("data-title-text","{{"+u+"}}"),o.push({id:a++,title:l("title"),titleAlt:l("title-alt"),headerTitle:l("header-title"),sortable:l("sortable"),class:l("header-class"),filter:l("filter"),groupable:l("groupable"),headerTemplateURL:l("header"),filterData:l("filter-data"),show:n.attr("ng-if")?l("ng-if"):void 0}),(r||n.attr("ng-if"))&&function(t,e){n.attr("x-data-"+t)?n.attr("x-data-"+t,e):n.attr("data"+t)?n.attr("data"+t,e):n.attr(t,e)}("ng-if","$columns["+(o.length-1)+"].show(this)")}}),function(t,e,n,r){t.$columns=o=r.buildColumns(o),r.setupBindingsToInternalScope(n.ngTable),r.loadFilterData(o),r.compileDirectiveTemplates()}}}}var i=n(0);r.$inject=["$q","$parse"],e.ngTable=r},function(t,e,n){"use strict";function r(t){return null!=t&&i.isFunction(t.$new)}var i=n(0),o=function(){function t(){}return t.prototype.buildColumn=function(t,e,n){var o=Object.create(t),a=this.createDefaults();for(var s in a)!function(s){void 0===o[s]&&(o[s]=a[s]),i.isFunction(o[s])||((d=function e(){return 1!==arguments.length||r(arguments[0])?t[s]:void e.assign(null,arguments[0])}).assign=function(e,n){t[s]=n},o[s]=d);var l=o[s];if(o[s]=function(){if(1!==arguments.length||r(arguments[0])){var a=arguments[0]||e,s=Object.create(a);return i.extend(s,{$column:o,$columns:n}),l.call(t,s)}l.assign(e,arguments[0])},l.assign)o[s].assign=l.assign;else{var u,c=o[s],d=function t(){return 1!==arguments.length||r(arguments[0])?void 0!=u?u:c.apply(o,arguments):void t.assign(null,arguments[0])};d.assign=function(t,e){u=e},o[s]=d}}(s);return o},t.prototype.createDefaults=function(){return{class:this.createGetterSetter(""),filter:this.createGetterSetter(!1),groupable:this.createGetterSetter(!1),filterData:i.noop,headerTemplateURL:this.createGetterSetter(!1),headerTitle:this.createGetterSetter(""),sortable:this.createGetterSetter(!1),show:this.createGetterSetter(!0),title:this.createGetterSetter(""),titleAlt:this.createGetterSetter("")}},t.prototype.createGetterSetter=function(t){var e=t,n=function t(){return 1!==arguments.length||r(arguments[0])?e:void t.assign(null,arguments[0])};return n.assign=function(t,n){e=n},n},t.$inject=[],t}();e.NgTableColumn=o},function(t,e){"use strict";function n(t){function e(e,n,r){var i=t(r.ngTableColumnsBinding).assign;i&&e.$watch("$columns",function(t){var n=(t||[]).slice(0);i(e,n)})}return{restrict:"A",link:e}}n.$inject=["$parse"],e.ngTableColumnsBinding=n},function(t,e,n){"use strict";var r=n(0),i=n(1),o=function(){function t(t,e,n,r,o,a,s,l,u){this.$scope=t,this.$parse=n,this.$compile=r,this.$attrs=o,this.$element=a,this.$document=s,this.ngTableColumn=l,this.ngTableEventsChannel=u,t.$filterRow={disabled:!1},t.$loading=!1,t.hasOwnProperty("params")||(t.params=new i.NgTableParams(!0)),this.delayFilter=function(){var t;return function(n,r){e.cancel(t),t=e(n,r)}}(),this.$scope.$watch("params",function(t,e){t!==e&&t&&t.reload()},!1),this.subscribeToTableEvents()}return Object.defineProperty(t.prototype,"hasVisibleFilterColumn",{get:function(){var t=this;return!!this.$scope.$columns&&this.some(this.$scope.$columns,function(e){return e.show(t.$scope)&&!!e.filter(t.$scope)})},enumerable:!0,configurable:!0}),t.prototype.onDataReloadStatusChange=function(t){if(t&&!this.$scope.params.hasErrorState()){var e=this.$scope.params,n=e.settings().filterOptions;if(e.hasFilterChanges()){var r=function(){e.page(1),e.reload()};n.filterDelay?this.delayFilter(r,n.filterDelay):r()}else e.reload()}},t.prototype.compileDirectiveTemplates=function(){if(!this.$element.hasClass("ng-table")){this.$scope.templates={header:this.$attrs.templateHeader?this.$attrs.templateHeader:"ng-table/header.html",pagination:this.$attrs.templatePagination?this.$attrs.templatePagination:"ng-table/pager.html"},this.$element.addClass("ng-table");var t=null,e=!1;r.forEach(this.$element.children(),function(t){"THEAD"===t.tagName&&(e=!0)}),e||(t=r.element('<thead ng-include="templates.header"></thead>',this.$document),this.$element.prepend(t));var n=r.element('<div ng-table-pagination="params" template-url="templates.pagination"></div>',this.$document);this.$element.after(n),t&&this.$compile(t)(this.$scope),this.$compile(n)(this.$scope)}},t.prototype.loadFilterData=function(t){function e(t){return t&&"object"==typeof t&&"function"==typeof t.then}var n=this;r.forEach(t,function(t){var i=t.filterData(n.$scope);return i?e(i)?(delete t.filterData,i.then(function(e){r.isArray(e)||r.isFunction(e)||r.isObject(e)||(e=[]),t.data=e})):t.data=i:void delete t.filterData})},t.prototype.buildColumns=function(t){var e=this,n=[];return(t||[]).forEach(function(t){n.push(e.ngTableColumn.buildColumn(t,e.$scope,n))}),n},t.prototype.parseNgTableDynamicExpr=function(t){if(!t||t.indexOf(" with ")>-1){var e=t.split(/\s+with\s+/);return{tableParams:e[0],columns:e[1]}}throw new Error("Parse error (expected example: ng-table-dynamic='tableParams with cols')")},t.prototype.setupBindingsToInternalScope=function(t){var e=this;this.$scope.$watch(t,function(t){void 0!==t&&(e.$scope.params=t)},!1),this.setupFilterRowBindingsToInternalScope(),this.setupGroupRowBindingsToInternalScope()},t.prototype.setupFilterRowBindingsToInternalScope=function(){var t=this;this.$attrs.showFilter?this.$scope.$parent.$watch(this.$attrs.showFilter,function(e){t.$scope.show_filter=e}):this.$scope.$watch(function(){return t.hasVisibleFilterColumn},function(e){t.$scope.show_filter=e}),this.$attrs.disableFilter&&this.$scope.$parent.$watch(this.$attrs.disableFilter,function(e){t.$scope.$filterRow.disabled=e})},t.prototype.setupGroupRowBindingsToInternalScope=function(){var t=this;if(this.$scope.$groupRow={show:!1},this.$attrs.showGroup){var e=this.$parse(this.$attrs.showGroup);this.$scope.$parent.$watch(e,function(e){t.$scope.$groupRow.show=e}),e.assign&&this.$scope.$watch("$groupRow.show",function(n){e.assign(t.$scope.$parent,n)})}else this.$scope.$watch("params.hasGroup()",function(e){t.$scope.$groupRow.show=e})},t.prototype.getVisibleColumns=function(){var t=this;return(this.$scope.$columns||[]).filter(function(e){return e.show(t.$scope)})},t.prototype.subscribeToTableEvents=function(){var t=this;this.$scope.$watch("params.isDataReloadRequired()",function(e){t.onDataReloadStatusChange(e)}),this.ngTableEventsChannel.onAfterReloadData(function(e,n){var r=t.getVisibleColumns();e.hasGroup()?(t.$scope.$groups=n||[],t.$scope.$groups.visibleColumnCount=r.length):(t.$scope.$data=n||[],t.$scope.$data.visibleColumnCount=r.length)},this.$scope,function(e){return t.$scope.params===e}),this.ngTableEventsChannel.onPagesChanged(function(e,n){t.$scope.pages=n},this.$scope,function(e){return t.$scope.params===e})},t.prototype.some=function(t,e){for(var n=!1,r=0;r<t.length;r++)if(e(t[r])){n=!0;break}return n},t.$inject=["$scope","$timeout","$parse","$compile","$attrs","$element","$document","ngTableColumn","ngTableEventsChannel"],t}();e.NgTableController=o},function(t,e,n){"use strict";function r(){return{restrict:"A",priority:1001,scope:!0,controller:"ngTableController",compile:function(t){var e;if(i.forEach(t.find("tr"),function(t){(t=i.element(t)).hasClass("ng-table-group")||e||(e=t)}),e)return i.forEach(e.find("td"),function(t){var e=i.element(t);(function(t){return e.attr("x-data-"+t)||e.attr("data-"+t)||e.attr(t)})("title")||e.attr("data-title-text","{{$columns[$index].titleAlt(this) || $columns[$index].title(this)}}"),e.attr("ng-if")||e.attr("ng-if","$columns[$index].show(this)")}),function(t,e,n,r){var i=r.parseNgTableDynamicExpr(n.ngTableDynamic);r.setupBindingsToInternalScope(i.tableParams),r.compileDirectiveTemplates(),t.$watchCollection(i.columns,function(e){t.$columns=r.buildColumns(e),r.loadFilterData(t.$columns)})}}}}var i=n(0);r.$inject=[],e.ngTableDynamic=r},function(t,e,n){"use strict";var r=n(0),i=function(){function t(t){var e=this;this.defaultConfig={defaultBaseUrl:"ng-table/filters/",defaultExt:".html",aliasUrls:{}},this.$get=function(){return t.instantiate(o,{config:r.copy(e.config)})},this.$get.$inject=[],this.resetConfigs()}return t.prototype.resetConfigs=function(){this.config=this.defaultConfig},t.prototype.setConfig=function(t){var e=r.extend({},this.config,t);e.aliasUrls=r.extend({},this.config.aliasUrls,t.aliasUrls),this.config=e},t.$inject=["$injector"],t}();e.NgTableFilterConfigProvider=i;var o=function(){function t(t){this.config=t}return t.prototype.getUrlForAlias=function(t,e){return this.config.aliasUrls[t]||this.config.defaultBaseUrl+t+this.config.defaultExt},t.prototype.getTemplateUrl=function(t,e){var n;return n="string"!=typeof t?t.id:t,-1!==n.indexOf("/")?n:this.getUrlForAlias(n,e)},t.$inject=["config"],t}();e.NgTableFilterConfig=o},function(t,e,n){"use strict";function r(){return{restrict:"E",replace:!0,templateUrl:i,scope:!0,controller:"ngTableFilterRowController",controllerAs:"$ctrl"}}var i=n(42);r.$inject=[],e.ngTableFilterRow=r},function(t,e){"use strict";var n=function(){function t(t,e){this.config=e,t.getFilterPlaceholderValue=this.getFilterPlaceholderValue.bind(this)}return t.prototype.getFilterCellCss=function(t,e){if("horizontal"!==e)return"s12";var n=Object.keys(t).length;return"s"+parseInt((12/n).toString(),10)},t.prototype.getFilterPlaceholderValue=function(t,e){return"string"==typeof t?"":t.placeholder},t.$inject=["$scope","ngTableFilterConfig"],t}();e.NgTableFilterRowController=n},function(t,e,n){"use strict";function r(){return{restrict:"E",replace:!0,templateUrl:i,scope:!0,controller:"ngTableGroupRowController",controllerAs:"$ctrl"}}var i=n(47);r.$inject=[],e.ngTableGroupRow=r},function(t,e){"use strict";var n=function(){function t(t){var e=this;this.$scope=t,this.groupFns=[],t.$watch("params.group()",function(t){e.setGroup(t)},!0)}return t.prototype.getGroupables=function(){var t=this,e=this.$scope.$columns.filter(function(e){return!!e.groupable(t.$scope)});return this.groupFns.concat(e)},t.prototype.getGroupTitle=function(t){return this.isGroupingFunc(t)?t.title:t.title(this.$scope)},t.prototype.getVisibleColumns=function(){var t=this;return this.$scope.$columns.filter(function(e){return e.show(t.$scope)})},t.prototype.groupBy=function(t){this.isSelectedGroup(t)?this.changeSortDirection():this.isGroupingFunc(t)?this.$scope.params.group(t):this.$scope.params.group(t.groupable(this.$scope))},t.prototype.isSelectedGroup=function(t){return this.isGroupingFunc(t)?t===this.$scope.$selGroup:t.groupable(this.$scope)===this.$scope.$selGroup},t.prototype.toggleDetail=function(){return this.$scope.params.settings().groupOptions.isExpanded=!this.$scope.params.settings().groupOptions.isExpanded,this.$scope.params.reload()},t.prototype.changeSortDirection=function(){var t;t=this.$scope.params.hasGroup(this.$scope.$selGroup,"asc")?"desc":this.$scope.params.hasGroup(this.$scope.$selGroup,"desc")?"":"asc",this.$scope.params.group(this.$scope.$selGroup,t)},t.prototype.findGroupColumn=function(t){var e=this;return this.$scope.$columns.filter(function(n){return n.groupable(e.$scope)===t})[0]},t.prototype.isGroupingFunc=function(t){return"function"==typeof t},t.prototype.setGroup=function(t){var e=this.findGroupColumn(this.$scope.$selGroup);if(e&&e.show.assign&&e.show.assign(this.$scope,!0),this.isGroupingFunc(t))this.groupFns=[t],this.$scope.$selGroup=t,this.$scope.$selGroupTitle=t.title;else{var n=Object.keys(t||{})[0],r=this.findGroupColumn(n);r&&(this.$scope.$selGroupTitle=r.title(this.$scope),this.$scope.$selGroup=n,r.show.assign&&r.show.assign(this.$scope,!1))}},t.$inject=["$scope"],t}();e.NgTableGroupRowController=n},function(t,e,n){"use strict";function r(t,e,n){return{restrict:"A",scope:{params:"=ngTablePagination",templateUrl:"="},replace:!1,link:function(r,o){n.onAfterReloadData(function(t){r.pages=t.generatePagesArray()},r,function(t){return t===r.params}),r.$watch("templateUrl",function(n){if(void 0!==n){var a=i.element('<div ng-include="templateUrl"></div>',e);o.append(a),t(a)(r)}})}}}var i=n(0);r.$inject=["$compile","$document","ngTableEventsChannel"],e.ngTablePagination=r},function(t,e){"use strict";function n(){return{restrict:"A",controller:r}}n.$inject=[],e.ngTableSelectFilterDs=n;var r=function(){function t(t,e,n,r){var i=this;this.$scope=t,this.$attrs=n,this.$q=r,this.$column=e(n.ngTableSelectFilterDs)(t),t.$watch(function(){return i.$column&&i.$column.data},function(){i.bindDataSource()})}return t.prototype.bindDataSource=function(){var t=this;this.getSelectListData(this.$column).then(function(e){e&&!t.hasEmptyOption(e)&&e.unshift({id:"",title:""}),e=e||[],t.$scope.$selectData=e})},t.prototype.hasEmptyOption=function(t){for(var e,n=0;n<t.length;n++){var r=t[n];if(r&&""===r.id){e=!0;break}}return e},t.prototype.getSelectListData=function(t){var e=t.data;return e instanceof Array?this.$q.when(e):this.$q.when(e&&e())},t.$inject=["$scope","$parse","$attrs","$q"],t}();e.NgTableSelectFilterDsController=r},function(t,e,n){"use strict";function r(){return{restrict:"E",replace:!0,templateUrl:i,scope:!0,controller:"ngTableSorterRowController",controllerAs:"$ctrl"}}var i=n(50);r.$inject=[],e.ngTableSorterRow=r},function(t,e){"use strict";var n=function(){function t(t){this.$scope=t}return t.prototype.sortBy=function(t,e){var n=t.sortable&&t.sortable();if(n&&"string"==typeof n){var r=this.$scope.params.settings().defaultSort,i="asc"===r?"desc":"asc",o=this.$scope.params.sorting()&&this.$scope.params.sorting()[n]&&this.$scope.params.sorting()[n]===r,a=e.ctrlKey||e.metaKey?this.$scope.params.sorting():{};a[n]=o?i:r,this.$scope.params.parameters({sorting:a})}},t.$inject=["$scope"],t}();e.NgTableSorterRowController=n},function(t,e){"use strict"},function(t,e){"use strict"},function(t,e){"use strict"},function(t,e){"use strict"},function(t,e,n){"use strict";var r=n(0),i=function(){function t(){function t(t,n){function i(n){var i=n.settings().filterOptions;return r.isFunction(i.filterFn)?i.filterFn:t(i.filterFilterName||e.filterFilterName)}function o(n){return t(e.sortingFilterName)}function a(t,e){if(!e.hasFilter())return t;var n=e.filter(!0),r=Object.keys(n).reduce(function(t,e){return t=c(t,n[e],e)},{});return i(e).call(e,t,r,e.settings().filterOptions.filterComparator)}function s(t,e){var n=t.slice((e.page()-1)*e.count(),e.page()*e.count());return e.total(t.length),n}function l(t,e){var n=e.orderBy(),r=o(e);return n.length?r(t,n):t}function u(t,e){if(null==t)return[];var i=r.extend({},d,e.settings().dataOptions),o=i.applyFilter?a(t,e):t;n.publishAfterDataFiltered(e,o);var u=i.applySort?l(o,e):o;return n.publishAfterDataSorted(e,u),i.applyPaging?s(u,e):u}function c(t,e,n){var r=n.split("."),i=t,o=r[r.length-1],a=i;return r.slice(0,r.length-1).forEach(function(t){a.hasOwnProperty(t)||(a[t]={}),a=a[t]}),a[o]=e,i}var d={applyFilter:!0,applySort:!0,applyPaging:!0};return u.applyPaging=s,u.getFilterFn=i,u.getOrderByFn=o,u}this.filterFilterName="filter",this.sortingFilterName="orderBy";var e=this;this.$get=t,t.$inject=["$filter","ngTableEventsChannel"]}return t}();e.NgTableDefaultGetDataProvider=i},function(t,e){"use strict"},function(t,e){"use strict"},function(t,e){"use strict"},function(t,e){"use strict"},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}r(n(33)),r(n(34)),r(n(35))},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}r(n(4)),r(n(6)),r(n(5)),r(n(38))},function(t,e,n){"use strict";function r(t,e){function n(n){var r,s=n.group(),l=void 0;if(a.isGroupingFun(s))r=s,l=s.sortDirection;else{var u=Object.keys(s)[0];l=s[u],r=function(t){return i(t,u)}}var c=n.settings(),d=c.dataOptions;c.dataOptions={applyPaging:!1};var h=c.getData;return t.when(h(n)).then(function(t){var i={};o.forEach(t,function(t){var e=r(t);i[e]=i[e]||{data:[],$hideRows:!c.groupOptions.isExpanded,value:e},i[e].data.push(t)});var s=[];for(var u in i)s.push(i[u]);return l&&(s=e.getOrderByFn()(s,a.convertSortToOrderBy({value:l}))),e.applyPaging(s,n)}).finally(function(){c.dataOptions=d})}return n}function i(t,e){var n;if(n="string"==typeof e?e.split("."):e,void 0!==t){if(0===n.length)return t;if(null!==t)return i(t[n[0]],n.slice(1))}}var o=n(0),a=n(11);r.$inject=["$q","ngTableDefaultGetData"],e.ngTableDefaultGetGroups=r},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}r(n(4)),r(n(6)),r(n(5))},function(t,e){"use strict"},function(t,e){"use strict"},function(t,e,n){var r="ng-table/filterRow.html";n(0).module("ng").run(["$templateCache",function(t){t.put(r,'<tr ng-show=show_filter class=ng-table-filters> <th data-title-text="{{$column.titleAlt(this) || $column.title(this)}}" ng-repeat="$column in $columns" ng-if=$column.show(this) class="filter {{$column.class(this)}}" ng-class="params.settings().filterOptions.filterLayout === \'horizontal\' ? \'filter-horizontal\' : \'\'"> <div ng-repeat="(name, filter) in $column.filter(this)" ng-include=$ctrl.config.getTemplateUrl(filter) class=filter-cell ng-class="[$ctrl.getFilterCellCss($column.filter(this), params.settings().filterOptions.filterLayout), $last ? \'last\' : \'\']"> </div> </th> </tr> ')}]),t.exports=r},function(t,e,n){var r="ng-table/filters/number.html";n(0).module("ng").run(["$templateCache",function(t){t.put(r,'<input type=number name={{name}} ng-disabled=$filterRow.disabled ng-model=params.filter()[name] class="input-filter form-control" placeholder="{{getFilterPlaceholderValue(filter, name)}}"/> ')}]),t.exports=r},function(t,e,n){var r="ng-table/filters/select-multiple.html";n(0).module("ng").run(["$templateCache",function(t){t.put(r,'<select ng-options="data.id as data.title for data in $column.data" ng-disabled=$filterRow.disabled multiple=multiple ng-multiple=true ng-model=params.filter()[name] class="filter filter-select-multiple form-control" name={{name}}> </select> ')}]),t.exports=r},function(t,e,n){var r="ng-table/filters/select.html";n(0).module("ng").run(["$templateCache",function(t){t.put(r,'<select ng-options="data.id as data.title for data in $selectData" ng-table-select-filter-ds=$column ng-disabled=$filterRow.disabled ng-model=params.filter()[name] class="filter filter-select form-control" name={{name}}> <option style=display:none value=""></option> </select> ')}]),t.exports=r},function(t,e,n){var r="ng-table/filters/text.html";n(0).module("ng").run(["$templateCache",function(t){t.put(r,'<input type=text name={{name}} ng-disabled=$filterRow.disabled ng-model=params.filter()[name] class="input-filter form-control" placeholder="{{getFilterPlaceholderValue(filter, name)}}"/> ')}]),t.exports=r},function(t,e,n){var r="ng-table/groupRow.html";n(0).module("ng").run(["$templateCache",function(t){t.put(r,'<tr ng-if=params.hasGroup() ng-show=$groupRow.show class=ng-table-group-header> <th colspan={{$ctrl.getVisibleColumns().length}} class=sortable ng-class="{\n                    \'sort-asc\': params.hasGroup($selGroup, \'asc\'),\n                    \'sort-desc\':params.hasGroup($selGroup, \'desc\')\n                  }"> <a href="" ng-click="isSelectorOpen = !isSelectorOpen" class=ng-table-group-selector> <strong class=sort-indicator>{{$selGroupTitle}}</strong> <button class="btn btn-default btn-xs ng-table-group-close" ng-click="$groupRow.show = false; $event.preventDefault(); $event.stopPropagation();"> <span class="glyphicon glyphicon-remove"></span> </button> <button class="btn btn-default btn-xs ng-table-group-toggle" ng-click="$ctrl.toggleDetail(); $event.preventDefault(); $event.stopPropagation();"> <span class=glyphicon ng-class="{\n                    \'glyphicon-resize-small\': params.settings().groupOptions.isExpanded,\n                    \'glyphicon-resize-full\': !params.settings().groupOptions.isExpanded\n                }"></span> </button> </a> <div class=list-group ng-if=isSelectorOpen> <a href="" class=list-group-item ng-repeat="group in $ctrl.getGroupables()" ng-click=$ctrl.groupBy(group)> <strong>{{ $ctrl.getGroupTitle(group)}}</strong> <strong ng-class="$ctrl.isSelectedGroup(group) && \'sort-indicator\'"></strong> </a> </div> </th> </tr> ')}]),t.exports=r},function(t,e,n){var r="ng-table/header.html";n(0).module("ng").run(["$templateCache",function(t){t.put(r,"<ng-table-group-row></ng-table-group-row> <ng-table-sorter-row></ng-table-sorter-row> <ng-table-filter-row></ng-table-filter-row> ")}]),t.exports=r},function(t,e,n){var r="ng-table/pager.html";n(0).module("ng").run(["$templateCache",function(t){t.put(r,'<div class="ng-cloak ng-table-pager" ng-if=params.data.length> <div ng-if=params.settings().counts.length class="ng-table-counts btn-group pull-right"> <button ng-repeat="count in params.settings().counts" type=button ng-class="{\'active\':params.count() == count}" ng-click=params.count(count) class="btn btn-default"> <span ng-bind=count></span> </button> </div> <ul ng-if=pages.length class="pagination ng-table-pagination"> <li class=page-item ng-class="{\'disabled\': !page.active && !page.current, \'active\': page.current}" ng-repeat="page in pages" ng-switch=page.type> <a class=page-link ng-switch-when=prev ng-click=params.page(page.number) href="">&laquo;</a> <a class=page-link ng-switch-when=first ng-click=params.page(page.number) href=""><span ng-bind=page.number></span></a> <a class=page-link ng-switch-when=page ng-click=params.page(page.number) href=""><span ng-bind=page.number></span></a> <a class=page-link ng-switch-when=more ng-click=params.page(page.number) href="">&#8230;</a> <a class=page-link ng-switch-when=last ng-click=params.page(page.number) href=""><span ng-bind=page.number></span></a> <a class=page-link ng-switch-when=next ng-click=params.page(page.number) href="">&raquo;</a> </li> </ul> </div> ')}]),t.exports=r},function(t,e,n){var r="ng-table/sorterRow.html";n(0).module("ng").run(["$templateCache",function(t){t.put(r,"<tr class=ng-table-sort-header> <th title={{$column.headerTitle(this)}} ng-repeat=\"$column in $columns\" ng-class=\"{\n                    'sortable': $column.sortable(this),\n                    'sort-asc': params.sorting()[$column.sortable(this)]=='asc',\n                    'sort-desc': params.sorting()[$column.sortable(this)]=='desc'\n                  }\" ng-click=\"$ctrl.sortBy($column, $event)\" ng-if=$column.show(this) ng-init=\"template = $column.headerTemplateURL(this)\" class=\"header {{$column.class(this)}}\"> <div ng-if=!template class=ng-table-header ng-class=\"{'sort-indicator': params.settings().sortingIndicator == 'div'}\"> <span ng-bind=$column.title(this) ng-class=\"{'sort-indicator': params.settings().sortingIndicator == 'span'}\"></span> </div> <div ng-if=template ng-include=template></div> </th> </tr> ")}]),t.exports=r},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}var i=n(0),o=n(1),a=n(2),s=i.module("ngTable",[o.ngTableCoreModule.name,a.ngTableBrowserModule.name]);e.ngTableModule=s,r(n(1)),r(n(2))}])}),function(t){function e(e,n,r,i){var o=e.text(),a=o.split(n),s="";a.length&&(t(a).each(function(t,e){s+='<span class="'+r+(t+1)+'" aria-hidden="true">'+e+"</span>"+i}),e.attr("aria-label",o).empty().append(s))}var n={init:function(){return this.each(function(){e(t(this),"","char","")})},words:function(){return this.each(function(){e(t(this)," ","word"," ")})},lines:function(){return this.each(function(){var n="eefec303079ad17405c889e092e105b0";e(t(this).children("br").replaceWith(n).end(),n,"line","")})}};t.fn.lettering=function(e){return e&&n[e]?n[e].apply(this,[].slice.call(arguments,1)):"letters"!==e&&e?(t.error("Method "+e+" does not exist on jQuery.lettering"),this):n.init.apply(this,[].slice.call(arguments,0))}}(jQuery),function(t){"use strict";function e(e){return/In/.test(e)||t.inArray(e,t.fn.textillate.defaults.inEffects)>=0}function n(e){return/Out/.test(e)||t.inArray(e,t.fn.textillate.defaults.outEffects)>=0}function r(t){return"true"!==t&&"false"!==t?t:"true"===t}function i(e){var n=e.attributes||[],i={};return n.length?(t.each(n,function(t,e){var n=e.nodeName.replace(/delayscale/,"delayScale");/^data-in-*/.test(n)?(i.in=i.in||{},i.in[n.replace(/data-in-/,"")]=r(e.nodeValue)):/^data-out-*/.test(n)?(i.out=i.out||{},i.out[n.replace(/data-out-/,"")]=r(e.nodeValue)):/^data-*/.test(n)&&(i[n.replace(/data-/,"")]=r(e.nodeValue))}),i):i}function o(t){for(var e,n,r=t.length;r;e=parseInt(Math.random()*r),n=t[--r],t[r]=t[e],t[e]=n);return t}function a(t,e,n){t.addClass("animated "+e).css("visibility","visible").show(),t.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){t.removeClass("animated "+e),n&&n()})}function s(r,i,s){var l=r.length;l?(i.shuffle&&(r=o(r)),i.reverse&&(r=r.toArray().reverse()),t.each(r,function(r,o){function u(){e(i.effect)?c.css("visibility","visible"):n(i.effect)&&c.css("visibility","hidden"),!(l-=1)&&s&&s()}var c=t(o),d=i.sync?i.delay:i.delay*r*i.delayScale;c.text()?setTimeout(function(){a(c,i.effect,u)},d):u()})):s&&s()}var l=function(r,o){var a=this,l=t(r);a.init=function(){a.$texts=l.find(o.selector),a.$texts.length||(a.$texts=t('<ul class="texts"><li>'+l.html()+"</li></ul>"),l.html(a.$texts)),a.$texts.hide(),a.$current=t("<span>").html(a.$texts.find(":first-child").html()).prependTo(l),e(o.in.effect)?a.$current.css("visibility","hidden"):n(o.out.effect)&&a.$current.css("visibility","visible"),a.setOptions(o),a.timeoutRun=null,setTimeout(function(){a.options.autoStart&&a.start()},a.options.initialDelay)},a.setOptions=function(t){a.options=t},a.triggerEvent=function(e){var n=t.Event(e+".tlt");return l.trigger(n,a),n},a.in=function(r,o){r=r||0;var l,u=a.$texts.find(":nth-child("+((r||0)+1)+")"),c=t.extend(!0,{},a.options,u.length?i(u[0]):{});u.addClass("current"),a.triggerEvent("inAnimationBegin"),a.$current.html(u.html()).lettering("words"),"char"==a.options.type&&a.$current.find('[class^="word"]').css({display:"inline-block","-webkit-transform":"translate3d(0,0,0)","-moz-transform":"translate3d(0,0,0)","-o-transform":"translate3d(0,0,0)",transform:"translate3d(0,0,0)"}).each(function(){t(this).lettering()}),l=a.$current.find('[class^="'+a.options.type+'"]').css("display","inline-block"),e(c.in.effect)?l.css("visibility","hidden"):n(c.in.effect)&&l.css("visibility","visible"),a.currentIndex=r,s(l,c.in,function(){a.triggerEvent("inAnimationEnd"),c.in.callback&&c.in.callback(),o&&o(a)})},a.out=function(e){var n=a.$texts.find(":nth-child("+((a.currentIndex||0)+1)+")"),r=a.$current.find('[class^="'+a.options.type+'"]'),o=t.extend(!0,{},a.options,n.length?i(n[0]):{});a.triggerEvent("outAnimationBegin"),s(r,o.out,function(){n.removeClass("current"),a.triggerEvent("outAnimationEnd"),o.out.callback&&o.out.callback(),e&&e(a)})},a.start=function(t){setTimeout(function(){a.triggerEvent("start"),function t(e){a.in(e,function(){var n=a.$texts.children().length;e+=1,!a.options.loop&&e>=n?(a.options.callback&&a.options.callback(),a.triggerEvent("end")):(e%=n,a.timeoutRun=setTimeout(function(){a.out(function(){t(e)})},a.options.minDisplayTime))})}(t||0)},a.options.initialDelay)},a.stop=function(){a.timeoutRun&&(clearInterval(a.timeoutRun),a.timeoutRun=null)},a.init()};t.fn.textillate=function(e,n){return this.each(function(){var r=t(this),o=r.data("textillate"),a=t.extend(!0,{},t.fn.textillate.defaults,i(this),"object"==typeof e&&e);o?"string"==typeof e?o[e].apply(o,[].concat(n)):o.setOptions.call(o,a):r.data("textillate",o=new l(this,a))})},t.fn.textillate.defaults={selector:".texts",loop:!1,minDisplayTime:2e3,initialDelay:0,in:{effect:"fadeInLeftBig",delayScale:1.5,delay:50,sync:!1,reverse:!1,shuffle:!1,callback:function(){}},out:{effect:"hinge",delayScale:1.5,delay:50,sync:!1,reverse:!1,shuffle:!1,callback:function(){}},autoStart:!0,inEffects:[],outEffects:["hinge"],callback:function(){},type:"char"}}(jQuery),function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n||t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){},{}],2:[function(t,e,n){function r(t){if(t){var e=/^#([a-fA-F0-9]{3})$/,n=/^#([a-fA-F0-9]{6})$/,r=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,o=/(\w+)/,a=[0,0,0],s=1,l=t.match(e);if(l){l=l[1];for(u=0;u<a.length;u++)a[u]=parseInt(l[u]+l[u],16)}else if(l=t.match(n)){l=l[1];for(u=0;u<a.length;u++)a[u]=parseInt(l.slice(2*u,2*u+2),16)}else if(l=t.match(r)){for(u=0;u<a.length;u++)a[u]=parseInt(l[u+1]);s=parseFloat(l[4])}else if(l=t.match(i)){for(u=0;u<a.length;u++)a[u]=Math.round(2.55*parseFloat(l[u+1]));s=parseFloat(l[4])}else if(l=t.match(o)){if("transparent"==l[1])return[0,0,0,0];if(!(a=x[l[1]]))return}for(var u=0;u<a.length;u++)a[u]=y(a[u],0,255);return s=s||0==s?y(s,0,1):1,a[3]=s,a}}function i(t){if(t){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=t.match(e);if(n){var r=parseFloat(n[4]);return[y(parseInt(n[1]),0,360),y(parseFloat(n[2]),0,100),y(parseFloat(n[3]),0,100),y(isNaN(r)?1:r,0,1)]}}}function o(t){if(t){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=t.match(e);if(n){var r=parseFloat(n[4]);return[y(parseInt(n[1]),0,360),y(parseFloat(n[2]),0,100),y(parseFloat(n[3]),0,100),y(isNaN(r)?1:r,0,1)]}}}function a(t){var e=r(t);return e&&e.slice(0,3)}function s(t){var e=i(t);return e&&e.slice(0,3)}function l(t){var e=r(t);return e?e[3]:(e=i(t))?e[3]:(e=o(t))?e[3]:void 0}function u(t){return"#"+b(t[0])+b(t[1])+b(t[2])}function c(t,e){return e<1||t[3]&&t[3]<1?d(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function d(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function h(t,e){return e<1||t[3]&&t[3]<1?f(t,e):"rgb("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%)"}function f(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")"}function p(t,e){return e<1||t[3]&&t[3]<1?g(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}function g(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function m(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"}function v(t){return _[t.slice(0,3)]}function y(t,e,n){return Math.min(Math.max(e,t),n)}function b(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var x=t("color-name");e.exports={getRgba:r,getHsla:i,getRgb:a,getHsl:s,getHwb:o,getAlpha:l,hexString:u,rgbString:c,rgbaString:d,percentString:h,percentaString:f,hslString:p,hslaString:g,hwbString:m,keyword:v};var _={};for(var w in x)_[x[w]]=w},{"color-name":6}],3:[function(t,e,n){var r=t("color-convert"),i=t("chartjs-color-string"),o=function(t){if(t instanceof o)return t;if(!(this instanceof o))return new o(t);this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var e;if("string"==typeof t)if(e=i.getRgba(t))this.setValues("rgb",e);else if(e=i.getHsla(t))this.setValues("hsl",e);else{if(!(e=i.getHwb(t)))throw new Error('Unable to parse color from string "'+t+'"');this.setValues("hwb",e)}else if("object"==typeof t)if(void 0!==(e=t).r||void 0!==e.red)this.setValues("rgb",e);else if(void 0!==e.l||void 0!==e.lightness)this.setValues("hsl",e);else if(void 0!==e.v||void 0!==e.value)this.setValues("hsv",e);else if(void 0!==e.w||void 0!==e.whiteness)this.setValues("hwb",e);else{if(void 0===e.c&&void 0===e.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(t));this.setValues("cmyk",e)}};o.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t=(t%=360)<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return i.hexString(this.values.rgb)},rgbString:function(){return i.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return i.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return i.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return i.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return i.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return i.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return i.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],n=0;n<t.length;n++){var r=t[n]/255;e[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,n=(e[0]+t)%360;return e[0]=n<0?360+n:n,this.setValues("hsl",e),this},mix:function(t,e){var n=this,r=t,i=void 0===e?.5:e,o=2*i-1,a=n.alpha()-r.alpha(),s=((o*a==-1?o:(o+a)/(1+o*a))+1)/2,l=1-s;return this.rgb(s*n.red()+l*r.red(),s*n.green()+l*r.green(),s*n.blue()+l*r.blue()).alpha(n.alpha()*i+r.alpha()*(1-i))},toJSON:function(){return this.rgb()},clone:function(){var t,e,n=new o,r=this.values,i=n.values;for(var a in r)r.hasOwnProperty(a)&&(t=r[a],"[object Array]"===(e={}.toString.call(t))?i[a]=t.slice(0):"[object Number]"===e?i[a]=t:console.error("unexpected color value:",t));return n}},o.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},o.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o.prototype.getValues=function(t){for(var e=this.values,n={},r=0;r<t.length;r++)n[t.charAt(r)]=e[t][r];return 1!==e.alpha&&(n.a=e.alpha),n},o.prototype.setValues=function(t,e){var n,i=this.values,o=this.spaces,a=this.maxes,s=1;if("alpha"===t)s=e;else if(e.length)i[t]=e.slice(0,t.length),s=e[t.length];else if(void 0!==e[t.charAt(0)]){for(n=0;n<t.length;n++)i[t][n]=e[t.charAt(n)];s=e.a}else if(void 0!==e[o[t][0]]){var l=o[t];for(n=0;n<t.length;n++)i[t][n]=e[l[n]];s=e.alpha}if(i.alpha=Math.max(0,Math.min(1,void 0===s?i.alpha:s)),"alpha"===t)return!1;var u;for(n=0;n<t.length;n++)u=Math.max(0,Math.min(a[t][n],i[t][n])),i[t][n]=Math.round(u);for(var c in o)c!==t&&(i[c]=r[t][c](i[t]));return!0},o.prototype.setSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n),this)},o.prototype.setChannel=function(t,e,n){var r=this.values[t];return void 0===n?r[e]:n===r[e]?this:(r[e]=n,this.setValues(t,r),this)},"undefined"!=typeof window&&(window.Color=o),e.exports=o},{"chartjs-color-string":2,"color-convert":5}],4:[function(t,e,n){function i(t){var e,n,r,i=t[0]/255,o=t[1]/255,a=t[2]/255,s=Math.min(i,o,a),l=Math.max(i,o,a),u=l-s;return l==s?e=0:i==l?e=(o-a)/u:o==l?e=2+(a-i)/u:a==l&&(e=4+(i-o)/u),(e=Math.min(60*e,360))<0&&(e+=360),r=(s+l)/2,n=l==s?0:r<=.5?u/(l+s):u/(2-l-s),[e,100*n,100*r]}function o(t){var e,n,r,i=t[0],o=t[1],a=t[2],s=Math.min(i,o,a),l=Math.max(i,o,a),u=l-s;return n=0==l?0:u/l*1e3/10,l==s?e=0:i==l?e=(o-a)/u:o==l?e=2+(a-i)/u:a==l&&(e=4+(i-o)/u),(e=Math.min(60*e,360))<0&&(e+=360),r=l/255*1e3/10,[e,n,r]}function a(t){var e=t[0],n=t[1],r=t[2];return[i(t)[0],100*(1/255*Math.min(e,Math.min(n,r))),100*(r=1-1/255*Math.max(e,Math.max(n,r)))]}function s(t){var e,n,r,i,o=t[0]/255,a=t[1]/255,s=t[2]/255;return i=Math.min(1-o,1-a,1-s),e=(1-o-i)/(1-i)||0,n=(1-a-i)/(1-i)||0,r=(1-s-i)/(1-i)||0,[100*e,100*n,100*r,100*i]}function l(t){return X[JSON.stringify(t)]}function u(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*e+.7152*n+.0722*r),100*(.0193*e+.1192*n+.9505*r)]}function c(t){var e,n,r,i=u(t),o=i[0],a=i[1],s=i[2];return o/=95.047,a/=100,s/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,e=116*a-16,n=500*(o-a),r=200*(a-s),[e,n,r]}function d(t){return I(c(t))}function h(t){var e,n,r,i,o,a=t[0]/360,s=t[1]/100,l=t[2]/100;if(0==s)return o=255*l,[o,o,o];e=2*l-(n=l<.5?l*(1+s):l+s-l*s),i=[0,0,0];for(var u=0;u<3;u++)(r=a+1/3*-(u-1))<0&&r++,r>1&&r--,o=6*r<1?e+6*(n-e)*r:2*r<1?n:3*r<2?e+(n-e)*(2/3-r)*6:e,i[u]=255*o;return i}function f(t){var e,n,r=t[0],i=t[1]/100,o=t[2]/100;return 0===o?[0,0,0]:(o*=2,i*=o<=1?o:2-o,n=(o+i)/2,e=2*i/(o+i),[r,100*e,100*n])}function p(t){return a(h(t))}function m(t){return s(h(t))}function v(t){return l(h(t))}function y(t){var e=t[0]/60,n=t[1]/100,r=t[2]/100,i=Math.floor(e)%6,o=e-Math.floor(e),a=255*r*(1-n),s=255*r*(1-n*o),l=255*r*(1-n*(1-o)),r=255*r;switch(i){case 0:return[r,l,a];case 1:return[s,r,a];case 2:return[a,r,l];case 3:return[a,s,r];case 4:return[l,a,r];case 5:return[r,a,s]}}function x(t){var e,n,r=t[0],i=t[1]/100,o=t[2]/100;return n=(2-i)*o,e=i*o,e/=n<=1?n:2-n,e=e||0,n/=2,[r,100*e,100*n]}function _(t){return a(y(t))}function w(t){return s(y(t))}function C(t){return l(y(t))}function k(t){var e,n,i,o,a=t[0]/360,s=t[1]/100,l=t[2]/100,u=s+l;switch(u>1&&(s/=u,l/=u),e=Math.floor(6*a),n=1-l,i=6*a-e,0!=(1&e)&&(i=1-i),o=s+i*(n-s),e){default:case 6:case 0:r=n,g=o,b=s;break;case 1:r=o,g=n,b=s;break;case 2:r=s,g=n,b=o;break;case 3:r=s,g=o,b=n;break;case 4:r=o,g=s,b=n;break;case 5:r=n,g=s,b=o}return[255*r,255*g,255*b]}function S(t){return i(k(t))}function M(t){return o(k(t))}function T(t){return s(k(t))}function $(t){return l(k(t))}function D(t){var e,n,r,i=t[0]/100,o=t[1]/100,a=t[2]/100,s=t[3]/100;return e=1-Math.min(1,i*(1-s)+s),n=1-Math.min(1,o*(1-s)+s),r=1-Math.min(1,a*(1-s)+s),[255*e,255*n,255*r]}function E(t){return i(D(t))}function L(t){return o(D(t))}function A(t){return a(D(t))}function F(t){return l(D(t))}function P(t){var e,n,r,i=t[0]/100,o=t[1]/100,a=t[2]/100;return e=3.2406*i+-1.5372*o+-.4986*a,n=-.9689*i+1.8758*o+.0415*a,r=.0557*i+-.204*o+1.057*a,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,e=Math.min(Math.max(0,e),1),n=Math.min(Math.max(0,n),1),r=Math.min(Math.max(0,r),1),[255*e,255*n,255*r]}function R(t){var e,n,r,i=t[0],o=t[1],a=t[2];return i/=95.047,o/=100,a/=108.883,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,e=116*o-16,n=500*(i-o),r=200*(o-a),[e,n,r]}function O(t){return I(R(t))}function N(t){var e,n,r,i,o=t[0],a=t[1],s=t[2];return o<=8?i=(n=100*o/903.3)/100*7.787+16/116:(n=100*Math.pow((o+16)/116,3),i=Math.pow(n/100,1/3)),e=e/95.047<=.008856?e=95.047*(a/500+i-16/116)/7.787:95.047*Math.pow(a/500+i,3),r=r/108.883<=.008859?r=108.883*(i-s/200-16/116)/7.787:108.883*Math.pow(i-s/200,3),[e,n,r]}function I(t){var e,n,r,i=t[0],o=t[1],a=t[2];return e=Math.atan2(a,o),(n=360*e/2/Math.PI)<0&&(n+=360),r=Math.sqrt(o*o+a*a),[i,r,n]}function Y(t){return P(N(t))}function V(t){var e,n,r,i=t[0],o=t[1];return r=t[2]/360*2*Math.PI,e=o*Math.cos(r),n=o*Math.sin(r),[i,e,n]}function j(t){return N(V(t))}function H(t){return Y(V(t))}function z(t){return J[t]}function W(t){return i(z(t))}function B(t){return o(z(t))}function U(t){return a(z(t))}function G(t){return s(z(t))}function q(t){return c(z(t))}function K(t){return u(z(t))}e.exports={rgb2hsl:i,rgb2hsv:o,rgb2hwb:a,rgb2cmyk:s,rgb2keyword:l,rgb2xyz:u,rgb2lab:c,rgb2lch:d,hsl2rgb:h,hsl2hsv:f,hsl2hwb:p,hsl2cmyk:m,hsl2keyword:v,hsv2rgb:y,hsv2hsl:x,hsv2hwb:_,hsv2cmyk:w,hsv2keyword:C,hwb2rgb:k,hwb2hsl:S,hwb2hsv:M,hwb2cmyk:T,hwb2keyword:$,cmyk2rgb:D,cmyk2hsl:E,cmyk2hsv:L,cmyk2hwb:A,cmyk2keyword:F,keyword2rgb:z,keyword2hsl:W,keyword2hsv:B,keyword2hwb:U,keyword2cmyk:G,keyword2lab:q,keyword2xyz:K,xyz2rgb:P,xyz2lab:R,xyz2lch:O,lab2xyz:N,lab2rgb:Y,lab2lch:I,lch2lab:V,lch2xyz:j,lch2rgb:H};var J={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},X={};for(var Z in J)X[JSON.stringify(J[Z])]=Z},{}],5:[function(t,e,n){var r=t("./conversions"),i=function(){return new u};for(var o in r){i[o+"Raw"]=function(t){return function(e){return"number"==typeof e&&(e=Array.prototype.slice.call(arguments)),r[t](e)}}(o);var a=/(\w+)2(\w+)/.exec(o),s=a[1],l=a[2];(i[s]=i[s]||{})[l]=i[o]=function(t){return function(e){"number"==typeof e&&(e=Array.prototype.slice.call(arguments));var n=r[t](e);if("string"==typeof n||void 0===n)return n;for(var i=0;i<n.length;i++)n[i]=Math.round(n[i]);return n}}(o)}var u=function(){this.convs={}};u.prototype.routeSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n))},u.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},u.prototype.getValues=function(t){var e=this.convs[t];if(!e){var n=this.space,r=this.convs[n];e=i[n][t](r),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){u.prototype[t]=function(e){return this.routeSpace(t,arguments)}}),e.exports=i},{"./conversions":4}],6:[function(t,e,n){e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(t,e,n){var r=t("./core/core.js")();t("./core/core.helpers")(r),t("./core/core.element")(r),t("./core/core.animation")(r),t("./core/core.controller")(r),t("./core/core.datasetController")(r),t("./core/core.layoutService")(r),t("./core/core.legend")(r),t("./core/core.plugin.js")(r),t("./core/core.scale")(r),t("./core/core.scaleService")(r),t("./core/core.title")(r),t("./core/core.tooltip")(r),t("./elements/element.arc")(r),t("./elements/element.line")(r),t("./elements/element.point")(r),t("./elements/element.rectangle")(r),t("./scales/scale.category")(r),t("./scales/scale.linear")(r),t("./scales/scale.logarithmic")(r),t("./scales/scale.radialLinear")(r),t("./scales/scale.time")(r),t("./controllers/controller.bar")(r),t("./controllers/controller.bubble")(r),t("./controllers/controller.doughnut")(r),t("./controllers/controller.line")(r),t("./controllers/controller.polarArea")(r),t("./controllers/controller.radar")(r),t("./charts/Chart.Bar")(r),t("./charts/Chart.Bubble")(r),t("./charts/Chart.Doughnut")(r),t("./charts/Chart.Line")(r),t("./charts/Chart.PolarArea")(r),t("./charts/Chart.Radar")(r),t("./charts/Chart.Scatter")(r),window.Chart=e.exports=r},{"./charts/Chart.Bar":8,"./charts/Chart.Bubble":9,"./charts/Chart.Doughnut":10,"./charts/Chart.Line":11,"./charts/Chart.PolarArea":12,"./charts/Chart.Radar":13,"./charts/Chart.Scatter":14,"./controllers/controller.bar":15,"./controllers/controller.bubble":16,"./controllers/controller.doughnut":17,"./controllers/controller.line":18,"./controllers/controller.polarArea":19,"./controllers/controller.radar":20,"./core/core.animation":21,"./core/core.controller":22,"./core/core.datasetController":23,"./core/core.element":24,"./core/core.helpers":25,"./core/core.js":26,"./core/core.layoutService":27,"./core/core.legend":28,"./core/core.plugin.js":29,"./core/core.scale":30,"./core/core.scaleService":31,"./core/core.title":32,"./core/core.tooltip":33,"./elements/element.arc":34,"./elements/element.line":35,"./elements/element.point":36,"./elements/element.rectangle":37,"./scales/scale.category":38,"./scales/scale.linear":39,"./scales/scale.logarithmic":40,"./scales/scale.radialLinear":41,"./scales/scale.time":42}],8:[function(t,e,n){"use strict";e.exports=function(t){t.Bar=function(e,n){return n.type="bar",new t(e,n)}}},{}],9:[function(t,e,n){"use strict";e.exports=function(t){t.Bubble=function(e,n){return n.type="bubble",new t(e,n)}}},{}],10:[function(t,e,n){"use strict";e.exports=function(t){t.Doughnut=function(e,n){return n.type="doughnut",new t(e,n)}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t){t.Line=function(e,n){return n.type="line",new t(e,n)}}},{}],12:[function(t,e,n){"use strict";e.exports=function(t){t.PolarArea=function(e,n){return n.type="polarArea",new t(e,n)}}},{}],13:[function(t,e,n){"use strict";e.exports=function(t){t.Radar=function(e,n){return n.options=t.helpers.configMerge({aspectRatio:1},n.options),n.type="radar",new t(e,n)}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t){var e={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{callbacks:{title:function(t,e){return""},label:function(t,e){return"("+t.xLabel+", "+t.yLabel+")"}}}};t.defaults.scatter=e,t.controllers.scatter=t.controllers.line,t.Scatter=function(e,n){return n.type="scatter",new t(e,n)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},t.controllers.bar=t.DatasetController.extend({dataElementType:t.elements.Rectangle,initialize:function(e,n){t.DatasetController.prototype.initialize.call(this,e,n),this.getMeta().bar=!0},getBarCount:function(){var t=0;return e.each(this.chart.data.datasets,function(e,n){this.chart.getDatasetMeta(n).bar&&this.chart.isDatasetVisible(n)&&++t},this),t},update:function(t){e.each(this.getMeta().data,function(e,n){this.updateElement(e,n,t)},this)},updateElement:function(t,n,r){var i=this.getMeta(),o=this.getScaleForId(i.xAxisID),a=this.getScaleForId(i.yAxisID),s=a.getBasePixel(),l=this.chart.options.elements.rectangle,u=t.custom||{},c=this.getDataset();e.extend(t,{_xScale:o,_yScale:a,_datasetIndex:this.index,_index:n,_model:{x:this.calculateBarX(n,this.index),y:r?s:this.calculateBarY(n,this.index),label:this.chart.data.labels[n],datasetLabel:c.label,base:r?s:this.calculateBarBase(this.index,n),width:this.calculateBarWidth(n),backgroundColor:u.backgroundColor?u.backgroundColor:e.getValueAtIndexOrDefault(c.backgroundColor,n,l.backgroundColor),borderSkipped:u.borderSkipped?u.borderSkipped:l.borderSkipped,borderColor:u.borderColor?u.borderColor:e.getValueAtIndexOrDefault(c.borderColor,n,l.borderColor),borderWidth:u.borderWidth?u.borderWidth:e.getValueAtIndexOrDefault(c.borderWidth,n,l.borderWidth)}}),t.pivot()},calculateBarBase:function(t,e){var n=this.getMeta(),r=this.getScaleForId(n.yAxisID),i=0;if(r.options.stacked){var o=this.chart,a=o.data.datasets;if(a[t].data[e]<0)for(var s=0;s<t;s++){var l=a[s],u=o.getDatasetMeta(s);u.bar&&u.yAxisID===r.id&&o.isDatasetVisible(s)&&(i+=l.data[e]<0?l.data[e]:0)}else for(var c=0;c<t;c++){var d=a[c],h=o.getDatasetMeta(c);h.bar&&h.yAxisID===r.id&&o.isDatasetVisible(c)&&(i+=d.data[e]>0?d.data[e]:0)}return r.getPixelForValue(i)}return r.getBasePixel()},getRuler:function(t){var e,n=this.getMeta(),r=this.getScaleForId(n.xAxisID),i=this.getBarCount(),o=(e="category"===r.options.type?r.getPixelForTick(t+1)-r.getPixelForTick(t):r.width/r.ticks.length)*r.options.categoryPercentage,a=(e-e*r.options.categoryPercentage)/2,s=o/i;return r.ticks.length!==this.chart.data.labels.length&&(s*=r.ticks.length/this.chart.data.labels.length),{datasetCount:i,tickWidth:e,categoryWidth:o,categorySpacing:a,fullBarWidth:s,barWidth:s*r.options.barPercentage,barSpacing:s-s*r.options.barPercentage}},calculateBarWidth:function(t){var e=this.getScaleForId(this.getMeta().xAxisID),n=this.getRuler(t);return e.options.stacked?n.categoryWidth:n.barWidth},getBarIndex:function(t){var e,n=0;for(e=0;e<t;++e)this.chart.getDatasetMeta(e).bar&&this.chart.isDatasetVisible(e)&&++n;return n},calculateBarX:function(t,e){var n=this.getMeta(),r=this.getScaleForId(n.xAxisID),i=this.getBarIndex(e),o=this.getRuler(t),a=r.getPixelForValue(null,t,e,this.chart.isCombo);return a-=this.chart.isCombo?o.tickWidth/2:0,r.options.stacked?a+o.categoryWidth/2+o.categorySpacing:a+o.barWidth/2+o.categorySpacing+o.barWidth*i+o.barSpacing/2+o.barSpacing*i},calculateBarY:function(t,e){var n=this.getMeta(),r=this.getScaleForId(n.yAxisID),i=this.getDataset().data[t];if(r.options.stacked){for(var o=0,a=0,s=0;s<e;s++){var l=this.chart.data.datasets[s],u=this.chart.getDatasetMeta(s);u.bar&&u.yAxisID===r.id&&this.chart.isDatasetVisible(s)&&(l.data[t]<0?a+=l.data[t]||0:o+=l.data[t]||0)}return i<0?r.getPixelForValue(a+i):r.getPixelForValue(o+i)}return r.getPixelForValue(i)},draw:function(t){var n=t||1;e.each(this.getMeta().data,function(t,e){var r=this.getDataset().data[e];null===r||void 0===r||isNaN(r)||t.transition(n).draw()},this)},setHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],r=t._index,i=t.custom||{},o=t._model;o.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:e.getValueAtIndexOrDefault(n.hoverBackgroundColor,r,e.getHoverColor(o.backgroundColor)),o.borderColor=i.hoverBorderColor?i.hoverBorderColor:e.getValueAtIndexOrDefault(n.hoverBorderColor,r,e.getHoverColor(o.borderColor)),o.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:e.getValueAtIndexOrDefault(n.hoverBorderWidth,r,o.borderWidth)},removeHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],r=t._index,i=t.custom||{},o=t._model,a=this.chart.options.elements.rectangle;o.backgroundColor=i.backgroundColor?i.backgroundColor:e.getValueAtIndexOrDefault(n.backgroundColor,r,a.backgroundColor),o.borderColor=i.borderColor?i.borderColor:e.getValueAtIndexOrDefault(n.borderColor,r,a.borderColor),o.borderWidth=i.borderWidth?i.borderWidth:e.getValueAtIndexOrDefault(n.borderWidth,r,a.borderWidth)}}),t.defaults.horizontalBar={hover:{mode:"label"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(t,e){var n="";return t.length>0&&(t[0].yLabel?n=t[0].yLabel:e.labels.length>0&&t[0].index<e.labels.length&&(n=e.labels[t[0].index])),n},label:function(t,e){return(e.datasets[t.datasetIndex].label||"")+": "+t.xLabel}}}},t.controllers.horizontalBar=t.controllers.bar.extend({updateElement:function(t,n,r,i){var o=this.getMeta(),a=this.getScaleForId(o.xAxisID),s=this.getScaleForId(o.yAxisID),l=a.getBasePixel(),u=t.custom||{},c=this.getDataset(),d=this.chart.options.elements.rectangle;e.extend(t,{_xScale:a,_yScale:s,_datasetIndex:this.index,_index:n,_model:{x:r?l:this.calculateBarX(n,this.index),y:this.calculateBarY(n,this.index),label:this.chart.data.labels[n],datasetLabel:c.label,base:r?l:this.calculateBarBase(this.index,n),height:this.calculateBarHeight(n),backgroundColor:u.backgroundColor?u.backgroundColor:e.getValueAtIndexOrDefault(c.backgroundColor,n,d.backgroundColor),borderSkipped:u.borderSkipped?u.borderSkipped:d.borderSkipped,borderColor:u.borderColor?u.borderColor:e.getValueAtIndexOrDefault(c.borderColor,n,d.borderColor),borderWidth:u.borderWidth?u.borderWidth:e.getValueAtIndexOrDefault(c.borderWidth,n,d.borderWidth)},draw:function(){function t(t){return l[(u+t)%4]}var e=this._chart.ctx,n=this._view,r=n.height/2,i=n.y-r,o=n.y+r,a=n.base-(n.base-n.x),s=n.borderWidth/2;n.borderWidth&&(i+=s,o-=s,a+=s),e.beginPath(),e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth;var l=[[n.base,o],[n.base,i],[a,i],[a,o]],u=["bottom","left","top","right"].indexOf(n.borderSkipped,0);-1===u&&(u=0),e.moveTo.apply(e,t(0));for(var c=1;c<4;c++)e.lineTo.apply(e,t(c));e.fill(),n.borderWidth&&e.stroke()},inRange:function(t,e){var n=this._view,r=!1;return n&&(r=n.x<n.base?e>=n.y-n.height/2&&e<=n.y+n.height/2&&t>=n.x&&t<=n.base:e>=n.y-n.height/2&&e<=n.y+n.height/2&&t>=n.base&&t<=n.x),r}}),t.pivot()},calculateBarBase:function(t,e){var n=this.getMeta(),r=this.getScaleForId(n.xAxisID),i=0;if(r.options.stacked){if(this.chart.data.datasets[t].data[e]<0)for(var o=0;o<t;o++){var a=this.chart.data.datasets[o],s=this.chart.getDatasetMeta(o);s.bar&&s.xAxisID===r.id&&this.chart.isDatasetVisible(o)&&(i+=a.data[e]<0?a.data[e]:0)}else for(var l=0;l<t;l++){var u=this.chart.data.datasets[l],c=this.chart.getDatasetMeta(l);c.bar&&c.xAxisID===r.id&&this.chart.isDatasetVisible(l)&&(i+=u.data[e]>0?u.data[e]:0)}return r.getPixelForValue(i)}return r.getBasePixel()},getRuler:function(t){var e,n=this.getMeta(),r=this.getScaleForId(n.yAxisID),i=this.getBarCount(),o=(e="category"===r.options.type?r.getPixelForTick(t+1)-r.getPixelForTick(t):r.width/r.ticks.length)*r.options.categoryPercentage,a=(e-e*r.options.categoryPercentage)/2,s=o/i;return r.ticks.length!==this.chart.data.labels.length&&(s*=r.ticks.length/this.chart.data.labels.length),{datasetCount:i,tickHeight:e,categoryHeight:o,categorySpacing:a,fullBarHeight:s,barHeight:s*r.options.barPercentage,barSpacing:s-s*r.options.barPercentage}},calculateBarHeight:function(t){var e=this.getScaleForId(this.getMeta().yAxisID),n=this.getRuler(t);return e.options.stacked?n.categoryHeight:n.barHeight},calculateBarX:function(t,e){var n=this.getMeta(),r=this.getScaleForId(n.xAxisID),i=this.getDataset().data[t];if(r.options.stacked){for(var o=0,a=0,s=0;s<e;s++){var l=this.chart.data.datasets[s],u=this.chart.getDatasetMeta(s);u.bar&&u.xAxisID===r.id&&this.chart.isDatasetVisible(s)&&(l.data[t]<0?a+=l.data[t]||0:o+=l.data[t]||0)}return i<0?r.getPixelForValue(a+i):r.getPixelForValue(o+i)}return r.getPixelForValue(i)},calculateBarY:function(t,e){var n=this.getMeta(),r=this.getScaleForId(n.yAxisID),i=this.getBarIndex(e),o=this.getRuler(t),a=r.getPixelForValue(null,t,e,this.chart.isCombo);return a-=this.chart.isCombo?o.tickHeight/2:0,r.options.stacked?a+o.categoryHeight/2+o.categorySpacing:a+o.barHeight/2+o.categorySpacing+o.barHeight*i+o.barSpacing/2+o.barSpacing*i}})}},{}],16:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(t,e){return""},label:function(t,e){var n=e.datasets[t.datasetIndex].label||"",r=e.datasets[t.datasetIndex].data[t.index];return n+": ("+r.x+", "+r.y+", "+r.r+")"}}}},t.controllers.bubble=t.DatasetController.extend({dataElementType:t.elements.Point,update:function(t){var n=this.getMeta().data;e.each(n,function(e,n){this.updateElement(e,n,t)},this)},updateElement:function(t,n,r){var i=this.getMeta(),o=this.getScaleForId(i.xAxisID),a=this.getScaleForId(i.yAxisID),s=t.custom||{},l=this.getDataset(),u=l.data[n],c=this.chart.options.elements.point;e.extend(t,{_xScale:o,_yScale:a,_datasetIndex:this.index,_index:n,_model:{x:r?o.getPixelForDecimal(.5):o.getPixelForValue(u,n,this.index,this.chart.isCombo),y:r?a.getBasePixel():a.getPixelForValue(u,n,this.index),radius:r?0:s.radius?s.radius:this.getRadius(u),backgroundColor:s.backgroundColor?s.backgroundColor:e.getValueAtIndexOrDefault(l.backgroundColor,n,c.backgroundColor),borderColor:s.borderColor?s.borderColor:e.getValueAtIndexOrDefault(l.borderColor,n,c.borderColor),borderWidth:s.borderWidth?s.borderWidth:e.getValueAtIndexOrDefault(l.borderWidth,n,c.borderWidth),hitRadius:s.hitRadius?s.hitRadius:e.getValueAtIndexOrDefault(l.hitRadius,n,c.hitRadius)}});var d=t._model;d.skip=s.skip?s.skip:isNaN(d.x)||isNaN(d.y),t.pivot()},getRadius:function(t){return t.r||this.chart.options.elements.point.radius},setHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],r=t._index,i=t.custom||{},o=t._model;o.radius=i.hoverRadius?i.hoverRadius:e.getValueAtIndexOrDefault(n.hoverRadius,r,this.chart.options.elements.point.hoverRadius)+this.getRadius(this.getDataset().data[t._index]),o.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:e.getValueAtIndexOrDefault(n.hoverBackgroundColor,r,e.getHoverColor(o.backgroundColor)),o.borderColor=i.hoverBorderColor?i.hoverBorderColor:e.getValueAtIndexOrDefault(n.hoverBorderColor,r,e.getHoverColor(o.borderColor)),o.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:e.getValueAtIndexOrDefault(n.hoverBorderWidth,r,o.borderWidth)},removeHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],r=t._index,i=t.custom||{},o=t._model,a=this.chart.options.elements.point;o.radius=i.radius?i.radius:this.getRadius(n.data[t._index]),o.backgroundColor=i.backgroundColor?i.backgroundColor:e.getValueAtIndexOrDefault(n.backgroundColor,r,a.backgroundColor),o.borderColor=i.borderColor?i.borderColor:e.getValueAtIndexOrDefault(n.borderColor,r,a.borderColor),o.borderWidth=i.borderWidth?i.borderWidth:e.getValueAtIndexOrDefault(n.borderWidth,r,a.borderWidth)}})}},{}],17:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n=t.defaults;n.doughnut={animation:{animateRotate:!0,animateScale:!1},aspectRatio:1,hover:{mode:"single"},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,r=n.datasets,i=n.labels;if(r.length)for(var o=0;o<r[0].data.length;++o)e.push('<li><span style="background-color:'+r[0].backgroundColor[o]+'"></span>'),i[o]&&e.push(i[o]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var n=t.data;return n.labels.length&&n.datasets.length?n.labels.map(function(r,i){var o=t.getDatasetMeta(0),a=n.datasets[0],s=o.data[i].custom||{},l=e.getValueAtIndexOrDefault,u=t.options.elements.arc;return{text:r,fillStyle:s.backgroundColor?s.backgroundColor:l(a.backgroundColor,i,u.backgroundColor),strokeStyle:s.borderColor?s.borderColor:l(a.borderColor,i,u.borderColor),lineWidth:s.borderWidth?s.borderWidth:l(a.borderWidth,i,u.borderWidth),hidden:isNaN(a.data[i])||o.data[i].hidden,index:i}}):[]}},onClick:function(t,e){var n,r,i,o=e.index,a=this.chart;for(n=0,r=(a.data.datasets||[]).length;n<r;++n)(i=a.getDatasetMeta(n)).data[o].hidden=!i.data[o].hidden;a.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+e.datasets[t.datasetIndex].data[t.index]}}}},n.pie=e.clone(n.doughnut),e.extend(n.pie,{cutoutPercentage:0}),t.controllers.doughnut=t.controllers.pie=t.DatasetController.extend({dataElementType:t.elements.Arc,linkScales:e.noop,getRingIndex:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&++e;return e},update:function(t){var n=this,r=n.chart,i=r.chartArea,o=r.options,a=o.elements.arc,s=i.right-i.left-a.borderWidth,l=i.bottom-i.top-a.borderWidth,u=Math.min(s,l),c={x:0,y:0},d=n.getMeta(),h=o.cutoutPercentage,f=o.circumference;if(f<2*Math.PI){var p=o.rotation%(2*Math.PI),g=(p+=2*Math.PI*(p>=Math.PI?-1:p<-Math.PI?1:0))+f,m={x:Math.cos(p),y:Math.sin(p)},v={x:Math.cos(g),y:Math.sin(g)},y=p<=0&&0<=g||p<=2*Math.PI&&2*Math.PI<=g,b=p<=.5*Math.PI&&.5*Math.PI<=g||p<=2.5*Math.PI&&2.5*Math.PI<=g,x=p<=-Math.PI&&-Math.PI<=g||p<=Math.PI&&Math.PI<=g,_=p<=.5*-Math.PI&&.5*-Math.PI<=g||p<=1.5*Math.PI&&1.5*Math.PI<=g,w=h/100,C={x:x?-1:Math.min(m.x*(m.x<0?1:w),v.x*(v.x<0?1:w)),y:_?-1:Math.min(m.y*(m.y<0?1:w),v.y*(v.y<0?1:w))},k={x:y?1:Math.max(m.x*(m.x>0?1:w),v.x*(v.x>0?1:w)),y:b?1:Math.max(m.y*(m.y>0?1:w),v.y*(v.y>0?1:w))},S={width:.5*(k.x-C.x),height:.5*(k.y-C.y)};u=Math.min(s/S.width,l/S.height),c={x:-.5*(k.x+C.x),y:-.5*(k.y+C.y)}}r.outerRadius=Math.max(u/2,0),r.innerRadius=Math.max(h?r.outerRadius/100*h:1,0),r.radiusLength=(r.outerRadius-r.innerRadius)/r.getVisibleDatasetCount(),r.offsetX=c.x*r.outerRadius,r.offsetY=c.y*r.outerRadius,d.total=n.calculateTotal(),n.outerRadius=r.outerRadius-r.radiusLength*n.getRingIndex(n.index),n.innerRadius=n.outerRadius-r.radiusLength,e.each(d.data,function(e,r){n.updateElement(e,r,t)})},updateElement:function(t,n,r){var i=this,o=i.chart,a=o.chartArea,s=o.options,l=s.animation,u=s.elements.arc,c=(a.left+a.right)/2,d=(a.top+a.bottom)/2,h=s.rotation,f=s.rotation,p=i.getDataset(),g=r&&l.animateRotate?0:t.hidden?0:i.calculateCircumference(p.data[n])*(s.circumference/(2*Math.PI)),m=r&&l.animateScale?0:i.innerRadius,v=r&&l.animateScale?0:i.outerRadius,y=t.custom||{},b=e.getValueAtIndexOrDefault;e.extend(t,{_datasetIndex:i.index,_index:n,_model:{x:c+o.offsetX,y:d+o.offsetY,startAngle:h,endAngle:f,circumference:g,outerRadius:v,innerRadius:m,label:b(p.label,n,o.data.labels[n])}});var x=t._model;x.backgroundColor=y.backgroundColor?y.backgroundColor:b(p.backgroundColor,n,u.backgroundColor),x.hoverBackgroundColor=y.hoverBackgroundColor?y.hoverBackgroundColor:b(p.hoverBackgroundColor,n,u.hoverBackgroundColor),x.borderWidth=y.borderWidth?y.borderWidth:b(p.borderWidth,n,u.borderWidth),x.borderColor=y.borderColor?y.borderColor:b(p.borderColor,n,u.borderColor),r&&l.animateRotate||(x.startAngle=0===n?s.rotation:i.getMeta().data[n-1]._model.endAngle,x.endAngle=x.startAngle+x.circumference),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},calculateTotal:function(){var t,n=this.getDataset(),r=this.getMeta(),i=0;return e.each(r.data,function(e,r){t=n.data[r],isNaN(t)||e.hidden||(i+=Math.abs(t))}),i},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?2*Math.PI*(t/e):0}})}},{}],18:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.line={showLines:!0,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},t.controllers.line=t.DatasetController.extend({datasetElementType:t.elements.Line,dataElementType:t.elements.Point,addElementAndReset:function(e){var n=this,r=n.chart.options;t.DatasetController.prototype.addElementAndReset.call(n,e),r.showLines&&0!==r.elements.line.tension&&n.updateBezierControlPoints()},update:function(t){var n,r,i,o,a=this,s=a.getMeta(),l=s.dataset,u=s.data||[],c=a.chart.options,d=c.elements.line,h=a.getScaleForId(s.yAxisID);for(c.showLines&&(i=a.getDataset(),o=l.custom||{},void 0!==i.tension&&void 0===i.lineTension&&(i.lineTension=i.tension),l._scale=h,l._datasetIndex=a.index,l._children=u,l._model={tension:o.tension?o.tension:e.getValueOrDefault(i.lineTension,d.tension),backgroundColor:o.backgroundColor?o.backgroundColor:i.backgroundColor||d.backgroundColor,borderWidth:o.borderWidth?o.borderWidth:i.borderWidth||d.borderWidth,borderColor:o.borderColor?o.borderColor:i.borderColor||d.borderColor,borderCapStyle:o.borderCapStyle?o.borderCapStyle:i.borderCapStyle||d.borderCapStyle,borderDash:o.borderDash?o.borderDash:i.borderDash||d.borderDash,borderDashOffset:o.borderDashOffset?o.borderDashOffset:i.borderDashOffset||d.borderDashOffset,borderJoinStyle:o.borderJoinStyle?o.borderJoinStyle:i.borderJoinStyle||d.borderJoinStyle,fill:o.fill?o.fill:void 0!==i.fill?i.fill:d.fill,scaleTop:h.top,scaleBottom:h.bottom,scaleZero:h.getBasePixel()},l.pivot()),n=0,r=u.length;n<r;++n)a.updateElement(u[n],n,t);c.showLines&&0!==d.tension&&a.updateBezierControlPoints()},getPointBackgroundColor:function(t,n){var r=this.chart.options.elements.point.backgroundColor,i=this.getDataset(),o=t.custom||{};return o.backgroundColor?r=o.backgroundColor:i.pointBackgroundColor?r=e.getValueAtIndexOrDefault(i.pointBackgroundColor,n,r):i.backgroundColor&&(r=i.backgroundColor),r},getPointBorderColor:function(t,n){var r=this.chart.options.elements.point.borderColor,i=this.getDataset(),o=t.custom||{};return o.borderColor?r=o.borderColor:i.pointBorderColor?r=e.getValueAtIndexOrDefault(i.pointBorderColor,n,r):i.borderColor&&(r=i.borderColor),r},getPointBorderWidth:function(t,n){var r=this.chart.options.elements.point.borderWidth,i=this.getDataset(),o=t.custom||{};return o.borderWidth?r=o.borderWidth:i.pointBorderWidth?r=e.getValueAtIndexOrDefault(i.pointBorderWidth,n,r):i.borderWidth&&(r=i.borderWidth),r},updateElement:function(t,n,r){var i,o,a=this,s=a.getMeta(),l=t.custom||{},u=a.getDataset(),c=a.index,d=u.data[n],h=a.getScaleForId(s.yAxisID),f=a.getScaleForId(s.xAxisID),p=a.chart.options.elements.point;void 0!==u.radius&&void 0===u.pointRadius&&(u.pointRadius=u.radius),void 0!==u.hitRadius&&void 0===u.pointHitRadius&&(u.pointHitRadius=u.hitRadius),i=f.getPixelForValue(d,n,c,a.chart.isCombo),o=r?h.getBasePixel():a.calculatePointY(d,n,c,a.chart.isCombo),t._xScale=f,t._yScale=h,t._datasetIndex=c,t._index=n,t._model={x:i,y:o,skip:l.skip||isNaN(i)||isNaN(o),radius:l.radius||e.getValueAtIndexOrDefault(u.pointRadius,n,p.radius),pointStyle:l.pointStyle||e.getValueAtIndexOrDefault(u.pointStyle,n,p.pointStyle),backgroundColor:a.getPointBackgroundColor(t,n),borderColor:a.getPointBorderColor(t,n),borderWidth:a.getPointBorderWidth(t,n),tension:s.dataset._model?s.dataset._model.tension:0,hitRadius:l.hitRadius||e.getValueAtIndexOrDefault(u.pointHitRadius,n,p.hitRadius)}},calculatePointY:function(t,e,n,r){var i,o,a=this,s=a.chart,l=a.getMeta(),u=a.getScaleForId(l.yAxisID),c=0,d=0;if(u.options.stacked){for(i=0;i<n;i++)o=s.data.datasets[i],"line"===s.getDatasetMeta(i).type&&s.isDatasetVisible(i)&&(o.data[e]<0?d+=o.data[e]||0:c+=o.data[e]||0);return t<0?u.getPixelForValue(d+t):u.getPixelForValue(c+t)}return u.getPixelForValue(t)},updateBezierControlPoints:function(){var t,n,r,i,o,a=this.getMeta(),s=this.chart.chartArea,l=a.data||[];for(t=0,n=l.length;t<n;++t)i=(r=l[t])._model,o=e.splineCurve(e.previousItem(l,t)._model,i,e.nextItem(l,t)._model,a.dataset._model.tension),i.controlPointPreviousX=Math.max(Math.min(o.previous.x,s.right),s.left),i.controlPointPreviousY=Math.max(Math.min(o.previous.y,s.bottom),s.top),i.controlPointNextX=Math.max(Math.min(o.next.x,s.right),s.left),i.controlPointNextY=Math.max(Math.min(o.next.y,s.bottom),s.top),r.pivot()},draw:function(t){var e,n,r=this.getMeta(),i=r.data||[],o=t||1;for(e=0,n=i.length;e<n;++e)i[e].transition(o);for(this.chart.options.showLines&&r.dataset.transition(o).draw(),e=0,n=i.length;e<n;++e)i[e].draw()},setHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],r=t._index,i=t.custom||{},o=t._model;o.radius=i.hoverRadius||e.getValueAtIndexOrDefault(n.pointHoverRadius,r,this.chart.options.elements.point.hoverRadius),o.backgroundColor=i.hoverBackgroundColor||e.getValueAtIndexOrDefault(n.pointHoverBackgroundColor,r,e.getHoverColor(o.backgroundColor)),o.borderColor=i.hoverBorderColor||e.getValueAtIndexOrDefault(n.pointHoverBorderColor,r,e.getHoverColor(o.borderColor)),o.borderWidth=i.hoverBorderWidth||e.getValueAtIndexOrDefault(n.pointHoverBorderWidth,r,o.borderWidth)},removeHoverStyle:function(t){var n=this,r=n.chart.data.datasets[t._datasetIndex],i=t._index,o=t.custom||{},a=t._model;void 0!==r.radius&&void 0===r.pointRadius&&(r.pointRadius=r.radius),a.radius=o.radius||e.getValueAtIndexOrDefault(r.pointRadius,i,n.chart.options.elements.point.radius),a.backgroundColor=n.getPointBackgroundColor(t,i),a.borderColor=n.getPointBorderColor(t,i),a.borderWidth=n.getPointBorderWidth(t,i)}})}},{}],19:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.polarArea={scale:{type:"radialLinear",lineArc:!0},animation:{animateRotate:!0,animateScale:!0},aspectRatio:1,legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,r=n.datasets,i=n.labels;if(r.length)for(var o=0;o<r[0].data.length;++o)e.push('<li><span style="background-color:'+r[0].backgroundColor[o]+'">'),i[o]&&e.push(i[o]),e.push("</span></li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var n=t.data;return n.labels.length&&n.datasets.length?n.labels.map(function(r,i){var o=t.getDatasetMeta(0),a=n.datasets[0],s=o.data[i].custom||{},l=e.getValueAtIndexOrDefault,u=t.options.elements.arc;return{text:r,fillStyle:s.backgroundColor?s.backgroundColor:l(a.backgroundColor,i,u.backgroundColor),strokeStyle:s.borderColor?s.borderColor:l(a.borderColor,i,u.borderColor),lineWidth:s.borderWidth?s.borderWidth:l(a.borderWidth,i,u.borderWidth),hidden:isNaN(a.data[i])||o.data[i].hidden,index:i}}):[]}},onClick:function(t,e){var n,r,i,o=e.index,a=this.chart;for(n=0,r=(a.data.datasets||[]).length;n<r;++n)(i=a.getDatasetMeta(n)).data[o].hidden=!i.data[o].hidden;a.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}},t.controllers.polarArea=t.DatasetController.extend({dataElementType:t.elements.Arc,linkScales:e.noop,update:function(t){var n=this,r=n.chart,i=r.chartArea,o=this.getMeta(),a=r.options,s=a.elements.arc,l=Math.min(i.right-i.left,i.bottom-i.top);r.outerRadius=Math.max((l-s.borderWidth/2)/2,0),r.innerRadius=Math.max(a.cutoutPercentage?r.outerRadius/100*a.cutoutPercentage:1,0),r.radiusLength=(r.outerRadius-r.innerRadius)/r.getVisibleDatasetCount(),n.outerRadius=r.outerRadius-r.radiusLength*n.index,n.innerRadius=n.outerRadius-r.radiusLength,o.count=n.countVisibleElements(),e.each(o.data,function(e,r){n.updateElement(e,r,t)})},updateElement:function(t,n,r){for(var i=this,o=i.chart,a=o.chartArea,s=i.getDataset(),l=o.options,u=l.animation,c=l.elements.arc,d=t.custom||{},h=o.scale,f=e.getValueAtIndexOrDefault,p=o.data.labels,g=i.calculateCircumference(s.data[n]),m=(a.left+a.right)/2,v=(a.top+a.bottom)/2,y=0,b=i.getMeta(),x=0;x<n;++x)isNaN(s.data[x])||b.data[x].hidden||++y;var _=t.hidden?0:h.getDistanceFromCenterForValue(s.data[n]),w=-.5*Math.PI+g*y,C=w+(t.hidden?0:g),k={x:m,y:v,innerRadius:0,outerRadius:u.animateScale?0:h.getDistanceFromCenterForValue(s.data[n]),startAngle:u.animateRotate?-.5*Math.PI:w,endAngle:u.animateRotate?-.5*Math.PI:C,backgroundColor:d.backgroundColor?d.backgroundColor:f(s.backgroundColor,n,c.backgroundColor),borderWidth:d.borderWidth?d.borderWidth:f(s.borderWidth,n,c.borderWidth),borderColor:d.borderColor?d.borderColor:f(s.borderColor,n,c.borderColor),label:f(p,n,p[n])};e.extend(t,{_datasetIndex:i.index,_index:n,_scale:h,_model:r?k:{x:m,y:v,innerRadius:0,outerRadius:_,startAngle:w,endAngle:C,backgroundColor:d.backgroundColor?d.backgroundColor:f(s.backgroundColor,n,c.backgroundColor),borderWidth:d.borderWidth?d.borderWidth:f(s.borderWidth,n,c.borderWidth),borderColor:d.borderColor?d.borderColor:f(s.borderColor,n,c.borderColor),label:f(p,n,p[n])}}),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},countVisibleElements:function(){var t=this.getDataset(),n=this.getMeta(),r=0;return e.each(n.data,function(e,n){isNaN(t.data[n])||e.hidden||r++}),r},calculateCircumference:function(t){var e=this.getMeta().count;return e>0&&!isNaN(t)?2*Math.PI/e:0}})}},{}],20:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.radar={scale:{type:"radialLinear"},elements:{line:{tension:0}}},t.controllers.radar=t.DatasetController.extend({datasetElementType:t.elements.Line,dataElementType:t.elements.Point,linkScales:e.noop,addElementAndReset:function(e){t.DatasetController.prototype.addElementAndReset.call(this,e),this.updateBezierControlPoints()},update:function(t){var n=this.getMeta(),r=n.dataset,i=n.data,o=r.custom||{},a=this.getDataset(),s=this.chart.options.elements.line,l=this.chart.scale;void 0!==a.tension&&void 0===a.lineTension&&(a.lineTension=a.tension),e.extend(n.dataset,{_datasetIndex:this.index,_children:i,_loop:!0,_model:{tension:o.tension?o.tension:e.getValueOrDefault(a.lineTension,s.tension),backgroundColor:o.backgroundColor?o.backgroundColor:a.backgroundColor||s.backgroundColor,borderWidth:o.borderWidth?o.borderWidth:a.borderWidth||s.borderWidth,borderColor:o.borderColor?o.borderColor:a.borderColor||s.borderColor,fill:o.fill?o.fill:void 0!==a.fill?a.fill:s.fill,borderCapStyle:o.borderCapStyle?o.borderCapStyle:a.borderCapStyle||s.borderCapStyle,borderDash:o.borderDash?o.borderDash:a.borderDash||s.borderDash,borderDashOffset:o.borderDashOffset?o.borderDashOffset:a.borderDashOffset||s.borderDashOffset,borderJoinStyle:o.borderJoinStyle?o.borderJoinStyle:a.borderJoinStyle||s.borderJoinStyle,scaleTop:l.top,scaleBottom:l.bottom,scaleZero:l.getBasePosition()}}),n.dataset.pivot(),e.each(i,function(e,n){this.updateElement(e,n,t)},this),this.updateBezierControlPoints()},updateElement:function(t,n,r){var i=t.custom||{},o=this.getDataset(),a=this.chart.scale,s=this.chart.options.elements.point,l=a.getPointPositionForValue(n,o.data[n]);e.extend(t,{_datasetIndex:this.index,_index:n,_scale:a,_model:{x:r?a.xCenter:l.x,y:r?a.yCenter:l.y,tension:i.tension?i.tension:e.getValueOrDefault(o.tension,this.chart.options.elements.line.tension),radius:i.radius?i.radius:e.getValueAtIndexOrDefault(o.pointRadius,n,s.radius),backgroundColor:i.backgroundColor?i.backgroundColor:e.getValueAtIndexOrDefault(o.pointBackgroundColor,n,s.backgroundColor),borderColor:i.borderColor?i.borderColor:e.getValueAtIndexOrDefault(o.pointBorderColor,n,s.borderColor),borderWidth:i.borderWidth?i.borderWidth:e.getValueAtIndexOrDefault(o.pointBorderWidth,n,s.borderWidth),pointStyle:i.pointStyle?i.pointStyle:e.getValueAtIndexOrDefault(o.pointStyle,n,s.pointStyle),hitRadius:i.hitRadius?i.hitRadius:e.getValueAtIndexOrDefault(o.hitRadius,n,s.hitRadius)}}),t._model.skip=i.skip?i.skip:isNaN(t._model.x)||isNaN(t._model.y)},updateBezierControlPoints:function(){var t=this.chart.chartArea,n=this.getMeta();e.each(n.data,function(r,i){var o=r._model,a=e.splineCurve(e.previousItem(n.data,i,!0)._model,o,e.nextItem(n.data,i,!0)._model,o.tension);o.controlPointPreviousX=Math.max(Math.min(a.previous.x,t.right),t.left),o.controlPointPreviousY=Math.max(Math.min(a.previous.y,t.bottom),t.top),o.controlPointNextX=Math.max(Math.min(a.next.x,t.right),t.left),o.controlPointNextY=Math.max(Math.min(a.next.y,t.bottom),t.top),r.pivot()},this)},draw:function(t){var n=this.getMeta(),r=t||1;e.each(n.data,function(t,e){t.transition(r)}),n.dataset.transition(r).draw(),e.each(n.data,function(t){t.draw()})},setHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],r=t.custom||{},i=t._index,o=t._model;o.radius=r.hoverRadius?r.hoverRadius:e.getValueAtIndexOrDefault(n.pointHoverRadius,i,this.chart.options.elements.point.hoverRadius),o.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:e.getValueAtIndexOrDefault(n.pointHoverBackgroundColor,i,e.getHoverColor(o.backgroundColor)),o.borderColor=r.hoverBorderColor?r.hoverBorderColor:e.getValueAtIndexOrDefault(n.pointHoverBorderColor,i,e.getHoverColor(o.borderColor)),o.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:e.getValueAtIndexOrDefault(n.pointHoverBorderWidth,i,o.borderWidth)},removeHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],r=t.custom||{},i=t._index,o=t._model,a=this.chart.options.elements.point;o.radius=r.radius?r.radius:e.getValueAtIndexOrDefault(n.radius,i,a.radius),o.backgroundColor=r.backgroundColor?r.backgroundColor:e.getValueAtIndexOrDefault(n.pointBackgroundColor,i,a.backgroundColor),o.borderColor=r.borderColor?r.borderColor:e.getValueAtIndexOrDefault(n.pointBorderColor,i,a.borderColor),o.borderWidth=r.borderWidth?r.borderWidth:e.getValueAtIndexOrDefault(n.pointBorderWidth,i,a.borderWidth)}})}},{}],21:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:e.noop,onComplete:e.noop},t.Animation=t.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),t.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(t,e,n,r){r||(t.animating=!0);for(var i=0;i<this.animations.length;++i)if(this.animations[i].chartInstance===t)return void(this.animations[i].animationObject=e);this.animations.push({chartInstance:t,animationObject:e}),1===this.animations.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var n=e.findIndex(this.animations,function(e){return e.chartInstance===t});-1!==n&&(this.animations.splice(n,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=e.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=Date.now(),e=0;this.dropFrames>1&&(e=Math.floor(this.dropFrames),this.dropFrames=this.dropFrames%1);for(var n=0;n<this.animations.length;)null===this.animations[n].animationObject.currentStep&&(this.animations[n].animationObject.currentStep=0),this.animations[n].animationObject.currentStep+=1+e,this.animations[n].animationObject.currentStep>this.animations[n].animationObject.numSteps&&(this.animations[n].animationObject.currentStep=this.animations[n].animationObject.numSteps),this.animations[n].animationObject.render(this.animations[n].chartInstance,this.animations[n].animationObject),this.animations[n].animationObject.onAnimationProgress&&this.animations[n].animationObject.onAnimationProgress.call&&this.animations[n].animationObject.onAnimationProgress.call(this.animations[n].chartInstance,this.animations[n]),this.animations[n].animationObject.currentStep===this.animations[n].animationObject.numSteps?(this.animations[n].animationObject.onAnimationComplete&&this.animations[n].animationObject.onAnimationComplete.call&&this.animations[n].animationObject.onAnimationComplete.call(this.animations[n].chartInstance,this.animations[n]),this.animations[n].chartInstance.animating=!1,this.animations.splice(n,1)):++n;var r=(Date.now()-t)/this.frameDuration;this.dropFrames+=r,this.animations.length>0&&this.requestAnimationFrame()}}}},{}],22:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.types={},t.instances={},t.controllers={},t.Controller=function(n){return this.chart=n,this.config=n.config,this.options=this.config.options=e.configMerge(t.defaults.global,t.defaults[this.config.type],this.config.options||{}),this.id=e.uid(),Object.defineProperty(this,"data",{get:function(){return this.config.data}}),t.instances[this.id]=this,this.options.responsive&&this.resize(!0),this.initialize(),this},e.extend(t.Controller.prototype,{initialize:function(){return t.pluginService.notifyPlugins("beforeInit",[this]),this.bindEvents(),this.ensureScalesHaveIDs(),this.buildOrUpdateControllers(),this.buildScales(),this.buildSurroundingItems(),this.updateLayout(),this.resetElements(),this.initToolTip(),this.update(),t.pluginService.notifyPlugins("afterInit",[this]),this},clear:function(){return e.clear(this.chart),this},stop:function(){return t.animationService.cancelAnimation(this),this},resize:function(t){var n=this.chart.canvas,r=e.getMaximumWidth(this.chart.canvas),i=this.options.maintainAspectRatio&&!1===isNaN(this.chart.aspectRatio)&&isFinite(this.chart.aspectRatio)&&0!==this.chart.aspectRatio?r/this.chart.aspectRatio:e.getMaximumHeight(this.chart.canvas);return this.chart.width!==r||this.chart.height!==i?(n.width=this.chart.width=r,n.height=this.chart.height=i,e.retinaScale(this.chart),t||(this.stop(),this.update(this.options.responsiveAnimationDuration)),this):this},ensureScalesHaveIDs:function(){var t=this.options,n=t.scales||{},r=t.scale;e.each(n.xAxes,function(t,e){t.id=t.id||"x-axis-"+e}),e.each(n.yAxes,function(t,e){t.id=t.id||"y-axis-"+e}),r&&(r.id=r.id||"scale")},buildScales:function(){var n=this,r=n.options,i=n.scales={},o=[];r.scales&&(o=o.concat((r.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category"}}),(r.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear"}}))),r.scale&&o.push({options:r.scale,dtype:"radialLinear",isDefault:!0}),e.each(o,function(r,o){var a=r.options,s=e.getValueOrDefault(a.type,r.dtype),l=t.scaleService.getScaleConstructor(s);if(l){var u=new l({id:a.id,options:a,ctx:n.chart.ctx,chart:n});i[u.id]=u,r.isDefault&&(n.scale=u)}}),t.scaleService.addScalesToLayout(this)},buildSurroundingItems:function(){this.options.title&&(this.titleBlock=new t.Title({ctx:this.chart.ctx,options:this.options.title,chart:this}),t.layoutService.addBox(this,this.titleBlock)),this.options.legend&&(this.legend=new t.Legend({ctx:this.chart.ctx,options:this.options.legend,chart:this}),t.layoutService.addBox(this,this.legend))},updateLayout:function(){t.layoutService.update(this,this.chart.width,this.chart.height)},buildOrUpdateControllers:function(){var n=[],r=[];if(e.each(this.data.datasets,function(e,i){var o=this.getDatasetMeta(i);o.type||(o.type=e.type||this.config.type),n.push(o.type),o.controller?o.controller.updateIndex(i):(o.controller=new t.controllers[o.type](this,i),r.push(o.controller))},this),n.length>1)for(var i=1;i<n.length;i++)if(n[i]!==n[i-1]){this.isCombo=!0;break}return r},resetElements:function(){e.each(this.data.datasets,function(t,e){this.getDatasetMeta(e).controller.reset()},this)},update:function(n,r){t.pluginService.notifyPlugins("beforeUpdate",[this]),this.tooltip._data=this.data;var i=this.buildOrUpdateControllers();e.each(this.data.datasets,function(t,e){this.getDatasetMeta(e).controller.buildOrUpdateElements()},this),t.layoutService.update(this,this.chart.width,this.chart.height),t.pluginService.notifyPlugins("afterScaleUpdate",[this]),e.each(i,function(t){t.reset()}),e.each(this.data.datasets,function(t,e){this.getDatasetMeta(e).controller.update()},this),t.pluginService.notifyPlugins("afterUpdate",[this]),this.render(n,r)},render:function(n,r){t.pluginService.notifyPlugins("beforeRender",[this]);var i=this.options.animation;if(i&&(void 0!==n&&0!==n||void 0===n&&0!==i.duration)){var o=new t.Animation;o.numSteps=(n||i.duration)/16.66,o.easing=i.easing,o.render=function(t,n){var r=e.easingEffects[n.easing],i=n.currentStep/n.numSteps,o=r(i);t.draw(o,i,n.currentStep)},o.onAnimationProgress=i.onProgress,o.onAnimationComplete=i.onComplete,t.animationService.addAnimation(this,o,n,r)}else this.draw(),i&&i.onComplete&&i.onComplete.call&&i.onComplete.call(this);return this},draw:function(n){var r=n||1;this.clear(),t.pluginService.notifyPlugins("beforeDraw",[this,r]),e.each(this.boxes,function(t){t.draw(this.chartArea)},this),this.scale&&this.scale.draw();var i=this.chart.ctx;i.save(),i.beginPath(),i.rect(this.chartArea.left,this.chartArea.top,this.chartArea.right-this.chartArea.left,this.chartArea.bottom-this.chartArea.top),i.clip(),e.each(this.data.datasets,function(t,e){this.isDatasetVisible(e)&&this.getDatasetMeta(e).controller.draw(n)},this,!0),i.restore(),this.tooltip.transition(r).draw(),t.pluginService.notifyPlugins("afterDraw",[this,r])},getElementAtEvent:function(t){var n=e.getRelativePosition(t,this.chart),r=[];return e.each(this.data.datasets,function(t,i){if(this.isDatasetVisible(i)){var o=this.getDatasetMeta(i);e.each(o.data,function(t,e){if(t.inRange(n.x,n.y))return r.push(t),r})}},this),r},getElementsAtEvent:function(t){var n=e.getRelativePosition(t,this.chart),r=[],i=function(){if(this.data.datasets)for(var t=0;t<this.data.datasets.length;t++){var e=this.getDatasetMeta(t);if(this.isDatasetVisible(t))for(var r=0;r<e.data.length;r++)if(e.data[r].inRange(n.x,n.y))return e.data[r]}}.call(this);return i?(e.each(this.data.datasets,function(t,e){if(this.isDatasetVisible(e)){var n=this.getDatasetMeta(e);r.push(n.data[i._index])}},this),r):r},getElementsAtEventForMode:function(t,e){var n=this;switch(e){case"single":return n.getElementAtEvent(t);case"label":return n.getElementsAtEvent(t);case"dataset":return n.getDatasetAtEvent(t);default:return t}},getDatasetAtEvent:function(t){var e=this.getElementAtEvent(t);return e.length>0&&(e=this.getDatasetMeta(e[0]._datasetIndex).data),e},getDatasetMeta:function(t){var e=this.data.datasets[t];e._meta||(e._meta={});var n=e._meta[this.id];return n||(n=e._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),n},getVisibleDatasetCount:function(){for(var t=0,e=0,n=this.data.datasets.length;e<n;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){this.clear(),e.unbindEvents(this,this.events),e.removeResizeListener(this.chart.canvas.parentNode);var n=this.chart.canvas;n.width=this.chart.width,n.height=this.chart.height,void 0!==this.chart.originalDevicePixelRatio&&this.chart.ctx.scale(1/this.chart.originalDevicePixelRatio,1/this.chart.originalDevicePixelRatio),n.style.width=this.chart.originalCanvasStyleWidth,n.style.height=this.chart.originalCanvasStyleHeight,t.pluginService.notifyPlugins("destroy",[this]),delete t.instances[this.id]},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)},initToolTip:function(){this.tooltip=new t.Tooltip({_chart:this.chart,_chartInstance:this,_data:this.data,_options:this.options},this)},bindEvents:function(){e.bindEvents(this,this.options.events,function(t){this.eventHandler(t)})},updateHoverStyle:function(t,e,n){var r,i,o,a=n?"setHoverStyle":"removeHoverStyle";switch(e){case"single":t=[t[0]];break;case"label":case"dataset":break;default:return}for(i=0,o=t.length;i<o;++i)(r=t[i])&&this.getDatasetMeta(r._datasetIndex).controller[a](r)},eventHandler:function(t){var n=this,r=n.tooltip,i=n.options||{},o=i.hover,a=i.tooltips;return n.lastActive=n.lastActive||[],n.lastTooltipActive=n.lastTooltipActive||[],"mouseout"===t.type?(n.active=[],n.tooltipActive=[]):(n.active=n.getElementsAtEventForMode(t,o.mode),n.tooltipActive=n.getElementsAtEventForMode(t,a.mode)),o.onHover&&o.onHover.call(n,n.active),"mouseup"!==t.type&&"click"!==t.type||(i.onClick&&i.onClick.call(n,t,n.active),n.legend&&n.legend.handleEvent&&n.legend.handleEvent(t)),n.lastActive.length&&n.updateHoverStyle(n.lastActive,o.mode,!1),n.active.length&&o.mode&&n.updateHoverStyle(n.active,o.mode,!0),(a.enabled||a.custom)&&(r.initialize(),r._active=n.tooltipActive,r.update(!0)),r.pivot(),n.animating||e.arrayEquals(n.active,n.lastActive)&&e.arrayEquals(n.tooltipActive,n.lastTooltipActive)||(n.stop(),(a.enabled||a.custom)&&r.update(!0),n.render(o.animationDuration,!0)),n.lastActive=n.active,n.lastTooltipActive=n.tooltipActive,n}})}},{}],23:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n=e.noop;t.DatasetController=function(t,e){this.initialize.call(this,t,e)},e.extend(t.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,e){this.chart=t,this.index=e,this.linkScales(),this.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this.getMeta(),e=this.getDataset();null===t.xAxisID&&(t.xAxisID=e.xAxisID||this.chart.options.scales.xAxes[0].id),null===t.yAxisID&&(t.yAxisID=e.yAxisID||this.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},reset:function(){this.update(!0)},createMetaDataset:function(){var t=this,e=t.datasetElementType;return e&&new e({_chart:t.chart.chart,_datasetIndex:t.index})},createMetaData:function(t){var e=this,n=e.dataElementType;return n&&new n({_chart:e.chart.chart,_datasetIndex:e.index,_index:t})},addElements:function(){var t,e,n=this,r=n.getMeta(),i=n.getDataset().data||[],o=r.data;for(t=0,e=i.length;t<e;++t)o[t]=o[t]||n.createMetaData(r,t);r.dataset=r.dataset||n.createMetaDataset()},addElementAndReset:function(t){var e=this,n=e.createMetaData(t);e.getMeta().data.splice(t,0,n),e.updateElement(n,t,!0)},buildOrUpdateElements:function(){var t=this.getMeta().data,e=this.getDataset().data.length,n=t.length;if(e<n)t.splice(e,n-e);else if(e>n)for(var r=n;r<e;++r)this.addElementAndReset(r)},update:n,draw:function(t){var n=t||1;e.each(this.getMeta().data,function(t,e){t.transition(n).draw()})},removeHoverStyle:function(t,n){var r=this.chart.data.datasets[t._datasetIndex],i=t._index,o=t.custom||{},a=e.getValueAtIndexOrDefault,s=(e.color,t._model);s.backgroundColor=o.backgroundColor?o.backgroundColor:a(r.backgroundColor,i,n.backgroundColor),s.borderColor=o.borderColor?o.borderColor:a(r.borderColor,i,n.borderColor),s.borderWidth=o.borderWidth?o.borderWidth:a(r.borderWidth,i,n.borderWidth)},setHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],r=t._index,i=t.custom||{},o=e.getValueAtIndexOrDefault,a=(e.color,e.getHoverColor),s=t._model;s.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:o(n.hoverBackgroundColor,r,a(s.backgroundColor)),s.borderColor=i.hoverBorderColor?i.hoverBorderColor:o(n.hoverBorderColor,r,a(s.borderColor)),s.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:o(n.hoverBorderWidth,r,s.borderWidth)}}),t.DatasetController.extend=e.inherits}},{}],24:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.elements={},t.Element=function(t){e.extend(this,t),this.initialize.apply(this,arguments)},e.extend(t.Element.prototype,{initialize:function(){this.hidden=!1},pivot:function(){return this._view||(this._view=e.clone(this._model)),this._start=e.clone(this._view),this},transition:function(t){return this._view||(this._view=e.clone(this._model)),1===t?(this._view=this._model,this._start=null,this):(this._start||this.pivot(),e.each(this._model,function(n,r){if("_"===r[0]);else if(this._view.hasOwnProperty(r))if(n===this._view[r]);else if("string"==typeof n)try{var i=e.color(this._model[r]).mix(e.color(this._start[r]),t);this._view[r]=i.rgbString()}catch(t){this._view[r]=n}else if("number"==typeof n){var o=void 0!==this._start[r]&&!1===isNaN(this._start[r])?this._start[r]:0;this._view[r]=(this._model[r]-o)*t+o}else this._view[r]=n;else"number"!=typeof n||isNaN(this._view[r])?this._view[r]=n:this._view[r]=n*t},this),this)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return e.isNumber(this._model.x)&&e.isNumber(this._model.y)}}),t.Element.extend=e.inherits}},{}],25:[function(t,e,n){"use strict";var r=t("chartjs-color");e.exports=function(t){function e(t,e,n){var r;return"string"==typeof t?(r=parseInt(t,10),-1!=t.indexOf("%")&&(r=r/100*e.parentNode[n])):r=t,r}function n(t){return void 0!==t&&null!==t&&"none"!==t}function i(t,r,i){var o=document.defaultView,a=t.parentNode,s=o.getComputedStyle(t)[r],l=o.getComputedStyle(a)[r],u=n(s),c=n(l),d=Number.POSITIVE_INFINITY;return u||c?Math.min(u?e(s,t,i):d,c?e(l,a,i):d):"none"}var o=t.helpers={};o.each=function(t,e,n,r){var i,a;if(o.isArray(t))if(a=t.length,r)for(i=a-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<a;i++)e.call(n,t[i],i);else if("object"==typeof t){var s=Object.keys(t);for(a=s.length,i=0;i<a;i++)e.call(n,t[s[i]],s[i])}},o.clone=function(t){var e={};return o.each(t,function(t,n){o.isArray(t)?e[n]=t.slice(0):e[n]="object"==typeof t&&null!==t?o.clone(t):t}),e},o.extend=function(t){for(var e=arguments.length,n=[],r=1;r<e;r++)n.push(arguments[r]);return o.each(n,function(e){o.each(e,function(e,n){t[n]=e})}),t},o.configMerge=function(e){var n=o.clone(e);return o.each(Array.prototype.slice.call(arguments,1),function(e){o.each(e,function(e,r){if("scales"===r)n[r]=o.scaleMerge(n.hasOwnProperty(r)?n[r]:{},e);else if("scale"===r)n[r]=o.configMerge(n.hasOwnProperty(r)?n[r]:{},t.scaleService.getScaleDefaults(e.type),e);else if(n.hasOwnProperty(r)&&o.isArray(n[r])&&o.isArray(e)){var i=n[r];o.each(e,function(t,e){e<i.length?"object"==typeof i[e]&&null!==i[e]&&"object"==typeof t&&null!==t?i[e]=o.configMerge(i[e],t):i[e]=t:i.push(t)})}else n.hasOwnProperty(r)&&"object"==typeof n[r]&&null!==n[r]&&"object"==typeof e?n[r]=o.configMerge(n[r],e):n[r]=e})}),n},o.extendDeep=function(t){function e(t){return o.each(arguments,function(n){n!==t&&o.each(n,function(n,r){t[r]&&t[r].constructor&&t[r].constructor===Object?e(t[r],n):t[r]=n})}),t}return e.apply(this,arguments)},o.scaleMerge=function(e,n){var r=o.clone(e);return o.each(n,function(e,n){"xAxes"===n||"yAxes"===n?r.hasOwnProperty(n)?o.each(e,function(e,i){var a=o.getValueOrDefault(e.type,"xAxes"===n?"category":"linear"),s=t.scaleService.getScaleDefaults(a);i>=r[n].length||!r[n][i].type?r[n].push(o.configMerge(s,e)):e.type&&e.type!==r[n][i].type?r[n][i]=o.configMerge(r[n][i],s,e):r[n][i]=o.configMerge(r[n][i],e)}):(r[n]=[],o.each(e,function(e){var i=o.getValueOrDefault(e.type,"xAxes"===n?"category":"linear");r[n].push(o.configMerge(t.scaleService.getScaleDefaults(i),e))})):r.hasOwnProperty(n)&&"object"==typeof r[n]&&null!==r[n]&&"object"==typeof e?r[n]=o.configMerge(r[n],e):r[n]=e}),r},o.getValueAtIndexOrDefault=function(t,e,n){return void 0===t||null===t?n:o.isArray(t)?e<t.length?t[e]:n:t},o.getValueOrDefault=function(t,e){return void 0===t?e:t},o.indexOf=function(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},o.where=function(t,e){if(o.isArray(t)&&Array.prototype.filter)return t.filter(e);var n=[];return o.each(t,function(t){e(t)&&n.push(t)}),n},o.findIndex=function(t,e,n){var r=-1;if(Array.prototype.findIndex)r=t.findIndex(e,n);else for(var i=0;i<t.length;++i)if(n=void 0!==n?n:t,e.call(n,t[i],i,t)){r=i;break}return r},o.findNextWhere=function(t,e,n){void 0!==n&&null!==n||(n=-1);for(var r=n+1;r<t.length;r++){var i=t[r];if(e(i))return i}},o.findPreviousWhere=function(t,e,n){void 0!==n&&null!==n||(n=t.length);for(var r=n-1;r>=0;r--){var i=t[r];if(e(i))return i}},o.inherits=function(t){var e=this,n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},r=function(){this.constructor=n};return r.prototype=e.prototype,n.prototype=new r,n.extend=o.inherits,t&&o.extend(n.prototype,t),n.__super__=e.prototype,n},o.noop=function(){},o.uid=function(){var t=0;return function(){return t++}}(),o.warn=function(t){console&&"function"==typeof console.warn&&console.warn(t)},o.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},o.almostEquals=function(t,e,n){return Math.abs(t-e)<n},o.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},o.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},o.sign=function(t){return Math.sign?Math.sign(t):(t=+t,0===t||isNaN(t)?t:t>0?1:-1)},o.log10=function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10},o.toRadians=function(t){return t*(Math.PI/180)},o.toDegrees=function(t){return t*(180/Math.PI)},o.getAngleFromPoint=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r),o=Math.atan2(r,n);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:i}},o.aliasPixel=function(t){return t%2==0?0:.5},o.splineCurve=function(t,e,n,r){var i=t.skip?e:t,o=e,a=n.skip?e:n,s=Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2)),l=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),u=s/(s+l),c=l/(s+l),d=r*(u=isNaN(u)?0:u),h=r*(c=isNaN(c)?0:c);return{previous:{x:o.x-d*(a.x-i.x),y:o.y-d*(a.y-i.y)},next:{x:o.x+h*(a.x-i.x),y:o.y+h*(a.y-i.y)}}},o.nextItem=function(t,e,n){return n?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},o.previousItem=function(t,e,n){return n?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},o.niceNum=function(t,e){var n=Math.floor(o.log10(t)),r=t/Math.pow(10,n);return(e?r<1.5?1:r<3?2:r<7?5:10:r<=1?1:r<=2?2:r<=5?5:10)*Math.pow(10,n)};var a=o.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(1-Math.pow(2,-10*t/1))},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,r=1;return 0===t?0:1==(t/=1)?1:(n||(n=.3),r<Math.abs(1)?(r=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/r),-r*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/n))},easeOutElastic:function(t){var e=1.70158,n=0,r=1;return 0===t?0:1==(t/=1)?1:(n||(n=.3),r<Math.abs(1)?(r=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*t)*Math.sin((1*t-e)*(2*Math.PI)/n)+1)},easeInOutElastic:function(t){var e=1.70158,n=0,r=1;return 0===t?0:2==(t/=.5)?1:(n||(n=.3*1.5*1),r<Math.abs(1)?(r=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/r),t<1?r*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/n)*-.5:r*Math.pow(2,-10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/n)*.5+1)},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-a.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?7.5625*t*t*1:t<2/2.75?1*(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return t<.5?.5*a.easeInBounce(2*t):.5*a.easeOutBounce(2*t-1)+.5}};o.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),o.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),o.getRelativePosition=function(t,e){var n,r,i=t.originalEvent||t,a=t.currentTarget||t.srcElement,s=a.getBoundingClientRect(),l=i.touches;l&&l.length>0?(n=l[0].clientX,r=l[0].clientY):(n=i.clientX,r=i.clientY);var u=parseFloat(o.getStyle(a,"padding-left")),c=parseFloat(o.getStyle(a,"padding-top")),d=parseFloat(o.getStyle(a,"padding-right")),h=parseFloat(o.getStyle(a,"padding-bottom")),f=s.right-s.left-u-d,p=s.bottom-s.top-c-h;return n=Math.round((n-s.left-u)/f*a.width/e.currentDevicePixelRatio),r=Math.round((r-s.top-c)/p*a.height/e.currentDevicePixelRatio),{x:n,y:r}},o.addEvent=function(t,e,n){t.addEventListener?t.addEventListener(e,n):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},o.removeEvent=function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=o.noop},o.bindEvents=function(t,e,n){var r=t.events=t.events||{};o.each(e,function(e){r[e]=function(){n.apply(t,arguments)},o.addEvent(t.chart.canvas,e,r[e])})},o.unbindEvents=function(t,e){var n=t.chart.canvas;o.each(e,function(t,e){o.removeEvent(n,e,t)})},o.getConstraintWidth=function(t){return i(t,"max-width","clientWidth")},o.getConstraintHeight=function(t){return i(t,"max-height","clientHeight")},o.getMaximumWidth=function(t){var e=t.parentNode,n=parseInt(o.getStyle(e,"padding-left"))+parseInt(o.getStyle(e,"padding-right")),r=e.clientWidth-n,i=o.getConstraintWidth(t);return isNaN(i)?r:Math.min(r,i)},o.getMaximumHeight=function(t){var e=t.parentNode,n=parseInt(o.getStyle(e,"padding-top"))+parseInt(o.getStyle(e,"padding-bottom")),r=e.clientHeight-n,i=o.getConstraintHeight(t);return isNaN(i)?r:Math.min(r,i)},o.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},o.retinaScale=function(t){var e=t.ctx,n=t.canvas,r=n.width,i=n.height,o=t.currentDevicePixelRatio=window.devicePixelRatio||1;1!==o&&(n.height=i*o,n.width=r*o,e.scale(o,o),t.originalDevicePixelRatio=t.originalDevicePixelRatio||o),n.style.width=r+"px",n.style.height=i+"px"},o.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},o.fontString=function(t,e,n){return e+" "+t+"px "+n},o.longestText=function(t,e,n,r){var i=(r=r||{}).data=r.data||{},a=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},a=r.garbageCollect=[],r.font=e),t.font=e;var s=0;o.each(n,function(e){if(void 0!==e&&null!==e){var n=i[e];n||(n=i[e]=t.measureText(e).width,a.push(e)),n>s&&(s=n)}});var l=a.length/2;if(l>n.length){for(var u=0;u<l;u++)delete i[a[u]];a.splice(0,l)}return s},o.drawRoundedRectangle=function(t,e,n,r,i,o){t.beginPath(),t.moveTo(e+o,n),t.lineTo(e+r-o,n),t.quadraticCurveTo(e+r,n,e+r,n+o),t.lineTo(e+r,n+i-o),t.quadraticCurveTo(e+r,n+i,e+r-o,n+i),t.lineTo(e+o,n+i),t.quadraticCurveTo(e,n+i,e,n+i-o),t.lineTo(e,n+o),t.quadraticCurveTo(e,n,e+o,n),t.closePath()},o.color=function(e){return r?r(e instanceof CanvasGradient?t.defaults.global.defaultColor:e):(console.log("Color.js not found!"),e)},o.addResizeListener=function(t,e){var n=document.createElement("iframe");n.classlist?n.classlist.add("chartjs-hidden-iframe"):n.setAttribute("class","chartjs-hidden-iframe");var r=n.style;r.width="100%",r.display="block",r.border=0,r.height=0,r.margin=0,r.position="absolute",r.left=0,r.right=0,r.top=0,r.bottom=0,t.insertBefore(n,t.firstChild),(n.contentWindow||n).onresize=function(){e&&e()}},o.removeResizeListener=function(t){var e=t.querySelector(".chartjs-hidden-iframe");e&&e.parentNode.removeChild(e)},o.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},o.arrayEquals=function(t,e){var n,r,i,a;if(!t||!e||t.length!=e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],a=e[n],i instanceof Array&&a instanceof Array){if(!o.arrayEquals(i,a))return!1}else if(i!=a)return!1;return!0},o.pushAllIfDefined=function(t,e){void 0!==t&&(o.isArray(t)?e.push.apply(e,t):e.push(t))},o.callCallback=function(t,e,n){t&&"function"==typeof t.call&&t.apply(n,e)},o.getHoverColor=function(t){return t instanceof CanvasPattern?t:o.color(t).saturate(.5).darken(.1).rgbString()}}},{"chartjs-color":3}],26:[function(t,e,n){"use strict";e.exports=function(){var t=function(e,n){this.config=n,e.length&&e[0].getContext&&(e=e[0]),e.getContext&&(e=e.getContext("2d")),this.ctx=e,this.canvas=e.canvas,this.width=e.canvas.width||parseInt(t.helpers.getStyle(e.canvas,"width"))||t.helpers.getMaximumWidth(e.canvas),this.height=e.canvas.height||parseInt(t.helpers.getStyle(e.canvas,"height"))||t.helpers.getMaximumHeight(e.canvas),this.aspectRatio=this.width/this.height,(isNaN(this.aspectRatio)||!1===isFinite(this.aspectRatio))&&(this.aspectRatio=void 0!==n.aspectRatio?n.aspectRatio:2),this.originalCanvasStyleWidth=e.canvas.style.width,this.originalCanvasStyleHeight=e.canvas.style.height,t.helpers.retinaScale(this),n&&(this.controller=new t.Controller(this));var r=this;return t.helpers.addResizeListener(e.canvas.parentNode,function(){r.controller&&r.controller.config.options.responsive&&r.controller.resize()}),this.controller?this.controller:this};return t.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"single",animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var n=0;n<t.data.datasets.length;n++)e.push('<li><span style="background-color:'+t.data.datasets[n].backgroundColor+'"></span>'),t.data.datasets[n].label&&e.push(t.data.datasets[n].label),e.push("</li>");return e.push("</ul>"),e.join("")}}},t}},{}],27:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.layoutService={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),t.boxes.push(e)},removeBox:function(t,e){t.boxes&&t.boxes.splice(t.boxes.indexOf(e),1)},update:function(t,n,r){function i(t){var e,n=t.isHorizontal();n?(e=t.update(t.options.fullWidth?p:b,y),x-=e.height):(e=t.update(v,m),b-=e.width),_.push({horizontal:n,minSize:e,box:t})}function o(t){var n=e.findNextWhere(_,function(e){return e.box===t});if(n)if(t.isHorizontal()){var r={left:w,right:C,top:0,bottom:0};t.update(t.options.fullWidth?p:b,g/2,r)}else t.update(n.minSize.width,x)}function a(t){var n=e.findNextWhere(_,function(e){return e.box===t}),r={left:0,right:0,top:k,bottom:S};n&&t.update(n.minSize.width,x,r)}function s(t){t.isHorizontal()?(t.left=t.options.fullWidth?l:w,t.right=t.options.fullWidth?n-l:w+b,t.top=D,t.bottom=D+t.height,D=t.bottom):(t.left=$,t.right=$+t.width,t.top=k,t.bottom=k+x,$=t.right)}if(t){var l=0,u=e.where(t.boxes,function(t){return"left"===t.options.position}),c=e.where(t.boxes,function(t){return"right"===t.options.position}),d=e.where(t.boxes,function(t){return"top"===t.options.position}),h=e.where(t.boxes,function(t){return"bottom"===t.options.position}),f=e.where(t.boxes,function(t){return"chartArea"===t.options.position});d.sort(function(t,e){return(e.options.fullWidth?1:0)-(t.options.fullWidth?1:0)}),h.sort(function(t,e){return(t.options.fullWidth?1:0)-(e.options.fullWidth?1:0)});var p=n-2*l,g=r-0,m=g/2,v=(n-p/2)/(u.length+c.length),y=(r-m)/(d.length+h.length),b=p,x=g,_=[];e.each(u.concat(c,d,h),i);var w=l,C=l,k=0,S=0;e.each(u.concat(c),o),e.each(u,function(t){w+=t.width}),e.each(c,function(t){C+=t.width}),e.each(d.concat(h),o),e.each(d,function(t){k+=t.height}),e.each(h,function(t){S+=t.height}),e.each(u.concat(c),a),w=l,C=l,k=0,S=0,e.each(u,function(t){w+=t.width}),e.each(c,function(t){C+=t.width}),e.each(d,function(t){k+=t.height}),e.each(h,function(t){S+=t.height});var M=r-k-S,T=n-w-C;T===b&&M===x||(e.each(u,function(t){t.height=M}),e.each(c,function(t){t.height=M}),e.each(d,function(t){t.options.fullWidth||(t.width=T)}),e.each(h,function(t){t.options.fullWidth||(t.width=T)}),x=M,b=T);var $=l,D=0;e.each(u.concat(d),s),$+=b,D+=x,e.each(c,s),e.each(h,s),t.chartArea={left:w,top:k,right:w+b,bottom:k+x},e.each(f,function(e){e.left=t.chartArea.left,e.top=t.chartArea.top,e.right=t.chartArea.right,e.bottom=t.chartArea.bottom,e.update(b,x)})}}}}},{}],28:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n=e.noop;t.defaults.global.legend={display:!0,position:"top",fullWidth:!0,reverse:!1,onClick:function(t,e){var n=e.datasetIndex,r=this.chart,i=r.getDatasetMeta(n);i.hidden=null===i.hidden?!r.data.datasets[n].hidden:null,r.update()},labels:{boxWidth:40,padding:10,generateLabels:function(t){var n=t.data;return e.isArray(n.datasets)?n.datasets.map(function(e,n){return{text:e.label,fillStyle:e.backgroundColor,hidden:!t.isDatasetVisible(n),lineCap:e.borderCapStyle,lineDash:e.borderDash,lineDashOffset:e.borderDashOffset,lineJoin:e.borderJoinStyle,lineWidth:e.borderWidth,strokeStyle:e.borderColor,datasetIndex:n}},this):[]}}},t.Legend=t.Element.extend({initialize:function(t){e.extend(this,t),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:n,update:function(t,e,n){return this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this.margins=n,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeBuildLabels(),this.buildLabels(),this.afterBuildLabels(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:n,beforeSetDimensions:n,setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0,this.minSize={width:0,height:0}},afterSetDimensions:n,beforeBuildLabels:n,buildLabels:function(){this.legendItems=this.options.labels.generateLabels.call(this,this.chart),this.options.reverse&&this.legendItems.reverse()},afterBuildLabels:n,beforeFit:n,fit:function(){var n=this.options,r=n.labels,i=n.display,o=this.ctx,a=t.defaults.global,s=e.getValueOrDefault,l=s(r.fontSize,a.defaultFontSize),u=s(r.fontStyle,a.defaultFontStyle),c=s(r.fontFamily,a.defaultFontFamily),d=e.fontString(l,u,c),h=this.legendHitBoxes=[],f=this.minSize,p=this.isHorizontal();if(p?(f.width=this.maxWidth,f.height=i?10:0):(f.width=i?10:0,f.height=this.maxHeight),i&&p){var g=this.lineWidths=[0],m=this.legendItems.length?l+r.padding:0;o.textAlign="left",o.textBaseline="top",o.font=d,e.each(this.legendItems,function(t,e){var n=r.boxWidth+l/2+o.measureText(t.text).width;g[g.length-1]+n+r.padding>=this.width&&(m+=l+r.padding,g[g.length]=this.left),h[e]={left:0,top:0,width:n,height:l},g[g.length-1]+=n+r.padding},this),f.height+=m}this.width=f.width,this.height=f.height},afterFit:n,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var n=this.options,r=n.labels,i=t.defaults.global,o=i.elements.line,a=this.width,s=this.lineWidths;if(n.display){var l=this.ctx,u={x:this.left+(a-s[0])/2,y:this.top+r.padding,line:0},c=e.getValueOrDefault,d=c(r.fontColor,i.defaultFontColor),h=c(r.fontSize,i.defaultFontSize),f=c(r.fontStyle,i.defaultFontStyle),p=c(r.fontFamily,i.defaultFontFamily),g=e.fontString(h,f,p);if(this.isHorizontal()){l.textAlign="left",l.textBaseline="top",l.lineWidth=.5,l.strokeStyle=d,l.fillStyle=d,l.font=g;var m=r.boxWidth,v=this.legendHitBoxes;e.each(this.legendItems,function(t,e){var n=l.measureText(t.text).width,d=m+h/2+n,f=u.x,p=u.y;f+d>=a&&(p=u.y+=h+r.padding,u.line++,f=u.x=this.left+(a-s[u.line])/2),l.save(),l.fillStyle=c(t.fillStyle,i.defaultColor),l.lineCap=c(t.lineCap,o.borderCapStyle),l.lineDashOffset=c(t.lineDashOffset,o.borderDashOffset),l.lineJoin=c(t.lineJoin,o.borderJoinStyle),l.lineWidth=c(t.lineWidth,o.borderWidth),l.strokeStyle=c(t.strokeStyle,i.defaultColor),l.setLineDash&&l.setLineDash(c(t.lineDash,o.borderDash)),l.strokeRect(f,p,m,h),l.fillRect(f,p,m,h),l.restore(),v[e].left=f,v[e].top=p,l.fillText(t.text,m+h/2+f,p),t.hidden&&(l.beginPath(),l.lineWidth=2,l.moveTo(m+h/2+f,p+h/2),l.lineTo(m+h/2+f+n,p+h/2),l.stroke()),u.x+=d+r.padding},this)}}},handleEvent:function(t){var n=e.getRelativePosition(t,this.chart.chart),r=n.x,i=n.y,o=this.options;if(r>=this.left&&r<=this.right&&i>=this.top&&i<=this.bottom)for(var a=this.legendHitBoxes,s=0;s<a.length;++s){var l=a[s];if(r>=l.left&&r<=l.left+l.width&&i>=l.top&&i<=l.top+l.height){o.onClick&&o.onClick.call(this,t,this.legendItems[s]);break}}}})}},{}],29:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.plugins=[],t.pluginService={register:function(e){var n=t.plugins;-1===n.indexOf(e)&&n.push(e)},remove:function(e){var n=t.plugins,r=n.indexOf(e);-1!==r&&n.splice(r,1)},notifyPlugins:function(n,r,i){e.each(t.plugins,function(t){t[n]&&"function"==typeof t[n]&&t[n].apply(i,r)},i)}};var n=e.noop;t.PluginBase=t.Element.extend({beforeInit:n,afterInit:n,beforeUpdate:n,afterUpdate:n,beforeDraw:n,afterDraw:n,destroy:n})}},{}],30:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.scale={display:!0,position:"left",gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",offsetGridLines:!1},scaleLabel:{labelString:"",display:!1},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:10,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:function(t){return""+t}}},t.Scale=t.Element.extend({beforeUpdate:function(){e.callCallback(this.options.beforeUpdate,[this])},update:function(t,n,r){return this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this.margins=e.extend({left:0,right:0,top:0,bottom:0},r),this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this.beforeBuildTicks(),this.buildTicks(),this.afterBuildTicks(),this.beforeTickToLabelConversion(),this.convertTicksToLabels(),this.afterTickToLabelConversion(),this.beforeCalculateTickRotation(),this.calculateTickRotation(),this.afterCalculateTickRotation(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:function(){e.callCallback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){e.callCallback(this.options.beforeSetDimensions,[this])},setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0},afterSetDimensions:function(){e.callCallback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){e.callCallback(this.options.beforeDataLimits,[this])},determineDataLimits:e.noop,afterDataLimits:function(){e.callCallback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){e.callCallback(this.options.beforeBuildTicks,[this])},buildTicks:e.noop,afterBuildTicks:function(){e.callCallback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){e.callCallback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){this.ticks=this.ticks.map(function(t,e,n){return this.options.ticks.userCallback?this.options.ticks.userCallback(t,e,n):this.options.ticks.callback(t,e,n)},this)},afterTickToLabelConversion:function(){e.callCallback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){e.callCallback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var n=this.ctx,r=t.defaults.global,i=this.options.ticks,o=e.getValueOrDefault(i.fontSize,r.defaultFontSize),a=e.getValueOrDefault(i.fontStyle,r.defaultFontStyle),s=e.getValueOrDefault(i.fontFamily,r.defaultFontFamily),l=e.fontString(o,a,s);n.font=l;var u,c=n.measureText(this.ticks[0]).width,d=n.measureText(this.ticks[this.ticks.length-1]).width;if(this.labelRotation=i.minRotation||0,this.paddingRight=0,this.paddingLeft=0,this.options.display&&this.isHorizontal()){this.paddingRight=d/2+3,this.paddingLeft=c/2+3,this.longestTextCache||(this.longestTextCache={});for(var h,f,p=e.longestText(n,l,this.ticks,this.longestTextCache),g=p,m=this.getPixelForTick(1)-this.getPixelForTick(0)-6;g>m&&this.labelRotation<i.maxRotation;){if(h=Math.cos(e.toRadians(this.labelRotation)),f=Math.sin(e.toRadians(this.labelRotation)),(u=h*c)+o/2>this.yLabelWidth&&(this.paddingLeft=u+o/2),this.paddingRight=o/2,f*p>this.maxHeight){this.labelRotation--;break}this.labelRotation++,g=h*p}}this.margins&&(this.paddingLeft=Math.max(this.paddingLeft-this.margins.left,0),this.paddingRight=Math.max(this.paddingRight-this.margins.right,0))},afterCalculateTickRotation:function(){e.callCallback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){e.callCallback(this.options.beforeFit,[this])},fit:function(){var n=this.minSize={width:0,height:0},r=this.options,i=t.defaults.global,o=r.ticks,a=r.scaleLabel,s=r.display,l=this.isHorizontal(),u=e.getValueOrDefault(o.fontSize,i.defaultFontSize),c=e.getValueOrDefault(o.fontStyle,i.defaultFontStyle),d=e.getValueOrDefault(o.fontFamily,i.defaultFontFamily),h=e.fontString(u,c,d),f=e.getValueOrDefault(a.fontSize,i.defaultFontSize),p=e.getValueOrDefault(a.fontStyle,i.defaultFontStyle),g=e.getValueOrDefault(a.fontFamily,i.defaultFontFamily),m=(e.fontString(f,p,g),r.gridLines.tickMarkLength);if(n.width=l?this.isFullWidth()?this.maxWidth-this.margins.left-this.margins.right:this.maxWidth:s?m:0,n.height=l?s?m:0:this.maxHeight,a.display&&s&&(l?n.height+=1.5*f:n.width+=1.5*f),o.display&&s){this.longestTextCache||(this.longestTextCache={});var v=e.longestText(this.ctx,h,this.ticks,this.longestTextCache);if(l){this.longestLabelWidth=v;var y=Math.sin(e.toRadians(this.labelRotation))*this.longestLabelWidth+1.5*u;n.height=Math.min(this.maxHeight,n.height+y),this.ctx.font=h;var b=this.ctx.measureText(this.ticks[0]).width,x=this.ctx.measureText(this.ticks[this.ticks.length-1]).width,_=Math.cos(e.toRadians(this.labelRotation)),w=Math.sin(e.toRadians(this.labelRotation));this.paddingLeft=0!==this.labelRotation?_*b+3:b/2+3,this.paddingRight=0!==this.labelRotation?w*(u/2)+3:x/2+3}else{var C=this.maxWidth-n.width;o.mirror?v=0:v+=this.options.ticks.padding,v<C?n.width+=v:n.width=this.maxWidth,this.paddingTop=u/2,this.paddingBottom=u/2}}this.margins&&(this.paddingLeft=Math.max(this.paddingLeft-this.margins.left,0),this.paddingTop=Math.max(this.paddingTop-this.margins.top,0),this.paddingRight=Math.max(this.paddingRight-this.margins.right,0),this.paddingBottom=Math.max(this.paddingBottom-this.margins.bottom,0)),this.width=n.width,this.height=n.height},afterFit:function(){e.callCallback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function t(e){return null===e||void 0===e?NaN:"number"==typeof e&&isNaN(e)?NaN:"object"==typeof e?e instanceof Date||e.isValid?e:t(this.isHorizontal()?e.x:e.y):e},getLabelForIndex:e.noop,getPixelForValue:e.noop,getValueForPixel:e.noop,getPixelForTick:function(t,e){if(this.isHorizontal()){var n=(this.width-(this.paddingLeft+this.paddingRight))/Math.max(this.ticks.length-(this.options.gridLines.offsetGridLines?0:1),1),r=n*t+this.paddingLeft;e&&(r+=n/2);var i=this.left+Math.round(r);return i+=this.isFullWidth()?this.margins.left:0}var o=this.height-(this.paddingTop+this.paddingBottom);return this.top+t*(o/(this.ticks.length-1))},getPixelForDecimal:function(t){if(this.isHorizontal()){var e=(this.width-(this.paddingLeft+this.paddingRight))*t+this.paddingLeft,n=this.left+Math.round(e);return n+=this.isFullWidth()?this.margins.left:0}return this.top+t*this.height},getBasePixel:function(){var t=this,e=t.min,n=t.max;return t.getPixelForValue(t.beginAtZero?0:e<0&&n<0?n:e>0&&n>0?e:0)},draw:function(n){var r=this.options;if(r.display){var i,o,a,s,l,u=this.ctx,c=t.defaults.global,d=r.ticks,h=r.gridLines,f=r.scaleLabel,p=0!==this.labelRotation,g=d.autoSkip;d.maxTicksLimit&&(l=d.maxTicksLimit);var m=e.getValueOrDefault(d.fontColor,c.defaultFontColor),v=e.getValueOrDefault(d.fontSize,c.defaultFontSize),y=e.getValueOrDefault(d.fontStyle,c.defaultFontStyle),b=e.getValueOrDefault(d.fontFamily,c.defaultFontFamily),x=e.fontString(v,y,b),_=h.tickMarkLength,w=e.getValueOrDefault(f.fontColor,c.defaultFontColor),C=e.getValueOrDefault(f.fontSize,c.defaultFontSize),k=e.getValueOrDefault(f.fontStyle,c.defaultFontStyle),S=e.getValueOrDefault(f.fontFamily,c.defaultFontFamily),M=e.fontString(C,k,S),T=e.toRadians(this.labelRotation),$=Math.cos(T),D=(Math.sin(T),this.longestLabelWidth*$);if(u.fillStyle=m,this.isHorizontal()){i=!0;var E="bottom"===r.position?this.top:this.bottom-_,L="bottom"===r.position?this.top+_:this.bottom;if(o=!1,p&&(D/=2),(D+d.autoSkipPadding)*this.ticks.length>this.width-(this.paddingLeft+this.paddingRight)&&(o=1+Math.floor((D+d.autoSkipPadding)*this.ticks.length/(this.width-(this.paddingLeft+this.paddingRight)))),l&&this.ticks.length>l)for(;!o||this.ticks.length/(o||1)>l;)o||(o=1),o+=1;g||(o=!1),e.each(this.ticks,function(t,a){var s=this.ticks.length===a+1;if((!(o>1&&a%o>0||a%o==0&&a+o>=this.ticks.length)||s)&&void 0!==t&&null!==t){var l=this.getPixelForTick(a),c=this.getPixelForTick(a,h.offsetGridLines);h.display&&(a===(void 0!==this.zeroLineIndex?this.zeroLineIndex:0)?(u.lineWidth=h.zeroLineWidth,u.strokeStyle=h.zeroLineColor,i=!0):i&&(u.lineWidth=h.lineWidth,u.strokeStyle=h.color,i=!1),l+=e.aliasPixel(u.lineWidth),u.beginPath(),h.drawTicks&&(u.moveTo(l,E),u.lineTo(l,L)),h.drawOnChartArea&&(u.moveTo(l,n.top),u.lineTo(l,n.bottom)),u.stroke()),d.display&&(u.save(),u.translate(c+d.labelOffset,p?this.top+12:"top"===r.position?this.bottom-_:this.top+_),u.rotate(-1*T),u.font=x,u.textAlign=p?"right":"center",u.textBaseline=p?"middle":"top"===r.position?"bottom":"top",u.fillText(t,0,0),u.restore())}},this),f.display&&(u.textAlign="center",u.textBaseline="middle",u.fillStyle=w,u.font=M,a=this.left+(this.right-this.left)/2,s="bottom"===r.position?this.bottom-C/2:this.top+C/2,u.fillText(f.labelString,a,s))}else{i=!0;var A="right"===r.position?this.left:this.right-5,F="right"===r.position?this.left+5:this.right;if(e.each(this.ticks,function(t,o){if(void 0!==t&&null!==t){var a=this.getPixelForTick(o);if(h.display&&(o===(void 0!==this.zeroLineIndex?this.zeroLineIndex:0)?(u.lineWidth=h.zeroLineWidth,u.strokeStyle=h.zeroLineColor,i=!0):i&&(u.lineWidth=h.lineWidth,u.strokeStyle=h.color,i=!1),a+=e.aliasPixel(u.lineWidth),u.beginPath(),h.drawTicks&&(u.moveTo(A,a),u.lineTo(F,a)),h.drawOnChartArea&&(u.moveTo(n.left,a),u.lineTo(n.right,a)),u.stroke()),d.display){var s,l=this.getPixelForTick(o,h.offsetGridLines);u.save(),"left"===r.position?d.mirror?(s=this.right+d.padding,u.textAlign="left"):(s=this.right-d.padding,u.textAlign="right"):d.mirror?(s=this.left-d.padding,u.textAlign="right"):(s=this.left+d.padding,u.textAlign="left"),u.translate(s,l+d.labelOffset),u.rotate(-1*T),u.font=x,u.textBaseline="middle",u.fillText(t,0,0),u.restore()}}},this),f.display){a="left"===r.position?this.left+C/2:this.right-C/2,s=this.top+(this.bottom-this.top)/2;var P="left"===r.position?-.5*Math.PI:.5*Math.PI;u.save(),u.translate(a,s),u.rotate(P),u.textAlign="center",u.fillStyle=w,u.font=M,u.textBaseline="middle",u.fillText(f.labelString,0,0),u.restore()}}if(h.drawBorder){u.lineWidth=h.lineWidth,u.strokeStyle=h.color;var R=this.left,O=this.right,N=this.top,I=this.bottom,Y=e.aliasPixel(u.lineWidth);this.isHorizontal()?(N=I="top"===r.position?this.bottom:this.top,N+=Y,I+=Y):(R=O="left"===r.position?this.right:this.left,R+=Y,O+=Y),u.beginPath(),u.moveTo(R,N),u.lineTo(O,I),u.stroke()}}}})}},{}],31:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.scaleService={constructors:{},defaults:{},registerScaleType:function(t,n,r){this.constructors[t]=n,this.defaults[t]=e.clone(r)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(n){return this.defaults.hasOwnProperty(n)?e.scaleMerge(t.defaults.scale,this.defaults[n]):{}},updateScaleDefaults:function(t,n){var r=this.defaults;r.hasOwnProperty(t)&&(r[t]=e.extend(r[t],n))},addScalesToLayout:function(n){e.each(n.scales,function(e){t.layoutService.addBox(n,e)})}}}},{}],32:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.global.title={display:!1,position:"top",fullWidth:!0,fontStyle:"bold",padding:10,text:""};var n=e.noop;t.Title=t.Element.extend({initialize:function(n){e.extend(this,n),this.options=e.configMerge(t.defaults.global.title,n.options),this.legendHitBoxes=[]},beforeUpdate:n,update:function(t,e,n){return this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this.margins=n,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeBuildLabels(),this.buildLabels(),this.afterBuildLabels(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:n,beforeSetDimensions:n,setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0,this.minSize={width:0,height:0}},afterSetDimensions:n,beforeBuildLabels:n,buildLabels:n,afterBuildLabels:n,beforeFit:n,fit:function(){var n=this,r=(n.ctx,e.getValueOrDefault),i=n.options,o=t.defaults.global,a=i.display,s=r(i.fontSize,o.defaultFontSize),l=n.minSize;n.isHorizontal()?(l.width=n.maxWidth,l.height=a?s+2*i.padding:0):(l.width=a?s+2*i.padding:0,l.height=n.maxHeight),n.width=l.width,n.height=l.height},afterFit:n,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var n=this,r=n.ctx,i=e.getValueOrDefault,o=n.options,a=t.defaults.global;if(o.display){var s,l,u=i(o.fontSize,a.defaultFontSize),c=i(o.fontStyle,a.defaultFontStyle),d=i(o.fontFamily,a.defaultFontFamily),h=e.fontString(u,c,d),f=0,p=n.top,g=n.left,m=n.bottom,v=n.right;r.fillStyle=i(o.fontColor,a.defaultFontColor),r.font=h,n.isHorizontal()?(s=g+(v-g)/2,l=p+(m-p)/2):(s="left"===o.position?g+u/2:v-u/2,l=p+(m-p)/2,f=Math.PI*("left"===o.position?-.5:.5)),r.save(),r.translate(s,l),r.rotate(f),r.textAlign="center",r.textBaseline="middle",r.fillText(o.text,0,0),r.restore()}}})}},{}],33:[function(t,e,n){"use strict";e.exports=function(t){function e(t,e){return e&&(n.isArray(e)?t=t.concat(e):t.push(e)),t}var n=t.helpers;t.defaults.global.tooltips={enabled:!0,custom:null,mode:"single",backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleColor:"#fff",titleAlign:"left",bodySpacing:2,bodyColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,yAlign:"center",xAlign:"center",caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",callbacks:{beforeTitle:n.noop,title:function(t,e){var n="";return t.length>0&&(t[0].xLabel?n=t[0].xLabel:e.labels.length>0&&t[0].index<e.labels.length&&(n=e.labels[t[0].index])),n},afterTitle:n.noop,beforeBody:n.noop,beforeLabel:n.noop,label:function(t,e){return(e.datasets[t.datasetIndex].label||"")+": "+t.yLabel},afterLabel:n.noop,afterBody:n.noop,beforeFooter:n.noop,footer:n.noop,afterFooter:n.noop}},t.Tooltip=t.Element.extend({initialize:function(){var e=t.defaults.global,r=this._options.tooltips;n.extend(this,{_model:{xPadding:r.xPadding,yPadding:r.yPadding,xAlign:r.yAlign,yAlign:r.xAlign,bodyColor:r.bodyColor,_bodyFontFamily:n.getValueOrDefault(r.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:n.getValueOrDefault(r.bodyFontStyle,e.defaultFontStyle),_bodyAlign:r.bodyAlign,bodyFontSize:n.getValueOrDefault(r.bodyFontSize,e.defaultFontSize),bodySpacing:r.bodySpacing,titleColor:r.titleColor,_titleFontFamily:n.getValueOrDefault(r.titleFontFamily,e.defaultFontFamily),_titleFontStyle:n.getValueOrDefault(r.titleFontStyle,e.defaultFontStyle),titleFontSize:n.getValueOrDefault(r.titleFontSize,e.defaultFontSize),_titleAlign:r.titleAlign,titleSpacing:r.titleSpacing,titleMarginBottom:r.titleMarginBottom,footerColor:r.footerColor,_footerFontFamily:n.getValueOrDefault(r.footerFontFamily,e.defaultFontFamily),_footerFontStyle:n.getValueOrDefault(r.footerFontStyle,e.defaultFontStyle),footerFontSize:n.getValueOrDefault(r.footerFontSize,e.defaultFontSize),_footerAlign:r.footerAlign,footerSpacing:r.footerSpacing,footerMarginTop:r.footerMarginTop,caretSize:r.caretSize,cornerRadius:r.cornerRadius,backgroundColor:r.backgroundColor,opacity:0,legendColorBackground:r.multiKeyBackground}})},getTitle:function(){var t=this._options.tooltips.callbacks.beforeTitle.apply(this,arguments),n=this._options.tooltips.callbacks.title.apply(this,arguments),r=this._options.tooltips.callbacks.afterTitle.apply(this,arguments),i=[];return i=e(i,t),i=e(i,n),i=e(i,r)},getBeforeBody:function(){var t=this._options.tooltips.callbacks.beforeBody.apply(this,arguments);return n.isArray(t)?t:void 0!==t?[t]:[]},getBody:function(t,e){var r=[];return n.each(t,function(t){n.pushAllIfDefined(this._options.tooltips.callbacks.beforeLabel.call(this,t,e),r),n.pushAllIfDefined(this._options.tooltips.callbacks.label.call(this,t,e),r),n.pushAllIfDefined(this._options.tooltips.callbacks.afterLabel.call(this,t,e),r)},this),r},getAfterBody:function(){var t=this._options.tooltips.callbacks.afterBody.apply(this,arguments);return n.isArray(t)?t:void 0!==t?[t]:[]},getFooter:function(){var t=this._options.tooltips.callbacks.beforeFooter.apply(this,arguments),n=this._options.tooltips.callbacks.footer.apply(this,arguments),r=this._options.tooltips.callbacks.afterFooter.apply(this,arguments),i=[];return i=e(i,t),i=e(i,n),i=e(i,r)},getAveragePosition:function(t){if(!t.length)return!1;var e=[],r=[];n.each(t,function(t){if(t&&t.hasValue()){var n=t.tooltipPosition();e.push(n.x),r.push(n.y)}});for(var i=0,o=0,a=0;a<e.length;a++)i+=e[a],o+=r[a];return{x:Math.round(i/e.length),y:Math.round(o/e.length)}},update:function(t){if(this._active.length){this._model.opacity=1;var e,r=this._active[0],i=[],o=[];if("single"===this._options.tooltips.mode){var a=r._yScale||r._scale;o.push({xLabel:r._xScale?r._xScale.getLabelForIndex(r._index,r._datasetIndex):"",yLabel:a?a.getLabelForIndex(r._index,r._datasetIndex):"",index:r._index,datasetIndex:r._datasetIndex}),e=this.getAveragePosition(this._active)}else n.each(this._data.datasets,function(t,e){if(this._chartInstance.isDatasetVisible(e)){var n=this._chartInstance.getDatasetMeta(e).data[r._index];if(n){var i=r._yScale||r._scale;o.push({xLabel:n._xScale?n._xScale.getLabelForIndex(n._index,n._datasetIndex):"",yLabel:i?i.getLabelForIndex(n._index,n._datasetIndex):"",index:r._index,datasetIndex:e})}}},this),n.each(this._active,function(t){t&&i.push({borderColor:t._view.borderColor,backgroundColor:t._view.backgroundColor})},null),e=this.getAveragePosition(this._active);n.extend(this._model,{title:this.getTitle(o,this._data),beforeBody:this.getBeforeBody(o,this._data),body:this.getBody(o,this._data),afterBody:this.getAfterBody(o,this._data),footer:this.getFooter(o,this._data)}),n.extend(this._model,{x:Math.round(e.x),y:Math.round(e.y),caretPadding:n.getValueOrDefault(e.padding,2),labelColors:i});var s=this.getTooltipSize(this._model);this.determineAlignment(s),n.extend(this._model,this.getBackgroundPoint(this._model,s))}else this._model.opacity=0;return t&&this._options.tooltips.custom&&this._options.tooltips.custom.call(this,this._model),this},getTooltipSize:function(t){var e=this._chart.ctx,r={height:2*t.yPadding,width:0},i=t.body.length+t.beforeBody.length+t.afterBody.length;return r.height+=t.title.length*t.titleFontSize,r.height+=(t.title.length-1)*t.titleSpacing,r.height+=t.title.length?t.titleMarginBottom:0,r.height+=i*t.bodyFontSize,r.height+=i?(i-1)*t.bodySpacing:0,r.height+=t.footer.length?t.footerMarginTop:0,r.height+=t.footer.length*t.footerFontSize,r.height+=t.footer.length?(t.footer.length-1)*t.footerSpacing:0,e.font=n.fontString(t.titleFontSize,t._titleFontStyle,t._titleFontFamily),n.each(t.title,function(t){r.width=Math.max(r.width,e.measureText(t).width)}),e.font=n.fontString(t.bodyFontSize,t._bodyFontStyle,t._bodyFontFamily),n.each(t.beforeBody.concat(t.afterBody),function(t){r.width=Math.max(r.width,e.measureText(t).width)}),n.each(t.body,function(n){r.width=Math.max(r.width,e.measureText(n).width+("single"!==this._options.tooltips.mode?t.bodyFontSize+2:0))},this),e.font=n.fontString(t.footerFontSize,t._footerFontStyle,t._footerFontFamily),n.each(t.footer,function(t){r.width=Math.max(r.width,e.measureText(t).width)}),r.width+=2*t.xPadding,r},determineAlignment:function(t){this._model.y<t.height?this._model.yAlign="top":this._model.y>this._chart.height-t.height&&(this._model.yAlign="bottom");var e,n,r,i,o,a=this,s=(this._chartInstance.chartArea.left+this._chartInstance.chartArea.right)/2,l=(this._chartInstance.chartArea.top+this._chartInstance.chartArea.bottom)/2;"center"===this._model.yAlign?(e=function(t){return t<=s},n=function(t){return t>s}):(e=function(e){return e<=t.width/2},n=function(e){return e>=a._chart.width-t.width/2}),r=function(e){return e+t.width>a._chart.width},i=function(e){return e-t.width<0},o=function(t){return t<=l?"top":"bottom"},e(this._model.x)?(this._model.xAlign="left",r(this._model.x)&&(this._model.xAlign="center",this._model.yAlign=o(this._model.y))):n(this._model.x)&&(this._model.xAlign="right",i(this._model.x)&&(this._model.xAlign="center",this._model.yAlign=o(this._model.y)))},getBackgroundPoint:function(t,e){var n={x:t.x,y:t.y};return"right"===t.xAlign?n.x-=e.width:"center"===t.xAlign&&(n.x-=e.width/2),"top"===t.yAlign?n.y+=t.caretPadding+t.caretSize:"bottom"===t.yAlign?n.y-=e.height+t.caretPadding+t.caretSize:n.y-=e.height/2,"center"===t.yAlign?"left"===t.xAlign?n.x+=t.caretPadding+t.caretSize:"right"===t.xAlign&&(n.x-=t.caretPadding+t.caretSize):"left"===t.xAlign?n.x-=t.cornerRadius+t.caretPadding:"right"===t.xAlign&&(n.x+=t.cornerRadius+t.caretPadding),n},drawCaret:function(t,e,r,i){var o,a,s,l,u,c,d=this._view,h=this._chart.ctx;"center"===d.yAlign?("left"===d.xAlign?(a=(o=t.x)-d.caretSize,s=o):(a=(o=t.x+e.width)+d.caretSize,s=o),l=(u=t.y+e.height/2)-d.caretSize,c=u+d.caretSize):("left"===d.xAlign?s=(a=(o=t.x+d.cornerRadius)+d.caretSize)+d.caretSize:"right"===d.xAlign?s=(a=(o=t.x+e.width-d.cornerRadius)-d.caretSize)-d.caretSize:(o=(a=t.x+e.width/2)-d.caretSize,s=a+d.caretSize),"top"===d.yAlign?(u=(l=t.y)-d.caretSize,c=l):(u=(l=t.y+e.height)+d.caretSize,c=l));var f=n.color(d.backgroundColor);h.fillStyle=f.alpha(r*f.alpha()).rgbString(),h.beginPath(),h.moveTo(o,l),h.lineTo(a,u),h.lineTo(s,c),h.closePath(),h.fill()},drawTitle:function(t,e,r,i){if(e.title.length){r.textAlign=e._titleAlign,r.textBaseline="top";var o=n.color(e.titleColor);r.fillStyle=o.alpha(i*o.alpha()).rgbString(),r.font=n.fontString(e.titleFontSize,e._titleFontStyle,e._titleFontFamily),n.each(e.title,function(n,i){r.fillText(n,t.x,t.y),t.y+=e.titleFontSize+e.titleSpacing,i+1===e.title.length&&(t.y+=e.titleMarginBottom-e.titleSpacing)})}},drawBody:function(t,e,r,i){r.textAlign=e._bodyAlign,r.textBaseline="top";var o=n.color(e.bodyColor);r.fillStyle=o.alpha(i*o.alpha()).rgbString(),r.font=n.fontString(e.bodyFontSize,e._bodyFontStyle,e._bodyFontFamily),n.each(e.beforeBody,function(n){r.fillText(n,t.x,t.y),t.y+=e.bodyFontSize+e.bodySpacing}),n.each(e.body,function(o,a){"single"!==this._options.tooltips.mode&&(r.fillStyle=n.color(e.legendColorBackground).alpha(i).rgbaString(),r.fillRect(t.x,t.y,e.bodyFontSize,e.bodyFontSize),r.strokeStyle=n.color(e.labelColors[a].borderColor).alpha(i).rgbaString(),r.strokeRect(t.x,t.y,e.bodyFontSize,e.bodyFontSize),r.fillStyle=n.color(e.labelColors[a].backgroundColor).alpha(i).rgbaString(),r.fillRect(t.x+1,t.y+1,e.bodyFontSize-2,e.bodyFontSize-2),r.fillStyle=n.color(e.bodyColor).alpha(i).rgbaString()),r.fillText(o,t.x+("single"!==this._options.tooltips.mode?e.bodyFontSize+2:0),t.y),t.y+=e.bodyFontSize+e.bodySpacing},this),n.each(e.afterBody,function(n){r.fillText(n,t.x,t.y),t.y+=e.bodyFontSize}),t.y-=e.bodySpacing},drawFooter:function(t,e,r,i){if(e.footer.length){t.y+=e.footerMarginTop,r.textAlign=e._footerAlign,r.textBaseline="top";var o=n.color(e.footerColor);r.fillStyle=o.alpha(i*o.alpha()).rgbString(),r.font=n.fontString(e.footerFontSize,e._footerFontStyle,e._footerFontFamily),n.each(e.footer,function(n){r.fillText(n,t.x,t.y),t.y+=e.footerFontSize+e.footerSpacing})}},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var r=e.caretPadding,i=this.getTooltipSize(e),o={x:e.x,y:e.y},a=Math.abs(e.opacity<.001)?0:e.opacity;if(this._options.tooltips.enabled){var s=n.color(e.backgroundColor);t.fillStyle=s.alpha(a*s.alpha()).rgbString(),n.drawRoundedRectangle(t,o.x,o.y,i.width,i.height,e.cornerRadius),t.fill(),this.drawCaret(o,i,a,r),o.x+=e.xPadding,o.y+=e.yPadding,this.drawTitle(o,e,t,a),this.drawBody(o,e,t,a),this.drawFooter(o,e,t,a)}}}})}},{}],34:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.helpers,r=t.defaults.global;r.elements.arc={backgroundColor:r.defaultColor,borderColor:"#fff",borderWidth:2},t.elements.Arc=t.Element.extend({inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var r=this._view;if(r){for(var i=n.getAngleFromPoint(r,{x:t,y:e}),o=i.angle,a=i.distance,s=r.startAngle,l=r.endAngle;l<s;)l+=2*Math.PI;for(;o>l;)o-=2*Math.PI;for(;o<s;)o+=2*Math.PI;var u=o>=s&&o<=l,c=a>=r.innerRadius&&a<=r.outerRadius;return u&&c}return!1},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,n=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},draw:function(){var t=this._chart.ctx,e=this._view,n=e.startAngle,r=e.endAngle;t.beginPath(),t.arc(e.x,e.y,e.outerRadius,n,r),t.arc(e.x,e.y,e.innerRadius,r,n,!0),t.closePath(),t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.fillStyle=e.backgroundColor,t.fill(),t.lineJoin="bevel",e.borderWidth&&t.stroke()}})}},{}],35:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n=t.defaults.global;t.defaults.global.elements.line={tension:.4,backgroundColor:n.defaultColor,borderWidth:3,borderColor:n.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",fill:!0},t.elements.Line=t.Element.extend({lineToNextPoint:function(t,e,n,r,i){var o=this._chart.ctx;e._view.skip?r.call(this,t,e,n):t._view.skip?i.call(this,t,e,n):0===e._view.tension?o.lineTo(e._view.x,e._view.y):o.bezierCurveTo(t._view.controlPointNextX,t._view.controlPointNextY,e._view.controlPointPreviousX,e._view.controlPointPreviousY,e._view.x,e._view.y)},draw:function(){function t(t){a._view.skip||s._view.skip?t&&o.lineTo(r._view.scaleZero.x,r._view.scaleZero.y):o.bezierCurveTo(s._view.controlPointNextX,s._view.controlPointNextY,a._view.controlPointPreviousX,a._view.controlPointPreviousY,a._view.x,a._view.y)}var r=this,i=this._view,o=this._chart.ctx,a=this._children[0],s=this._children[this._children.length-1];o.save(),this._children.length>0&&i.fill&&(o.beginPath(),e.each(this._children,function(t,n){var r=e.previousItem(this._children,n),a=e.nextItem(this._children,n);0===n?(this._loop?o.moveTo(i.scaleZero.x,i.scaleZero.y):o.moveTo(t._view.x,i.scaleZero),t._view.skip?this._loop||o.moveTo(a._view.x,this._view.scaleZero):o.lineTo(t._view.x,t._view.y)):this.lineToNextPoint(r,t,a,function(t,e,n){this._loop?o.lineTo(this._view.scaleZero.x,this._view.scaleZero.y):(o.lineTo(t._view.x,this._view.scaleZero),o.moveTo(n._view.x,this._view.scaleZero))},function(t,e){o.lineTo(e._view.x,e._view.y)})},this),this._loop?t(!0):(o.lineTo(this._children[this._children.length-1]._view.x,i.scaleZero),o.lineTo(this._children[0]._view.x,i.scaleZero)),o.fillStyle=i.backgroundColor||n.defaultColor,o.closePath(),o.fill());var l=n.elements.line;o.lineCap=i.borderCapStyle||l.borderCapStyle,o.setLineDash&&o.setLineDash(i.borderDash||l.borderDash),o.lineDashOffset=i.borderDashOffset||l.borderDashOffset,o.lineJoin=i.borderJoinStyle||l.borderJoinStyle,o.lineWidth=i.borderWidth||l.borderWidth,o.strokeStyle=i.borderColor||n.defaultColor,o.beginPath(),e.each(this._children,function(t,n){var r=e.previousItem(this._children,n),i=e.nextItem(this._children,n);0===n?o.moveTo(t._view.x,t._view.y):this.lineToNextPoint(r,t,i,function(t,e,n){o.moveTo(n._view.x,n._view.y)},function(t,e){o.moveTo(e._view.x,e._view.y)})},this),this._loop&&this._children.length>0&&t(),o.stroke(),o.restore()}})}},{}],36:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n=t.defaults.global,r=n.defaultColor;n.elements.point={radius:3,pointStyle:"circle",backgroundColor:r,borderWidth:1,borderColor:r,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},t.elements.Point=t.Element.extend({inRange:function(t,e){var n=this._view;return!!n&&Math.pow(t-n.x,2)+Math.pow(e-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hitRadius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(){var t,i,o,a,s,l,u=this._view,c=this._chart.ctx,d=u.pointStyle,h=u.radius,f=u.x,p=u.y;if(!u.skip)if("object"!=typeof d||"[object HTMLImageElement]"!==(t=d.toString())&&"[object HTMLCanvasElement]"!==t){if(!(isNaN(h)||h<=0)){switch(c.strokeStyle=u.borderColor||r,c.lineWidth=e.getValueOrDefault(u.borderWidth,n.elements.point.borderWidth),c.fillStyle=u.backgroundColor||r,d){default:c.beginPath(),c.arc(f,p,h,0,2*Math.PI),c.closePath(),c.fill();break;case"triangle":c.beginPath(),s=(i=3*h/Math.sqrt(3))*Math.sqrt(3)/2,c.moveTo(f-i/2,p+s/3),c.lineTo(f+i/2,p+s/3),c.lineTo(f,p-2*s/3),c.closePath(),c.fill();break;case"rect":l=1/Math.SQRT2*h,c.fillRect(f-l,p-l,2*l,2*l),c.strokeRect(f-l,p-l,2*l,2*l);break;case"rectRot":c.translate(f,p),c.rotate(Math.PI/4),l=1/Math.SQRT2*h,c.fillRect(-l,-l,2*l,2*l),c.strokeRect(-l,-l,2*l,2*l),c.setTransform(1,0,0,1,0,0);break;case"cross":c.beginPath(),c.moveTo(f,p+h),c.lineTo(f,p-h),c.moveTo(f-h,p),c.lineTo(f+h,p),c.closePath();break;case"crossRot":c.beginPath(),o=Math.cos(Math.PI/4)*h,a=Math.sin(Math.PI/4)*h,c.moveTo(f-o,p-a),c.lineTo(f+o,p+a),c.moveTo(f-o,p+a),c.lineTo(f+o,p-a),c.closePath();break;case"star":c.beginPath(),c.moveTo(f,p+h),c.lineTo(f,p-h),c.moveTo(f-h,p),c.lineTo(f+h,p),o=Math.cos(Math.PI/4)*h,a=Math.sin(Math.PI/4)*h,c.moveTo(f-o,p-a),c.lineTo(f+o,p+a),c.moveTo(f-o,p+a),c.lineTo(f+o,p-a),c.closePath();break;case"line":c.beginPath(),c.moveTo(f-h,p),c.lineTo(f+h,p),c.closePath();break;case"dash":c.beginPath(),c.moveTo(f,p),c.lineTo(f+h,p),c.closePath()}c.stroke()}}else c.drawImage(d,f-d.width/2,p-d.height/2)}})}},{}],37:[function(t,e,n){"use strict";e.exports=function(t){t.helpers;var e=t.defaults.global;e.elements.rectangle={backgroundColor:e.defaultColor,borderWidth:0,borderColor:e.defaultColor,borderSkipped:"bottom"},t.elements.Rectangle=t.Element.extend({draw:function(){function t(t){return l[(u+t)%4]}var e=this._chart.ctx,n=this._view,r=n.width/2,i=n.x-r,o=n.x+r,a=n.base-(n.base-n.y),s=n.borderWidth/2;n.borderWidth&&(i+=s,o-=s,a+=s),e.beginPath(),e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth;var l=[[i,n.base],[i,a],[o,a],[o,n.base]],u=["bottom","left","top","right"].indexOf(n.borderSkipped,0);-1===u&&(u=0),e.moveTo.apply(e,t(0));for(var c=1;c<4;c++)e.lineTo.apply(e,t(c));e.fill(),n.borderWidth&&e.stroke()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){var n=this._view;return!!n&&(n.y<n.base?t>=n.x-n.width/2&&t<=n.x+n.width/2&&e>=n.y&&e<=n.base:t>=n.x-n.width/2&&t<=n.x+n.width/2&&e>=n.base&&e<=n.y)},inLabelRange:function(t){var e=this._view;return!!e&&(t>=e.x-e.width/2&&t<=e.x+e.width/2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}})}},{}],38:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n={position:"bottom"},r=t.Scale.extend({determineDataLimits:function(){this.minIndex=0,this.maxIndex=this.chart.data.labels.length-1;var t;void 0!==this.options.ticks.min&&(t=e.indexOf(this.chart.data.labels,this.options.ticks.min),this.minIndex=-1!==t?t:this.minIndex),void 0!==this.options.ticks.max&&(t=e.indexOf(this.chart.data.labels,this.options.ticks.max),this.maxIndex=-1!==t?t:this.maxIndex),this.min=this.chart.data.labels[this.minIndex],this.max=this.chart.data.labels[this.maxIndex]},buildTicks:function(t){this.ticks=0===this.minIndex&&this.maxIndex===this.chart.data.labels.length-1?this.chart.data.labels:this.chart.data.labels.slice(this.minIndex,this.maxIndex+1)},getLabelForIndex:function(t,e){return this.ticks[t]},getPixelForValue:function(t,e,n,r){var i=Math.max(this.maxIndex+1-this.minIndex-(this.options.gridLines.offsetGridLines?0:1),1);if(this.isHorizontal()){var o=(this.width-(this.paddingLeft+this.paddingRight))/i,a=o*(e-this.minIndex)+this.paddingLeft;return this.options.gridLines.offsetGridLines&&r&&(a+=o/2),this.left+Math.round(a)}var s=(this.height-(this.paddingTop+this.paddingBottom))/i,l=s*(e-this.minIndex)+this.paddingTop;return this.options.gridLines.offsetGridLines&&r&&(l+=s/2),this.top+Math.round(l)},getPixelForTick:function(t,e){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null,e)},getValueForPixel:function(t){var e=Math.max(this.ticks.length-(this.options.gridLines.offsetGridLines?0:1),1),n=this.isHorizontal(),r=(n?this.width-(this.paddingLeft+this.paddingRight):this.height-(this.paddingTop+this.paddingBottom))/e;return this.options.gridLines.offsetGridLines&&(t-=r/2),t-=n?this.paddingLeft:this.paddingTop,t<=0?0:Math.round(t/r)}});t.scaleService.registerScaleType("category",r,n)}},{}],39:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n={position:"left",ticks:{callback:function(t,n,r){var i=r.length>3?r[2]-r[1]:r[1]-r[0];Math.abs(i)>1&&t!==Math.floor(t)&&(i=t-Math.floor(t));var o=e.log10(Math.abs(i)),a="";if(0!==t){var s=-1*Math.floor(o);s=Math.max(Math.min(s,20),0),a=t.toFixed(s)}else a="0";return a}}},r=t.Scale.extend({determineDataLimits:function(){function t(t){return s?t.xAxisID===n.id:t.yAxisID===n.id}var n=this,r=n.options,i=r.ticks,o=n.chart,a=o.data.datasets,s=n.isHorizontal();if(n.min=null,n.max=null,r.stacked){var l={},u=!1,c=!1;e.each(a,function(i,a){var s=o.getDatasetMeta(a);void 0===l[s.type]&&(l[s.type]={positiveValues:[],negativeValues:[]});var d=l[s.type].positiveValues,h=l[s.type].negativeValues;o.isDatasetVisible(a)&&t(s)&&e.each(i.data,function(t,e){var i=+n.getRightValue(t);isNaN(i)||s.data[e].hidden||(d[e]=d[e]||0,h[e]=h[e]||0,r.relativePoints?d[e]=100:i<0?(c=!0,h[e]+=i):(u=!0,d[e]+=i))})}),e.each(l,function(t){var r=t.positiveValues.concat(t.negativeValues),i=e.min(r),o=e.max(r);n.min=null===n.min?i:Math.min(n.min,i),n.max=null===n.max?o:Math.max(n.max,o)})}else e.each(a,function(r,i){var a=o.getDatasetMeta(i);o.isDatasetVisible(i)&&t(a)&&e.each(r.data,function(t,e){var r=+n.getRightValue(t);isNaN(r)||a.data[e].hidden||(null===n.min?n.min=r:r<n.min&&(n.min=r),null===n.max?n.max=r:r>n.max&&(n.max=r))})});if(i.beginAtZero){var d=e.sign(n.min),h=e.sign(n.max);d<0&&h<0?n.max=0:d>0&&h>0&&(n.min=0)}void 0!==i.min?n.min=i.min:void 0!==i.suggestedMin&&(n.min=Math.min(n.min,i.suggestedMin)),void 0!==i.max?n.max=i.max:void 0!==i.suggestedMax&&(n.max=Math.max(n.max,i.suggestedMax)),n.min===n.max&&(n.max++,i.beginAtZero||n.min--)},buildTicks:function(){var n,r=this,i=r.options.ticks,o=e.getValueOrDefault,a=r.isHorizontal(),s=r.ticks=[];if(a)n=Math.min(i.maxTicksLimit?i.maxTicksLimit:11,Math.ceil(r.width/50));else{var l=o(i.fontSize,t.defaults.global.defaultFontSize);n=Math.min(i.maxTicksLimit?i.maxTicksLimit:11,Math.ceil(r.height/(2*l)))}n=Math.max(2,n);var u;if(i.fixedStepSize&&i.fixedStepSize>0||i.stepSize&&i.stepSize>0)u=o(i.fixedStepSize,i.stepSize);else{var c=e.niceNum(r.max-r.min,!1);u=e.niceNum(c/(n-1),!0)}var d=Math.floor(r.min/u)*u,h=Math.ceil(r.max/u)*u,f=(h-d)/u;f=e.almostEquals(f,Math.round(f),u/1e3)?Math.round(f):Math.ceil(f),s.push(void 0!==i.min?i.min:d);for(var p=1;p<f;++p)s.push(d+p*u);s.push(void 0!==i.max?i.max:h),a||s.reverse(),r.max=e.max(s),r.min=e.min(s),i.reverse?(s.reverse(),r.start=r.max,r.end=r.min):(r.start=r.min,r.end=r.max)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),t.Scale.prototype.convertTicksToLabels.call(e)},getPixelForValue:function(t,e,n,r){var i,o,a=this,s=a.paddingLeft,l=a.paddingBottom,u=a.start,c=+a.getRightValue(t),d=a.end-u;return a.isHorizontal()?(o=a.width-(s+a.paddingRight),i=a.left+o/d*(c-u),Math.round(i+s)):(o=a.height-(a.paddingTop+l),i=a.bottom-l-o/d*(c-u),Math.round(i))},getValueForPixel:function(t){var e=this,n=e.isHorizontal(),r=e.paddingLeft,i=e.paddingBottom,o=n?e.width-(r+e.paddingRight):e.height-(e.paddingTop+i),a=(n?t-e.left-r:e.bottom-i-t)/o;return e.start+(e.end-e.start)*a},getPixelForTick:function(t,e){return this.getPixelForValue(this.ticksAsNumbers[t],null,null,e)}});t.scaleService.registerScaleType("linear",r,n)}},{}],40:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n={position:"left",ticks:{callback:function(t,n,r){var i=t/Math.pow(10,Math.floor(e.log10(t)));return 1===i||2===i||5===i||0===n||n===r.length-1?t.toExponential():""}}},r=t.Scale.extend({determineDataLimits:function(){function t(t){return l?t.xAxisID===n.id:t.yAxisID===n.id}var n=this,r=n.options,i=r.ticks,o=n.chart,a=o.data.datasets,s=e.getValueOrDefault,l=n.isHorizontal();if(n.min=null,n.max=null,r.stacked){var u={};e.each(a,function(i,a){var s=o.getDatasetMeta(a);o.isDatasetVisible(a)&&t(s)&&(void 0===u[s.type]&&(u[s.type]=[]),e.each(i.data,function(t,e){var i=u[s.type],o=+n.getRightValue(t);isNaN(o)||s.data[e].hidden||(i[e]=i[e]||0,r.relativePoints?i[e]=100:i[e]+=o)}))}),e.each(u,function(t){var r=e.min(t),i=e.max(t);n.min=null===n.min?r:Math.min(n.min,r),n.max=null===n.max?i:Math.max(n.max,i)})}else e.each(a,function(r,i){var a=o.getDatasetMeta(i);o.isDatasetVisible(i)&&t(a)&&e.each(r.data,function(t,e){var r=+n.getRightValue(t);isNaN(r)||a.data[e].hidden||(null===n.min?n.min=r:r<n.min&&(n.min=r),null===n.max?n.max=r:r>n.max&&(n.max=r))})});n.min=s(i.min,n.min),n.max=s(i.max,n.max),n.min===n.max&&(0!==n.min&&null!==n.min?(n.min=Math.pow(10,Math.floor(e.log10(n.min))-1),n.max=Math.pow(10,Math.floor(e.log10(n.max))+1)):(n.min=1,n.max=10))},buildTicks:function(){for(var t=this,n=t.options.ticks,r=e.getValueOrDefault,i=t.ticks=[],o=r(n.min,Math.pow(10,Math.floor(e.log10(t.min))));o<t.max;){i.push(o);var a=Math.floor(e.log10(o)),s=Math.floor(o/Math.pow(10,a))+1;10===s&&(s=1,++a),o=s*Math.pow(10,a)}var l=r(n.max,o);i.push(l),t.isHorizontal()||i.reverse(),t.max=e.max(i),t.min=e.min(i),n.reverse?(i.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),t.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t,e){return this.getPixelForValue(this.tickValues[t],null,null,e)},getPixelForValue:function(t,n,r,i){var o,a,s=this,l=s.start,u=+s.getRightValue(t),c=e.log10(s.end)-e.log10(l),d=s.paddingTop,h=s.paddingBottom,f=s.paddingLeft;return s.isHorizontal()?0===u?a=s.left+f:(o=s.width-(f+s.paddingRight),a=s.left+o/c*(e.log10(u)-e.log10(l)),a+=f):0===u?a=s.top+d:(o=s.height-(d+h),a=s.bottom-h-o/c*(e.log10(u)-e.log10(l))),a},getValueForPixel:function(t){var n,r,i=this,o=e.log10(i.end)-e.log10(i.start);return i.isHorizontal()?(r=i.width-(i.paddingLeft+i.paddingRight),n=i.start*Math.pow(10,(t-i.left-i.paddingLeft)*o/r)):(r=i.height-(i.paddingTop+i.paddingBottom),n=Math.pow(10,(i.bottom-i.paddingBottom-t)*o/r)/i.start),n}});t.scaleService.registerScaleType("logarithmic",r,n)}},{}],41:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n=t.defaults.global,r={display:!0,animate:!0,lineArc:!1,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2},pointLabels:{fontSize:10,callback:function(t){return t}}},i=t.Scale.extend({getValueCount:function(){return this.chart.data.labels.length},setDimensions:function(){var t=this.options;this.width=this.maxWidth,this.height=this.maxHeight,this.xCenter=Math.round(this.width/2),this.yCenter=Math.round(this.height/2);var r=e.min([this.height,this.width]),i=e.getValueOrDefault(t.ticks.fontSize,n.defaultFontSize);this.drawingArea=t.display?r/2-(i/2+t.ticks.backdropPaddingY):r/2},determineDataLimits:function(){if(this.min=null,this.max=null,e.each(this.chart.data.datasets,function(t,n){if(this.chart.isDatasetVisible(n)){var r=this.chart.getDatasetMeta(n);e.each(t.data,function(t,e){var n=+this.getRightValue(t);isNaN(n)||r.data[e].hidden||(null===this.min?this.min=n:n<this.min&&(this.min=n),null===this.max?this.max=n:n>this.max&&(this.max=n))},this)}},this),this.options.ticks.beginAtZero){var t=e.sign(this.min),n=e.sign(this.max);t<0&&n<0?this.max=0:t>0&&n>0&&(this.min=0)}void 0!==this.options.ticks.min?this.min=this.options.ticks.min:void 0!==this.options.ticks.suggestedMin&&(this.min=Math.min(this.min,this.options.ticks.suggestedMin)),void 0!==this.options.ticks.max?this.max=this.options.ticks.max:void 0!==this.options.ticks.suggestedMax&&(this.max=Math.max(this.max,this.options.ticks.suggestedMax)),this.min===this.max&&(this.min--,this.max++)},buildTicks:function(){this.ticks=[];var t=e.getValueOrDefault(this.options.ticks.fontSize,n.defaultFontSize),r=Math.min(this.options.ticks.maxTicksLimit?this.options.ticks.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*t)));r=Math.max(2,r);var i=e.niceNum(this.max-this.min,!1),o=e.niceNum(i/(r-1),!0),a=Math.floor(this.min/o)*o,s=Math.ceil(this.max/o)*o,l=Math.ceil((s-a)/o);this.ticks.push(void 0!==this.options.ticks.min?this.options.ticks.min:a);for(var u=1;u<l;++u)this.ticks.push(a+u*o);this.ticks.push(void 0!==this.options.ticks.max?this.options.ticks.max:s),this.max=e.max(this.ticks),this.min=e.min(this.ticks),this.options.ticks.reverse?(this.ticks.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),this.zeroLineIndex=this.ticks.indexOf(0)},convertTicksToLabels:function(){t.Scale.prototype.convertTicksToLabels.call(this),this.pointLabels=this.chart.data.labels.map(this.options.pointLabels.callback,this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t,r,i,o,a,s,l,u,c,d,h,f,p=this.options.pointLabels,g=e.getValueOrDefault(p.fontSize,n.defaultFontSize),m=e.getValueOrDefault(p.fontStyle,n.defaultFontStyle),v=e.getValueOrDefault(p.fontFamily,n.defaultFontFamily),y=e.fontString(g,m,v),b=e.min([this.height/2-g-5,this.width/2]),x=this.width,_=0;for(this.ctx.font=y,r=0;r<this.getValueCount();r++)t=this.getPointPosition(r,b),i=this.ctx.measureText(this.pointLabels[r]?this.pointLabels[r]:"").width+5,0===r||r===this.getValueCount()/2?(o=i/2,t.x+o>x&&(x=t.x+o,a=r),t.x-o<_&&(_=t.x-o,l=r)):r<this.getValueCount()/2?t.x+i>x&&(x=t.x+i,a=r):r>this.getValueCount()/2&&t.x-i<_&&(_=t.x-i,l=r);c=_,d=Math.ceil(x-this.width),s=this.getIndexAngle(a),u=this.getIndexAngle(l),h=d/Math.sin(s+Math.PI/2),f=c/Math.sin(u+Math.PI/2),h=e.isNumber(h)?h:0,f=e.isNumber(f)?f:0,this.drawingArea=Math.round(b-(f+h)/2),this.setCenterPoint(f,h)},setCenterPoint:function(t,e){var n=this.width-e-this.drawingArea,r=t+this.drawingArea;this.xCenter=Math.round((r+n)/2+this.left),this.yCenter=Math.round(this.height/2+this.top)},getIndexAngle:function(t){return t*(2*Math.PI/this.getValueCount())-Math.PI/2},getDistanceFromCenterForValue:function(t){if(null===t)return 0;var e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e},getPointPosition:function(t,e){var n=this.getIndexAngle(t);return{x:Math.round(Math.cos(n)*e)+this.xCenter,y:Math.round(Math.sin(n)*e)+this.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(){var t=this,e=t.min,n=t.max;return t.getPointPositionForValue(0,t.beginAtZero?0:e<0&&n<0?n:e>0&&n>0?e:0)},draw:function(){if(this.options.display){var t=this.ctx;if(e.each(this.ticks,function(r,i){if(i>0||this.options.reverse){var o=this.getDistanceFromCenterForValue(this.ticks[i]),a=this.yCenter-o;if(this.options.gridLines.display)if(t.strokeStyle=this.options.gridLines.color,t.lineWidth=this.options.gridLines.lineWidth,this.options.lineArc)t.beginPath(),t.arc(this.xCenter,this.yCenter,o,0,2*Math.PI),t.closePath(),t.stroke();else{t.beginPath();for(var s=0;s<this.getValueCount();s++){var l=this.getPointPosition(s,this.getDistanceFromCenterForValue(this.ticks[i]));0===s?t.moveTo(l.x,l.y):t.lineTo(l.x,l.y)}t.closePath(),t.stroke()}if(this.options.ticks.display){var u=e.getValueOrDefault(this.options.ticks.fontColor,n.defaultFontColor),c=e.getValueOrDefault(this.options.ticks.fontSize,n.defaultFontSize),d=e.getValueOrDefault(this.options.ticks.fontStyle,n.defaultFontStyle),h=e.getValueOrDefault(this.options.ticks.fontFamily,n.defaultFontFamily),f=e.fontString(c,d,h);if(t.font=f,this.options.ticks.showLabelBackdrop){var p=t.measureText(r).width;t.fillStyle=this.options.ticks.backdropColor,t.fillRect(this.xCenter-p/2-this.options.ticks.backdropPaddingX,a-c/2-this.options.ticks.backdropPaddingY,p+2*this.options.ticks.backdropPaddingX,c+2*this.options.ticks.backdropPaddingY)}t.textAlign="center",t.textBaseline="middle",t.fillStyle=u,t.fillText(r,this.xCenter,a)}}},this),!this.options.lineArc){t.lineWidth=this.options.angleLines.lineWidth,t.strokeStyle=this.options.angleLines.color;for(var r=this.getValueCount()-1;r>=0;r--){if(this.options.angleLines.display){var i=this.getPointPosition(r,this.getDistanceFromCenterForValue(this.options.reverse?this.min:this.max));t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(i.x,i.y),t.stroke(),t.closePath()}var o=this.getPointPosition(r,this.getDistanceFromCenterForValue(this.options.reverse?this.min:this.max)+5),a=e.getValueOrDefault(this.options.pointLabels.fontColor,n.defaultFontColor),s=e.getValueOrDefault(this.options.pointLabels.fontSize,n.defaultFontSize),l=e.getValueOrDefault(this.options.pointLabels.fontStyle,n.defaultFontStyle),u=e.getValueOrDefault(this.options.pointLabels.fontFamily,n.defaultFontFamily),c=e.fontString(s,l,u);t.font=c,t.fillStyle=a;var d=this.pointLabels.length,h=this.pointLabels.length/2,f=h/2,p=r<f||r>d-f,g=r===f||r===d-f;t.textAlign=0===r?"center":r===h?"center":r<h?"left":"right",t.textBaseline=g?"middle":p?"bottom":"top",t.fillText(this.pointLabels[r]?this.pointLabels[r]:"",o.x,o.y)}}}}});t.scaleService.registerScaleType("radialLinear",i,r)}},{}],42:[function(t,e,n){"use strict";var r=t("moment");r="function"==typeof r?r:window.moment,e.exports=function(t){var e=t.helpers,n={units:[{name:"millisecond",steps:[1,2,5,10,20,50,100,250,500]},{name:"second",steps:[1,2,5,10,30]},{name:"minute",steps:[1,2,5,10,30]},{name:"hour",steps:[1,2,3,6,12]},{name:"day",steps:[1,2,5]},{name:"week",maxStep:4},{name:"month",maxStep:3},{name:"quarter",maxStep:4},{name:"year",maxStep:!1}]},i={position:"bottom",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm:ss a",hour:"MMM D, hA",day:"ll",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1}},o=t.Scale.extend({initialize:function(){if(!r)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");t.Scale.prototype.initialize.call(this)},getLabelMoment:function(t,e){return this.labelMoments[t][e]},getMomentStartOf:function(t){return"week"===this.options.time.unit&&!1!==this.options.time.isoWeekday?t.clone().startOf("isoWeek").isoWeekday(this.options.time.isoWeekday):t.clone().startOf(this.tickUnit)},determineDataLimits:function(){this.labelMoments=[];var t=[];this.chart.data.labels&&this.chart.data.labels.length>0?(e.each(this.chart.data.labels,function(e,n){var r=this.parseTime(e);r.isValid()&&(this.options.time.round&&r.startOf(this.options.time.round),t.push(r))},this),this.firstTick=r.min.call(this,t),this.lastTick=r.max.call(this,t)):(this.firstTick=null,this.lastTick=null),e.each(this.chart.data.datasets,function(n,i){var o=[],a=this.chart.isDatasetVisible(i);"object"==typeof n.data[0]&&null!==n.data[0]?e.each(n.data,function(t,e){var n=this.parseTime(this.getRightValue(t));n.isValid()&&(this.options.time.round&&n.startOf(this.options.time.round),o.push(n),a&&(this.firstTick=null!==this.firstTick?r.min(this.firstTick,n):n,this.lastTick=null!==this.lastTick?r.max(this.lastTick,n):n))},this):o=t,this.labelMoments.push(o)},this),this.options.time.min&&(this.firstTick=this.parseTime(this.options.time.min)),this.options.time.max&&(this.lastTick=this.parseTime(this.options.time.max)),this.firstTick=(this.firstTick||r()).clone(),this.lastTick=(this.lastTick||r()).clone()},buildTicks:function(r){this.ctx.save();var i=e.getValueOrDefault(this.options.ticks.fontSize,t.defaults.global.defaultFontSize),o=e.getValueOrDefault(this.options.ticks.fontStyle,t.defaults.global.defaultFontStyle),a=e.getValueOrDefault(this.options.ticks.fontFamily,t.defaults.global.defaultFontFamily),s=e.fontString(i,o,a);if(this.ctx.font=s,this.ticks=[],this.unitScale=1,this.scaleSizeInUnits=0,this.options.time.unit)this.tickUnit=this.options.time.unit||"day",this.displayFormat=this.options.time.displayFormats[this.tickUnit],this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0),this.unitScale=e.getValueOrDefault(this.options.time.unitStepSize,1);else{var l=this.isHorizontal()?this.width-(this.paddingLeft+this.paddingRight):this.height-(this.paddingTop+this.paddingBottom),u=this.tickFormatFunction(this.firstTick,0,[]),c=this.ctx.measureText(u).width,d=l/(c=c*Math.cos(e.toRadians(this.options.ticks.maxRotation))+i*Math.sin(e.toRadians(this.options.ticks.maxRotation)));this.tickUnit="millisecond",this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0),this.displayFormat=this.options.time.displayFormats[this.tickUnit];for(var h=0,f=n.units[h];h<n.units.length;){if(this.unitScale=1,e.isArray(f.steps)&&Math.ceil(this.scaleSizeInUnits/d)<e.max(f.steps)){for(var p=0;p<f.steps.length;++p)if(f.steps[p]>=Math.ceil(this.scaleSizeInUnits/d)){this.unitScale=e.getValueOrDefault(this.options.time.unitStepSize,f.steps[p]);break}break}if(!1===f.maxStep||Math.ceil(this.scaleSizeInUnits/d)<f.maxStep){this.unitScale=e.getValueOrDefault(this.options.time.unitStepSize,Math.ceil(this.scaleSizeInUnits/d));break}++h,f=n.units[h],this.tickUnit=f.name;var g=this.firstTick.diff(this.getMomentStartOf(this.firstTick),this.tickUnit,!0),m=this.getMomentStartOf(this.lastTick.clone().add(1,this.tickUnit)).diff(this.lastTick,this.tickUnit,!0);this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0)+g+m,this.displayFormat=this.options.time.displayFormats[f.name]}}var v;this.options.time.min?v=this.getMomentStartOf(this.firstTick):(this.firstTick=this.getMomentStartOf(this.firstTick),v=this.firstTick),this.options.time.max||0!==this.getMomentStartOf(this.lastTick).diff(this.lastTick,this.tickUnit,!0)&&(this.lastTick=this.getMomentStartOf(this.lastTick.add(1,this.tickUnit))),this.smallestLabelSeparation=this.width,e.each(this.chart.data.datasets,function(t,e){for(var n=1;n<this.labelMoments[e].length;n++)this.smallestLabelSeparation=Math.min(this.smallestLabelSeparation,this.labelMoments[e][n].diff(this.labelMoments[e][n-1],this.tickUnit,!0))},this),this.options.time.displayFormat&&(this.displayFormat=this.options.time.displayFormat),this.ticks.push(this.firstTick.clone());for(var y=1;y<=this.scaleSizeInUnits;++y){var b=v.clone().add(y,this.tickUnit);if(this.options.time.max&&b.diff(this.lastTick,this.tickUnit,!0)>=0)break;y%this.unitScale==0&&this.ticks.push(b)}0===this.ticks[this.ticks.length-1].diff(this.lastTick,this.tickUnit)&&0!==this.scaleSizeInUnits||(this.options.time.max?(this.ticks.push(this.lastTick.clone()),this.scaleSizeInUnits=this.lastTick.diff(this.ticks[0],this.tickUnit,!0)):(this.ticks.push(this.lastTick.clone()),this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0))),this.ctx.restore()},getLabelForIndex:function(t,e){var n=this.chart.data.labels&&t<this.chart.data.labels.length?this.chart.data.labels[t]:"";return"object"==typeof this.chart.data.datasets[e].data[0]&&(n=this.getRightValue(this.chart.data.datasets[e].data[t])),this.options.time.tooltipFormat&&(n=this.parseTime(n).format(this.options.time.tooltipFormat)),n},tickFormatFunction:function(t,n,r){var i=t.format(this.displayFormat),o=this.options.ticks,a=e.getValueOrDefault(o.callback,o.userCallback);return a?a(i,n,r):i},convertTicksToLabels:function(){this.tickMoments=this.ticks,this.ticks=this.ticks.map(this.tickFormatFunction,this)},getPixelForValue:function(t,e,n,r){var i=t&&t.isValid&&t.isValid()?t:this.getLabelMoment(n,e);if(i){var o=i.diff(this.firstTick,this.tickUnit,!0)/this.scaleSizeInUnits;if(this.isHorizontal()){var a=this.width-(this.paddingLeft+this.paddingRight),s=(Math.max(this.ticks.length-1,1),a*o+this.paddingLeft);return this.left+Math.round(s)}var l=this.height-(this.paddingTop+this.paddingBottom),u=(Math.max(this.ticks.length-1,1),l*o+this.paddingTop);return this.top+Math.round(u)}},getPixelForTick:function(t,e){return this.getPixelForValue(this.tickMoments[t],null,null,e)},getValueForPixel:function(t){var e=this.isHorizontal()?this.width-(this.paddingLeft+this.paddingRight):this.height-(this.paddingTop+this.paddingBottom),n=(t-(this.isHorizontal()?this.left+this.paddingLeft:this.top+this.paddingTop))/e;return n*=this.scaleSizeInUnits,this.firstTick.clone().add(r.duration(n,this.tickUnit).asSeconds(),"seconds")},parseTime:function(t){return"string"==typeof this.options.time.parser?r(t,this.options.time.parser):"function"==typeof this.options.time.parser?this.options.time.parser(t):"function"==typeof t.getMonth||"number"==typeof t?r(t):t.isValid&&t.isValid()?t:"string"!=typeof this.options.time.format&&this.options.time.format.call?(console.warn("options.time.format is deprecated and replaced by options.time.parser. See http://nnnick.github.io/Chart.js/docs-v2/#scales-time-scale"),this.options.time.format(t)):r(t,this.options.time.format)}});t.scaleService.registerScaleType("time",o,i)}},{moment:1}]},{},[7]),function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n||t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){function r(t){if(t){var e=/^#([a-fA-F0-9]{3})$/,n=/^#([a-fA-F0-9]{6})$/,r=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,o=/(\w+)/,a=[0,0,0],s=1,l=t.match(e);if(l){l=l[1];for(u=0;u<a.length;u++)a[u]=parseInt(l[u]+l[u],16)}else if(l=t.match(n)){l=l[1];for(u=0;u<a.length;u++)a[u]=parseInt(l.slice(2*u,2*u+2),16)}else if(l=t.match(r)){for(u=0;u<a.length;u++)a[u]=parseInt(l[u+1]);s=parseFloat(l[4])}else if(l=t.match(i)){for(u=0;u<a.length;u++)a[u]=Math.round(2.55*parseFloat(l[u+1]));s=parseFloat(l[4])}else if(l=t.match(o)){if("transparent"==l[1])return[0,0,0,0];if(!(a=x[l[1]]))return}for(var u=0;u<a.length;u++)a[u]=y(a[u],0,255);return s=s||0==s?y(s,0,1):1,a[3]=s,a}}function i(t){if(t){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=t.match(e);if(n){var r=parseFloat(n[4]);return[y(parseInt(n[1]),0,360),y(parseFloat(n[2]),0,100),y(parseFloat(n[3]),0,100),y(isNaN(r)?1:r,0,1)]}}}function o(t){if(t){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=t.match(e);if(n){var r=parseFloat(n[4]);return[y(parseInt(n[1]),0,360),y(parseFloat(n[2]),0,100),y(parseFloat(n[3]),0,100),y(isNaN(r)?1:r,0,1)]}}}function a(t){var e=r(t);return e&&e.slice(0,3)}function s(t){var e=i(t);return e&&e.slice(0,3)}function l(t){var e=r(t);return e?e[3]:(e=i(t))?e[3]:(e=o(t))?e[3]:void 0}function u(t){return"#"+b(t[0])+b(t[1])+b(t[2])}function c(t,e){return e<1||t[3]&&t[3]<1?d(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function d(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function h(t,e){return e<1||t[3]&&t[3]<1?f(t,e):"rgb("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%)"}function f(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")"}function p(t,e){return e<1||t[3]&&t[3]<1?g(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}function g(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function m(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"}function v(t){return _[t.slice(0,3)]}function y(t,e,n){return Math.min(Math.max(e,t),n)}function b(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var x=t("color-name");e.exports={getRgba:r,getHsla:i,getRgb:a,getHsl:s,getHwb:o,getAlpha:l,hexString:u,rgbString:c,rgbaString:d,percentString:h,percentaString:f,hslString:p,hslaString:g,hwbString:m,keyword:v};var _={};for(var w in x)_[x[w]]=w},{"color-name":5}],2:[function(t,e,n){var r=t("color-convert"),i=t("chartjs-color-string"),o=function(t){if(t instanceof o)return t;if(!(this instanceof o))return new o(t);this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var e;if("string"==typeof t)if(e=i.getRgba(t))this.setValues("rgb",e);else if(e=i.getHsla(t))this.setValues("hsl",e);else{if(!(e=i.getHwb(t)))throw new Error('Unable to parse color from string "'+t+'"');this.setValues("hwb",e)}else if("object"==typeof t)if(void 0!==(e=t).r||void 0!==e.red)this.setValues("rgb",e);else if(void 0!==e.l||void 0!==e.lightness)this.setValues("hsl",e);else if(void 0!==e.v||void 0!==e.value)this.setValues("hsv",e);else if(void 0!==e.w||void 0!==e.whiteness)this.setValues("hwb",e);else{if(void 0===e.c&&void 0===e.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(t));this.setValues("cmyk",e)}};o.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t=(t%=360)<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return i.hexString(this.values.rgb)},rgbString:function(){return i.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return i.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return i.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return i.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return i.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return i.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return i.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],n=0;n<t.length;n++){var r=t[n]/255;e[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,n=(e[0]+t)%360;return e[0]=n<0?360+n:n,this.setValues("hsl",e),this},mix:function(t,e){var n=this,r=t,i=void 0===e?.5:e,o=2*i-1,a=n.alpha()-r.alpha(),s=((o*a==-1?o:(o+a)/(1+o*a))+1)/2,l=1-s;return this.rgb(s*n.red()+l*r.red(),s*n.green()+l*r.green(),s*n.blue()+l*r.blue()).alpha(n.alpha()*i+r.alpha()*(1-i))},toJSON:function(){return this.rgb()},clone:function(){var t,e,n=new o,r=this.values,i=n.values;for(var a in r)r.hasOwnProperty(a)&&(t=r[a],"[object Array]"===(e={}.toString.call(t))?i[a]=t.slice(0):"[object Number]"===e?i[a]=t:console.error("unexpected color value:",t));return n}},o.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},o.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o.prototype.getValues=function(t){for(var e=this.values,n={},r=0;r<t.length;r++)n[t.charAt(r)]=e[t][r];return 1!==e.alpha&&(n.a=e.alpha),n},o.prototype.setValues=function(t,e){var n,i=this.values,o=this.spaces,a=this.maxes,s=1;if("alpha"===t)s=e;else if(e.length)i[t]=e.slice(0,t.length),s=e[t.length];else if(void 0!==e[t.charAt(0)]){for(n=0;n<t.length;n++)i[t][n]=e[t.charAt(n)];s=e.a}else if(void 0!==e[o[t][0]]){var l=o[t];for(n=0;n<t.length;n++)i[t][n]=e[l[n]];s=e.alpha}if(i.alpha=Math.max(0,Math.min(1,void 0===s?i.alpha:s)),"alpha"===t)return!1;var u;for(n=0;n<t.length;n++)u=Math.max(0,Math.min(a[t][n],i[t][n])),i[t][n]=Math.round(u);for(var c in o)c!==t&&(i[c]=r[t][c](i[t]));return!0},o.prototype.setSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n),this)},o.prototype.setChannel=function(t,e,n){var r=this.values[t];return void 0===n?r[e]:n===r[e]?this:(r[e]=n,this.setValues(t,r),this)},"undefined"!=typeof window&&(window.Color=o),e.exports=o},{"chartjs-color-string":1,"color-convert":4}],3:[function(t,e,n){function i(t){var e,n,r,i=t[0]/255,o=t[1]/255,a=t[2]/255,s=Math.min(i,o,a),l=Math.max(i,o,a),u=l-s;return l==s?e=0:i==l?e=(o-a)/u:o==l?e=2+(a-i)/u:a==l&&(e=4+(i-o)/u),(e=Math.min(60*e,360))<0&&(e+=360),r=(s+l)/2,n=l==s?0:r<=.5?u/(l+s):u/(2-l-s),[e,100*n,100*r]}function o(t){var e,n,r,i=t[0],o=t[1],a=t[2],s=Math.min(i,o,a),l=Math.max(i,o,a),u=l-s;return n=0==l?0:u/l*1e3/10,l==s?e=0:i==l?e=(o-a)/u:o==l?e=2+(a-i)/u:a==l&&(e=4+(i-o)/u),(e=Math.min(60*e,360))<0&&(e+=360),r=l/255*1e3/10,[e,n,r]}function a(t){var e=t[0],n=t[1],r=t[2];return[i(t)[0],100*(1/255*Math.min(e,Math.min(n,r))),100*(r=1-1/255*Math.max(e,Math.max(n,r)))]}function s(t){var e,n,r,i,o=t[0]/255,a=t[1]/255,s=t[2]/255;return i=Math.min(1-o,1-a,1-s),e=(1-o-i)/(1-i)||0,n=(1-a-i)/(1-i)||0,r=(1-s-i)/(1-i)||0,[100*e,100*n,100*r,100*i]}function l(t){return X[JSON.stringify(t)]}function u(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*e+.7152*n+.0722*r),100*(.0193*e+.1192*n+.9505*r)]}function c(t){var e,n,r,i=u(t),o=i[0],a=i[1],s=i[2];return o/=95.047,a/=100,s/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,e=116*a-16,n=500*(o-a),r=200*(a-s),[e,n,r]}function d(t){return I(c(t))}function h(t){var e,n,r,i,o,a=t[0]/360,s=t[1]/100,l=t[2]/100;if(0==s)return o=255*l,[o,o,o];e=2*l-(n=l<.5?l*(1+s):l+s-l*s),i=[0,0,0];for(var u=0;u<3;u++)(r=a+1/3*-(u-1))<0&&r++,r>1&&r--,o=6*r<1?e+6*(n-e)*r:2*r<1?n:3*r<2?e+(n-e)*(2/3-r)*6:e,i[u]=255*o;return i}function f(t){var e,n,r=t[0],i=t[1]/100,o=t[2]/100;return 0===o?[0,0,0]:(o*=2,i*=o<=1?o:2-o,n=(o+i)/2,e=2*i/(o+i),[r,100*e,100*n])}function p(t){return a(h(t))}function m(t){return s(h(t))}function v(t){return l(h(t))}function y(t){var e=t[0]/60,n=t[1]/100,r=t[2]/100,i=Math.floor(e)%6,o=e-Math.floor(e),a=255*r*(1-n),s=255*r*(1-n*o),l=255*r*(1-n*(1-o)),r=255*r;switch(i){case 0:return[r,l,a];case 1:return[s,r,a];case 2:return[a,r,l];case 3:return[a,s,r];case 4:return[l,a,r];case 5:return[r,a,s]}}function x(t){var e,n,r=t[0],i=t[1]/100,o=t[2]/100;return n=(2-i)*o,e=i*o,e/=n<=1?n:2-n,e=e||0,n/=2,[r,100*e,100*n]}function _(t){return a(y(t))}function w(t){return s(y(t))}function C(t){return l(y(t))}function k(t){var e,n,i,o,a=t[0]/360,s=t[1]/100,l=t[2]/100,u=s+l;switch(u>1&&(s/=u,l/=u),e=Math.floor(6*a),n=1-l,i=6*a-e,0!=(1&e)&&(i=1-i),o=s+i*(n-s),e){default:case 6:case 0:r=n,g=o,b=s;break;case 1:r=o,g=n,b=s;break;case 2:r=s,g=n,b=o;break;case 3:r=s,g=o,b=n;break;case 4:r=o,g=s,b=n;break;case 5:r=n,g=s,b=o}return[255*r,255*g,255*b]}function S(t){return i(k(t))}function M(t){return o(k(t))}function T(t){return s(k(t))}function $(t){return l(k(t))}function D(t){var e,n,r,i=t[0]/100,o=t[1]/100,a=t[2]/100,s=t[3]/100;return e=1-Math.min(1,i*(1-s)+s),n=1-Math.min(1,o*(1-s)+s),r=1-Math.min(1,a*(1-s)+s),[255*e,255*n,255*r]}function E(t){return i(D(t))}function L(t){return o(D(t))}function A(t){return a(D(t))}function F(t){return l(D(t))}function P(t){var e,n,r,i=t[0]/100,o=t[1]/100,a=t[2]/100;return e=3.2406*i+-1.5372*o+-.4986*a,n=-.9689*i+1.8758*o+.0415*a,r=.0557*i+-.204*o+1.057*a,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,e=Math.min(Math.max(0,e),1),n=Math.min(Math.max(0,n),1),r=Math.min(Math.max(0,r),1),[255*e,255*n,255*r]}function R(t){var e,n,r,i=t[0],o=t[1],a=t[2];return i/=95.047,o/=100,a/=108.883,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,e=116*o-16,n=500*(i-o),r=200*(o-a),[e,n,r]}function O(t){return I(R(t))}function N(t){var e,n,r,i,o=t[0],a=t[1],s=t[2];return o<=8?i=(n=100*o/903.3)/100*7.787+16/116:(n=100*Math.pow((o+16)/116,3),i=Math.pow(n/100,1/3)),e=e/95.047<=.008856?e=95.047*(a/500+i-16/116)/7.787:95.047*Math.pow(a/500+i,3),r=r/108.883<=.008859?r=108.883*(i-s/200-16/116)/7.787:108.883*Math.pow(i-s/200,3),[e,n,r]}function I(t){var e,n,r,i=t[0],o=t[1],a=t[2];return e=Math.atan2(a,o),(n=360*e/2/Math.PI)<0&&(n+=360),r=Math.sqrt(o*o+a*a),[i,r,n]}function Y(t){return P(N(t))}function V(t){var e,n,r,i=t[0],o=t[1];return r=t[2]/360*2*Math.PI,e=o*Math.cos(r),n=o*Math.sin(r),[i,e,n]}function j(t){return N(V(t))}function H(t){return Y(V(t))}function z(t){return J[t]}function W(t){return i(z(t))}function B(t){return o(z(t))}function U(t){return a(z(t))}function G(t){return s(z(t))}function q(t){return c(z(t))}function K(t){return u(z(t))}e.exports={rgb2hsl:i,rgb2hsv:o,rgb2hwb:a,rgb2cmyk:s,rgb2keyword:l,rgb2xyz:u,rgb2lab:c,rgb2lch:d,hsl2rgb:h,hsl2hsv:f,hsl2hwb:p,hsl2cmyk:m,hsl2keyword:v,hsv2rgb:y,hsv2hsl:x,hsv2hwb:_,hsv2cmyk:w,hsv2keyword:C,hwb2rgb:k,hwb2hsl:S,hwb2hsv:M,hwb2cmyk:T,hwb2keyword:$,cmyk2rgb:D,cmyk2hsl:E,cmyk2hsv:L,cmyk2hwb:A,cmyk2keyword:F,keyword2rgb:z,keyword2hsl:W,keyword2hsv:B,keyword2hwb:U,keyword2cmyk:G,keyword2lab:q,keyword2xyz:K,xyz2rgb:P,xyz2lab:R,xyz2lch:O,lab2xyz:N,lab2rgb:Y,lab2lch:I,lch2lab:V,lch2xyz:j,lch2rgb:H};var J={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},X={};for(var Z in J)X[JSON.stringify(J[Z])]=Z},{}],4:[function(t,e,n){var r=t("./conversions"),i=function(){return new u};for(var o in r){i[o+"Raw"]=function(t){return function(e){return"number"==typeof e&&(e=Array.prototype.slice.call(arguments)),r[t](e)}}(o);var a=/(\w+)2(\w+)/.exec(o),s=a[1],l=a[2];(i[s]=i[s]||{})[l]=i[o]=function(t){return function(e){"number"==typeof e&&(e=Array.prototype.slice.call(arguments));var n=r[t](e);if("string"==typeof n||void 0===n)return n;for(var i=0;i<n.length;i++)n[i]=Math.round(n[i]);return n}}(o)}var u=function(){this.convs={}};u.prototype.routeSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n))},u.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},u.prototype.getValues=function(t){var e=this.convs[t];if(!e){var n=this.space,r=this.convs[n];e=i[n][t](r),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){u.prototype[t]=function(e){return this.routeSpace(t,arguments)}}),e.exports=i},{"./conversions":3}],5:[function(t,e,n){e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],6:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?e.exports=r():"function"==typeof define&&define.amd?define(r):t.moment=r()}(this,function(){"use strict";function n(){return sr.apply(null,arguments)}function r(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function o(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function s(t,e){for(var n in e)a(e,n)&&(t[n]=e[n]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function l(t,e,n,r){return Ot(t,e,n,r,!0).utc()}function u(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function c(t){return null==t._pf&&(t._pf=u()),t._pf}function d(t){if(null==t._isValid){var e=c(t),n=lr.call(e.parsedDateParts,function(t){return null!=t});t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function h(t){var e=l(NaN);return null!=t?s(c(e),t):c(e).userInvalidated=!0,e}function f(t){return void 0===t}function p(t,e){var n,r,i;if(f(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),f(e._i)||(t._i=e._i),f(e._f)||(t._f=e._f),f(e._l)||(t._l=e._l),f(e._strict)||(t._strict=e._strict),f(e._tzm)||(t._tzm=e._tzm),f(e._isUTC)||(t._isUTC=e._isUTC),f(e._offset)||(t._offset=e._offset),f(e._pf)||(t._pf=c(e)),f(e._locale)||(t._locale=e._locale),ur.length>0)for(n in ur)f(i=e[r=ur[n]])||(t[r]=i);return t}function g(t){p(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),!1===cr&&(cr=!0,n.updateOffset(this),cr=!1)}function m(t){return t instanceof g||null!=t&&null!=t._isAMomentObject}function v(t){return t<0?Math.ceil(t):Math.floor(t)}function y(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=v(e)),n}function b(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&y(t[r])!==y(e[r]))&&a++;return a+o}function x(t){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function _(t,e){var r=!0;return s(function(){return null!=n.deprecationHandler&&n.deprecationHandler(null,t),r&&(x(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),r=!1),e.apply(this,arguments)},e)}function w(t,e){null!=n.deprecationHandler&&n.deprecationHandler(t,e),dr[t]||(x(e),dr[t]=!0)}function C(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function k(t){return"[object Object]"===Object.prototype.toString.call(t)}function S(t){var e,n;for(n in t)C(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function M(t,e){var n,r=s({},t);for(n in e)a(e,n)&&(k(t[n])&&k(e[n])?(r[n]={},s(r[n],t[n]),s(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);return r}function T(t){null!=t&&this.set(t)}function $(t){return t?t.toLowerCase().replace("_","-"):t}function D(t){for(var e,n,r,i,o=0;o<t.length;){for(e=(i=$(t[o]).split("-")).length,n=(n=$(t[o+1]))?n.split("-"):null;e>0;){if(r=E(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&b(i,n,!0)>=e-1)break;e--}o++}return null}function E(n){var r=null;if(!gr[n]&&void 0!==e&&e&&e.exports)try{r=fr._abbr,t("./locale/"+n),L(r)}catch(t){}return gr[n]}function L(t,e){var n;return t&&(n=f(e)?P(t):A(t,e))&&(fr=n),fr._abbr}function A(t,e){return null!==e?(e.abbr=t,null!=gr[t]?(w("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),e=M(gr[t]._config,e)):null!=e.parentLocale&&(null!=gr[e.parentLocale]?e=M(gr[e.parentLocale]._config,e):w("parentLocaleUndefined","specified parentLocale is not defined yet")),gr[t]=new T(e),L(t),gr[t]):(delete gr[t],null)}function F(t,e){if(null!=e){var n;null!=gr[t]&&(e=M(gr[t]._config,e)),(n=new T(e)).parentLocale=gr[t],gr[t]=n,L(t)}else null!=gr[t]&&(null!=gr[t].parentLocale?gr[t]=gr[t].parentLocale:null!=gr[t]&&delete gr[t]);return gr[t]}function P(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return fr;if(!r(t)){if(e=E(t))return e;t=[t]}return D(t)}function R(){return hr(gr)}function O(t,e){var n=t.toLowerCase();mr[n]=mr[n+"s"]=mr[e]=t}function N(t){return"string"==typeof t?mr[t]||mr[t.toLowerCase()]:void 0}function I(t){var e,n,r={};for(n in t)a(t,n)&&(e=N(n))&&(r[e]=t[n]);return r}function Y(t,e){return function(r){return null!=r?(j(this,t,r),n.updateOffset(this,e),this):V(this,t)}}function V(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function j(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function H(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=N(t),C(this[t]))return this[t](e);return this}function z(t,e,n){var r=""+Math.abs(t),i=e-r.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function W(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(xr[t]=i),e&&(xr[e[0]]=function(){return z(i.apply(this,arguments),e[1],e[2])}),n&&(xr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function B(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function U(t){var e,n,r=t.match(vr);for(e=0,n=r.length;e<n;e++)xr[r[e]]?r[e]=xr[r[e]]:r[e]=B(r[e]);return function(e){var i,o="";for(i=0;i<n;i++)o+=r[i]instanceof Function?r[i].call(e,t):r[i];return o}}function G(t,e){return t.isValid()?(e=q(e,t.localeData()),br[e]=br[e]||U(e),br[e](t)):t.localeData().invalidDate()}function q(t,e){function n(t){return e.longDateFormat(t)||t}var r=5;for(yr.lastIndex=0;r>=0&&yr.test(t);)t=t.replace(yr,n),yr.lastIndex=0,r-=1;return t}function K(t,e,n){Ir[t]=C(e)?e:function(t,r){return t&&n?n:e}}function J(t,e){return a(Ir,t)?Ir[t](e._strict,e._locale):new RegExp(X(t))}function X(t){return Z(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,i){return e||n||r||i}))}function Z(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(r=function(t,n){n[e]=y(t)}),n=0;n<t.length;n++)Yr[t[n]]=r}function tt(t,e){Q(t,function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)})}function et(t,e,n){null!=e&&a(Yr,t)&&Yr[t](e,n._a,n,t)}function nt(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function rt(t,e){return r(this._months)?this._months[t.month()]:this._months[Kr.test(e)?"format":"standalone"][t.month()]}function it(t,e){return r(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Kr.test(e)?"format":"standalone"][t.month()]}function ot(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=l([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?(i=pr.call(this._shortMonthsParse,a),-1!==i?i:null):(i=pr.call(this._longMonthsParse,a),-1!==i?i:null):"MMM"===e?-1!==(i=pr.call(this._shortMonthsParse,a))?i:(i=pr.call(this._longMonthsParse,a),-1!==i?i:null):-1!==(i=pr.call(this._longMonthsParse,a))?i:(i=pr.call(this._shortMonthsParse,a),-1!==i?i:null)}function at(t,e,n){var r,i,o;if(this._monthsParseExact)return ot.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=l([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function st(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=y(e);else if("number"!=typeof(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),nt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function lt(t){return null!=t?(st(this,t),n.updateOffset(this,!0),this):V(this,"Month")}function ut(){return nt(this.year(),this.month())}function ct(t){return this._monthsParseExact?(a(this,"_monthsRegex")||ht.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex}function dt(t){return this._monthsParseExact?(a(this,"_monthsRegex")||ht.call(this),t?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex}function ht(){function t(t,e){return e.length-t.length}var e,n,r=[],i=[],o=[];for(e=0;e<12;e++)n=l([2e3,e]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(t),i.sort(t),o.sort(t),e=0;e<12;e++)r[e]=Z(r[e]),i[e]=Z(i[e]),o[e]=Z(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function ft(t){var e,n=t._a;return n&&-2===c(t).overflow&&(e=n[jr]<0||n[jr]>11?jr:n[Hr]<1||n[Hr]>nt(n[Vr],n[jr])?Hr:n[zr]<0||n[zr]>24||24===n[zr]&&(0!==n[Wr]||0!==n[Br]||0!==n[Ur])?zr:n[Wr]<0||n[Wr]>59?Wr:n[Br]<0||n[Br]>59?Br:n[Ur]<0||n[Ur]>999?Ur:-1,c(t)._overflowDayOfYear&&(e<Vr||e>Hr)&&(e=Hr),c(t)._overflowWeeks&&-1===e&&(e=Gr),c(t)._overflowWeekday&&-1===e&&(e=qr),c(t).overflow=e),t}function pt(t){var e,n,r,i,o,a,s=t._i,l=ti.exec(s)||ei.exec(s);if(l){for(c(t).iso=!0,e=0,n=ri.length;e<n;e++)if(ri[e][1].exec(l[1])){i=ri[e][0],r=!1!==ri[e][2];break}if(null==i)return void(t._isValid=!1);if(l[3]){for(e=0,n=ii.length;e<n;e++)if(ii[e][1].exec(l[3])){o=(l[2]||" ")+ii[e][0];break}if(null==o)return void(t._isValid=!1)}if(!r&&null!=o)return void(t._isValid=!1);if(l[4]){if(!ni.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=i+(o||"")+(a||""),Dt(t)}else t._isValid=!1}function gt(t){var e=oi.exec(t._i);null===e?(pt(t),!1===t._isValid&&(delete t._isValid,n.createFromInputFallback(t))):t._d=new Date(+e[1])}function mt(t,e,n,r,i,o,a){var s=new Date(t,e,n,r,i,o,a);return t<100&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}function vt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function yt(t){return bt(t)?366:365}function bt(t){return t%4==0&&t%100!=0||t%400==0}function xt(){return bt(this.year())}function _t(t,e,n){var r=7+e-n;return-((7+vt(t,0,r).getUTCDay()-e)%7)+r-1}function wt(t,e,n,r,i){var o,a,s=1+7*(e-1)+(7+n-r)%7+_t(t,r,i);return s<=0?a=yt(o=t-1)+s:s>yt(t)?(o=t+1,a=s-yt(t)):(o=t,a=s),{year:o,dayOfYear:a}}function Ct(t,e,n){var r,i,o=_t(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?r=a+kt(i=t.year()-1,e,n):a>kt(t.year(),e,n)?(r=a-kt(t.year(),e,n),i=t.year()+1):(i=t.year(),r=a),{week:r,year:i}}function kt(t,e,n){var r=_t(t,e,n),i=_t(t+1,e,n);return(yt(t)-r+i)/7}function St(t,e,n){return null!=t?t:null!=e?e:n}function Mt(t){var e=new Date(n.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Tt(t){var e,n,r,i,o=[];if(!t._d){for(r=Mt(t),t._w&&null==t._a[Hr]&&null==t._a[jr]&&$t(t),t._dayOfYear&&(i=St(t._a[Vr],r[Vr]),t._dayOfYear>yt(i)&&(c(t)._overflowDayOfYear=!0),n=vt(i,0,t._dayOfYear),t._a[jr]=n.getUTCMonth(),t._a[Hr]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=r[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[zr]&&0===t._a[Wr]&&0===t._a[Br]&&0===t._a[Ur]&&(t._nextDay=!0,t._a[zr]=0),t._d=(t._useUTC?vt:mt).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[zr]=24)}}function $t(t){var e,n,r,i,o,a,s,l;null!=(e=t._w).GG||null!=e.W||null!=e.E?(o=1,a=4,n=St(e.GG,t._a[Vr],Ct(Nt(),1,4).year),r=St(e.W,1),((i=St(e.E,1))<1||i>7)&&(l=!0)):(o=t._locale._week.dow,a=t._locale._week.doy,n=St(e.gg,t._a[Vr],Ct(Nt(),o,a).year),r=St(e.w,1),null!=e.d?((i=e.d)<0||i>6)&&(l=!0):null!=e.e?(i=e.e+o,(e.e<0||e.e>6)&&(l=!0)):i=o),r<1||r>kt(n,o,a)?c(t)._overflowWeeks=!0:null!=l?c(t)._overflowWeekday=!0:(s=wt(n,r,i,o,a),t._a[Vr]=s.year,t._dayOfYear=s.dayOfYear)}function Dt(t){if(t._f!==n.ISO_8601){t._a=[],c(t).empty=!0;var e,r,i,o,a,s=""+t._i,l=s.length,u=0;for(i=q(t._f,t._locale).match(vr)||[],e=0;e<i.length;e++)o=i[e],(r=(s.match(J(o,t))||[])[0])&&((a=s.substr(0,s.indexOf(r))).length>0&&c(t).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),u+=r.length),xr[o]?(r?c(t).empty=!1:c(t).unusedTokens.push(o),et(o,r,t)):t._strict&&!r&&c(t).unusedTokens.push(o);c(t).charsLeftOver=l-u,s.length>0&&c(t).unusedInput.push(s),!0===c(t).bigHour&&t._a[zr]<=12&&t._a[zr]>0&&(c(t).bigHour=void 0),c(t).parsedDateParts=t._a.slice(0),c(t).meridiem=t._meridiem,t._a[zr]=Et(t._locale,t._a[zr],t._meridiem),Tt(t),ft(t)}else pt(t)}function Et(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((r=t.isPM(n))&&e<12&&(e+=12),r||12!==e||(e=0),e):e}function Lt(t){var e,n,r,i,o;if(0===t._f.length)return c(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)o=0,e=p({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],Dt(e),d(e)&&(o+=c(e).charsLeftOver,o+=10*c(e).unusedTokens.length,c(e).score=o,(null==r||o<r)&&(r=o,n=e));s(t,n||e)}function At(t){if(!t._d){var e=I(t._i);t._a=o([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),Tt(t)}}function Ft(t){var e=new g(ft(Pt(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Pt(t){var e=t._i,n=t._f;return t._locale=t._locale||P(t._l),null===e||void 0===n&&""===e?h({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),m(e)?new g(ft(e)):(r(n)?Lt(t):n?Dt(t):i(e)?t._d=e:Rt(t),d(t)||(t._d=null),t))}function Rt(t){var e=t._i;void 0===e?t._d=new Date(n.now()):i(e)?t._d=new Date(e.valueOf()):"string"==typeof e?gt(t):r(e)?(t._a=o(e.slice(0),function(t){return parseInt(t,10)}),Tt(t)):"object"==typeof e?At(t):"number"==typeof e?t._d=new Date(e):n.createFromInputFallback(t)}function Ot(t,e,n,r,i){var o={};return"boolean"==typeof n&&(r=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=t,o._f=e,o._strict=r,Ft(o)}function Nt(t,e,n,r){return Ot(t,e,n,r,!1)}function It(t,e){var n,i;if(1===e.length&&r(e[0])&&(e=e[0]),!e.length)return Nt();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}function Yt(){return It("isBefore",[].slice.call(arguments,0))}function Vt(){return It("isAfter",[].slice.call(arguments,0))}function jt(t){var e=I(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=P(),this._bubble()}function Ht(t){return t instanceof jt}function zt(t,e){W(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+z(~~(t/60),2)+e+z(~~t%60,2)})}function Wt(t,e){var n=(e||"").match(t)||[],r=((n[n.length-1]||[])+"").match(ci)||["-",0,0],i=60*r[1]+y(r[2]);return"+"===r[0]?i:-i}function Bt(t,e){var r,o;return e._isUTC?(r=e.clone(),o=(m(t)||i(t)?t.valueOf():Nt(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+o),n.updateOffset(r,!1),r):Nt(t).local()}function Ut(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Gt(t,e){var r,i=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=Wt(Rr,t):Math.abs(t)<16&&(t*=60),!this._isUTC&&e&&(r=Ut(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!e||this._changeInProgress?ce(this,ie(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Ut(this):null!=t?this:NaN}function qt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Kt(t){return this.utcOffset(0,t)}function Jt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ut(this),"m")),this}function Xt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Wt(Pr,this._i)),this}function Zt(t){return!!this.isValid()&&(t=t?Nt(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function Qt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function te(){if(!f(this._isDSTShifted))return this._isDSTShifted;var t={};if(p(t,this),(t=Pt(t))._a){var e=t._isUTC?l(t._a):Nt(t._a);this._isDSTShifted=this.isValid()&&b(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function ee(){return!!this.isValid()&&!this._isUTC}function ne(){return!!this.isValid()&&this._isUTC}function re(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function ie(t,e){var n,r,i,o=t,s=null;return Ht(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(s=di.exec(t))?(n="-"===s[1]?-1:1,o={y:0,d:y(s[Hr])*n,h:y(s[zr])*n,m:y(s[Wr])*n,s:y(s[Br])*n,ms:y(s[Ur])*n}):(s=hi.exec(t))?(n="-"===s[1]?-1:1,o={y:oe(s[2],n),M:oe(s[3],n),w:oe(s[4],n),d:oe(s[5],n),h:oe(s[6],n),m:oe(s[7],n),s:oe(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=se(Nt(o.from),Nt(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new jt(o),Ht(t)&&a(t,"_locale")&&(r._locale=t._locale),r}function oe(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function ae(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function se(t,e){var n;return t.isValid()&&e.isValid()?(e=Bt(e,t),t.isBefore(e)?n=ae(t,e):((n=ae(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function le(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function ue(t,e){return function(n,r){var i,o;return null===r||isNaN(+r)||(w(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=ie(n,r),ce(this,i,t),this}}function ce(t,e,r,i){var o=e._milliseconds,a=le(e._days),s=le(e._months);t.isValid()&&(i=null==i||i,o&&t._d.setTime(t._d.valueOf()+o*r),a&&j(t,"Date",V(t,"Date")+a*r),s&&st(t,V(t,"Month")+s*r),i&&n.updateOffset(t,a||s))}function de(t,e){var n=t||Nt(),r=Bt(n,this).startOf("day"),i=this.diff(r,"days",!0),o=i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse",a=e&&(C(e[o])?e[o]():e[o]);return this.format(a||this.localeData().calendar(o,this,Nt(n)))}function he(){return new g(this)}function fe(t,e){var n=m(t)?t:Nt(t);return!(!this.isValid()||!n.isValid())&&(e=N(f(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function pe(t,e){var n=m(t)?t:Nt(t);return!(!this.isValid()||!n.isValid())&&(e=N(f(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function ge(t,e,n,r){return r=r||"()",("("===r[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===r[1]?this.isBefore(e,n):!this.isAfter(e,n))}function me(t,e){var n,r=m(t)?t:Nt(t);return!(!this.isValid()||!r.isValid())&&(e=N(e||"millisecond"),"millisecond"===e?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function ve(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function ye(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function be(t,e,n){var r,i,o,a;return this.isValid()&&(r=Bt(t,this)).isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),e=N(e),"year"===e||"month"===e||"quarter"===e?(a=xe(this,r),"quarter"===e?a/=3:"year"===e&&(a/=12)):(o=this-r,a="second"===e?o/1e3:"minute"===e?o/6e4:"hour"===e?o/36e5:"day"===e?(o-i)/864e5:"week"===e?(o-i)/6048e5:o),n?a:v(a)):NaN}function xe(t,e){var n,r=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(r,"months");return n=e-i<0?(e-i)/(i-t.clone().add(r-1,"months")):(e-i)/(t.clone().add(r+1,"months")-i),-(r+n)||0}function _e(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function we(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?C(Date.prototype.toISOString)?this.toDate().toISOString():G(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):G(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function Ce(t){t||(t=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var e=G(this,t);return this.localeData().postformat(e)}function ke(t,e){return this.isValid()&&(m(t)&&t.isValid()||Nt(t).isValid())?ie({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Se(t){return this.from(Nt(),t)}function Me(t,e){return this.isValid()&&(m(t)&&t.isValid()||Nt(t).isValid())?ie({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Te(t){return this.to(Nt(),t)}function $e(t){var e;return void 0===t?this._locale._abbr:(null!=(e=P(t))&&(this._locale=e),this)}function De(){return this._locale}function Ee(t){switch(t=N(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function Le(t){return void 0===(t=N(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function Ae(){return this._d.valueOf()-6e4*(this._offset||0)}function Fe(){return Math.floor(this.valueOf()/1e3)}function Pe(){return this._offset?new Date(this.valueOf()):this._d}function Re(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Oe(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Ne(){return this.isValid()?this.toISOString():null}function Ie(){return d(this)}function Ye(){return s({},c(this))}function Ve(){return c(this).overflow}function je(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function He(t,e){W(0,[t,t.length],0,e)}function ze(t){return Ge.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function We(t){return Ge.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Be(){return kt(this.year(),1,4)}function Ue(){var t=this.localeData()._week;return kt(this.year(),t.dow,t.doy)}function Ge(t,e,n,r,i){var o;return null==t?Ct(this,r,i).year:(o=kt(t,r,i),e>o&&(e=o),qe.call(this,t,e,n,r,i))}function qe(t,e,n,r,i){var o=wt(t,e,n,r,i),a=vt(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Ke(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Je(t){return Ct(t,this._week.dow,this._week.doy).week}function Xe(){return this._week.dow}function Ze(){return this._week.doy}function Qe(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function tn(t){var e=Ct(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function en(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function nn(t,e){return r(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}function rn(t){return this._weekdaysShort[t.day()]}function on(t){return this._weekdaysMin[t.day()]}function an(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=l([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?(i=pr.call(this._weekdaysParse,a),-1!==i?i:null):"ddd"===e?(i=pr.call(this._shortWeekdaysParse,a),-1!==i?i:null):(i=pr.call(this._minWeekdaysParse,a),-1!==i?i:null):"dddd"===e?-1!==(i=pr.call(this._weekdaysParse,a))?i:-1!==(i=pr.call(this._shortWeekdaysParse,a))?i:(i=pr.call(this._minWeekdaysParse,a),-1!==i?i:null):"ddd"===e?-1!==(i=pr.call(this._shortWeekdaysParse,a))?i:-1!==(i=pr.call(this._weekdaysParse,a))?i:(i=pr.call(this._minWeekdaysParse,a),-1!==i?i:null):-1!==(i=pr.call(this._minWeekdaysParse,a))?i:-1!==(i=pr.call(this._weekdaysParse,a))?i:(i=pr.call(this._shortWeekdaysParse,a),-1!==i?i:null)}function sn(t,e,n){var r,i,o;if(this._weekdaysParseExact)return an.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=l([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function ln(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=en(t,this.localeData()),this.add(t-e,"d")):e}function un(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function cn(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:NaN}function dn(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||pn.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex}function hn(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||pn.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}function fn(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||pn.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}function pn(){function t(t,e){return e.length-t.length}var e,n,r,i,o,a=[],s=[],u=[],c=[];for(e=0;e<7;e++)n=l([2e3,1]).day(e),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),u.push(o),c.push(r),c.push(i),c.push(o);for(a.sort(t),s.sort(t),u.sort(t),c.sort(t),e=0;e<7;e++)s[e]=Z(s[e]),u[e]=Z(u[e]),c[e]=Z(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function gn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function mn(){return this.hours()%12||12}function vn(){return this.hours()||24}function yn(t,e){W(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function bn(t,e){return e._meridiemParse}function xn(t){return"p"===(t+"").toLowerCase().charAt(0)}function _n(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function wn(t,e){e[Ur]=y(1e3*("0."+t))}function Cn(){return this._isUTC?"UTC":""}function kn(){return this._isUTC?"Coordinated Universal Time":""}function Sn(t){return Nt(1e3*t)}function Mn(){return Nt.apply(null,arguments).parseZone()}function Tn(t,e,n){var r=this._calendar[t];return C(r)?r.call(e,n):r}function $n(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function Dn(){return this._invalidDate}function En(t){return this._ordinal.replace("%d",t)}function Ln(t){return t}function An(t,e,n,r){var i=this._relativeTime[n];return C(i)?i(t,e,n,r):i.replace(/%d/i,t)}function Fn(t,e){var n=this._relativeTime[t>0?"future":"past"];return C(n)?n(e):n.replace(/%s/i,e)}function Pn(t,e,n,r){var i=P(),o=l().set(r,e);return i[n](o,t)}function Rn(t,e,n){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return Pn(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Pn(t,r,n,"month");return i}function On(t,e,n,r){"boolean"==typeof t?("number"==typeof e&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,"number"==typeof e&&(n=e,e=void 0),e=e||"");var i=P(),o=t?i._week.dow:0;if(null!=n)return Pn(e,(n+o)%7,r,"day");var a,s=[];for(a=0;a<7;a++)s[a]=Pn(e,(a+o)%7,r,"day");return s}function Nn(t,e){return Rn(t,e,"months")}function In(t,e){return Rn(t,e,"monthsShort")}function Yn(t,e,n){return On(t,e,n,"weekdays")}function Vn(t,e,n){return On(t,e,n,"weekdaysShort")}function jn(t,e,n){return On(t,e,n,"weekdaysMin")}function Hn(){var t=this._data;return this._milliseconds=Ni(this._milliseconds),this._days=Ni(this._days),this._months=Ni(this._months),t.milliseconds=Ni(t.milliseconds),t.seconds=Ni(t.seconds),t.minutes=Ni(t.minutes),t.hours=Ni(t.hours),t.months=Ni(t.months),t.years=Ni(t.years),this}function zn(t,e,n,r){var i=ie(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function Wn(t,e){return zn(this,t,e,1)}function Bn(t,e){return zn(this,t,e,-1)}function Un(t){return t<0?Math.floor(t):Math.ceil(t)}function Gn(){var t,e,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Un(Kn(s)+a),a=0,s=0),l.milliseconds=o%1e3,t=v(o/1e3),l.seconds=t%60,e=v(t/60),l.minutes=e%60,n=v(e/60),l.hours=n%24,a+=v(n/24),i=v(qn(a)),s+=i,a-=Un(Kn(i)),r=v(s/12),s%=12,l.days=a,l.months=s,l.years=r,this}function qn(t){return 4800*t/146097}function Kn(t){return 146097*t/4800}function Jn(t){var e,n,r=this._milliseconds;if("month"===(t=N(t))||"year"===t)return e=this._days+r/864e5,n=this._months+qn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(Kn(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}}function Xn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12)}function Zn(t){return function(){return this.as(t)}}function Qn(t){return t=N(t),this[t+"s"]()}function tr(t){return function(){return this._data[t]}}function er(){return v(this.days()/7)}function nr(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function rr(t,e,n){var r=ie(t).abs(),i=Qi(r.as("s")),o=Qi(r.as("m")),a=Qi(r.as("h")),s=Qi(r.as("d")),l=Qi(r.as("M")),u=Qi(r.as("y")),c=i<to.s&&["s",i]||o<=1&&["m"]||o<to.m&&["mm",o]||a<=1&&["h"]||a<to.h&&["hh",a]||s<=1&&["d"]||s<to.d&&["dd",s]||l<=1&&["M"]||l<to.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,nr.apply(null,c)}function ir(t,e){return void 0!==to[t]&&(void 0===e?to[t]:(to[t]=e,!0))}function or(t){var e=this.localeData(),n=rr(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function ar(){var t,e,n,r=eo(this._milliseconds)/1e3,i=eo(this._days),o=eo(this._months);e=v((t=v(r/60))/60),r%=60,t%=60;var a=n=v(o/12),s=o%=12,l=i,u=e,c=t,d=r,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||c||d?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var sr,lr;lr=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};var ur=n.momentProperties=[],cr=!1,dr={};n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;var hr;hr=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)a(t,e)&&n.push(e);return n};var fr,pr,gr={},mr={},vr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,yr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,br={},xr={},_r=/\d/,wr=/\d\d/,Cr=/\d{3}/,kr=/\d{4}/,Sr=/[+-]?\d{6}/,Mr=/\d\d?/,Tr=/\d\d\d\d?/,$r=/\d\d\d\d\d\d?/,Dr=/\d{1,3}/,Er=/\d{1,4}/,Lr=/[+-]?\d{1,6}/,Ar=/\d+/,Fr=/[+-]?\d+/,Pr=/Z|[+-]\d\d:?\d\d/gi,Rr=/Z|[+-]\d\d(?::?\d\d)?/gi,Or=/[+-]?\d+(\.\d{1,3})?/,Nr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ir={},Yr={},Vr=0,jr=1,Hr=2,zr=3,Wr=4,Br=5,Ur=6,Gr=7,qr=8;pr=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},W("M",["MM",2],"Mo",function(){return this.month()+1}),W("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),W("MMMM",0,0,function(t){return this.localeData().months(this,t)}),O("month","M"),K("M",Mr),K("MM",Mr,wr),K("MMM",function(t,e){return e.monthsShortRegex(t)}),K("MMMM",function(t,e){return e.monthsRegex(t)}),Q(["M","MM"],function(t,e){e[jr]=y(t)-1}),Q(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[jr]=i:c(n).invalidMonth=t});var Kr=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Jr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Xr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Zr=Nr,Qr=Nr,ti=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ei=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ni=/Z|[+-]\d\d(?::?\d\d)?/,ri=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ii=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],oi=/^\/?Date\((\-?\d+)/i;n.createFromInputFallback=_("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),W("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),W(0,["YY",2],0,function(){return this.year()%100}),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),O("year","y"),K("Y",Fr),K("YY",Mr,wr),K("YYYY",Er,kr),K("YYYYY",Lr,Sr),K("YYYYYY",Lr,Sr),Q(["YYYYY","YYYYYY"],Vr),Q("YYYY",function(t,e){e[Vr]=2===t.length?n.parseTwoDigitYear(t):y(t)}),Q("YY",function(t,e){e[Vr]=n.parseTwoDigitYear(t)}),Q("Y",function(t,e){e[Vr]=parseInt(t,10)}),n.parseTwoDigitYear=function(t){return y(t)+(y(t)>68?1900:2e3)};var ai=Y("FullYear",!0);n.ISO_8601=function(){};var si=_("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Nt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:h()}),li=_("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Nt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:h()}),ui=function(){return Date.now?Date.now():+new Date};zt("Z",":"),zt("ZZ",""),K("Z",Rr),K("ZZ",Rr),Q(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Wt(Rr,t)});var ci=/([\+\-]|\d\d)/gi;n.updateOffset=function(){};var di=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,hi=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;ie.fn=jt.prototype;var fi=ue(1,"add"),pi=ue(-1,"subtract");n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var gi=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});W(0,["gg",2],0,function(){return this.weekYear()%100}),W(0,["GG",2],0,function(){return this.isoWeekYear()%100}),He("gggg","weekYear"),He("ggggg","weekYear"),He("GGGG","isoWeekYear"),He("GGGGG","isoWeekYear"),O("weekYear","gg"),O("isoWeekYear","GG"),K("G",Fr),K("g",Fr),K("GG",Mr,wr),K("gg",Mr,wr),K("GGGG",Er,kr),K("gggg",Er,kr),K("GGGGG",Lr,Sr),K("ggggg",Lr,Sr),tt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=y(t)}),tt(["gg","GG"],function(t,e,r,i){e[i]=n.parseTwoDigitYear(t)}),W("Q",0,"Qo","quarter"),O("quarter","Q"),K("Q",_r),Q("Q",function(t,e){e[jr]=3*(y(t)-1)}),W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),O("week","w"),O("isoWeek","W"),K("w",Mr),K("ww",Mr,wr),K("W",Mr),K("WW",Mr,wr),tt(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=y(t)});var mi={dow:0,doy:6};W("D",["DD",2],"Do","date"),O("date","D"),K("D",Mr),K("DD",Mr,wr),K("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),Q(["D","DD"],Hr),Q("Do",function(t,e){e[Hr]=y(t.match(Mr)[0],10)});var vi=Y("Date",!0);W("d",0,"do","day"),W("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),W("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),W("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),O("day","d"),O("weekday","e"),O("isoWeekday","E"),K("d",Mr),K("e",Mr),K("E",Mr),K("dd",function(t,e){return e.weekdaysMinRegex(t)}),K("ddd",function(t,e){return e.weekdaysShortRegex(t)}),K("dddd",function(t,e){return e.weekdaysRegex(t)}),tt(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:c(n).invalidWeekday=t}),tt(["d","e","E"],function(t,e,n,r){e[r]=y(t)});var yi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),bi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),xi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),_i=Nr,wi=Nr,Ci=Nr;W("DDD",["DDDD",3],"DDDo","dayOfYear"),O("dayOfYear","DDD"),K("DDD",Dr),K("DDDD",Cr),Q(["DDD","DDDD"],function(t,e,n){n._dayOfYear=y(t)}),W("H",["HH",2],0,"hour"),W("h",["hh",2],0,mn),W("k",["kk",2],0,vn),W("hmm",0,0,function(){return""+mn.apply(this)+z(this.minutes(),2)}),W("hmmss",0,0,function(){return""+mn.apply(this)+z(this.minutes(),2)+z(this.seconds(),2)}),W("Hmm",0,0,function(){return""+this.hours()+z(this.minutes(),2)}),W("Hmmss",0,0,function(){return""+this.hours()+z(this.minutes(),2)+z(this.seconds(),2)}),yn("a",!0),yn("A",!1),O("hour","h"),K("a",bn),K("A",bn),K("H",Mr),K("h",Mr),K("HH",Mr,wr),K("hh",Mr,wr),K("hmm",Tr),K("hmmss",$r),K("Hmm",Tr),K("Hmmss",$r),Q(["H","HH"],zr),Q(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),Q(["h","hh"],function(t,e,n){e[zr]=y(t),c(n).bigHour=!0}),Q("hmm",function(t,e,n){var r=t.length-2;e[zr]=y(t.substr(0,r)),e[Wr]=y(t.substr(r)),c(n).bigHour=!0}),Q("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[zr]=y(t.substr(0,r)),e[Wr]=y(t.substr(r,2)),e[Br]=y(t.substr(i)),c(n).bigHour=!0}),Q("Hmm",function(t,e,n){var r=t.length-2;e[zr]=y(t.substr(0,r)),e[Wr]=y(t.substr(r))}),Q("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[zr]=y(t.substr(0,r)),e[Wr]=y(t.substr(r,2)),e[Br]=y(t.substr(i))});var ki=/[ap]\.?m?\.?/i,Si=Y("Hours",!0);W("m",["mm",2],0,"minute"),O("minute","m"),K("m",Mr),K("mm",Mr,wr),Q(["m","mm"],Wr);var Mi=Y("Minutes",!1);W("s",["ss",2],0,"second"),O("second","s"),K("s",Mr),K("ss",Mr,wr),Q(["s","ss"],Br);var Ti=Y("Seconds",!1);W("S",0,0,function(){return~~(this.millisecond()/100)}),W(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,function(){return 10*this.millisecond()}),W(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),W(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),W(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),W(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),W(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),O("millisecond","ms"),K("S",Dr,_r),K("SS",Dr,wr),K("SSS",Dr,Cr);var $i;for($i="SSSS";$i.length<=9;$i+="S")K($i,Ar);for($i="S";$i.length<=9;$i+="S")Q($i,wn);var Di=Y("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var Ei=g.prototype;Ei.add=fi,Ei.calendar=de,Ei.clone=he,Ei.diff=be,Ei.endOf=Le,Ei.format=Ce,Ei.from=ke,Ei.fromNow=Se,Ei.to=Me,Ei.toNow=Te,Ei.get=H,Ei.invalidAt=Ve,Ei.isAfter=fe,Ei.isBefore=pe,Ei.isBetween=ge,Ei.isSame=me,Ei.isSameOrAfter=ve,Ei.isSameOrBefore=ye,Ei.isValid=Ie,Ei.lang=gi,Ei.locale=$e,Ei.localeData=De,Ei.max=li,Ei.min=si,Ei.parsingFlags=Ye,Ei.set=H,Ei.startOf=Ee,Ei.subtract=pi,Ei.toArray=Re,Ei.toObject=Oe,Ei.toDate=Pe,Ei.toISOString=we,Ei.toJSON=Ne,Ei.toString=_e,Ei.unix=Fe,Ei.valueOf=Ae,Ei.creationData=je,Ei.year=ai,Ei.isLeapYear=xt,Ei.weekYear=ze,Ei.isoWeekYear=We,Ei.quarter=Ei.quarters=Ke,Ei.month=lt,Ei.daysInMonth=ut,Ei.week=Ei.weeks=Qe,Ei.isoWeek=Ei.isoWeeks=tn,Ei.weeksInYear=Ue,Ei.isoWeeksInYear=Be,Ei.date=vi,Ei.day=Ei.days=ln,Ei.weekday=un,Ei.isoWeekday=cn,Ei.dayOfYear=gn,Ei.hour=Ei.hours=Si,Ei.minute=Ei.minutes=Mi,Ei.second=Ei.seconds=Ti,Ei.millisecond=Ei.milliseconds=Di,Ei.utcOffset=Gt,Ei.utc=Kt,Ei.local=Jt,Ei.parseZone=Xt,Ei.hasAlignedHourOffset=Zt,Ei.isDST=Qt,Ei.isDSTShifted=te,Ei.isLocal=ee,Ei.isUtcOffset=ne,Ei.isUtc=re,Ei.isUTC=re,Ei.zoneAbbr=Cn,Ei.zoneName=kn,Ei.dates=_("dates accessor is deprecated. Use date instead.",vi),Ei.months=_("months accessor is deprecated. Use month instead",lt),Ei.years=_("years accessor is deprecated. Use year instead",ai),Ei.zone=_("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",qt);var Li=Ei,Ai={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Fi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Pi=/\d{1,2}/,Ri={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Oi=T.prototype;Oi._calendar=Ai,Oi.calendar=Tn,Oi._longDateFormat=Fi,Oi.longDateFormat=$n,Oi._invalidDate="Invalid date",Oi.invalidDate=Dn,Oi._ordinal="%d",Oi.ordinal=En,Oi._ordinalParse=Pi,Oi.preparse=Ln,Oi.postformat=Ln,Oi._relativeTime=Ri,Oi.relativeTime=An,Oi.pastFuture=Fn,Oi.set=S,Oi.months=rt,Oi._months=Jr,Oi.monthsShort=it,Oi._monthsShort=Xr,Oi.monthsParse=at,Oi._monthsRegex=Qr,Oi.monthsRegex=dt,Oi._monthsShortRegex=Zr,Oi.monthsShortRegex=ct,Oi.week=Je,Oi._week=mi,Oi.firstDayOfYear=Ze,Oi.firstDayOfWeek=Xe,Oi.weekdays=nn,Oi._weekdays=yi,Oi.weekdaysMin=on,Oi._weekdaysMin=xi,Oi.weekdaysShort=rn,Oi._weekdaysShort=bi,Oi.weekdaysParse=sn,Oi._weekdaysRegex=_i,Oi.weekdaysRegex=dn,Oi._weekdaysShortRegex=wi,Oi.weekdaysShortRegex=hn,Oi._weekdaysMinRegex=Ci,Oi.weekdaysMinRegex=fn,Oi.isPM=xn,Oi._meridiemParse=ki,Oi.meridiem=_n,L("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===y(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),n.lang=_("moment.lang is deprecated. Use moment.locale instead.",L),n.langData=_("moment.langData is deprecated. Use moment.localeData instead.",P);var Ni=Math.abs,Ii=Zn("ms"),Yi=Zn("s"),Vi=Zn("m"),ji=Zn("h"),Hi=Zn("d"),zi=Zn("w"),Wi=Zn("M"),Bi=Zn("y"),Ui=tr("milliseconds"),Gi=tr("seconds"),qi=tr("minutes"),Ki=tr("hours"),Ji=tr("days"),Xi=tr("months"),Zi=tr("years"),Qi=Math.round,to={s:45,m:45,h:22,d:26,M:11},eo=Math.abs,no=jt.prototype;return no.abs=Hn,no.add=Wn,no.subtract=Bn,no.as=Jn,no.asMilliseconds=Ii,no.asSeconds=Yi,no.asMinutes=Vi,no.asHours=ji,no.asDays=Hi,no.asWeeks=zi,no.asMonths=Wi,no.asYears=Bi,no.valueOf=Xn,no._bubble=Gn,no.get=Qn,no.milliseconds=Ui,no.seconds=Gi,no.minutes=qi,no.hours=Ki,no.days=Ji,no.weeks=er,no.months=Xi,no.years=Zi,no.humanize=or,no.toISOString=ar,no.toString=ar,no.toJSON=ar,no.locale=$e,no.localeData=De,no.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ar),no.lang=gi,W("X",0,0,"unix"),W("x",0,0,"valueOf"),K("x",Fr),K("X",Or),Q("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),Q("x",function(t,e,n){n._d=new Date(y(t))}),n.version="2.13.0",function(t){sr=t}(Nt),n.fn=Li,n.min=Yt,n.max=Vt,n.now=ui,n.utc=l,n.unix=Sn,n.months=Nn,n.isDate=i,n.locale=L,n.invalid=h,n.duration=ie,n.isMoment=m,n.weekdays=Yn,n.parseZone=Mn,n.localeData=P,n.isDuration=Ht,n.monthsShort=In,n.weekdaysMin=jn,n.defineLocale=A,n.updateLocale=F,n.locales=R,n.weekdaysShort=Vn,n.normalizeUnits=N,n.relativeTimeThreshold=ir,n.prototype=Li,n})},{}],7:[function(t,e,n){var r=t("./core/core.js")();t("./core/core.helpers")(r),t("./core/core.element")(r),t("./core/core.animation")(r),t("./core/core.controller")(r),t("./core/core.datasetController")(r),t("./core/core.layoutService")(r),t("./core/core.legend")(r),t("./core/core.plugin.js")(r),t("./core/core.scale")(r),t("./core/core.scaleService")(r),t("./core/core.title")(r),t("./core/core.tooltip")(r),t("./elements/element.arc")(r),t("./elements/element.line")(r),t("./elements/element.point")(r),t("./elements/element.rectangle")(r),t("./scales/scale.category")(r),t("./scales/scale.linear")(r),t("./scales/scale.logarithmic")(r),t("./scales/scale.radialLinear")(r),t("./scales/scale.time")(r),t("./controllers/controller.bar")(r),t("./controllers/controller.bubble")(r),t("./controllers/controller.doughnut")(r),t("./controllers/controller.line")(r),t("./controllers/controller.polarArea")(r),t("./controllers/controller.radar")(r),t("./charts/Chart.Bar")(r),t("./charts/Chart.Bubble")(r),t("./charts/Chart.Doughnut")(r),t("./charts/Chart.Line")(r),t("./charts/Chart.PolarArea")(r),t("./charts/Chart.Radar")(r),t("./charts/Chart.Scatter")(r),window.Chart=e.exports=r},{"./charts/Chart.Bar":8,"./charts/Chart.Bubble":9,"./charts/Chart.Doughnut":10,"./charts/Chart.Line":11,"./charts/Chart.PolarArea":12,"./charts/Chart.Radar":13,"./charts/Chart.Scatter":14,"./controllers/controller.bar":15,"./controllers/controller.bubble":16,"./controllers/controller.doughnut":17,"./controllers/controller.line":18,"./controllers/controller.polarArea":19,"./controllers/controller.radar":20,"./core/core.animation":21,"./core/core.controller":22,"./core/core.datasetController":23,"./core/core.element":24,"./core/core.helpers":25,"./core/core.js":26,"./core/core.layoutService":27,"./core/core.legend":28,"./core/core.plugin.js":29,"./core/core.scale":30,"./core/core.scaleService":31,"./core/core.title":32,"./core/core.tooltip":33,"./elements/element.arc":34,"./elements/element.line":35,"./elements/element.point":36,"./elements/element.rectangle":37,"./scales/scale.category":38,"./scales/scale.linear":39,"./scales/scale.logarithmic":40,"./scales/scale.radialLinear":41,"./scales/scale.time":42}],8:[function(t,e,n){"use strict";e.exports=function(t){t.Bar=function(e,n){return n.type="bar",new t(e,n)}}},{}],9:[function(t,e,n){"use strict";e.exports=function(t){t.Bubble=function(e,n){return n.type="bubble",new t(e,n)}}},{}],10:[function(t,e,n){"use strict";e.exports=function(t){t.Doughnut=function(e,n){return n.type="doughnut",new t(e,n)}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t){t.Line=function(e,n){return n.type="line",new t(e,n)}}},{}],12:[function(t,e,n){"use strict";e.exports=function(t){t.PolarArea=function(e,n){return n.type="polarArea",new t(e,n)}}},{}],13:[function(t,e,n){"use strict";e.exports=function(t){t.Radar=function(e,n){return n.options=t.helpers.configMerge({aspectRatio:1},n.options),n.type="radar",new t(e,n)}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t){var e={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{callbacks:{title:function(t,e){return""},label:function(t,e){return"("+t.xLabel+", "+t.yLabel+")"}}}};t.defaults.scatter=e,t.controllers.scatter=t.controllers.line,t.Scatter=function(e,n){return n.type="scatter",new t(e,n)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},t.controllers.bar=t.DatasetController.extend({dataElementType:t.elements.Rectangle,initialize:function(e,n){t.DatasetController.prototype.initialize.call(this,e,n),this.getMeta().bar=!0},getBarCount:function(){var t=0;return e.each(this.chart.data.datasets,function(e,n){this.chart.getDatasetMeta(n).bar&&this.chart.isDatasetVisible(n)&&++t},this),t},update:function(t){e.each(this.getMeta().data,function(e,n){this.updateElement(e,n,t)},this)},updateElement:function(t,n,r){var i=this.getMeta(),o=this.getScaleForId(i.xAxisID),a=this.getScaleForId(i.yAxisID),s=a.getBasePixel(),l=this.chart.options.elements.rectangle,u=t.custom||{},c=this.getDataset();e.extend(t,{_xScale:o,_yScale:a,_datasetIndex:this.index,_index:n,_model:{x:this.calculateBarX(n,this.index),y:r?s:this.calculateBarY(n,this.index),label:this.chart.data.labels[n],datasetLabel:c.label,base:r?s:this.calculateBarBase(this.index,n),width:this.calculateBarWidth(n),backgroundColor:u.backgroundColor?u.backgroundColor:e.getValueAtIndexOrDefault(c.backgroundColor,n,l.backgroundColor),borderSkipped:u.borderSkipped?u.borderSkipped:l.borderSkipped,borderColor:u.borderColor?u.borderColor:e.getValueAtIndexOrDefault(c.borderColor,n,l.borderColor),borderWidth:u.borderWidth?u.borderWidth:e.getValueAtIndexOrDefault(c.borderWidth,n,l.borderWidth)}}),t.pivot()},calculateBarBase:function(t,e){var n=this.getMeta(),r=this.getScaleForId(n.yAxisID),i=0;if(r.options.stacked){var o=this.chart,a=o.data.datasets;if(a[t].data[e]<0)for(var s=0;s<t;s++){var l=a[s],u=o.getDatasetMeta(s);u.bar&&u.yAxisID===r.id&&o.isDatasetVisible(s)&&(i+=l.data[e]<0?l.data[e]:0)}else for(var c=0;c<t;c++){var d=a[c],h=o.getDatasetMeta(c);h.bar&&h.yAxisID===r.id&&o.isDatasetVisible(c)&&(i+=d.data[e]>0?d.data[e]:0)}return r.getPixelForValue(i)}return r.getBasePixel()},getRuler:function(t){var e,n=this.getMeta(),r=this.getScaleForId(n.xAxisID),i=this.getBarCount(),o=(e="category"===r.options.type?r.getPixelForTick(t+1)-r.getPixelForTick(t):r.width/r.ticks.length)*r.options.categoryPercentage,a=(e-e*r.options.categoryPercentage)/2,s=o/i;return r.ticks.length!==this.chart.data.labels.length&&(s*=r.ticks.length/this.chart.data.labels.length),{datasetCount:i,tickWidth:e,categoryWidth:o,categorySpacing:a,fullBarWidth:s,barWidth:s*r.options.barPercentage,barSpacing:s-s*r.options.barPercentage}},calculateBarWidth:function(t){var e=this.getScaleForId(this.getMeta().xAxisID),n=this.getRuler(t);return e.options.stacked?n.categoryWidth:n.barWidth},getBarIndex:function(t){var e,n=0;for(e=0;e<t;++e)this.chart.getDatasetMeta(e).bar&&this.chart.isDatasetVisible(e)&&++n;return n},calculateBarX:function(t,e){var n=this.getMeta(),r=this.getScaleForId(n.xAxisID),i=this.getBarIndex(e),o=this.getRuler(t),a=r.getPixelForValue(null,t,e,this.chart.isCombo);return a-=this.chart.isCombo?o.tickWidth/2:0,r.options.stacked?a+o.categoryWidth/2+o.categorySpacing:a+o.barWidth/2+o.categorySpacing+o.barWidth*i+o.barSpacing/2+o.barSpacing*i},calculateBarY:function(t,e){var n=this.getMeta(),r=this.getScaleForId(n.yAxisID),i=this.getDataset().data[t];if(r.options.stacked){for(var o=0,a=0,s=0;s<e;s++){var l=this.chart.data.datasets[s],u=this.chart.getDatasetMeta(s);u.bar&&u.yAxisID===r.id&&this.chart.isDatasetVisible(s)&&(l.data[t]<0?a+=l.data[t]||0:o+=l.data[t]||0)}return i<0?r.getPixelForValue(a+i):r.getPixelForValue(o+i)}return r.getPixelForValue(i)},draw:function(t){var n=t||1;e.each(this.getMeta().data,function(t,e){var r=this.getDataset().data[e];null===r||void 0===r||isNaN(r)||t.transition(n).draw()},this)},setHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],r=t._index,i=t.custom||{},o=t._model;o.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:e.getValueAtIndexOrDefault(n.hoverBackgroundColor,r,e.getHoverColor(o.backgroundColor)),o.borderColor=i.hoverBorderColor?i.hoverBorderColor:e.getValueAtIndexOrDefault(n.hoverBorderColor,r,e.getHoverColor(o.borderColor)),o.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:e.getValueAtIndexOrDefault(n.hoverBorderWidth,r,o.borderWidth)},removeHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],r=t._index,i=t.custom||{},o=t._model,a=this.chart.options.elements.rectangle;o.backgroundColor=i.backgroundColor?i.backgroundColor:e.getValueAtIndexOrDefault(n.backgroundColor,r,a.backgroundColor),o.borderColor=i.borderColor?i.borderColor:e.getValueAtIndexOrDefault(n.borderColor,r,a.borderColor),o.borderWidth=i.borderWidth?i.borderWidth:e.getValueAtIndexOrDefault(n.borderWidth,r,a.borderWidth)}}),t.defaults.horizontalBar={hover:{mode:"label"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(t,e){var n="";return t.length>0&&(t[0].yLabel?n=t[0].yLabel:e.labels.length>0&&t[0].index<e.labels.length&&(n=e.labels[t[0].index])),n},label:function(t,e){return(e.datasets[t.datasetIndex].label||"")+": "+t.xLabel}}}},t.controllers.horizontalBar=t.controllers.bar.extend({updateElement:function(t,n,r,i){var o=this.getMeta(),a=this.getScaleForId(o.xAxisID),s=this.getScaleForId(o.yAxisID),l=a.getBasePixel(),u=t.custom||{},c=this.getDataset(),d=this.chart.options.elements.rectangle;e.extend(t,{_xScale:a,_yScale:s,_datasetIndex:this.index,_index:n,_model:{x:r?l:this.calculateBarX(n,this.index),y:this.calculateBarY(n,this.index),label:this.chart.data.labels[n],datasetLabel:c.label,base:r?l:this.calculateBarBase(this.index,n),height:this.calculateBarHeight(n),backgroundColor:u.backgroundColor?u.backgroundColor:e.getValueAtIndexOrDefault(c.backgroundColor,n,d.backgroundColor),borderSkipped:u.borderSkipped?u.borderSkipped:d.borderSkipped,borderColor:u.borderColor?u.borderColor:e.getValueAtIndexOrDefault(c.borderColor,n,d.borderColor),borderWidth:u.borderWidth?u.borderWidth:e.getValueAtIndexOrDefault(c.borderWidth,n,d.borderWidth)},draw:function(){function t(t){return l[(u+t)%4]}var e=this._chart.ctx,n=this._view,r=n.height/2,i=n.y-r,o=n.y+r,a=n.base-(n.base-n.x),s=n.borderWidth/2;n.borderWidth&&(i+=s,o-=s,a+=s),e.beginPath(),e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth;var l=[[n.base,o],[n.base,i],[a,i],[a,o]],u=["bottom","left","top","right"].indexOf(n.borderSkipped,0);-1===u&&(u=0),e.moveTo.apply(e,t(0));for(var c=1;c<4;c++)e.lineTo.apply(e,t(c));e.fill(),n.borderWidth&&e.stroke()},inRange:function(t,e){var n=this._view,r=!1;return n&&(r=n.x<n.base?e>=n.y-n.height/2&&e<=n.y+n.height/2&&t>=n.x&&t<=n.base:e>=n.y-n.height/2&&e<=n.y+n.height/2&&t>=n.base&&t<=n.x),r}}),t.pivot()},calculateBarBase:function(t,e){var n=this.getMeta(),r=this.getScaleForId(n.xAxisID),i=0;if(r.options.stacked){if(this.chart.data.datasets[t].data[e]<0)for(var o=0;o<t;o++){var a=this.chart.data.datasets[o],s=this.chart.getDatasetMeta(o);s.bar&&s.xAxisID===r.id&&this.chart.isDatasetVisible(o)&&(i+=a.data[e]<0?a.data[e]:0)}else for(var l=0;l<t;l++){var u=this.chart.data.datasets[l],c=this.chart.getDatasetMeta(l);c.bar&&c.xAxisID===r.id&&this.chart.isDatasetVisible(l)&&(i+=u.data[e]>0?u.data[e]:0)}return r.getPixelForValue(i)}return r.getBasePixel()},getRuler:function(t){var e,n=this.getMeta(),r=this.getScaleForId(n.yAxisID),i=this.getBarCount(),o=(e="category"===r.options.type?r.getPixelForTick(t+1)-r.getPixelForTick(t):r.width/r.ticks.length)*r.options.categoryPercentage,a=(e-e*r.options.categoryPercentage)/2,s=o/i;return r.ticks.length!==this.chart.data.labels.length&&(s*=r.ticks.length/this.chart.data.labels.length),{datasetCount:i,tickHeight:e,categoryHeight:o,categorySpacing:a,fullBarHeight:s,barHeight:s*r.options.barPercentage,barSpacing:s-s*r.options.barPercentage}},calculateBarHeight:function(t){var e=this.getScaleForId(this.getMeta().yAxisID),n=this.getRuler(t);return e.options.stacked?n.categoryHeight:n.barHeight},calculateBarX:function(t,e){var n=this.getMeta(),r=this.getScaleForId(n.xAxisID),i=this.getDataset().data[t];if(r.options.stacked){for(var o=0,a=0,s=0;s<e;s++){var l=this.chart.data.datasets[s],u=this.chart.getDatasetMeta(s);u.bar&&u.xAxisID===r.id&&this.chart.isDatasetVisible(s)&&(l.data[t]<0?a+=l.data[t]||0:o+=l.data[t]||0)}return i<0?r.getPixelForValue(a+i):r.getPixelForValue(o+i)}return r.getPixelForValue(i)},calculateBarY:function(t,e){var n=this.getMeta(),r=this.getScaleForId(n.yAxisID),i=this.getBarIndex(e),o=this.getRuler(t),a=r.getPixelForValue(null,t,e,this.chart.isCombo);return a-=this.chart.isCombo?o.tickHeight/2:0,r.options.stacked?a+o.categoryHeight/2+o.categorySpacing:a+o.barHeight/2+o.categorySpacing+o.barHeight*i+o.barSpacing/2+o.barSpacing*i}})}},{}],16:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(t,e){return""},label:function(t,e){var n=e.datasets[t.datasetIndex].label||"",r=e.datasets[t.datasetIndex].data[t.index];return n+": ("+r.x+", "+r.y+", "+r.r+")"}}}},t.controllers.bubble=t.DatasetController.extend({dataElementType:t.elements.Point,update:function(t){var n=this.getMeta().data;e.each(n,function(e,n){this.updateElement(e,n,t)},this)},updateElement:function(t,n,r){var i=this.getMeta(),o=this.getScaleForId(i.xAxisID),a=this.getScaleForId(i.yAxisID),s=t.custom||{},l=this.getDataset(),u=l.data[n],c=this.chart.options.elements.point;e.extend(t,{_xScale:o,_yScale:a,_datasetIndex:this.index,_index:n,_model:{x:r?o.getPixelForDecimal(.5):o.getPixelForValue(u,n,this.index,this.chart.isCombo),y:r?a.getBasePixel():a.getPixelForValue(u,n,this.index),radius:r?0:s.radius?s.radius:this.getRadius(u),backgroundColor:s.backgroundColor?s.backgroundColor:e.getValueAtIndexOrDefault(l.backgroundColor,n,c.backgroundColor),borderColor:s.borderColor?s.borderColor:e.getValueAtIndexOrDefault(l.borderColor,n,c.borderColor),borderWidth:s.borderWidth?s.borderWidth:e.getValueAtIndexOrDefault(l.borderWidth,n,c.borderWidth),hitRadius:s.hitRadius?s.hitRadius:e.getValueAtIndexOrDefault(l.hitRadius,n,c.hitRadius)}});var d=t._model;d.skip=s.skip?s.skip:isNaN(d.x)||isNaN(d.y),t.pivot()},getRadius:function(t){return t.r||this.chart.options.elements.point.radius},setHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],r=t._index,i=t.custom||{},o=t._model;o.radius=i.hoverRadius?i.hoverRadius:e.getValueAtIndexOrDefault(n.hoverRadius,r,this.chart.options.elements.point.hoverRadius)+this.getRadius(this.getDataset().data[t._index]),o.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:e.getValueAtIndexOrDefault(n.hoverBackgroundColor,r,e.getHoverColor(o.backgroundColor)),o.borderColor=i.hoverBorderColor?i.hoverBorderColor:e.getValueAtIndexOrDefault(n.hoverBorderColor,r,e.getHoverColor(o.borderColor)),o.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:e.getValueAtIndexOrDefault(n.hoverBorderWidth,r,o.borderWidth)},removeHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],r=t._index,i=t.custom||{},o=t._model,a=this.chart.options.elements.point;o.radius=i.radius?i.radius:this.getRadius(n.data[t._index]),o.backgroundColor=i.backgroundColor?i.backgroundColor:e.getValueAtIndexOrDefault(n.backgroundColor,r,a.backgroundColor),o.borderColor=i.borderColor?i.borderColor:e.getValueAtIndexOrDefault(n.borderColor,r,a.borderColor),o.borderWidth=i.borderWidth?i.borderWidth:e.getValueAtIndexOrDefault(n.borderWidth,r,a.borderWidth)}})}},{}],17:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n=t.defaults;n.doughnut={animation:{animateRotate:!0,animateScale:!1},aspectRatio:1,hover:{mode:"single"},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,r=n.datasets,i=n.labels;if(r.length)for(var o=0;o<r[0].data.length;++o)e.push('<li><span style="background-color:'+r[0].backgroundColor[o]+'"></span>'),i[o]&&e.push(i[o]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var n=t.data;return n.labels.length&&n.datasets.length?n.labels.map(function(r,i){var o=t.getDatasetMeta(0),a=n.datasets[0],s=o.data[i].custom||{},l=e.getValueAtIndexOrDefault,u=t.options.elements.arc;return{text:r,fillStyle:s.backgroundColor?s.backgroundColor:l(a.backgroundColor,i,u.backgroundColor),strokeStyle:s.borderColor?s.borderColor:l(a.borderColor,i,u.borderColor),lineWidth:s.borderWidth?s.borderWidth:l(a.borderWidth,i,u.borderWidth),hidden:isNaN(a.data[i])||o.data[i].hidden,index:i}}):[]}},onClick:function(t,e){var n,r,i,o=e.index,a=this.chart;for(n=0,r=(a.data.datasets||[]).length;n<r;++n)(i=a.getDatasetMeta(n)).data[o].hidden=!i.data[o].hidden;a.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+e.datasets[t.datasetIndex].data[t.index]}}}},n.pie=e.clone(n.doughnut),e.extend(n.pie,{cutoutPercentage:0}),t.controllers.doughnut=t.controllers.pie=t.DatasetController.extend({dataElementType:t.elements.Arc,linkScales:e.noop,getRingIndex:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&++e;return e},update:function(t){var n=this,r=n.chart,i=r.chartArea,o=r.options,a=o.elements.arc,s=i.right-i.left-a.borderWidth,l=i.bottom-i.top-a.borderWidth,u=Math.min(s,l),c={x:0,y:0},d=n.getMeta(),h=o.cutoutPercentage,f=o.circumference;if(f<2*Math.PI){var p=o.rotation%(2*Math.PI),g=(p+=2*Math.PI*(p>=Math.PI?-1:p<-Math.PI?1:0))+f,m={x:Math.cos(p),y:Math.sin(p)},v={x:Math.cos(g),y:Math.sin(g)},y=p<=0&&0<=g||p<=2*Math.PI&&2*Math.PI<=g,b=p<=.5*Math.PI&&.5*Math.PI<=g||p<=2.5*Math.PI&&2.5*Math.PI<=g,x=p<=-Math.PI&&-Math.PI<=g||p<=Math.PI&&Math.PI<=g,_=p<=.5*-Math.PI&&.5*-Math.PI<=g||p<=1.5*Math.PI&&1.5*Math.PI<=g,w=h/100,C={x:x?-1:Math.min(m.x*(m.x<0?1:w),v.x*(v.x<0?1:w)),y:_?-1:Math.min(m.y*(m.y<0?1:w),v.y*(v.y<0?1:w))},k={x:y?1:Math.max(m.x*(m.x>0?1:w),v.x*(v.x>0?1:w)),y:b?1:Math.max(m.y*(m.y>0?1:w),v.y*(v.y>0?1:w))},S={width:.5*(k.x-C.x),height:.5*(k.y-C.y)};u=Math.min(s/S.width,l/S.height),c={x:-.5*(k.x+C.x),y:-.5*(k.y+C.y)}}r.outerRadius=Math.max(u/2,0),r.innerRadius=Math.max(h?r.outerRadius/100*h:1,0),r.radiusLength=(r.outerRadius-r.innerRadius)/r.getVisibleDatasetCount(),r.offsetX=c.x*r.outerRadius,r.offsetY=c.y*r.outerRadius,d.total=n.calculateTotal(),n.outerRadius=r.outerRadius-r.radiusLength*n.getRingIndex(n.index),n.innerRadius=n.outerRadius-r.radiusLength,e.each(d.data,function(e,r){n.updateElement(e,r,t)})},updateElement:function(t,n,r){var i=this,o=i.chart,a=o.chartArea,s=o.options,l=s.animation,u=s.elements.arc,c=(a.left+a.right)/2,d=(a.top+a.bottom)/2,h=s.rotation,f=s.rotation,p=i.getDataset(),g=r&&l.animateRotate?0:t.hidden?0:i.calculateCircumference(p.data[n])*(s.circumference/(2*Math.PI)),m=r&&l.animateScale?0:i.innerRadius,v=r&&l.animateScale?0:i.outerRadius,y=t.custom||{},b=e.getValueAtIndexOrDefault;e.extend(t,{_datasetIndex:i.index,_index:n,_model:{x:c+o.offsetX,y:d+o.offsetY,startAngle:h,endAngle:f,circumference:g,outerRadius:v,innerRadius:m,label:b(p.label,n,o.data.labels[n])}});var x=t._model;x.backgroundColor=y.backgroundColor?y.backgroundColor:b(p.backgroundColor,n,u.backgroundColor),x.hoverBackgroundColor=y.hoverBackgroundColor?y.hoverBackgroundColor:b(p.hoverBackgroundColor,n,u.hoverBackgroundColor),x.borderWidth=y.borderWidth?y.borderWidth:b(p.borderWidth,n,u.borderWidth),x.borderColor=y.borderColor?y.borderColor:b(p.borderColor,n,u.borderColor),r&&l.animateRotate||(x.startAngle=0===n?s.rotation:i.getMeta().data[n-1]._model.endAngle,x.endAngle=x.startAngle+x.circumference),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},calculateTotal:function(){var t,n=this.getDataset(),r=this.getMeta(),i=0;return e.each(r.data,function(e,r){t=n.data[r],isNaN(t)||e.hidden||(i+=Math.abs(t))}),i},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?2*Math.PI*(t/e):0}})}},{}],18:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.line={showLines:!0,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},t.controllers.line=t.DatasetController.extend({datasetElementType:t.elements.Line,dataElementType:t.elements.Point,addElementAndReset:function(e){var n=this,r=n.chart.options;t.DatasetController.prototype.addElementAndReset.call(n,e),r.showLines&&0!==r.elements.line.tension&&n.updateBezierControlPoints()},update:function(t){var n,r,i,o,a=this,s=a.getMeta(),l=s.dataset,u=s.data||[],c=a.chart.options,d=c.elements.line,h=a.getScaleForId(s.yAxisID);for(c.showLines&&(i=a.getDataset(),o=l.custom||{},void 0!==i.tension&&void 0===i.lineTension&&(i.lineTension=i.tension),l._scale=h,l._datasetIndex=a.index,l._children=u,l._model={tension:o.tension?o.tension:e.getValueOrDefault(i.lineTension,d.tension),backgroundColor:o.backgroundColor?o.backgroundColor:i.backgroundColor||d.backgroundColor,borderWidth:o.borderWidth?o.borderWidth:i.borderWidth||d.borderWidth,borderColor:o.borderColor?o.borderColor:i.borderColor||d.borderColor,borderCapStyle:o.borderCapStyle?o.borderCapStyle:i.borderCapStyle||d.borderCapStyle,borderDash:o.borderDash?o.borderDash:i.borderDash||d.borderDash,borderDashOffset:o.borderDashOffset?o.borderDashOffset:i.borderDashOffset||d.borderDashOffset,borderJoinStyle:o.borderJoinStyle?o.borderJoinStyle:i.borderJoinStyle||d.borderJoinStyle,fill:o.fill?o.fill:void 0!==i.fill?i.fill:d.fill,scaleTop:h.top,scaleBottom:h.bottom,scaleZero:h.getBasePixel()},l.pivot()),n=0,r=u.length;n<r;++n)a.updateElement(u[n],n,t);c.showLines&&0!==d.tension&&a.updateBezierControlPoints()},getPointBackgroundColor:function(t,n){var r=this.chart.options.elements.point.backgroundColor,i=this.getDataset(),o=t.custom||{};return o.backgroundColor?r=o.backgroundColor:i.pointBackgroundColor?r=e.getValueAtIndexOrDefault(i.pointBackgroundColor,n,r):i.backgroundColor&&(r=i.backgroundColor),r},getPointBorderColor:function(t,n){var r=this.chart.options.elements.point.borderColor,i=this.getDataset(),o=t.custom||{};return o.borderColor?r=o.borderColor:i.pointBorderColor?r=e.getValueAtIndexOrDefault(i.pointBorderColor,n,r):i.borderColor&&(r=i.borderColor),r},getPointBorderWidth:function(t,n){var r=this.chart.options.elements.point.borderWidth,i=this.getDataset(),o=t.custom||{};return o.borderWidth?r=o.borderWidth:i.pointBorderWidth?r=e.getValueAtIndexOrDefault(i.pointBorderWidth,n,r):i.borderWidth&&(r=i.borderWidth),r},updateElement:function(t,n,r){var i,o,a=this,s=a.getMeta(),l=t.custom||{},u=a.getDataset(),c=a.index,d=u.data[n],h=a.getScaleForId(s.yAxisID),f=a.getScaleForId(s.xAxisID),p=a.chart.options.elements.point;void 0!==u.radius&&void 0===u.pointRadius&&(u.pointRadius=u.radius),void 0!==u.hitRadius&&void 0===u.pointHitRadius&&(u.pointHitRadius=u.hitRadius),i=f.getPixelForValue(d,n,c,a.chart.isCombo),o=r?h.getBasePixel():a.calculatePointY(d,n,c,a.chart.isCombo),t._xScale=f,t._yScale=h,t._datasetIndex=c,t._index=n,t._model={x:i,y:o,skip:l.skip||isNaN(i)||isNaN(o),radius:l.radius||e.getValueAtIndexOrDefault(u.pointRadius,n,p.radius),pointStyle:l.pointStyle||e.getValueAtIndexOrDefault(u.pointStyle,n,p.pointStyle),backgroundColor:a.getPointBackgroundColor(t,n),borderColor:a.getPointBorderColor(t,n),borderWidth:a.getPointBorderWidth(t,n),tension:s.dataset._model?s.dataset._model.tension:0,hitRadius:l.hitRadius||e.getValueAtIndexOrDefault(u.pointHitRadius,n,p.hitRadius)}},calculatePointY:function(t,e,n,r){var i,o,a=this,s=a.chart,l=a.getMeta(),u=a.getScaleForId(l.yAxisID),c=0,d=0;if(u.options.stacked){for(i=0;i<n;i++)o=s.data.datasets[i],"line"===s.getDatasetMeta(i).type&&s.isDatasetVisible(i)&&(o.data[e]<0?d+=o.data[e]||0:c+=o.data[e]||0);return t<0?u.getPixelForValue(d+t):u.getPixelForValue(c+t)}return u.getPixelForValue(t)},updateBezierControlPoints:function(){var t,n,r,i,o,a=this.getMeta(),s=this.chart.chartArea,l=a.data||[];for(t=0,n=l.length;t<n;++t)i=(r=l[t])._model,o=e.splineCurve(e.previousItem(l,t)._model,i,e.nextItem(l,t)._model,a.dataset._model.tension),i.controlPointPreviousX=Math.max(Math.min(o.previous.x,s.right),s.left),i.controlPointPreviousY=Math.max(Math.min(o.previous.y,s.bottom),s.top),i.controlPointNextX=Math.max(Math.min(o.next.x,s.right),s.left),i.controlPointNextY=Math.max(Math.min(o.next.y,s.bottom),s.top),r.pivot()},draw:function(t){var e,n,r=this.getMeta(),i=r.data||[],o=t||1;for(e=0,n=i.length;e<n;++e)i[e].transition(o);for(this.chart.options.showLines&&r.dataset.transition(o).draw(),e=0,n=i.length;e<n;++e)i[e].draw()},setHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],r=t._index,i=t.custom||{},o=t._model;o.radius=i.hoverRadius||e.getValueAtIndexOrDefault(n.pointHoverRadius,r,this.chart.options.elements.point.hoverRadius),o.backgroundColor=i.hoverBackgroundColor||e.getValueAtIndexOrDefault(n.pointHoverBackgroundColor,r,e.getHoverColor(o.backgroundColor)),o.borderColor=i.hoverBorderColor||e.getValueAtIndexOrDefault(n.pointHoverBorderColor,r,e.getHoverColor(o.borderColor)),o.borderWidth=i.hoverBorderWidth||e.getValueAtIndexOrDefault(n.pointHoverBorderWidth,r,o.borderWidth)},removeHoverStyle:function(t){var n=this,r=n.chart.data.datasets[t._datasetIndex],i=t._index,o=t.custom||{},a=t._model;void 0!==r.radius&&void 0===r.pointRadius&&(r.pointRadius=r.radius),a.radius=o.radius||e.getValueAtIndexOrDefault(r.pointRadius,i,n.chart.options.elements.point.radius),a.backgroundColor=n.getPointBackgroundColor(t,i),a.borderColor=n.getPointBorderColor(t,i),a.borderWidth=n.getPointBorderWidth(t,i)}})}},{}],19:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.polarArea={scale:{type:"radialLinear",lineArc:!0},animation:{animateRotate:!0,animateScale:!0},aspectRatio:1,legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,r=n.datasets,i=n.labels;if(r.length)for(var o=0;o<r[0].data.length;++o)e.push('<li><span style="background-color:'+r[0].backgroundColor[o]+'">'),i[o]&&e.push(i[o]),e.push("</span></li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var n=t.data;return n.labels.length&&n.datasets.length?n.labels.map(function(r,i){var o=t.getDatasetMeta(0),a=n.datasets[0],s=o.data[i].custom||{},l=e.getValueAtIndexOrDefault,u=t.options.elements.arc;return{text:r,fillStyle:s.backgroundColor?s.backgroundColor:l(a.backgroundColor,i,u.backgroundColor),strokeStyle:s.borderColor?s.borderColor:l(a.borderColor,i,u.borderColor),lineWidth:s.borderWidth?s.borderWidth:l(a.borderWidth,i,u.borderWidth),hidden:isNaN(a.data[i])||o.data[i].hidden,index:i}}):[]}},onClick:function(t,e){var n,r,i,o=e.index,a=this.chart;for(n=0,r=(a.data.datasets||[]).length;n<r;++n)(i=a.getDatasetMeta(n)).data[o].hidden=!i.data[o].hidden;a.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}},t.controllers.polarArea=t.DatasetController.extend({dataElementType:t.elements.Arc,linkScales:e.noop,update:function(t){var n=this,r=n.chart,i=r.chartArea,o=this.getMeta(),a=r.options,s=a.elements.arc,l=Math.min(i.right-i.left,i.bottom-i.top);r.outerRadius=Math.max((l-s.borderWidth/2)/2,0),r.innerRadius=Math.max(a.cutoutPercentage?r.outerRadius/100*a.cutoutPercentage:1,0),r.radiusLength=(r.outerRadius-r.innerRadius)/r.getVisibleDatasetCount(),n.outerRadius=r.outerRadius-r.radiusLength*n.index,n.innerRadius=n.outerRadius-r.radiusLength,o.count=n.countVisibleElements(),e.each(o.data,function(e,r){n.updateElement(e,r,t)})},updateElement:function(t,n,r){for(var i=this,o=i.chart,a=o.chartArea,s=i.getDataset(),l=o.options,u=l.animation,c=l.elements.arc,d=t.custom||{},h=o.scale,f=e.getValueAtIndexOrDefault,p=o.data.labels,g=i.calculateCircumference(s.data[n]),m=(a.left+a.right)/2,v=(a.top+a.bottom)/2,y=0,b=i.getMeta(),x=0;x<n;++x)isNaN(s.data[x])||b.data[x].hidden||++y;var _=t.hidden?0:h.getDistanceFromCenterForValue(s.data[n]),w=-.5*Math.PI+g*y,C=w+(t.hidden?0:g),k={x:m,y:v,innerRadius:0,outerRadius:u.animateScale?0:h.getDistanceFromCenterForValue(s.data[n]),startAngle:u.animateRotate?-.5*Math.PI:w,endAngle:u.animateRotate?-.5*Math.PI:C,backgroundColor:d.backgroundColor?d.backgroundColor:f(s.backgroundColor,n,c.backgroundColor),borderWidth:d.borderWidth?d.borderWidth:f(s.borderWidth,n,c.borderWidth),borderColor:d.borderColor?d.borderColor:f(s.borderColor,n,c.borderColor),label:f(p,n,p[n])};e.extend(t,{_datasetIndex:i.index,_index:n,_scale:h,_model:r?k:{x:m,y:v,innerRadius:0,outerRadius:_,startAngle:w,endAngle:C,backgroundColor:d.backgroundColor?d.backgroundColor:f(s.backgroundColor,n,c.backgroundColor),borderWidth:d.borderWidth?d.borderWidth:f(s.borderWidth,n,c.borderWidth),borderColor:d.borderColor?d.borderColor:f(s.borderColor,n,c.borderColor),label:f(p,n,p[n])}}),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},countVisibleElements:function(){var t=this.getDataset(),n=this.getMeta(),r=0;return e.each(n.data,function(e,n){isNaN(t.data[n])||e.hidden||r++}),r},calculateCircumference:function(t){var e=this.getMeta().count;return e>0&&!isNaN(t)?2*Math.PI/e:0}})}},{}],20:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.radar={scale:{type:"radialLinear"},elements:{line:{tension:0}}},t.controllers.radar=t.DatasetController.extend({datasetElementType:t.elements.Line,dataElementType:t.elements.Point,linkScales:e.noop,addElementAndReset:function(e){t.DatasetController.prototype.addElementAndReset.call(this,e),this.updateBezierControlPoints()},update:function(t){var n=this.getMeta(),r=n.dataset,i=n.data,o=r.custom||{},a=this.getDataset(),s=this.chart.options.elements.line,l=this.chart.scale;void 0!==a.tension&&void 0===a.lineTension&&(a.lineTension=a.tension),e.extend(n.dataset,{_datasetIndex:this.index,_children:i,_loop:!0,_model:{tension:o.tension?o.tension:e.getValueOrDefault(a.lineTension,s.tension),backgroundColor:o.backgroundColor?o.backgroundColor:a.backgroundColor||s.backgroundColor,borderWidth:o.borderWidth?o.borderWidth:a.borderWidth||s.borderWidth,borderColor:o.borderColor?o.borderColor:a.borderColor||s.borderColor,fill:o.fill?o.fill:void 0!==a.fill?a.fill:s.fill,borderCapStyle:o.borderCapStyle?o.borderCapStyle:a.borderCapStyle||s.borderCapStyle,borderDash:o.borderDash?o.borderDash:a.borderDash||s.borderDash,borderDashOffset:o.borderDashOffset?o.borderDashOffset:a.borderDashOffset||s.borderDashOffset,borderJoinStyle:o.borderJoinStyle?o.borderJoinStyle:a.borderJoinStyle||s.borderJoinStyle,scaleTop:l.top,scaleBottom:l.bottom,scaleZero:l.getBasePosition()}}),n.dataset.pivot(),e.each(i,function(e,n){this.updateElement(e,n,t)},this),this.updateBezierControlPoints()},updateElement:function(t,n,r){var i=t.custom||{},o=this.getDataset(),a=this.chart.scale,s=this.chart.options.elements.point,l=a.getPointPositionForValue(n,o.data[n]);e.extend(t,{_datasetIndex:this.index,_index:n,_scale:a,_model:{x:r?a.xCenter:l.x,y:r?a.yCenter:l.y,tension:i.tension?i.tension:e.getValueOrDefault(o.tension,this.chart.options.elements.line.tension),radius:i.radius?i.radius:e.getValueAtIndexOrDefault(o.pointRadius,n,s.radius),backgroundColor:i.backgroundColor?i.backgroundColor:e.getValueAtIndexOrDefault(o.pointBackgroundColor,n,s.backgroundColor),borderColor:i.borderColor?i.borderColor:e.getValueAtIndexOrDefault(o.pointBorderColor,n,s.borderColor),borderWidth:i.borderWidth?i.borderWidth:e.getValueAtIndexOrDefault(o.pointBorderWidth,n,s.borderWidth),pointStyle:i.pointStyle?i.pointStyle:e.getValueAtIndexOrDefault(o.pointStyle,n,s.pointStyle),hitRadius:i.hitRadius?i.hitRadius:e.getValueAtIndexOrDefault(o.hitRadius,n,s.hitRadius)}}),t._model.skip=i.skip?i.skip:isNaN(t._model.x)||isNaN(t._model.y)},updateBezierControlPoints:function(){var t=this.chart.chartArea,n=this.getMeta();e.each(n.data,function(r,i){var o=r._model,a=e.splineCurve(e.previousItem(n.data,i,!0)._model,o,e.nextItem(n.data,i,!0)._model,o.tension);o.controlPointPreviousX=Math.max(Math.min(a.previous.x,t.right),t.left),o.controlPointPreviousY=Math.max(Math.min(a.previous.y,t.bottom),t.top),o.controlPointNextX=Math.max(Math.min(a.next.x,t.right),t.left),o.controlPointNextY=Math.max(Math.min(a.next.y,t.bottom),t.top),r.pivot()},this)},draw:function(t){var n=this.getMeta(),r=t||1;e.each(n.data,function(t,e){t.transition(r)}),n.dataset.transition(r).draw(),e.each(n.data,function(t){t.draw()})},setHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],r=t.custom||{},i=t._index,o=t._model;o.radius=r.hoverRadius?r.hoverRadius:e.getValueAtIndexOrDefault(n.pointHoverRadius,i,this.chart.options.elements.point.hoverRadius),o.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:e.getValueAtIndexOrDefault(n.pointHoverBackgroundColor,i,e.getHoverColor(o.backgroundColor)),o.borderColor=r.hoverBorderColor?r.hoverBorderColor:e.getValueAtIndexOrDefault(n.pointHoverBorderColor,i,e.getHoverColor(o.borderColor)),o.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:e.getValueAtIndexOrDefault(n.pointHoverBorderWidth,i,o.borderWidth)},removeHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],r=t.custom||{},i=t._index,o=t._model,a=this.chart.options.elements.point;o.radius=r.radius?r.radius:e.getValueAtIndexOrDefault(n.radius,i,a.radius),o.backgroundColor=r.backgroundColor?r.backgroundColor:e.getValueAtIndexOrDefault(n.pointBackgroundColor,i,a.backgroundColor),o.borderColor=r.borderColor?r.borderColor:e.getValueAtIndexOrDefault(n.pointBorderColor,i,a.borderColor),o.borderWidth=r.borderWidth?r.borderWidth:e.getValueAtIndexOrDefault(n.pointBorderWidth,i,a.borderWidth)}})}},{}],21:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:e.noop,onComplete:e.noop},t.Animation=t.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),t.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(t,e,n,r){r||(t.animating=!0);for(var i=0;i<this.animations.length;++i)if(this.animations[i].chartInstance===t)return void(this.animations[i].animationObject=e);this.animations.push({chartInstance:t,animationObject:e}),1===this.animations.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var n=e.findIndex(this.animations,function(e){return e.chartInstance===t});-1!==n&&(this.animations.splice(n,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=e.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=Date.now(),e=0;this.dropFrames>1&&(e=Math.floor(this.dropFrames),this.dropFrames=this.dropFrames%1);for(var n=0;n<this.animations.length;)null===this.animations[n].animationObject.currentStep&&(this.animations[n].animationObject.currentStep=0),this.animations[n].animationObject.currentStep+=1+e,this.animations[n].animationObject.currentStep>this.animations[n].animationObject.numSteps&&(this.animations[n].animationObject.currentStep=this.animations[n].animationObject.numSteps),this.animations[n].animationObject.render(this.animations[n].chartInstance,this.animations[n].animationObject),this.animations[n].animationObject.onAnimationProgress&&this.animations[n].animationObject.onAnimationProgress.call&&this.animations[n].animationObject.onAnimationProgress.call(this.animations[n].chartInstance,this.animations[n]),this.animations[n].animationObject.currentStep===this.animations[n].animationObject.numSteps?(this.animations[n].animationObject.onAnimationComplete&&this.animations[n].animationObject.onAnimationComplete.call&&this.animations[n].animationObject.onAnimationComplete.call(this.animations[n].chartInstance,this.animations[n]),this.animations[n].chartInstance.animating=!1,this.animations.splice(n,1)):++n;var r=(Date.now()-t)/this.frameDuration;this.dropFrames+=r,this.animations.length>0&&this.requestAnimationFrame()}}}},{}],22:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.types={},t.instances={},t.controllers={},t.Controller=function(n){return this.chart=n,this.config=n.config,this.options=this.config.options=e.configMerge(t.defaults.global,t.defaults[this.config.type],this.config.options||{}),this.id=e.uid(),Object.defineProperty(this,"data",{get:function(){return this.config.data}}),t.instances[this.id]=this,this.options.responsive&&this.resize(!0),this.initialize(),this},e.extend(t.Controller.prototype,{initialize:function(){return t.pluginService.notifyPlugins("beforeInit",[this]),this.bindEvents(),this.ensureScalesHaveIDs(),this.buildOrUpdateControllers(),this.buildScales(),this.buildSurroundingItems(),this.updateLayout(),this.resetElements(),this.initToolTip(),this.update(),t.pluginService.notifyPlugins("afterInit",[this]),this},clear:function(){return e.clear(this.chart),this},stop:function(){return t.animationService.cancelAnimation(this),this},resize:function(t){var n=this.chart.canvas,r=e.getMaximumWidth(this.chart.canvas),i=this.options.maintainAspectRatio&&!1===isNaN(this.chart.aspectRatio)&&isFinite(this.chart.aspectRatio)&&0!==this.chart.aspectRatio?r/this.chart.aspectRatio:e.getMaximumHeight(this.chart.canvas);return this.chart.width!==r||this.chart.height!==i?(n.width=this.chart.width=r,n.height=this.chart.height=i,e.retinaScale(this.chart),t||(this.stop(),this.update(this.options.responsiveAnimationDuration)),this):this},ensureScalesHaveIDs:function(){var t=this.options,n=t.scales||{},r=t.scale;e.each(n.xAxes,function(t,e){t.id=t.id||"x-axis-"+e}),e.each(n.yAxes,function(t,e){t.id=t.id||"y-axis-"+e}),r&&(r.id=r.id||"scale")},buildScales:function(){var n=this,r=n.options,i=n.scales={},o=[];r.scales&&(o=o.concat((r.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category"}}),(r.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear"}}))),r.scale&&o.push({options:r.scale,dtype:"radialLinear",isDefault:!0}),e.each(o,function(r,o){var a=r.options,s=e.getValueOrDefault(a.type,r.dtype),l=t.scaleService.getScaleConstructor(s);if(l){var u=new l({id:a.id,options:a,ctx:n.chart.ctx,chart:n});i[u.id]=u,r.isDefault&&(n.scale=u)}}),t.scaleService.addScalesToLayout(this)},buildSurroundingItems:function(){this.options.title&&(this.titleBlock=new t.Title({ctx:this.chart.ctx,options:this.options.title,chart:this}),t.layoutService.addBox(this,this.titleBlock)),this.options.legend&&(this.legend=new t.Legend({ctx:this.chart.ctx,options:this.options.legend,chart:this}),t.layoutService.addBox(this,this.legend))},updateLayout:function(){t.layoutService.update(this,this.chart.width,this.chart.height)},buildOrUpdateControllers:function(){var n=[],r=[];if(e.each(this.data.datasets,function(e,i){var o=this.getDatasetMeta(i);o.type||(o.type=e.type||this.config.type),n.push(o.type),o.controller?o.controller.updateIndex(i):(o.controller=new t.controllers[o.type](this,i),r.push(o.controller))},this),n.length>1)for(var i=1;i<n.length;i++)if(n[i]!==n[i-1]){this.isCombo=!0;break}return r},resetElements:function(){e.each(this.data.datasets,function(t,e){this.getDatasetMeta(e).controller.reset()},this)},update:function(n,r){t.pluginService.notifyPlugins("beforeUpdate",[this]),this.tooltip._data=this.data;var i=this.buildOrUpdateControllers();e.each(this.data.datasets,function(t,e){this.getDatasetMeta(e).controller.buildOrUpdateElements()},this),t.layoutService.update(this,this.chart.width,this.chart.height),t.pluginService.notifyPlugins("afterScaleUpdate",[this]),e.each(i,function(t){t.reset()}),e.each(this.data.datasets,function(t,e){this.getDatasetMeta(e).controller.update()},this),t.pluginService.notifyPlugins("afterUpdate",[this]),this.render(n,r)},render:function(n,r){t.pluginService.notifyPlugins("beforeRender",[this]);var i=this.options.animation;if(i&&(void 0!==n&&0!==n||void 0===n&&0!==i.duration)){var o=new t.Animation;o.numSteps=(n||i.duration)/16.66,o.easing=i.easing,o.render=function(t,n){var r=e.easingEffects[n.easing],i=n.currentStep/n.numSteps,o=r(i);t.draw(o,i,n.currentStep)},o.onAnimationProgress=i.onProgress,o.onAnimationComplete=i.onComplete,t.animationService.addAnimation(this,o,n,r)}else this.draw(),i&&i.onComplete&&i.onComplete.call&&i.onComplete.call(this);return this},draw:function(n){var r=n||1;this.clear(),t.pluginService.notifyPlugins("beforeDraw",[this,r]),e.each(this.boxes,function(t){t.draw(this.chartArea)},this),this.scale&&this.scale.draw();var i=this.chart.ctx;i.save(),i.beginPath(),i.rect(this.chartArea.left,this.chartArea.top,this.chartArea.right-this.chartArea.left,this.chartArea.bottom-this.chartArea.top),i.clip(),e.each(this.data.datasets,function(t,e){this.isDatasetVisible(e)&&this.getDatasetMeta(e).controller.draw(n)},this,!0),i.restore(),this.tooltip.transition(r).draw(),t.pluginService.notifyPlugins("afterDraw",[this,r])},getElementAtEvent:function(t){var n=e.getRelativePosition(t,this.chart),r=[];return e.each(this.data.datasets,function(t,i){if(this.isDatasetVisible(i)){var o=this.getDatasetMeta(i);e.each(o.data,function(t,e){if(t.inRange(n.x,n.y))return r.push(t),r})}},this),r},getElementsAtEvent:function(t){var n=e.getRelativePosition(t,this.chart),r=[],i=function(){if(this.data.datasets)for(var t=0;t<this.data.datasets.length;t++){var e=this.getDatasetMeta(t);if(this.isDatasetVisible(t))for(var r=0;r<e.data.length;r++)if(e.data[r].inRange(n.x,n.y))return e.data[r]}}.call(this);return i?(e.each(this.data.datasets,function(t,e){if(this.isDatasetVisible(e)){var n=this.getDatasetMeta(e);r.push(n.data[i._index])}},this),r):r},getElementsAtEventForMode:function(t,e){var n=this;switch(e){case"single":return n.getElementAtEvent(t);case"label":return n.getElementsAtEvent(t);case"dataset":return n.getDatasetAtEvent(t);default:return t}},getDatasetAtEvent:function(t){var e=this.getElementAtEvent(t);return e.length>0&&(e=this.getDatasetMeta(e[0]._datasetIndex).data),e},getDatasetMeta:function(t){var e=this.data.datasets[t];e._meta||(e._meta={});var n=e._meta[this.id];return n||(n=e._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),n},getVisibleDatasetCount:function(){for(var t=0,e=0,n=this.data.datasets.length;e<n;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){this.clear(),e.unbindEvents(this,this.events),e.removeResizeListener(this.chart.canvas.parentNode);var n=this.chart.canvas;n.width=this.chart.width,n.height=this.chart.height,void 0!==this.chart.originalDevicePixelRatio&&this.chart.ctx.scale(1/this.chart.originalDevicePixelRatio,1/this.chart.originalDevicePixelRatio),n.style.width=this.chart.originalCanvasStyleWidth,n.style.height=this.chart.originalCanvasStyleHeight,t.pluginService.notifyPlugins("destroy",[this]),delete t.instances[this.id]},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)},initToolTip:function(){this.tooltip=new t.Tooltip({_chart:this.chart,_chartInstance:this,_data:this.data,_options:this.options},this)},bindEvents:function(){e.bindEvents(this,this.options.events,function(t){this.eventHandler(t)})},updateHoverStyle:function(t,e,n){var r,i,o,a=n?"setHoverStyle":"removeHoverStyle";switch(e){case"single":t=[t[0]];break;case"label":case"dataset":break;default:return}for(i=0,o=t.length;i<o;++i)(r=t[i])&&this.getDatasetMeta(r._datasetIndex).controller[a](r)},eventHandler:function(t){var n=this,r=n.tooltip,i=n.options||{},o=i.hover,a=i.tooltips;return n.lastActive=n.lastActive||[],n.lastTooltipActive=n.lastTooltipActive||[],"mouseout"===t.type?(n.active=[],n.tooltipActive=[]):(n.active=n.getElementsAtEventForMode(t,o.mode),n.tooltipActive=n.getElementsAtEventForMode(t,a.mode)),o.onHover&&o.onHover.call(n,n.active),"mouseup"!==t.type&&"click"!==t.type||(i.onClick&&i.onClick.call(n,t,n.active),n.legend&&n.legend.handleEvent&&n.legend.handleEvent(t)),n.lastActive.length&&n.updateHoverStyle(n.lastActive,o.mode,!1),n.active.length&&o.mode&&n.updateHoverStyle(n.active,o.mode,!0),(a.enabled||a.custom)&&(r.initialize(),r._active=n.tooltipActive,r.update(!0)),r.pivot(),n.animating||e.arrayEquals(n.active,n.lastActive)&&e.arrayEquals(n.tooltipActive,n.lastTooltipActive)||(n.stop(),(a.enabled||a.custom)&&r.update(!0),n.render(o.animationDuration,!0)),n.lastActive=n.active,n.lastTooltipActive=n.tooltipActive,n}})}},{}],23:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n=e.noop;t.DatasetController=function(t,e){this.initialize.call(this,t,e)},e.extend(t.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,e){this.chart=t,this.index=e,this.linkScales(),this.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this.getMeta(),e=this.getDataset();null===t.xAxisID&&(t.xAxisID=e.xAxisID||this.chart.options.scales.xAxes[0].id),null===t.yAxisID&&(t.yAxisID=e.yAxisID||this.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},reset:function(){this.update(!0)},createMetaDataset:function(){var t=this,e=t.datasetElementType;return e&&new e({_chart:t.chart.chart,_datasetIndex:t.index})},createMetaData:function(t){var e=this,n=e.dataElementType;return n&&new n({_chart:e.chart.chart,_datasetIndex:e.index,_index:t})},addElements:function(){var t,e,n=this,r=n.getMeta(),i=n.getDataset().data||[],o=r.data;for(t=0,e=i.length;t<e;++t)o[t]=o[t]||n.createMetaData(r,t);r.dataset=r.dataset||n.createMetaDataset()},addElementAndReset:function(t){var e=this,n=e.createMetaData(t);e.getMeta().data.splice(t,0,n),e.updateElement(n,t,!0)},buildOrUpdateElements:function(){var t=this.getMeta().data,e=this.getDataset().data.length,n=t.length;if(e<n)t.splice(e,n-e);else if(e>n)for(var r=n;r<e;++r)this.addElementAndReset(r)},update:n,draw:function(t){var n=t||1;e.each(this.getMeta().data,function(t,e){t.transition(n).draw()})},removeHoverStyle:function(t,n){var r=this.chart.data.datasets[t._datasetIndex],i=t._index,o=t.custom||{},a=e.getValueAtIndexOrDefault,s=(e.color,t._model);s.backgroundColor=o.backgroundColor?o.backgroundColor:a(r.backgroundColor,i,n.backgroundColor),s.borderColor=o.borderColor?o.borderColor:a(r.borderColor,i,n.borderColor),s.borderWidth=o.borderWidth?o.borderWidth:a(r.borderWidth,i,n.borderWidth)},setHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],r=t._index,i=t.custom||{},o=e.getValueAtIndexOrDefault,a=(e.color,e.getHoverColor),s=t._model;s.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:o(n.hoverBackgroundColor,r,a(s.backgroundColor)),s.borderColor=i.hoverBorderColor?i.hoverBorderColor:o(n.hoverBorderColor,r,a(s.borderColor)),s.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:o(n.hoverBorderWidth,r,s.borderWidth)}}),t.DatasetController.extend=e.inherits}},{}],24:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.elements={},t.Element=function(t){e.extend(this,t),this.initialize.apply(this,arguments)},e.extend(t.Element.prototype,{initialize:function(){this.hidden=!1},pivot:function(){return this._view||(this._view=e.clone(this._model)),this._start=e.clone(this._view),this},transition:function(t){return this._view||(this._view=e.clone(this._model)),1===t?(this._view=this._model,this._start=null,this):(this._start||this.pivot(),e.each(this._model,function(n,r){if("_"===r[0]);else if(this._view.hasOwnProperty(r))if(n===this._view[r]);else if("string"==typeof n)try{var i=e.color(this._model[r]).mix(e.color(this._start[r]),t);this._view[r]=i.rgbString()}catch(t){this._view[r]=n}else if("number"==typeof n){var o=void 0!==this._start[r]&&!1===isNaN(this._start[r])?this._start[r]:0;this._view[r]=(this._model[r]-o)*t+o}else this._view[r]=n;else"number"!=typeof n||isNaN(this._view[r])?this._view[r]=n:this._view[r]=n*t},this),this)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return e.isNumber(this._model.x)&&e.isNumber(this._model.y)}}),t.Element.extend=e.inherits}},{}],25:[function(t,e,n){"use strict";var r=t("chartjs-color");e.exports=function(t){function e(t,e,n){var r;return"string"==typeof t?(r=parseInt(t,10),-1!=t.indexOf("%")&&(r=r/100*e.parentNode[n])):r=t,r}function n(t){return void 0!==t&&null!==t&&"none"!==t}function i(t,r,i){var o=document.defaultView,a=t.parentNode,s=o.getComputedStyle(t)[r],l=o.getComputedStyle(a)[r],u=n(s),c=n(l),d=Number.POSITIVE_INFINITY;return u||c?Math.min(u?e(s,t,i):d,c?e(l,a,i):d):"none"}var o=t.helpers={};o.each=function(t,e,n,r){var i,a;if(o.isArray(t))if(a=t.length,r)for(i=a-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<a;i++)e.call(n,t[i],i);else if("object"==typeof t){var s=Object.keys(t);for(a=s.length,i=0;i<a;i++)e.call(n,t[s[i]],s[i])}},o.clone=function(t){var e={};return o.each(t,function(t,n){o.isArray(t)?e[n]=t.slice(0):e[n]="object"==typeof t&&null!==t?o.clone(t):t}),e},o.extend=function(t){for(var e=arguments.length,n=[],r=1;r<e;r++)n.push(arguments[r]);return o.each(n,function(e){o.each(e,function(e,n){t[n]=e})}),t},o.configMerge=function(e){var n=o.clone(e);return o.each(Array.prototype.slice.call(arguments,1),function(e){o.each(e,function(e,r){if("scales"===r)n[r]=o.scaleMerge(n.hasOwnProperty(r)?n[r]:{},e);else if("scale"===r)n[r]=o.configMerge(n.hasOwnProperty(r)?n[r]:{},t.scaleService.getScaleDefaults(e.type),e);else if(n.hasOwnProperty(r)&&o.isArray(n[r])&&o.isArray(e)){var i=n[r];o.each(e,function(t,e){e<i.length?"object"==typeof i[e]&&null!==i[e]&&"object"==typeof t&&null!==t?i[e]=o.configMerge(i[e],t):i[e]=t:i.push(t)})}else n.hasOwnProperty(r)&&"object"==typeof n[r]&&null!==n[r]&&"object"==typeof e?n[r]=o.configMerge(n[r],e):n[r]=e})}),n},o.extendDeep=function(t){function e(t){return o.each(arguments,function(n){n!==t&&o.each(n,function(n,r){t[r]&&t[r].constructor&&t[r].constructor===Object?e(t[r],n):t[r]=n})}),t}return e.apply(this,arguments)},o.scaleMerge=function(e,n){var r=o.clone(e);return o.each(n,function(e,n){"xAxes"===n||"yAxes"===n?r.hasOwnProperty(n)?o.each(e,function(e,i){var a=o.getValueOrDefault(e.type,"xAxes"===n?"category":"linear"),s=t.scaleService.getScaleDefaults(a);i>=r[n].length||!r[n][i].type?r[n].push(o.configMerge(s,e)):e.type&&e.type!==r[n][i].type?r[n][i]=o.configMerge(r[n][i],s,e):r[n][i]=o.configMerge(r[n][i],e)}):(r[n]=[],o.each(e,function(e){var i=o.getValueOrDefault(e.type,"xAxes"===n?"category":"linear");r[n].push(o.configMerge(t.scaleService.getScaleDefaults(i),e))})):r.hasOwnProperty(n)&&"object"==typeof r[n]&&null!==r[n]&&"object"==typeof e?r[n]=o.configMerge(r[n],e):r[n]=e}),r},o.getValueAtIndexOrDefault=function(t,e,n){return void 0===t||null===t?n:o.isArray(t)?e<t.length?t[e]:n:t},o.getValueOrDefault=function(t,e){return void 0===t?e:t},o.indexOf=function(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},o.where=function(t,e){if(o.isArray(t)&&Array.prototype.filter)return t.filter(e);var n=[];return o.each(t,function(t){e(t)&&n.push(t)}),n},o.findIndex=function(t,e,n){var r=-1;if(Array.prototype.findIndex)r=t.findIndex(e,n);else for(var i=0;i<t.length;++i)if(n=void 0!==n?n:t,e.call(n,t[i],i,t)){r=i;break}return r},o.findNextWhere=function(t,e,n){void 0!==n&&null!==n||(n=-1);for(var r=n+1;r<t.length;r++){var i=t[r];if(e(i))return i}},o.findPreviousWhere=function(t,e,n){void 0!==n&&null!==n||(n=t.length);for(var r=n-1;r>=0;r--){var i=t[r];if(e(i))return i}},o.inherits=function(t){var e=this,n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},r=function(){this.constructor=n};return r.prototype=e.prototype,n.prototype=new r,n.extend=o.inherits,t&&o.extend(n.prototype,t),n.__super__=e.prototype,n},o.noop=function(){},o.uid=function(){var t=0;return function(){return t++}}(),o.warn=function(t){console&&"function"==typeof console.warn&&console.warn(t)},o.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},o.almostEquals=function(t,e,n){return Math.abs(t-e)<n},o.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},o.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},o.sign=function(t){return Math.sign?Math.sign(t):(t=+t,0===t||isNaN(t)?t:t>0?1:-1)},o.log10=function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10},o.toRadians=function(t){return t*(Math.PI/180)},o.toDegrees=function(t){return t*(180/Math.PI)},o.getAngleFromPoint=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r),o=Math.atan2(r,n);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:i}},o.aliasPixel=function(t){return t%2==0?0:.5},o.splineCurve=function(t,e,n,r){var i=t.skip?e:t,o=e,a=n.skip?e:n,s=Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2)),l=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),u=s/(s+l),c=l/(s+l),d=r*(u=isNaN(u)?0:u),h=r*(c=isNaN(c)?0:c);return{previous:{x:o.x-d*(a.x-i.x),y:o.y-d*(a.y-i.y)},next:{x:o.x+h*(a.x-i.x),y:o.y+h*(a.y-i.y)}}},o.nextItem=function(t,e,n){return n?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},o.previousItem=function(t,e,n){return n?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},o.niceNum=function(t,e){var n=Math.floor(o.log10(t)),r=t/Math.pow(10,n);return(e?r<1.5?1:r<3?2:r<7?5:10:r<=1?1:r<=2?2:r<=5?5:10)*Math.pow(10,n)};var a=o.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(1-Math.pow(2,-10*t/1))},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,r=1;return 0===t?0:1==(t/=1)?1:(n||(n=.3),r<Math.abs(1)?(r=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/r),-r*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/n))},easeOutElastic:function(t){var e=1.70158,n=0,r=1;return 0===t?0:1==(t/=1)?1:(n||(n=.3),r<Math.abs(1)?(r=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*t)*Math.sin((1*t-e)*(2*Math.PI)/n)+1)},easeInOutElastic:function(t){var e=1.70158,n=0,r=1;return 0===t?0:2==(t/=.5)?1:(n||(n=.3*1.5*1),r<Math.abs(1)?(r=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/r),t<1?r*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/n)*-.5:r*Math.pow(2,-10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/n)*.5+1)},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-a.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?7.5625*t*t*1:t<2/2.75?1*(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return t<.5?.5*a.easeInBounce(2*t):.5*a.easeOutBounce(2*t-1)+.5}};o.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),o.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),o.getRelativePosition=function(t,e){var n,r,i=t.originalEvent||t,a=t.currentTarget||t.srcElement,s=a.getBoundingClientRect(),l=i.touches;l&&l.length>0?(n=l[0].clientX,r=l[0].clientY):(n=i.clientX,r=i.clientY);var u=parseFloat(o.getStyle(a,"padding-left")),c=parseFloat(o.getStyle(a,"padding-top")),d=parseFloat(o.getStyle(a,"padding-right")),h=parseFloat(o.getStyle(a,"padding-bottom")),f=s.right-s.left-u-d,p=s.bottom-s.top-c-h;return n=Math.round((n-s.left-u)/f*a.width/e.currentDevicePixelRatio),r=Math.round((r-s.top-c)/p*a.height/e.currentDevicePixelRatio),{x:n,y:r}},o.addEvent=function(t,e,n){t.addEventListener?t.addEventListener(e,n):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},o.removeEvent=function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=o.noop},o.bindEvents=function(t,e,n){var r=t.events=t.events||{};o.each(e,function(e){r[e]=function(){n.apply(t,arguments)},o.addEvent(t.chart.canvas,e,r[e])})},o.unbindEvents=function(t,e){var n=t.chart.canvas;o.each(e,function(t,e){o.removeEvent(n,e,t)})},o.getConstraintWidth=function(t){return i(t,"max-width","clientWidth")},o.getConstraintHeight=function(t){return i(t,"max-height","clientHeight")},o.getMaximumWidth=function(t){var e=t.parentNode,n=parseInt(o.getStyle(e,"padding-left"))+parseInt(o.getStyle(e,"padding-right")),r=e.clientWidth-n,i=o.getConstraintWidth(t);return isNaN(i)?r:Math.min(r,i)},o.getMaximumHeight=function(t){var e=t.parentNode,n=parseInt(o.getStyle(e,"padding-top"))+parseInt(o.getStyle(e,"padding-bottom")),r=e.clientHeight-n,i=o.getConstraintHeight(t);return isNaN(i)?r:Math.min(r,i)},o.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},o.retinaScale=function(t){var e=t.ctx,n=t.canvas,r=n.width,i=n.height,o=t.currentDevicePixelRatio=window.devicePixelRatio||1;1!==o&&(n.height=i*o,n.width=r*o,e.scale(o,o),t.originalDevicePixelRatio=t.originalDevicePixelRatio||o),n.style.width=r+"px",n.style.height=i+"px"},o.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},o.fontString=function(t,e,n){return e+" "+t+"px "+n},o.longestText=function(t,e,n,r){var i=(r=r||{}).data=r.data||{},a=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},a=r.garbageCollect=[],r.font=e),t.font=e;var s=0;o.each(n,function(e){if(void 0!==e&&null!==e){var n=i[e];n||(n=i[e]=t.measureText(e).width,a.push(e)),n>s&&(s=n)}});var l=a.length/2;if(l>n.length){for(var u=0;u<l;u++)delete i[a[u]];a.splice(0,l)}return s},o.drawRoundedRectangle=function(t,e,n,r,i,o){t.beginPath(),t.moveTo(e+o,n),t.lineTo(e+r-o,n),t.quadraticCurveTo(e+r,n,e+r,n+o),t.lineTo(e+r,n+i-o),t.quadraticCurveTo(e+r,n+i,e+r-o,n+i),t.lineTo(e+o,n+i),t.quadraticCurveTo(e,n+i,e,n+i-o),t.lineTo(e,n+o),t.quadraticCurveTo(e,n,e+o,n),t.closePath()},o.color=function(e){return r?r(e instanceof CanvasGradient?t.defaults.global.defaultColor:e):(console.log("Color.js not found!"),e)},o.addResizeListener=function(t,e){var n=document.createElement("iframe");n.classlist?n.classlist.add("chartjs-hidden-iframe"):n.setAttribute("class","chartjs-hidden-iframe");var r=n.style;r.width="100%",r.display="block",r.border=0,r.height=0,r.margin=0,r.position="absolute",r.left=0,r.right=0,r.top=0,r.bottom=0,t.insertBefore(n,t.firstChild),(n.contentWindow||n).onresize=function(){e&&e()}},o.removeResizeListener=function(t){var e=t.querySelector(".chartjs-hidden-iframe");e&&e.parentNode.removeChild(e)},o.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},o.arrayEquals=function(t,e){var n,r,i,a;if(!t||!e||t.length!=e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],a=e[n],i instanceof Array&&a instanceof Array){if(!o.arrayEquals(i,a))return!1}else if(i!=a)return!1;return!0},o.pushAllIfDefined=function(t,e){void 0!==t&&(o.isArray(t)?e.push.apply(e,t):e.push(t))},o.callCallback=function(t,e,n){t&&"function"==typeof t.call&&t.apply(n,e)},o.getHoverColor=function(t){return t instanceof CanvasPattern?t:o.color(t).saturate(.5).darken(.1).rgbString()}}},{"chartjs-color":2}],26:[function(t,e,n){"use strict";e.exports=function(){var t=function(e,n){this.config=n,e.length&&e[0].getContext&&(e=e[0]),e.getContext&&(e=e.getContext("2d")),this.ctx=e,this.canvas=e.canvas,this.width=e.canvas.width||parseInt(t.helpers.getStyle(e.canvas,"width"))||t.helpers.getMaximumWidth(e.canvas),this.height=e.canvas.height||parseInt(t.helpers.getStyle(e.canvas,"height"))||t.helpers.getMaximumHeight(e.canvas),this.aspectRatio=this.width/this.height,(isNaN(this.aspectRatio)||!1===isFinite(this.aspectRatio))&&(this.aspectRatio=void 0!==n.aspectRatio?n.aspectRatio:2),this.originalCanvasStyleWidth=e.canvas.style.width,this.originalCanvasStyleHeight=e.canvas.style.height,t.helpers.retinaScale(this),n&&(this.controller=new t.Controller(this));var r=this;return t.helpers.addResizeListener(e.canvas.parentNode,function(){r.controller&&r.controller.config.options.responsive&&r.controller.resize()}),this.controller?this.controller:this};return t.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"single",animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var n=0;n<t.data.datasets.length;n++)e.push('<li><span style="background-color:'+t.data.datasets[n].backgroundColor+'"></span>'),t.data.datasets[n].label&&e.push(t.data.datasets[n].label),e.push("</li>");return e.push("</ul>"),e.join("")}}},t}},{}],27:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.layoutService={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),t.boxes.push(e)},removeBox:function(t,e){t.boxes&&t.boxes.splice(t.boxes.indexOf(e),1)},update:function(t,n,r){function i(t){var e,n=t.isHorizontal();n?(e=t.update(t.options.fullWidth?p:b,y),x-=e.height):(e=t.update(v,m),b-=e.width),_.push({horizontal:n,minSize:e,box:t})}function o(t){var n=e.findNextWhere(_,function(e){return e.box===t});if(n)if(t.isHorizontal()){var r={left:w,right:C,top:0,bottom:0};t.update(t.options.fullWidth?p:b,g/2,r)}else t.update(n.minSize.width,x)}function a(t){var n=e.findNextWhere(_,function(e){return e.box===t}),r={left:0,right:0,top:k,bottom:S};n&&t.update(n.minSize.width,x,r)}function s(t){t.isHorizontal()?(t.left=t.options.fullWidth?l:w,t.right=t.options.fullWidth?n-l:w+b,t.top=D,t.bottom=D+t.height,D=t.bottom):(t.left=$,t.right=$+t.width,t.top=k,t.bottom=k+x,$=t.right)}if(t){var l=0,u=e.where(t.boxes,function(t){return"left"===t.options.position}),c=e.where(t.boxes,function(t){return"right"===t.options.position}),d=e.where(t.boxes,function(t){return"top"===t.options.position}),h=e.where(t.boxes,function(t){return"bottom"===t.options.position}),f=e.where(t.boxes,function(t){return"chartArea"===t.options.position});d.sort(function(t,e){return(e.options.fullWidth?1:0)-(t.options.fullWidth?1:0)}),h.sort(function(t,e){return(t.options.fullWidth?1:0)-(e.options.fullWidth?1:0)});var p=n-2*l,g=r-0,m=g/2,v=(n-p/2)/(u.length+c.length),y=(r-m)/(d.length+h.length),b=p,x=g,_=[];e.each(u.concat(c,d,h),i);var w=l,C=l,k=0,S=0;e.each(u.concat(c),o),e.each(u,function(t){w+=t.width}),e.each(c,function(t){C+=t.width}),e.each(d.concat(h),o),e.each(d,function(t){k+=t.height}),e.each(h,function(t){S+=t.height}),e.each(u.concat(c),a),w=l,C=l,k=0,S=0,e.each(u,function(t){w+=t.width}),e.each(c,function(t){C+=t.width}),e.each(d,function(t){k+=t.height}),e.each(h,function(t){S+=t.height});var M=r-k-S,T=n-w-C;T===b&&M===x||(e.each(u,function(t){t.height=M}),e.each(c,function(t){t.height=M}),e.each(d,function(t){t.options.fullWidth||(t.width=T)}),e.each(h,function(t){t.options.fullWidth||(t.width=T)}),x=M,b=T);var $=l,D=0;e.each(u.concat(d),s),$+=b,D+=x,e.each(c,s),e.each(h,s),t.chartArea={left:w,top:k,right:w+b,bottom:k+x},e.each(f,function(e){e.left=t.chartArea.left,e.top=t.chartArea.top,e.right=t.chartArea.right,e.bottom=t.chartArea.bottom,e.update(b,x)})}}}}},{}],28:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n=e.noop;t.defaults.global.legend={display:!0,position:"top",fullWidth:!0,reverse:!1,onClick:function(t,e){var n=e.datasetIndex,r=this.chart,i=r.getDatasetMeta(n);i.hidden=null===i.hidden?!r.data.datasets[n].hidden:null,r.update()},labels:{boxWidth:40,padding:10,generateLabels:function(t){var n=t.data;return e.isArray(n.datasets)?n.datasets.map(function(e,n){return{text:e.label,fillStyle:e.backgroundColor,hidden:!t.isDatasetVisible(n),lineCap:e.borderCapStyle,lineDash:e.borderDash,lineDashOffset:e.borderDashOffset,lineJoin:e.borderJoinStyle,lineWidth:e.borderWidth,strokeStyle:e.borderColor,datasetIndex:n}},this):[]}}},t.Legend=t.Element.extend({initialize:function(t){e.extend(this,t),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:n,update:function(t,e,n){return this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this.margins=n,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeBuildLabels(),this.buildLabels(),this.afterBuildLabels(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:n,beforeSetDimensions:n,setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0,this.minSize={width:0,height:0}},afterSetDimensions:n,beforeBuildLabels:n,buildLabels:function(){this.legendItems=this.options.labels.generateLabels.call(this,this.chart),this.options.reverse&&this.legendItems.reverse()},afterBuildLabels:n,beforeFit:n,fit:function(){var n=this.options,r=n.labels,i=n.display,o=this.ctx,a=t.defaults.global,s=e.getValueOrDefault,l=s(r.fontSize,a.defaultFontSize),u=s(r.fontStyle,a.defaultFontStyle),c=s(r.fontFamily,a.defaultFontFamily),d=e.fontString(l,u,c),h=this.legendHitBoxes=[],f=this.minSize,p=this.isHorizontal();if(p?(f.width=this.maxWidth,f.height=i?10:0):(f.width=i?10:0,f.height=this.maxHeight),i&&p){var g=this.lineWidths=[0],m=this.legendItems.length?l+r.padding:0;o.textAlign="left",o.textBaseline="top",o.font=d,e.each(this.legendItems,function(t,e){var n=r.boxWidth+l/2+o.measureText(t.text).width;g[g.length-1]+n+r.padding>=this.width&&(m+=l+r.padding,g[g.length]=this.left),h[e]={left:0,top:0,width:n,height:l},g[g.length-1]+=n+r.padding},this),f.height+=m}this.width=f.width,this.height=f.height},afterFit:n,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var n=this.options,r=n.labels,i=t.defaults.global,o=i.elements.line,a=this.width,s=this.lineWidths;if(n.display){var l=this.ctx,u={x:this.left+(a-s[0])/2,y:this.top+r.padding,line:0},c=e.getValueOrDefault,d=c(r.fontColor,i.defaultFontColor),h=c(r.fontSize,i.defaultFontSize),f=c(r.fontStyle,i.defaultFontStyle),p=c(r.fontFamily,i.defaultFontFamily),g=e.fontString(h,f,p);if(this.isHorizontal()){l.textAlign="left",l.textBaseline="top",l.lineWidth=.5,l.strokeStyle=d,l.fillStyle=d,l.font=g;var m=r.boxWidth,v=this.legendHitBoxes;e.each(this.legendItems,function(t,e){var n=l.measureText(t.text).width,d=m+h/2+n,f=u.x,p=u.y;f+d>=a&&(p=u.y+=h+r.padding,u.line++,f=u.x=this.left+(a-s[u.line])/2),l.save(),l.fillStyle=c(t.fillStyle,i.defaultColor),l.lineCap=c(t.lineCap,o.borderCapStyle),l.lineDashOffset=c(t.lineDashOffset,o.borderDashOffset),l.lineJoin=c(t.lineJoin,o.borderJoinStyle),l.lineWidth=c(t.lineWidth,o.borderWidth),l.strokeStyle=c(t.strokeStyle,i.defaultColor),l.setLineDash&&l.setLineDash(c(t.lineDash,o.borderDash)),l.strokeRect(f,p,m,h),l.fillRect(f,p,m,h),l.restore(),v[e].left=f,v[e].top=p,l.fillText(t.text,m+h/2+f,p),t.hidden&&(l.beginPath(),l.lineWidth=2,l.moveTo(m+h/2+f,p+h/2),l.lineTo(m+h/2+f+n,p+h/2),l.stroke()),u.x+=d+r.padding},this)}}},handleEvent:function(t){var n=e.getRelativePosition(t,this.chart.chart),r=n.x,i=n.y,o=this.options;if(r>=this.left&&r<=this.right&&i>=this.top&&i<=this.bottom)for(var a=this.legendHitBoxes,s=0;s<a.length;++s){var l=a[s];if(r>=l.left&&r<=l.left+l.width&&i>=l.top&&i<=l.top+l.height){o.onClick&&o.onClick.call(this,t,this.legendItems[s]);break}}}})}},{}],29:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.plugins=[],t.pluginService={register:function(e){var n=t.plugins;-1===n.indexOf(e)&&n.push(e)},remove:function(e){var n=t.plugins,r=n.indexOf(e);-1!==r&&n.splice(r,1)},notifyPlugins:function(n,r,i){e.each(t.plugins,function(t){t[n]&&"function"==typeof t[n]&&t[n].apply(i,r)},i)}};var n=e.noop;t.PluginBase=t.Element.extend({beforeInit:n,afterInit:n,beforeUpdate:n,afterUpdate:n,beforeDraw:n,afterDraw:n,destroy:n})}},{}],30:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.scale={display:!0,position:"left",gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",offsetGridLines:!1},scaleLabel:{labelString:"",display:!1},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:10,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:function(t){return""+t}}},t.Scale=t.Element.extend({beforeUpdate:function(){e.callCallback(this.options.beforeUpdate,[this])},update:function(t,n,r){return this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this.margins=e.extend({left:0,right:0,top:0,bottom:0},r),this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this.beforeBuildTicks(),this.buildTicks(),this.afterBuildTicks(),this.beforeTickToLabelConversion(),this.convertTicksToLabels(),this.afterTickToLabelConversion(),this.beforeCalculateTickRotation(),this.calculateTickRotation(),this.afterCalculateTickRotation(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:function(){e.callCallback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){e.callCallback(this.options.beforeSetDimensions,[this])},setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0},afterSetDimensions:function(){e.callCallback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){e.callCallback(this.options.beforeDataLimits,[this])},determineDataLimits:e.noop,afterDataLimits:function(){e.callCallback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){e.callCallback(this.options.beforeBuildTicks,[this])},buildTicks:e.noop,afterBuildTicks:function(){e.callCallback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){e.callCallback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){this.ticks=this.ticks.map(function(t,e,n){return this.options.ticks.userCallback?this.options.ticks.userCallback(t,e,n):this.options.ticks.callback(t,e,n)},this)},afterTickToLabelConversion:function(){e.callCallback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){e.callCallback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var n=this.ctx,r=t.defaults.global,i=this.options.ticks,o=e.getValueOrDefault(i.fontSize,r.defaultFontSize),a=e.getValueOrDefault(i.fontStyle,r.defaultFontStyle),s=e.getValueOrDefault(i.fontFamily,r.defaultFontFamily),l=e.fontString(o,a,s);n.font=l;var u,c=n.measureText(this.ticks[0]).width,d=n.measureText(this.ticks[this.ticks.length-1]).width;if(this.labelRotation=i.minRotation||0,this.paddingRight=0,this.paddingLeft=0,this.options.display&&this.isHorizontal()){this.paddingRight=d/2+3,this.paddingLeft=c/2+3,this.longestTextCache||(this.longestTextCache={});for(var h,f,p=e.longestText(n,l,this.ticks,this.longestTextCache),g=p,m=this.getPixelForTick(1)-this.getPixelForTick(0)-6;g>m&&this.labelRotation<i.maxRotation;){if(h=Math.cos(e.toRadians(this.labelRotation)),f=Math.sin(e.toRadians(this.labelRotation)),(u=h*c)+o/2>this.yLabelWidth&&(this.paddingLeft=u+o/2),this.paddingRight=o/2,f*p>this.maxHeight){this.labelRotation--;break}this.labelRotation++,g=h*p}}this.margins&&(this.paddingLeft=Math.max(this.paddingLeft-this.margins.left,0),this.paddingRight=Math.max(this.paddingRight-this.margins.right,0))},afterCalculateTickRotation:function(){e.callCallback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){e.callCallback(this.options.beforeFit,[this])},fit:function(){var n=this.minSize={width:0,height:0},r=this.options,i=t.defaults.global,o=r.ticks,a=r.scaleLabel,s=r.display,l=this.isHorizontal(),u=e.getValueOrDefault(o.fontSize,i.defaultFontSize),c=e.getValueOrDefault(o.fontStyle,i.defaultFontStyle),d=e.getValueOrDefault(o.fontFamily,i.defaultFontFamily),h=e.fontString(u,c,d),f=e.getValueOrDefault(a.fontSize,i.defaultFontSize),p=e.getValueOrDefault(a.fontStyle,i.defaultFontStyle),g=e.getValueOrDefault(a.fontFamily,i.defaultFontFamily),m=(e.fontString(f,p,g),r.gridLines.tickMarkLength);if(n.width=l?this.isFullWidth()?this.maxWidth-this.margins.left-this.margins.right:this.maxWidth:s?m:0,n.height=l?s?m:0:this.maxHeight,a.display&&s&&(l?n.height+=1.5*f:n.width+=1.5*f),o.display&&s){this.longestTextCache||(this.longestTextCache={});var v=e.longestText(this.ctx,h,this.ticks,this.longestTextCache);if(l){this.longestLabelWidth=v;var y=Math.sin(e.toRadians(this.labelRotation))*this.longestLabelWidth+1.5*u;n.height=Math.min(this.maxHeight,n.height+y),this.ctx.font=h;var b=this.ctx.measureText(this.ticks[0]).width,x=this.ctx.measureText(this.ticks[this.ticks.length-1]).width,_=Math.cos(e.toRadians(this.labelRotation)),w=Math.sin(e.toRadians(this.labelRotation));this.paddingLeft=0!==this.labelRotation?_*b+3:b/2+3,this.paddingRight=0!==this.labelRotation?w*(u/2)+3:x/2+3}else{var C=this.maxWidth-n.width;o.mirror?v=0:v+=this.options.ticks.padding,v<C?n.width+=v:n.width=this.maxWidth,this.paddingTop=u/2,this.paddingBottom=u/2}}this.margins&&(this.paddingLeft=Math.max(this.paddingLeft-this.margins.left,0),this.paddingTop=Math.max(this.paddingTop-this.margins.top,0),this.paddingRight=Math.max(this.paddingRight-this.margins.right,0),this.paddingBottom=Math.max(this.paddingBottom-this.margins.bottom,0)),this.width=n.width,this.height=n.height},afterFit:function(){e.callCallback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function t(e){return null===e||void 0===e?NaN:"number"==typeof e&&isNaN(e)?NaN:"object"==typeof e?e instanceof Date||e.isValid?e:t(this.isHorizontal()?e.x:e.y):e},getLabelForIndex:e.noop,getPixelForValue:e.noop,getValueForPixel:e.noop,getPixelForTick:function(t,e){if(this.isHorizontal()){var n=(this.width-(this.paddingLeft+this.paddingRight))/Math.max(this.ticks.length-(this.options.gridLines.offsetGridLines?0:1),1),r=n*t+this.paddingLeft;e&&(r+=n/2);var i=this.left+Math.round(r);return i+=this.isFullWidth()?this.margins.left:0}var o=this.height-(this.paddingTop+this.paddingBottom);return this.top+t*(o/(this.ticks.length-1))},getPixelForDecimal:function(t){if(this.isHorizontal()){var e=(this.width-(this.paddingLeft+this.paddingRight))*t+this.paddingLeft,n=this.left+Math.round(e);return n+=this.isFullWidth()?this.margins.left:0}return this.top+t*this.height},getBasePixel:function(){var t=this,e=t.min,n=t.max;return t.getPixelForValue(t.beginAtZero?0:e<0&&n<0?n:e>0&&n>0?e:0)},draw:function(n){var r=this.options;if(r.display){var i,o,a,s,l,u=this.ctx,c=t.defaults.global,d=r.ticks,h=r.gridLines,f=r.scaleLabel,p=0!==this.labelRotation,g=d.autoSkip;d.maxTicksLimit&&(l=d.maxTicksLimit);var m=e.getValueOrDefault(d.fontColor,c.defaultFontColor),v=e.getValueOrDefault(d.fontSize,c.defaultFontSize),y=e.getValueOrDefault(d.fontStyle,c.defaultFontStyle),b=e.getValueOrDefault(d.fontFamily,c.defaultFontFamily),x=e.fontString(v,y,b),_=h.tickMarkLength,w=e.getValueOrDefault(f.fontColor,c.defaultFontColor),C=e.getValueOrDefault(f.fontSize,c.defaultFontSize),k=e.getValueOrDefault(f.fontStyle,c.defaultFontStyle),S=e.getValueOrDefault(f.fontFamily,c.defaultFontFamily),M=e.fontString(C,k,S),T=e.toRadians(this.labelRotation),$=Math.cos(T),D=(Math.sin(T),this.longestLabelWidth*$);if(u.fillStyle=m,this.isHorizontal()){i=!0;var E="bottom"===r.position?this.top:this.bottom-_,L="bottom"===r.position?this.top+_:this.bottom;if(o=!1,p&&(D/=2),(D+d.autoSkipPadding)*this.ticks.length>this.width-(this.paddingLeft+this.paddingRight)&&(o=1+Math.floor((D+d.autoSkipPadding)*this.ticks.length/(this.width-(this.paddingLeft+this.paddingRight)))),l&&this.ticks.length>l)for(;!o||this.ticks.length/(o||1)>l;)o||(o=1),o+=1;g||(o=!1),e.each(this.ticks,function(t,a){var s=this.ticks.length===a+1;if((!(o>1&&a%o>0||a%o==0&&a+o>=this.ticks.length)||s)&&void 0!==t&&null!==t){var l=this.getPixelForTick(a),c=this.getPixelForTick(a,h.offsetGridLines);h.display&&(a===(void 0!==this.zeroLineIndex?this.zeroLineIndex:0)?(u.lineWidth=h.zeroLineWidth,u.strokeStyle=h.zeroLineColor,i=!0):i&&(u.lineWidth=h.lineWidth,u.strokeStyle=h.color,i=!1),l+=e.aliasPixel(u.lineWidth),u.beginPath(),h.drawTicks&&(u.moveTo(l,E),u.lineTo(l,L)),h.drawOnChartArea&&(u.moveTo(l,n.top),u.lineTo(l,n.bottom)),u.stroke()),d.display&&(u.save(),u.translate(c+d.labelOffset,p?this.top+12:"top"===r.position?this.bottom-_:this.top+_),u.rotate(-1*T),u.font=x,u.textAlign=p?"right":"center",u.textBaseline=p?"middle":"top"===r.position?"bottom":"top",u.fillText(t,0,0),u.restore())}},this),f.display&&(u.textAlign="center",u.textBaseline="middle",u.fillStyle=w,u.font=M,a=this.left+(this.right-this.left)/2,s="bottom"===r.position?this.bottom-C/2:this.top+C/2,u.fillText(f.labelString,a,s))}else{i=!0;var A="right"===r.position?this.left:this.right-5,F="right"===r.position?this.left+5:this.right;if(e.each(this.ticks,function(t,o){if(void 0!==t&&null!==t){var a=this.getPixelForTick(o);if(h.display&&(o===(void 0!==this.zeroLineIndex?this.zeroLineIndex:0)?(u.lineWidth=h.zeroLineWidth,u.strokeStyle=h.zeroLineColor,i=!0):i&&(u.lineWidth=h.lineWidth,u.strokeStyle=h.color,i=!1),a+=e.aliasPixel(u.lineWidth),u.beginPath(),h.drawTicks&&(u.moveTo(A,a),u.lineTo(F,a)),h.drawOnChartArea&&(u.moveTo(n.left,a),u.lineTo(n.right,a)),u.stroke()),d.display){var s,l=this.getPixelForTick(o,h.offsetGridLines);u.save(),"left"===r.position?d.mirror?(s=this.right+d.padding,u.textAlign="left"):(s=this.right-d.padding,u.textAlign="right"):d.mirror?(s=this.left-d.padding,u.textAlign="right"):(s=this.left+d.padding,u.textAlign="left"),u.translate(s,l+d.labelOffset),u.rotate(-1*T),u.font=x,u.textBaseline="middle",u.fillText(t,0,0),u.restore()}}},this),f.display){a="left"===r.position?this.left+C/2:this.right-C/2,s=this.top+(this.bottom-this.top)/2;var P="left"===r.position?-.5*Math.PI:.5*Math.PI;u.save(),u.translate(a,s),u.rotate(P),u.textAlign="center",u.fillStyle=w,u.font=M,u.textBaseline="middle",u.fillText(f.labelString,0,0),u.restore()}}if(h.drawBorder){u.lineWidth=h.lineWidth,u.strokeStyle=h.color;var R=this.left,O=this.right,N=this.top,I=this.bottom,Y=e.aliasPixel(u.lineWidth);this.isHorizontal()?(N=I="top"===r.position?this.bottom:this.top,N+=Y,I+=Y):(R=O="left"===r.position?this.right:this.left,R+=Y,O+=Y),u.beginPath(),u.moveTo(R,N),u.lineTo(O,I),u.stroke()}}}})}},{}],31:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.scaleService={constructors:{},defaults:{},registerScaleType:function(t,n,r){this.constructors[t]=n,this.defaults[t]=e.clone(r)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(n){return this.defaults.hasOwnProperty(n)?e.scaleMerge(t.defaults.scale,this.defaults[n]):{}},updateScaleDefaults:function(t,n){var r=this.defaults;r.hasOwnProperty(t)&&(r[t]=e.extend(r[t],n))},addScalesToLayout:function(n){e.each(n.scales,function(e){t.layoutService.addBox(n,e)})}}}},{}],32:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.global.title={display:!1,position:"top",fullWidth:!0,fontStyle:"bold",padding:10,text:""};var n=e.noop;t.Title=t.Element.extend({initialize:function(n){e.extend(this,n),this.options=e.configMerge(t.defaults.global.title,n.options),this.legendHitBoxes=[]},beforeUpdate:n,update:function(t,e,n){return this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this.margins=n,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeBuildLabels(),this.buildLabels(),this.afterBuildLabels(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:n,beforeSetDimensions:n,setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0,this.minSize={width:0,height:0}},afterSetDimensions:n,beforeBuildLabels:n,buildLabels:n,afterBuildLabels:n,beforeFit:n,fit:function(){var n=this,r=(n.ctx,e.getValueOrDefault),i=n.options,o=t.defaults.global,a=i.display,s=r(i.fontSize,o.defaultFontSize),l=n.minSize;n.isHorizontal()?(l.width=n.maxWidth,l.height=a?s+2*i.padding:0):(l.width=a?s+2*i.padding:0,l.height=n.maxHeight),n.width=l.width,n.height=l.height},afterFit:n,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var n=this,r=n.ctx,i=e.getValueOrDefault,o=n.options,a=t.defaults.global;if(o.display){var s,l,u=i(o.fontSize,a.defaultFontSize),c=i(o.fontStyle,a.defaultFontStyle),d=i(o.fontFamily,a.defaultFontFamily),h=e.fontString(u,c,d),f=0,p=n.top,g=n.left,m=n.bottom,v=n.right;r.fillStyle=i(o.fontColor,a.defaultFontColor),r.font=h,n.isHorizontal()?(s=g+(v-g)/2,l=p+(m-p)/2):(s="left"===o.position?g+u/2:v-u/2,l=p+(m-p)/2,f=Math.PI*("left"===o.position?-.5:.5)),r.save(),r.translate(s,l),r.rotate(f),r.textAlign="center",r.textBaseline="middle",r.fillText(o.text,0,0),r.restore()}}})}},{}],33:[function(t,e,n){"use strict";e.exports=function(t){function e(t,e){return e&&(n.isArray(e)?t=t.concat(e):t.push(e)),t}var n=t.helpers;t.defaults.global.tooltips={enabled:!0,custom:null,mode:"single",backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleColor:"#fff",titleAlign:"left",bodySpacing:2,bodyColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,yAlign:"center",xAlign:"center",caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",callbacks:{beforeTitle:n.noop,title:function(t,e){var n="";return t.length>0&&(t[0].xLabel?n=t[0].xLabel:e.labels.length>0&&t[0].index<e.labels.length&&(n=e.labels[t[0].index])),n},afterTitle:n.noop,beforeBody:n.noop,beforeLabel:n.noop,label:function(t,e){return(e.datasets[t.datasetIndex].label||"")+": "+t.yLabel},afterLabel:n.noop,afterBody:n.noop,beforeFooter:n.noop,footer:n.noop,afterFooter:n.noop}},t.Tooltip=t.Element.extend({initialize:function(){var e=t.defaults.global,r=this._options.tooltips;n.extend(this,{_model:{xPadding:r.xPadding,yPadding:r.yPadding,xAlign:r.yAlign,yAlign:r.xAlign,bodyColor:r.bodyColor,_bodyFontFamily:n.getValueOrDefault(r.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:n.getValueOrDefault(r.bodyFontStyle,e.defaultFontStyle),_bodyAlign:r.bodyAlign,bodyFontSize:n.getValueOrDefault(r.bodyFontSize,e.defaultFontSize),bodySpacing:r.bodySpacing,titleColor:r.titleColor,_titleFontFamily:n.getValueOrDefault(r.titleFontFamily,e.defaultFontFamily),_titleFontStyle:n.getValueOrDefault(r.titleFontStyle,e.defaultFontStyle),titleFontSize:n.getValueOrDefault(r.titleFontSize,e.defaultFontSize),_titleAlign:r.titleAlign,titleSpacing:r.titleSpacing,titleMarginBottom:r.titleMarginBottom,footerColor:r.footerColor,_footerFontFamily:n.getValueOrDefault(r.footerFontFamily,e.defaultFontFamily),_footerFontStyle:n.getValueOrDefault(r.footerFontStyle,e.defaultFontStyle),footerFontSize:n.getValueOrDefault(r.footerFontSize,e.defaultFontSize),_footerAlign:r.footerAlign,footerSpacing:r.footerSpacing,footerMarginTop:r.footerMarginTop,caretSize:r.caretSize,cornerRadius:r.cornerRadius,backgroundColor:r.backgroundColor,opacity:0,legendColorBackground:r.multiKeyBackground}})},getTitle:function(){var t=this._options.tooltips.callbacks.beforeTitle.apply(this,arguments),n=this._options.tooltips.callbacks.title.apply(this,arguments),r=this._options.tooltips.callbacks.afterTitle.apply(this,arguments),i=[];return i=e(i,t),i=e(i,n),i=e(i,r)},getBeforeBody:function(){var t=this._options.tooltips.callbacks.beforeBody.apply(this,arguments);return n.isArray(t)?t:void 0!==t?[t]:[]},getBody:function(t,e){var r=[];return n.each(t,function(t){n.pushAllIfDefined(this._options.tooltips.callbacks.beforeLabel.call(this,t,e),r),n.pushAllIfDefined(this._options.tooltips.callbacks.label.call(this,t,e),r),n.pushAllIfDefined(this._options.tooltips.callbacks.afterLabel.call(this,t,e),r)},this),r},getAfterBody:function(){var t=this._options.tooltips.callbacks.afterBody.apply(this,arguments);return n.isArray(t)?t:void 0!==t?[t]:[]},getFooter:function(){var t=this._options.tooltips.callbacks.beforeFooter.apply(this,arguments),n=this._options.tooltips.callbacks.footer.apply(this,arguments),r=this._options.tooltips.callbacks.afterFooter.apply(this,arguments),i=[];return i=e(i,t),i=e(i,n),i=e(i,r)},getAveragePosition:function(t){if(!t.length)return!1;var e=[],r=[];n.each(t,function(t){if(t&&t.hasValue()){var n=t.tooltipPosition();e.push(n.x),r.push(n.y)}});for(var i=0,o=0,a=0;a<e.length;a++)i+=e[a],o+=r[a];return{x:Math.round(i/e.length),y:Math.round(o/e.length)}},update:function(t){if(this._active.length){this._model.opacity=1;var e,r=this._active[0],i=[],o=[];if("single"===this._options.tooltips.mode){var a=r._yScale||r._scale;o.push({xLabel:r._xScale?r._xScale.getLabelForIndex(r._index,r._datasetIndex):"",yLabel:a?a.getLabelForIndex(r._index,r._datasetIndex):"",index:r._index,datasetIndex:r._datasetIndex}),e=this.getAveragePosition(this._active)}else n.each(this._data.datasets,function(t,e){if(this._chartInstance.isDatasetVisible(e)){var n=this._chartInstance.getDatasetMeta(e).data[r._index];if(n){var i=r._yScale||r._scale;o.push({xLabel:n._xScale?n._xScale.getLabelForIndex(n._index,n._datasetIndex):"",yLabel:i?i.getLabelForIndex(n._index,n._datasetIndex):"",index:r._index,datasetIndex:e})}}},this),n.each(this._active,function(t){t&&i.push({borderColor:t._view.borderColor,backgroundColor:t._view.backgroundColor})},null),e=this.getAveragePosition(this._active);n.extend(this._model,{title:this.getTitle(o,this._data),beforeBody:this.getBeforeBody(o,this._data),body:this.getBody(o,this._data),afterBody:this.getAfterBody(o,this._data),footer:this.getFooter(o,this._data)}),n.extend(this._model,{x:Math.round(e.x),y:Math.round(e.y),caretPadding:n.getValueOrDefault(e.padding,2),labelColors:i});var s=this.getTooltipSize(this._model);this.determineAlignment(s),n.extend(this._model,this.getBackgroundPoint(this._model,s))}else this._model.opacity=0;return t&&this._options.tooltips.custom&&this._options.tooltips.custom.call(this,this._model),this},getTooltipSize:function(t){var e=this._chart.ctx,r={height:2*t.yPadding,width:0},i=t.body.length+t.beforeBody.length+t.afterBody.length;return r.height+=t.title.length*t.titleFontSize,r.height+=(t.title.length-1)*t.titleSpacing,r.height+=t.title.length?t.titleMarginBottom:0,r.height+=i*t.bodyFontSize,r.height+=i?(i-1)*t.bodySpacing:0,r.height+=t.footer.length?t.footerMarginTop:0,r.height+=t.footer.length*t.footerFontSize,r.height+=t.footer.length?(t.footer.length-1)*t.footerSpacing:0,e.font=n.fontString(t.titleFontSize,t._titleFontStyle,t._titleFontFamily),n.each(t.title,function(t){r.width=Math.max(r.width,e.measureText(t).width)}),e.font=n.fontString(t.bodyFontSize,t._bodyFontStyle,t._bodyFontFamily),n.each(t.beforeBody.concat(t.afterBody),function(t){r.width=Math.max(r.width,e.measureText(t).width)}),n.each(t.body,function(n){r.width=Math.max(r.width,e.measureText(n).width+("single"!==this._options.tooltips.mode?t.bodyFontSize+2:0))},this),e.font=n.fontString(t.footerFontSize,t._footerFontStyle,t._footerFontFamily),n.each(t.footer,function(t){r.width=Math.max(r.width,e.measureText(t).width)}),r.width+=2*t.xPadding,r},determineAlignment:function(t){this._model.y<t.height?this._model.yAlign="top":this._model.y>this._chart.height-t.height&&(this._model.yAlign="bottom");var e,n,r,i,o,a=this,s=(this._chartInstance.chartArea.left+this._chartInstance.chartArea.right)/2,l=(this._chartInstance.chartArea.top+this._chartInstance.chartArea.bottom)/2;"center"===this._model.yAlign?(e=function(t){return t<=s},n=function(t){return t>s}):(e=function(e){return e<=t.width/2},n=function(e){return e>=a._chart.width-t.width/2}),r=function(e){return e+t.width>a._chart.width},i=function(e){return e-t.width<0},o=function(t){return t<=l?"top":"bottom"},e(this._model.x)?(this._model.xAlign="left",r(this._model.x)&&(this._model.xAlign="center",this._model.yAlign=o(this._model.y))):n(this._model.x)&&(this._model.xAlign="right",i(this._model.x)&&(this._model.xAlign="center",this._model.yAlign=o(this._model.y)))},getBackgroundPoint:function(t,e){var n={x:t.x,y:t.y};return"right"===t.xAlign?n.x-=e.width:"center"===t.xAlign&&(n.x-=e.width/2),"top"===t.yAlign?n.y+=t.caretPadding+t.caretSize:"bottom"===t.yAlign?n.y-=e.height+t.caretPadding+t.caretSize:n.y-=e.height/2,"center"===t.yAlign?"left"===t.xAlign?n.x+=t.caretPadding+t.caretSize:"right"===t.xAlign&&(n.x-=t.caretPadding+t.caretSize):"left"===t.xAlign?n.x-=t.cornerRadius+t.caretPadding:"right"===t.xAlign&&(n.x+=t.cornerRadius+t.caretPadding),n},drawCaret:function(t,e,r,i){var o,a,s,l,u,c,d=this._view,h=this._chart.ctx;"center"===d.yAlign?("left"===d.xAlign?(a=(o=t.x)-d.caretSize,s=o):(a=(o=t.x+e.width)+d.caretSize,s=o),l=(u=t.y+e.height/2)-d.caretSize,c=u+d.caretSize):("left"===d.xAlign?s=(a=(o=t.x+d.cornerRadius)+d.caretSize)+d.caretSize:"right"===d.xAlign?s=(a=(o=t.x+e.width-d.cornerRadius)-d.caretSize)-d.caretSize:(o=(a=t.x+e.width/2)-d.caretSize,s=a+d.caretSize),"top"===d.yAlign?(u=(l=t.y)-d.caretSize,c=l):(u=(l=t.y+e.height)+d.caretSize,c=l));var f=n.color(d.backgroundColor);h.fillStyle=f.alpha(r*f.alpha()).rgbString(),h.beginPath(),h.moveTo(o,l),h.lineTo(a,u),h.lineTo(s,c),h.closePath(),h.fill()},drawTitle:function(t,e,r,i){if(e.title.length){r.textAlign=e._titleAlign,r.textBaseline="top";var o=n.color(e.titleColor);r.fillStyle=o.alpha(i*o.alpha()).rgbString(),r.font=n.fontString(e.titleFontSize,e._titleFontStyle,e._titleFontFamily),n.each(e.title,function(n,i){r.fillText(n,t.x,t.y),t.y+=e.titleFontSize+e.titleSpacing,i+1===e.title.length&&(t.y+=e.titleMarginBottom-e.titleSpacing)})}},drawBody:function(t,e,r,i){r.textAlign=e._bodyAlign,r.textBaseline="top";var o=n.color(e.bodyColor);r.fillStyle=o.alpha(i*o.alpha()).rgbString(),r.font=n.fontString(e.bodyFontSize,e._bodyFontStyle,e._bodyFontFamily),n.each(e.beforeBody,function(n){r.fillText(n,t.x,t.y),t.y+=e.bodyFontSize+e.bodySpacing}),n.each(e.body,function(o,a){"single"!==this._options.tooltips.mode&&(r.fillStyle=n.color(e.legendColorBackground).alpha(i).rgbaString(),r.fillRect(t.x,t.y,e.bodyFontSize,e.bodyFontSize),r.strokeStyle=n.color(e.labelColors[a].borderColor).alpha(i).rgbaString(),r.strokeRect(t.x,t.y,e.bodyFontSize,e.bodyFontSize),r.fillStyle=n.color(e.labelColors[a].backgroundColor).alpha(i).rgbaString(),r.fillRect(t.x+1,t.y+1,e.bodyFontSize-2,e.bodyFontSize-2),r.fillStyle=n.color(e.bodyColor).alpha(i).rgbaString()),r.fillText(o,t.x+("single"!==this._options.tooltips.mode?e.bodyFontSize+2:0),t.y),t.y+=e.bodyFontSize+e.bodySpacing},this),n.each(e.afterBody,function(n){r.fillText(n,t.x,t.y),t.y+=e.bodyFontSize}),t.y-=e.bodySpacing},drawFooter:function(t,e,r,i){if(e.footer.length){t.y+=e.footerMarginTop,r.textAlign=e._footerAlign,r.textBaseline="top";var o=n.color(e.footerColor);r.fillStyle=o.alpha(i*o.alpha()).rgbString(),r.font=n.fontString(e.footerFontSize,e._footerFontStyle,e._footerFontFamily),n.each(e.footer,function(n){r.fillText(n,t.x,t.y),t.y+=e.footerFontSize+e.footerSpacing})}},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var r=e.caretPadding,i=this.getTooltipSize(e),o={x:e.x,y:e.y},a=Math.abs(e.opacity<.001)?0:e.opacity;if(this._options.tooltips.enabled){var s=n.color(e.backgroundColor);t.fillStyle=s.alpha(a*s.alpha()).rgbString(),n.drawRoundedRectangle(t,o.x,o.y,i.width,i.height,e.cornerRadius),t.fill(),this.drawCaret(o,i,a,r),o.x+=e.xPadding,o.y+=e.yPadding,this.drawTitle(o,e,t,a),this.drawBody(o,e,t,a),this.drawFooter(o,e,t,a)}}}})}},{}],34:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.helpers,r=t.defaults.global;r.elements.arc={backgroundColor:r.defaultColor,borderColor:"#fff",borderWidth:2},t.elements.Arc=t.Element.extend({inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var r=this._view;if(r){for(var i=n.getAngleFromPoint(r,{x:t,y:e}),o=i.angle,a=i.distance,s=r.startAngle,l=r.endAngle;l<s;)l+=2*Math.PI;for(;o>l;)o-=2*Math.PI;for(;o<s;)o+=2*Math.PI;var u=o>=s&&o<=l,c=a>=r.innerRadius&&a<=r.outerRadius;return u&&c}return!1},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,n=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},draw:function(){var t=this._chart.ctx,e=this._view,n=e.startAngle,r=e.endAngle;t.beginPath(),t.arc(e.x,e.y,e.outerRadius,n,r),t.arc(e.x,e.y,e.innerRadius,r,n,!0),t.closePath(),t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.fillStyle=e.backgroundColor,t.fill(),t.lineJoin="bevel",e.borderWidth&&t.stroke()}})}},{}],35:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n=t.defaults.global;t.defaults.global.elements.line={tension:.4,backgroundColor:n.defaultColor,borderWidth:3,borderColor:n.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",fill:!0},t.elements.Line=t.Element.extend({lineToNextPoint:function(t,e,n,r,i){var o=this._chart.ctx;e._view.skip?r.call(this,t,e,n):t._view.skip?i.call(this,t,e,n):0===e._view.tension?o.lineTo(e._view.x,e._view.y):o.bezierCurveTo(t._view.controlPointNextX,t._view.controlPointNextY,e._view.controlPointPreviousX,e._view.controlPointPreviousY,e._view.x,e._view.y)},draw:function(){function t(t){a._view.skip||s._view.skip?t&&o.lineTo(r._view.scaleZero.x,r._view.scaleZero.y):o.bezierCurveTo(s._view.controlPointNextX,s._view.controlPointNextY,a._view.controlPointPreviousX,a._view.controlPointPreviousY,a._view.x,a._view.y)}var r=this,i=this._view,o=this._chart.ctx,a=this._children[0],s=this._children[this._children.length-1];o.save(),this._children.length>0&&i.fill&&(o.beginPath(),e.each(this._children,function(t,n){var r=e.previousItem(this._children,n),a=e.nextItem(this._children,n);0===n?(this._loop?o.moveTo(i.scaleZero.x,i.scaleZero.y):o.moveTo(t._view.x,i.scaleZero),t._view.skip?this._loop||o.moveTo(a._view.x,this._view.scaleZero):o.lineTo(t._view.x,t._view.y)):this.lineToNextPoint(r,t,a,function(t,e,n){this._loop?o.lineTo(this._view.scaleZero.x,this._view.scaleZero.y):(o.lineTo(t._view.x,this._view.scaleZero),o.moveTo(n._view.x,this._view.scaleZero))},function(t,e){o.lineTo(e._view.x,e._view.y)})},this),this._loop?t(!0):(o.lineTo(this._children[this._children.length-1]._view.x,i.scaleZero),o.lineTo(this._children[0]._view.x,i.scaleZero)),o.fillStyle=i.backgroundColor||n.defaultColor,o.closePath(),o.fill());var l=n.elements.line;o.lineCap=i.borderCapStyle||l.borderCapStyle,o.setLineDash&&o.setLineDash(i.borderDash||l.borderDash),o.lineDashOffset=i.borderDashOffset||l.borderDashOffset,o.lineJoin=i.borderJoinStyle||l.borderJoinStyle,o.lineWidth=i.borderWidth||l.borderWidth,o.strokeStyle=i.borderColor||n.defaultColor,o.beginPath(),e.each(this._children,function(t,n){var r=e.previousItem(this._children,n),i=e.nextItem(this._children,n);0===n?o.moveTo(t._view.x,t._view.y):this.lineToNextPoint(r,t,i,function(t,e,n){o.moveTo(n._view.x,n._view.y)},function(t,e){o.moveTo(e._view.x,e._view.y)})},this),this._loop&&this._children.length>0&&t(),o.stroke(),o.restore()}})}},{}],36:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n=t.defaults.global,r=n.defaultColor;n.elements.point={radius:3,pointStyle:"circle",backgroundColor:r,borderWidth:1,borderColor:r,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},t.elements.Point=t.Element.extend({inRange:function(t,e){var n=this._view;return!!n&&Math.pow(t-n.x,2)+Math.pow(e-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hitRadius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(){var t,i,o,a,s,l,u=this._view,c=this._chart.ctx,d=u.pointStyle,h=u.radius,f=u.x,p=u.y;if(!u.skip)if("object"!=typeof d||"[object HTMLImageElement]"!==(t=d.toString())&&"[object HTMLCanvasElement]"!==t){if(!(isNaN(h)||h<=0)){switch(c.strokeStyle=u.borderColor||r,c.lineWidth=e.getValueOrDefault(u.borderWidth,n.elements.point.borderWidth),c.fillStyle=u.backgroundColor||r,d){default:c.beginPath(),c.arc(f,p,h,0,2*Math.PI),c.closePath(),c.fill();break;case"triangle":c.beginPath(),s=(i=3*h/Math.sqrt(3))*Math.sqrt(3)/2,c.moveTo(f-i/2,p+s/3),c.lineTo(f+i/2,p+s/3),c.lineTo(f,p-2*s/3),c.closePath(),c.fill();break;case"rect":l=1/Math.SQRT2*h,c.fillRect(f-l,p-l,2*l,2*l),c.strokeRect(f-l,p-l,2*l,2*l);break;case"rectRot":c.translate(f,p),c.rotate(Math.PI/4),l=1/Math.SQRT2*h,c.fillRect(-l,-l,2*l,2*l),c.strokeRect(-l,-l,2*l,2*l),c.setTransform(1,0,0,1,0,0);break;case"cross":c.beginPath(),c.moveTo(f,p+h),c.lineTo(f,p-h),c.moveTo(f-h,p),c.lineTo(f+h,p),c.closePath();break;case"crossRot":c.beginPath(),o=Math.cos(Math.PI/4)*h,a=Math.sin(Math.PI/4)*h,c.moveTo(f-o,p-a),c.lineTo(f+o,p+a),c.moveTo(f-o,p+a),c.lineTo(f+o,p-a),c.closePath();break;case"star":c.beginPath(),c.moveTo(f,p+h),c.lineTo(f,p-h),c.moveTo(f-h,p),c.lineTo(f+h,p),o=Math.cos(Math.PI/4)*h,a=Math.sin(Math.PI/4)*h,c.moveTo(f-o,p-a),c.lineTo(f+o,p+a),c.moveTo(f-o,p+a),c.lineTo(f+o,p-a),c.closePath();break;case"line":c.beginPath(),c.moveTo(f-h,p),c.lineTo(f+h,p),c.closePath();break;case"dash":c.beginPath(),c.moveTo(f,p),c.lineTo(f+h,p),c.closePath()}c.stroke()}}else c.drawImage(d,f-d.width/2,p-d.height/2)}})}},{}],37:[function(t,e,n){"use strict";e.exports=function(t){t.helpers;var e=t.defaults.global;e.elements.rectangle={backgroundColor:e.defaultColor,borderWidth:0,borderColor:e.defaultColor,borderSkipped:"bottom"},t.elements.Rectangle=t.Element.extend({draw:function(){function t(t){return l[(u+t)%4]}var e=this._chart.ctx,n=this._view,r=n.width/2,i=n.x-r,o=n.x+r,a=n.base-(n.base-n.y),s=n.borderWidth/2;n.borderWidth&&(i+=s,o-=s,a+=s),e.beginPath(),e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth;var l=[[i,n.base],[i,a],[o,a],[o,n.base]],u=["bottom","left","top","right"].indexOf(n.borderSkipped,0);-1===u&&(u=0),e.moveTo.apply(e,t(0));for(var c=1;c<4;c++)e.lineTo.apply(e,t(c));e.fill(),n.borderWidth&&e.stroke()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){var n=this._view;return!!n&&(n.y<n.base?t>=n.x-n.width/2&&t<=n.x+n.width/2&&e>=n.y&&e<=n.base:t>=n.x-n.width/2&&t<=n.x+n.width/2&&e>=n.base&&e<=n.y)},inLabelRange:function(t){var e=this._view;return!!e&&(t>=e.x-e.width/2&&t<=e.x+e.width/2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}})}},{}],38:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n={position:"bottom"},r=t.Scale.extend({determineDataLimits:function(){this.minIndex=0,this.maxIndex=this.chart.data.labels.length-1;var t;void 0!==this.options.ticks.min&&(t=e.indexOf(this.chart.data.labels,this.options.ticks.min),this.minIndex=-1!==t?t:this.minIndex),void 0!==this.options.ticks.max&&(t=e.indexOf(this.chart.data.labels,this.options.ticks.max),this.maxIndex=-1!==t?t:this.maxIndex),this.min=this.chart.data.labels[this.minIndex],this.max=this.chart.data.labels[this.maxIndex]},buildTicks:function(t){this.ticks=0===this.minIndex&&this.maxIndex===this.chart.data.labels.length-1?this.chart.data.labels:this.chart.data.labels.slice(this.minIndex,this.maxIndex+1)},getLabelForIndex:function(t,e){return this.ticks[t]},getPixelForValue:function(t,e,n,r){var i=Math.max(this.maxIndex+1-this.minIndex-(this.options.gridLines.offsetGridLines?0:1),1);if(this.isHorizontal()){var o=(this.width-(this.paddingLeft+this.paddingRight))/i,a=o*(e-this.minIndex)+this.paddingLeft;return this.options.gridLines.offsetGridLines&&r&&(a+=o/2),this.left+Math.round(a)}var s=(this.height-(this.paddingTop+this.paddingBottom))/i,l=s*(e-this.minIndex)+this.paddingTop;return this.options.gridLines.offsetGridLines&&r&&(l+=s/2),this.top+Math.round(l)},getPixelForTick:function(t,e){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null,e)},getValueForPixel:function(t){var e=Math.max(this.ticks.length-(this.options.gridLines.offsetGridLines?0:1),1),n=this.isHorizontal(),r=(n?this.width-(this.paddingLeft+this.paddingRight):this.height-(this.paddingTop+this.paddingBottom))/e;return this.options.gridLines.offsetGridLines&&(t-=r/2),t-=n?this.paddingLeft:this.paddingTop,t<=0?0:Math.round(t/r)}});t.scaleService.registerScaleType("category",r,n)}},{}],39:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n={position:"left",ticks:{callback:function(t,n,r){var i=r.length>3?r[2]-r[1]:r[1]-r[0];Math.abs(i)>1&&t!==Math.floor(t)&&(i=t-Math.floor(t));var o=e.log10(Math.abs(i)),a="";if(0!==t){var s=-1*Math.floor(o);s=Math.max(Math.min(s,20),0),a=t.toFixed(s)}else a="0";return a}}},r=t.Scale.extend({determineDataLimits:function(){function t(t){return s?t.xAxisID===n.id:t.yAxisID===n.id}var n=this,r=n.options,i=r.ticks,o=n.chart,a=o.data.datasets,s=n.isHorizontal();if(n.min=null,n.max=null,r.stacked){var l={},u=!1,c=!1;e.each(a,function(i,a){var s=o.getDatasetMeta(a);void 0===l[s.type]&&(l[s.type]={positiveValues:[],negativeValues:[]});var d=l[s.type].positiveValues,h=l[s.type].negativeValues;o.isDatasetVisible(a)&&t(s)&&e.each(i.data,function(t,e){var i=+n.getRightValue(t);isNaN(i)||s.data[e].hidden||(d[e]=d[e]||0,h[e]=h[e]||0,r.relativePoints?d[e]=100:i<0?(c=!0,h[e]+=i):(u=!0,d[e]+=i))})}),e.each(l,function(t){var r=t.positiveValues.concat(t.negativeValues),i=e.min(r),o=e.max(r);n.min=null===n.min?i:Math.min(n.min,i),n.max=null===n.max?o:Math.max(n.max,o)})}else e.each(a,function(r,i){var a=o.getDatasetMeta(i);o.isDatasetVisible(i)&&t(a)&&e.each(r.data,function(t,e){var r=+n.getRightValue(t);isNaN(r)||a.data[e].hidden||(null===n.min?n.min=r:r<n.min&&(n.min=r),null===n.max?n.max=r:r>n.max&&(n.max=r))})});if(i.beginAtZero){var d=e.sign(n.min),h=e.sign(n.max);d<0&&h<0?n.max=0:d>0&&h>0&&(n.min=0)}void 0!==i.min?n.min=i.min:void 0!==i.suggestedMin&&(n.min=Math.min(n.min,i.suggestedMin)),void 0!==i.max?n.max=i.max:void 0!==i.suggestedMax&&(n.max=Math.max(n.max,i.suggestedMax)),n.min===n.max&&(n.max++,i.beginAtZero||n.min--)},buildTicks:function(){var n,r=this,i=r.options.ticks,o=e.getValueOrDefault,a=r.isHorizontal(),s=r.ticks=[];if(a)n=Math.min(i.maxTicksLimit?i.maxTicksLimit:11,Math.ceil(r.width/50));else{var l=o(i.fontSize,t.defaults.global.defaultFontSize);n=Math.min(i.maxTicksLimit?i.maxTicksLimit:11,Math.ceil(r.height/(2*l)))}n=Math.max(2,n);var u;if(i.fixedStepSize&&i.fixedStepSize>0||i.stepSize&&i.stepSize>0)u=o(i.fixedStepSize,i.stepSize);else{var c=e.niceNum(r.max-r.min,!1);u=e.niceNum(c/(n-1),!0)}var d=Math.floor(r.min/u)*u,h=Math.ceil(r.max/u)*u,f=(h-d)/u;f=e.almostEquals(f,Math.round(f),u/1e3)?Math.round(f):Math.ceil(f),s.push(void 0!==i.min?i.min:d);for(var p=1;p<f;++p)s.push(d+p*u);s.push(void 0!==i.max?i.max:h),a||s.reverse(),r.max=e.max(s),r.min=e.min(s),i.reverse?(s.reverse(),r.start=r.max,r.end=r.min):(r.start=r.min,r.end=r.max)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),t.Scale.prototype.convertTicksToLabels.call(e)},getPixelForValue:function(t,e,n,r){var i,o,a=this,s=a.paddingLeft,l=a.paddingBottom,u=a.start,c=+a.getRightValue(t),d=a.end-u;return a.isHorizontal()?(o=a.width-(s+a.paddingRight),i=a.left+o/d*(c-u),Math.round(i+s)):(o=a.height-(a.paddingTop+l),i=a.bottom-l-o/d*(c-u),Math.round(i))},getValueForPixel:function(t){var e=this,n=e.isHorizontal(),r=e.paddingLeft,i=e.paddingBottom,o=n?e.width-(r+e.paddingRight):e.height-(e.paddingTop+i),a=(n?t-e.left-r:e.bottom-i-t)/o;return e.start+(e.end-e.start)*a},getPixelForTick:function(t,e){return this.getPixelForValue(this.ticksAsNumbers[t],null,null,e)}});t.scaleService.registerScaleType("linear",r,n)}},{}],40:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n={position:"left",ticks:{callback:function(t,n,r){var i=t/Math.pow(10,Math.floor(e.log10(t)));return 1===i||2===i||5===i||0===n||n===r.length-1?t.toExponential():""}}},r=t.Scale.extend({determineDataLimits:function(){function t(t){return l?t.xAxisID===n.id:t.yAxisID===n.id}var n=this,r=n.options,i=r.ticks,o=n.chart,a=o.data.datasets,s=e.getValueOrDefault,l=n.isHorizontal();if(n.min=null,n.max=null,r.stacked){var u={};e.each(a,function(i,a){var s=o.getDatasetMeta(a);o.isDatasetVisible(a)&&t(s)&&(void 0===u[s.type]&&(u[s.type]=[]),e.each(i.data,function(t,e){var i=u[s.type],o=+n.getRightValue(t);isNaN(o)||s.data[e].hidden||(i[e]=i[e]||0,r.relativePoints?i[e]=100:i[e]+=o)}))}),e.each(u,function(t){var r=e.min(t),i=e.max(t);n.min=null===n.min?r:Math.min(n.min,r),n.max=null===n.max?i:Math.max(n.max,i)})}else e.each(a,function(r,i){var a=o.getDatasetMeta(i);o.isDatasetVisible(i)&&t(a)&&e.each(r.data,function(t,e){var r=+n.getRightValue(t);isNaN(r)||a.data[e].hidden||(null===n.min?n.min=r:r<n.min&&(n.min=r),null===n.max?n.max=r:r>n.max&&(n.max=r))})});n.min=s(i.min,n.min),n.max=s(i.max,n.max),n.min===n.max&&(0!==n.min&&null!==n.min?(n.min=Math.pow(10,Math.floor(e.log10(n.min))-1),n.max=Math.pow(10,Math.floor(e.log10(n.max))+1)):(n.min=1,n.max=10))},buildTicks:function(){for(var t=this,n=t.options.ticks,r=e.getValueOrDefault,i=t.ticks=[],o=r(n.min,Math.pow(10,Math.floor(e.log10(t.min))));o<t.max;){i.push(o);var a=Math.floor(e.log10(o)),s=Math.floor(o/Math.pow(10,a))+1;10===s&&(s=1,++a),o=s*Math.pow(10,a)}var l=r(n.max,o);i.push(l),t.isHorizontal()||i.reverse(),t.max=e.max(i),t.min=e.min(i),n.reverse?(i.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),t.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t,e){return this.getPixelForValue(this.tickValues[t],null,null,e)},getPixelForValue:function(t,n,r,i){var o,a,s=this,l=s.start,u=+s.getRightValue(t),c=e.log10(s.end)-e.log10(l),d=s.paddingTop,h=s.paddingBottom,f=s.paddingLeft;return s.isHorizontal()?0===u?a=s.left+f:(o=s.width-(f+s.paddingRight),a=s.left+o/c*(e.log10(u)-e.log10(l)),a+=f):0===u?a=s.top+d:(o=s.height-(d+h),a=s.bottom-h-o/c*(e.log10(u)-e.log10(l))),a},getValueForPixel:function(t){var n,r,i=this,o=e.log10(i.end)-e.log10(i.start);return i.isHorizontal()?(r=i.width-(i.paddingLeft+i.paddingRight),n=i.start*Math.pow(10,(t-i.left-i.paddingLeft)*o/r)):(r=i.height-(i.paddingTop+i.paddingBottom),n=Math.pow(10,(i.bottom-i.paddingBottom-t)*o/r)/i.start),n}});t.scaleService.registerScaleType("logarithmic",r,n)}},{}],41:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n=t.defaults.global,r={display:!0,animate:!0,lineArc:!1,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2},pointLabels:{fontSize:10,callback:function(t){return t}}},i=t.Scale.extend({getValueCount:function(){return this.chart.data.labels.length},setDimensions:function(){var t=this.options;this.width=this.maxWidth,this.height=this.maxHeight,this.xCenter=Math.round(this.width/2),this.yCenter=Math.round(this.height/2);var r=e.min([this.height,this.width]),i=e.getValueOrDefault(t.ticks.fontSize,n.defaultFontSize);this.drawingArea=t.display?r/2-(i/2+t.ticks.backdropPaddingY):r/2},determineDataLimits:function(){if(this.min=null,this.max=null,e.each(this.chart.data.datasets,function(t,n){if(this.chart.isDatasetVisible(n)){var r=this.chart.getDatasetMeta(n);e.each(t.data,function(t,e){var n=+this.getRightValue(t);isNaN(n)||r.data[e].hidden||(null===this.min?this.min=n:n<this.min&&(this.min=n),null===this.max?this.max=n:n>this.max&&(this.max=n))},this)}},this),this.options.ticks.beginAtZero){var t=e.sign(this.min),n=e.sign(this.max);t<0&&n<0?this.max=0:t>0&&n>0&&(this.min=0)}void 0!==this.options.ticks.min?this.min=this.options.ticks.min:void 0!==this.options.ticks.suggestedMin&&(this.min=Math.min(this.min,this.options.ticks.suggestedMin)),void 0!==this.options.ticks.max?this.max=this.options.ticks.max:void 0!==this.options.ticks.suggestedMax&&(this.max=Math.max(this.max,this.options.ticks.suggestedMax)),this.min===this.max&&(this.min--,this.max++)},buildTicks:function(){this.ticks=[];var t=e.getValueOrDefault(this.options.ticks.fontSize,n.defaultFontSize),r=Math.min(this.options.ticks.maxTicksLimit?this.options.ticks.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*t)));r=Math.max(2,r);var i=e.niceNum(this.max-this.min,!1),o=e.niceNum(i/(r-1),!0),a=Math.floor(this.min/o)*o,s=Math.ceil(this.max/o)*o,l=Math.ceil((s-a)/o);this.ticks.push(void 0!==this.options.ticks.min?this.options.ticks.min:a);for(var u=1;u<l;++u)this.ticks.push(a+u*o);this.ticks.push(void 0!==this.options.ticks.max?this.options.ticks.max:s),this.max=e.max(this.ticks),this.min=e.min(this.ticks),this.options.ticks.reverse?(this.ticks.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),this.zeroLineIndex=this.ticks.indexOf(0)},convertTicksToLabels:function(){t.Scale.prototype.convertTicksToLabels.call(this),this.pointLabels=this.chart.data.labels.map(this.options.pointLabels.callback,this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t,r,i,o,a,s,l,u,c,d,h,f,p=this.options.pointLabels,g=e.getValueOrDefault(p.fontSize,n.defaultFontSize),m=e.getValueOrDefault(p.fontStyle,n.defaultFontStyle),v=e.getValueOrDefault(p.fontFamily,n.defaultFontFamily),y=e.fontString(g,m,v),b=e.min([this.height/2-g-5,this.width/2]),x=this.width,_=0;for(this.ctx.font=y,r=0;r<this.getValueCount();r++)t=this.getPointPosition(r,b),i=this.ctx.measureText(this.pointLabels[r]?this.pointLabels[r]:"").width+5,0===r||r===this.getValueCount()/2?(o=i/2,t.x+o>x&&(x=t.x+o,a=r),t.x-o<_&&(_=t.x-o,l=r)):r<this.getValueCount()/2?t.x+i>x&&(x=t.x+i,a=r):r>this.getValueCount()/2&&t.x-i<_&&(_=t.x-i,l=r);c=_,d=Math.ceil(x-this.width),s=this.getIndexAngle(a),u=this.getIndexAngle(l),h=d/Math.sin(s+Math.PI/2),f=c/Math.sin(u+Math.PI/2),h=e.isNumber(h)?h:0,f=e.isNumber(f)?f:0,this.drawingArea=Math.round(b-(f+h)/2),this.setCenterPoint(f,h)},setCenterPoint:function(t,e){var n=this.width-e-this.drawingArea,r=t+this.drawingArea;this.xCenter=Math.round((r+n)/2+this.left),this.yCenter=Math.round(this.height/2+this.top)},getIndexAngle:function(t){return t*(2*Math.PI/this.getValueCount())-Math.PI/2},getDistanceFromCenterForValue:function(t){if(null===t)return 0;var e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e},getPointPosition:function(t,e){var n=this.getIndexAngle(t);return{x:Math.round(Math.cos(n)*e)+this.xCenter,y:Math.round(Math.sin(n)*e)+this.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(){var t=this,e=t.min,n=t.max;return t.getPointPositionForValue(0,t.beginAtZero?0:e<0&&n<0?n:e>0&&n>0?e:0)},draw:function(){if(this.options.display){var t=this.ctx;if(e.each(this.ticks,function(r,i){if(i>0||this.options.reverse){var o=this.getDistanceFromCenterForValue(this.ticks[i]),a=this.yCenter-o;if(this.options.gridLines.display)if(t.strokeStyle=this.options.gridLines.color,t.lineWidth=this.options.gridLines.lineWidth,this.options.lineArc)t.beginPath(),t.arc(this.xCenter,this.yCenter,o,0,2*Math.PI),t.closePath(),t.stroke();else{t.beginPath();for(var s=0;s<this.getValueCount();s++){var l=this.getPointPosition(s,this.getDistanceFromCenterForValue(this.ticks[i]));0===s?t.moveTo(l.x,l.y):t.lineTo(l.x,l.y)}t.closePath(),t.stroke()}if(this.options.ticks.display){var u=e.getValueOrDefault(this.options.ticks.fontColor,n.defaultFontColor),c=e.getValueOrDefault(this.options.ticks.fontSize,n.defaultFontSize),d=e.getValueOrDefault(this.options.ticks.fontStyle,n.defaultFontStyle),h=e.getValueOrDefault(this.options.ticks.fontFamily,n.defaultFontFamily),f=e.fontString(c,d,h);if(t.font=f,this.options.ticks.showLabelBackdrop){var p=t.measureText(r).width;t.fillStyle=this.options.ticks.backdropColor,t.fillRect(this.xCenter-p/2-this.options.ticks.backdropPaddingX,a-c/2-this.options.ticks.backdropPaddingY,p+2*this.options.ticks.backdropPaddingX,c+2*this.options.ticks.backdropPaddingY)}t.textAlign="center",t.textBaseline="middle",t.fillStyle=u,t.fillText(r,this.xCenter,a)}}},this),!this.options.lineArc){t.lineWidth=this.options.angleLines.lineWidth,t.strokeStyle=this.options.angleLines.color;for(var r=this.getValueCount()-1;r>=0;r--){if(this.options.angleLines.display){var i=this.getPointPosition(r,this.getDistanceFromCenterForValue(this.options.reverse?this.min:this.max));t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(i.x,i.y),t.stroke(),t.closePath()}var o=this.getPointPosition(r,this.getDistanceFromCenterForValue(this.options.reverse?this.min:this.max)+5),a=e.getValueOrDefault(this.options.pointLabels.fontColor,n.defaultFontColor),s=e.getValueOrDefault(this.options.pointLabels.fontSize,n.defaultFontSize),l=e.getValueOrDefault(this.options.pointLabels.fontStyle,n.defaultFontStyle),u=e.getValueOrDefault(this.options.pointLabels.fontFamily,n.defaultFontFamily),c=e.fontString(s,l,u);t.font=c,t.fillStyle=a;var d=this.pointLabels.length,h=this.pointLabels.length/2,f=h/2,p=r<f||r>d-f,g=r===f||r===d-f;t.textAlign=0===r?"center":r===h?"center":r<h?"left":"right",t.textBaseline=g?"middle":p?"bottom":"top",t.fillText(this.pointLabels[r]?this.pointLabels[r]:"",o.x,o.y)}}}}});t.scaleService.registerScaleType("radialLinear",i,r)}},{}],42:[function(t,e,n){"use strict";var r=t("moment");r="function"==typeof r?r:window.moment,e.exports=function(t){var e=t.helpers,n={units:[{name:"millisecond",steps:[1,2,5,10,20,50,100,250,500]},{name:"second",steps:[1,2,5,10,30]},{name:"minute",steps:[1,2,5,10,30]},{name:"hour",steps:[1,2,3,6,12]},{name:"day",steps:[1,2,5]},{name:"week",maxStep:4},{name:"month",maxStep:3},{name:"quarter",maxStep:4},{name:"year",maxStep:!1}]},i={position:"bottom",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm:ss a",hour:"MMM D, hA",day:"ll",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1}},o=t.Scale.extend({initialize:function(){if(!r)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");t.Scale.prototype.initialize.call(this)},getLabelMoment:function(t,e){return this.labelMoments[t][e]},getMomentStartOf:function(t){return"week"===this.options.time.unit&&!1!==this.options.time.isoWeekday?t.clone().startOf("isoWeek").isoWeekday(this.options.time.isoWeekday):t.clone().startOf(this.tickUnit)},determineDataLimits:function(){this.labelMoments=[];var t=[];this.chart.data.labels&&this.chart.data.labels.length>0?(e.each(this.chart.data.labels,function(e,n){var r=this.parseTime(e);r.isValid()&&(this.options.time.round&&r.startOf(this.options.time.round),t.push(r))},this),this.firstTick=r.min.call(this,t),this.lastTick=r.max.call(this,t)):(this.firstTick=null,this.lastTick=null),e.each(this.chart.data.datasets,function(n,i){var o=[],a=this.chart.isDatasetVisible(i);"object"==typeof n.data[0]&&null!==n.data[0]?e.each(n.data,function(t,e){var n=this.parseTime(this.getRightValue(t));n.isValid()&&(this.options.time.round&&n.startOf(this.options.time.round),o.push(n),a&&(this.firstTick=null!==this.firstTick?r.min(this.firstTick,n):n,this.lastTick=null!==this.lastTick?r.max(this.lastTick,n):n))},this):o=t,this.labelMoments.push(o)},this),this.options.time.min&&(this.firstTick=this.parseTime(this.options.time.min)),this.options.time.max&&(this.lastTick=this.parseTime(this.options.time.max)),this.firstTick=(this.firstTick||r()).clone(),this.lastTick=(this.lastTick||r()).clone()},buildTicks:function(r){this.ctx.save();var i=e.getValueOrDefault(this.options.ticks.fontSize,t.defaults.global.defaultFontSize),o=e.getValueOrDefault(this.options.ticks.fontStyle,t.defaults.global.defaultFontStyle),a=e.getValueOrDefault(this.options.ticks.fontFamily,t.defaults.global.defaultFontFamily),s=e.fontString(i,o,a);if(this.ctx.font=s,this.ticks=[],this.unitScale=1,this.scaleSizeInUnits=0,this.options.time.unit)this.tickUnit=this.options.time.unit||"day",this.displayFormat=this.options.time.displayFormats[this.tickUnit],this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0),this.unitScale=e.getValueOrDefault(this.options.time.unitStepSize,1);else{var l=this.isHorizontal()?this.width-(this.paddingLeft+this.paddingRight):this.height-(this.paddingTop+this.paddingBottom),u=this.tickFormatFunction(this.firstTick,0,[]),c=this.ctx.measureText(u).width,d=l/(c=c*Math.cos(e.toRadians(this.options.ticks.maxRotation))+i*Math.sin(e.toRadians(this.options.ticks.maxRotation)));this.tickUnit="millisecond",this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0),this.displayFormat=this.options.time.displayFormats[this.tickUnit];for(var h=0,f=n.units[h];h<n.units.length;){if(this.unitScale=1,e.isArray(f.steps)&&Math.ceil(this.scaleSizeInUnits/d)<e.max(f.steps)){for(var p=0;p<f.steps.length;++p)if(f.steps[p]>=Math.ceil(this.scaleSizeInUnits/d)){this.unitScale=e.getValueOrDefault(this.options.time.unitStepSize,f.steps[p]);break}break}if(!1===f.maxStep||Math.ceil(this.scaleSizeInUnits/d)<f.maxStep){this.unitScale=e.getValueOrDefault(this.options.time.unitStepSize,Math.ceil(this.scaleSizeInUnits/d));break}++h,f=n.units[h],this.tickUnit=f.name;var g=this.firstTick.diff(this.getMomentStartOf(this.firstTick),this.tickUnit,!0),m=this.getMomentStartOf(this.lastTick.clone().add(1,this.tickUnit)).diff(this.lastTick,this.tickUnit,!0);this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0)+g+m,this.displayFormat=this.options.time.displayFormats[f.name]}}var v;this.options.time.min?v=this.getMomentStartOf(this.firstTick):(this.firstTick=this.getMomentStartOf(this.firstTick),v=this.firstTick),this.options.time.max||0!==this.getMomentStartOf(this.lastTick).diff(this.lastTick,this.tickUnit,!0)&&(this.lastTick=this.getMomentStartOf(this.lastTick.add(1,this.tickUnit))),this.smallestLabelSeparation=this.width,e.each(this.chart.data.datasets,function(t,e){for(var n=1;n<this.labelMoments[e].length;n++)this.smallestLabelSeparation=Math.min(this.smallestLabelSeparation,this.labelMoments[e][n].diff(this.labelMoments[e][n-1],this.tickUnit,!0))},this),this.options.time.displayFormat&&(this.displayFormat=this.options.time.displayFormat),this.ticks.push(this.firstTick.clone());for(var y=1;y<=this.scaleSizeInUnits;++y){var b=v.clone().add(y,this.tickUnit);if(this.options.time.max&&b.diff(this.lastTick,this.tickUnit,!0)>=0)break;y%this.unitScale==0&&this.ticks.push(b)}0===this.ticks[this.ticks.length-1].diff(this.lastTick,this.tickUnit)&&0!==this.scaleSizeInUnits||(this.options.time.max?(this.ticks.push(this.lastTick.clone()),this.scaleSizeInUnits=this.lastTick.diff(this.ticks[0],this.tickUnit,!0)):(this.ticks.push(this.lastTick.clone()),this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0))),this.ctx.restore()},getLabelForIndex:function(t,e){var n=this.chart.data.labels&&t<this.chart.data.labels.length?this.chart.data.labels[t]:"";return"object"==typeof this.chart.data.datasets[e].data[0]&&(n=this.getRightValue(this.chart.data.datasets[e].data[t])),this.options.time.tooltipFormat&&(n=this.parseTime(n).format(this.options.time.tooltipFormat)),n},tickFormatFunction:function(t,n,r){var i=t.format(this.displayFormat),o=this.options.ticks,a=e.getValueOrDefault(o.callback,o.userCallback);return a?a(i,n,r):i},convertTicksToLabels:function(){this.tickMoments=this.ticks,this.ticks=this.ticks.map(this.tickFormatFunction,this)},getPixelForValue:function(t,e,n,r){var i=t&&t.isValid&&t.isValid()?t:this.getLabelMoment(n,e);if(i){var o=i.diff(this.firstTick,this.tickUnit,!0)/this.scaleSizeInUnits;if(this.isHorizontal()){var a=this.width-(this.paddingLeft+this.paddingRight),s=(Math.max(this.ticks.length-1,1),a*o+this.paddingLeft);return this.left+Math.round(s)}var l=this.height-(this.paddingTop+this.paddingBottom),u=(Math.max(this.ticks.length-1,1),l*o+this.paddingTop);return this.top+Math.round(u)}},getPixelForTick:function(t,e){return this.getPixelForValue(this.tickMoments[t],null,null,e)},getValueForPixel:function(t){var e=this.isHorizontal()?this.width-(this.paddingLeft+this.paddingRight):this.height-(this.paddingTop+this.paddingBottom),n=(t-(this.isHorizontal()?this.left+this.paddingLeft:this.top+this.paddingTop))/e;return n*=this.scaleSizeInUnits,this.firstTick.clone().add(r.duration(n,this.tickUnit).asSeconds(),"seconds")},parseTime:function(t){return"string"==typeof this.options.time.parser?r(t,this.options.time.parser):"function"==typeof this.options.time.parser?this.options.time.parser(t):"function"==typeof t.getMonth||"number"==typeof t?r(t):t.isValid&&t.isValid()?t:"string"!=typeof this.options.time.format&&this.options.time.format.call?(console.warn("options.time.format is deprecated and replaced by options.time.parser. See http://nnnick.github.io/Chart.js/docs-v2/#scales-time-scale"),this.options.time.format(t)):r(t,this.options.time.format)}});t.scaleService.registerScaleType("time",o,i)}},{moment:6}]},{},[7]),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t,e){function n(){return new Date(Date.UTC.apply(Date,arguments))}function r(){var t=new Date;return n(t.getFullYear(),t.getMonth(),t.getDate())}function i(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function o(t){return function(){return this[t].apply(this,arguments)}}function a(t){return t&&!isNaN(t.getTime())}function s(e,n){function r(t,e){return e.toLowerCase()}var i=t(e).data(),o={},a=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var s in i)n.test(s)&&(o[s.replace(a,r)]=i[s]);return o}function l(e){var n={};if(m[e]||(e=e.split("-")[0],m[e])){var r=m[e];return t.each(g,function(t,e){e in r&&(n[e]=r[e])}),n}}var u=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),n=0,r=this.length;n<r;n++)if(this[n].valueOf()===e)return n;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new u;return t.replace(this),t}};return function(){var n=[];return n.push.apply(n,arguments),t.extend(n,e),n}}(),c=function(e,n){t(e).data("datepicker",this),this._process_options(n),this.dates=new u,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=t(e),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.inputField.length,this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=t(v.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};c.prototype={constructor:c,_resolveViewName:function(t,n){return 0===t||"days"===t||"month"===t?0:1===t||"months"===t||"year"===t?1:2===t||"years"===t||"decade"===t?2:3===t||"decades"===t||"century"===t?3:4===t||"centuries"===t||"millennium"===t?4:n!==e&&n},_check_template:function(n){try{return n!==e&&""!==n&&((n.match(/[<>]/g)||[]).length<=0||t(n).length>0)}catch(t){return!1}},_process_options:function(e){this._o=t.extend({},this._o,e);var i=this.o=t.extend({},this._o),o=i.language;m[o]||(o=o.split("-")[0],m[o]||(o=p.language)),i.language=o,i.startView=this._resolveViewName(i.startView,0),i.minViewMode=this._resolveViewName(i.minViewMode,0),i.maxViewMode=this._resolveViewName(i.maxViewMode,4),i.startView=Math.min(i.startView,i.maxViewMode),i.startView=Math.max(i.startView,i.minViewMode),!0!==i.multidate&&(i.multidate=Number(i.multidate)||!1,!1!==i.multidate&&(i.multidate=Math.max(0,i.multidate))),i.multidateSeparator=String(i.multidateSeparator),i.weekStart%=7,i.weekEnd=(i.weekStart+6)%7;var a=v.parseFormat(i.format);i.startDate!==-1/0&&(i.startDate?i.startDate instanceof Date?i.startDate=this._local_to_utc(this._zero_time(i.startDate)):i.startDate=v.parseDate(i.startDate,a,i.language,i.assumeNearbyYear):i.startDate=-1/0),i.endDate!==1/0&&(i.endDate?i.endDate instanceof Date?i.endDate=this._local_to_utc(this._zero_time(i.endDate)):i.endDate=v.parseDate(i.endDate,a,i.language,i.assumeNearbyYear):i.endDate=1/0),i.daysOfWeekDisabled=i.daysOfWeekDisabled||[],t.isArray(i.daysOfWeekDisabled)||(i.daysOfWeekDisabled=i.daysOfWeekDisabled.split(/[,\s]*/)),i.daysOfWeekDisabled=t.map(i.daysOfWeekDisabled,function(t){return parseInt(t,10)}),i.daysOfWeekHighlighted=i.daysOfWeekHighlighted||[],t.isArray(i.daysOfWeekHighlighted)||(i.daysOfWeekHighlighted=i.daysOfWeekHighlighted.split(/[,\s]*/)),i.daysOfWeekHighlighted=t.map(i.daysOfWeekHighlighted,function(t){return parseInt(t,10)}),i.datesDisabled=i.datesDisabled||[],t.isArray(i.datesDisabled)||(i.datesDisabled=[i.datesDisabled]),i.datesDisabled=t.map(i.datesDisabled,function(t){return v.parseDate(t,a,i.language,i.assumeNearbyYear)});var s=String(i.orientation).toLowerCase().split(/\s+/g),l=i.orientation.toLowerCase();if(s=t.grep(s,function(t){return/^auto|left|right|top|bottom$/.test(t)}),i.orientation={x:"auto",y:"auto"},l&&"auto"!==l)if(1===s.length)switch(s[0]){case"top":case"bottom":i.orientation.y=s[0];break;case"left":case"right":i.orientation.x=s[0]}else l=t.grep(s,function(t){return/^left|right$/.test(t)}),i.orientation.x=l[0]||"auto",l=t.grep(s,function(t){return/^top|bottom$/.test(t)}),i.orientation.y=l[0]||"auto";else;if(i.defaultViewDate){var u=i.defaultViewDate.year||(new Date).getFullYear(),c=i.defaultViewDate.month||0,d=i.defaultViewDate.day||1;i.defaultViewDate=n(u,c,d)}else i.defaultViewDate=r()},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var n,r,i,o=0;o<t.length;o++)n=t[o][0],2===t[o].length?(r=e,i=t[o][1]):3===t[o].length&&(r=t[o][1],i=t[o][2]),n.on(i,r)},_unapplyEvents:function(t){for(var n,r,i,o=0;o<t.length;o++)n=t[o][0],2===t[o].length?(i=e,r=t[o][1]):3===t[o].length&&(i=t[o][1],r=t[o][2]),n.off(r,i)},_buildEvents:function(){var e={keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this),paste:t.proxy(this.paste,this)};!0===this.o.showOnFocus&&(e.focus=t.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.hasInput?this._events=[[this.inputField,e],[this.component,{click:t.proxy(this.show,this)}]]:this._events=[[this.element,{click:t.proxy(this.show,this),keydown:t.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":t.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{mousedown:t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,n){var r=n||this.dates.get(-1),i=this._utc_to_local(r);this.element.trigger({type:e,date:i,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var n=this.dates.get(t);return v.formatDate(n,e,this.o.language)},this)})},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&t(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(e){var n;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&-1!==t.inArray("text/plain",e.originalEvent.clipboardData.types))n=e.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;n=window.clipboardData.getData("Text")}this.setDate(n),this.update(),e.preventDefault()},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return void 0!==t?new Date(t):null},clearDates:function(){this.inputField&&this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:o("setDates"),setUTCDate:o("setUTCDates"),remove:o("destroy"),setValue:function(){var t=this.getFormattedDate();return this.inputField.val(t),this},getFormattedDate:function(n){n===e&&(n=this.o.format);var r=this.o.language;return t.map(this.dates,function(t){return v.formatDate(t,n,r)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this},setDatesDisabled:function(t){this._process_options({datesDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),n=this.picker.outerHeight(),r=t(this.o.container),i=r.width(),o="body"===this.o.container?t(document).scrollTop():r.scrollTop(),a=r.offset(),s=[];this.element.parents().each(function(){var e=t(this).css("z-index");"auto"!==e&&0!==e&&s.push(parseInt(e))});var l=Math.max.apply(Math,s)+this.o.zIndexOffset,u=this.component?this.component.parent().offset():this.element.offset(),c=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),d=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),h=u.left-a.left,f=u.top-a.top;"body"!==this.o.container&&(f+=o),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(h-=e-d)):u.left<0?(this.picker.addClass("datepicker-orient-left"),h-=u.left-10):h+e>i?(this.picker.addClass("datepicker-orient-right"),h+=d-e):this.picker.addClass("datepicker-orient-left");var p=this.o.orientation.y;if("auto"===p&&(p=-o+f-n<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+p),"top"===p?f-=n+parseInt(this.picker.css("padding-top")):f+=c,this.o.rtl){var g=i-(h+d);this.picker.css({top:f,right:g,zIndex:l})}else this.picker.css({top:f,left:h,zIndex:l});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),n=[],r=!1;return arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),n.push(e)},this)),r=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),n=n&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=t.map(n,t.proxy(function(t){return v.parseDate(t,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),n=t.grep(n,t.proxy(function(t){return!this.dateWithinRange(t)||!t},this),!0),this.dates.replace(n),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate,r?this.setValue():n.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var e=this.o.weekStart,n="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(t,e){return parseInt(e)+1}),n+='<th class="cw">&#160;</th>');e<this.o.weekStart+7;)n+='<th class="dow',t.inArray(e,this.o.daysOfWeekDisabled)>-1&&(n+=" disabled"),n+='">'+m[this.o.language].daysMin[e++%7]+"</th>";n+="</tr>",this.picker.find(".datepicker-days thead").append(n)},fillMonths:function(){for(var t=this._utc_to_local(this.viewDate),e="",n=0;n<12;)e+='<span class="month'+(t&&t.getMonth()===n?" focused":"")+'">'+m[this.o.language].monthsShort[n++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var n=[],r=this.viewDate.getUTCFullYear(),i=this.viewDate.getUTCMonth(),o=new Date;return e.getUTCFullYear()<r||e.getUTCFullYear()===r&&e.getUTCMonth()<i?n.push("old"):(e.getUTCFullYear()>r||e.getUTCFullYear()===r&&e.getUTCMonth()>i)&&n.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===o.getFullYear()&&e.getUTCMonth()===o.getMonth()&&e.getUTCDate()===o.getDate()&&n.push("today"),-1!==this.dates.contains(e)&&n.push("active"),this.dateWithinRange(e)||n.push("disabled"),this.dateIsDisabled(e)&&n.push("disabled","disabled-date"),-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekHighlighted)&&n.push("highlighted"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&n.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&n.push("selected"),e.valueOf()===this.range[0]&&n.push("range-start"),e.valueOf()===this.range[this.range.length-1]&&n.push("range-end")),n},_fill_yearsView:function(n,r,i,o,a,s,l,u){var c,d,h,f,p,g,m,v,y,b,x;for(c="",d=this.picker.find(n),h=parseInt(a/i,10)*i,p=parseInt(s/o,10)*o,g=parseInt(l/o,10)*o,f=t.map(this.dates,function(t){return parseInt(t.getUTCFullYear()/o,10)*o}),d.find(".datepicker-switch").text(h+"-"+(h+9*o)),m=h-o,v=-1;v<11;v+=1)y=[r],b=null,-1===v?y.push("old"):10===v&&y.push("new"),-1!==t.inArray(m,f)&&y.push("active"),(m<p||m>g)&&y.push("disabled"),m===this.viewDate.getFullYear()&&y.push("focused"),u!==t.noop&&((x=u(new Date(m,0,1)))===e?x={}:"boolean"==typeof x?x={enabled:x}:"string"==typeof x&&(x={classes:x}),!1===x.enabled&&y.push("disabled"),x.classes&&(y=y.concat(x.classes.split(/\s+/))),x.tooltip&&(b=x.tooltip)),c+='<span class="'+y.join(" ")+'"'+(b?' title="'+b+'"':"")+">"+m+"</span>",m+=o;d.find("td").html(c)},fill:function(){var r,i,o=new Date(this.viewDate),a=o.getUTCFullYear(),s=o.getUTCMonth(),l=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,u=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,c=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,d=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,h=m[this.o.language].today||m.en.today||"",f=m[this.o.language].clear||m.en.clear||"",p=m[this.o.language].titleFormat||m.en.titleFormat;if(!isNaN(a)&&!isNaN(s)){this.picker.find(".datepicker-days .datepicker-switch").text(v.formatDate(o,p,this.o.language)),this.picker.find("tfoot .today").text(h).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot .clear").text(f).toggle(!1!==this.o.clearBtn),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths();var g=n(a,s-1,28),y=v.getDaysInMonth(g.getUTCFullYear(),g.getUTCMonth());g.setUTCDate(y),g.setUTCDate(y-(g.getUTCDay()-this.o.weekStart+7)%7);var b=new Date(g);g.getUTCFullYear()<100&&b.setUTCFullYear(g.getUTCFullYear()),b.setUTCDate(b.getUTCDate()+42),b=b.valueOf();for(var x,_=[];g.valueOf()<b;){if(g.getUTCDay()===this.o.weekStart&&(_.push("<tr>"),this.o.calendarWeeks)){var w=new Date(+g+(this.o.weekStart-g.getUTCDay()-7)%7*864e5),C=new Date(Number(w)+(11-w.getUTCDay())%7*864e5),k=new Date(Number(k=n(C.getUTCFullYear(),0,1))+(11-k.getUTCDay())%7*864e5),S=(C-k)/864e5/7+1;_.push('<td class="cw">'+S+"</td>")}(x=this.getClassNames(g)).push("day"),this.o.beforeShowDay!==t.noop&&((i=this.o.beforeShowDay(this._utc_to_local(g)))===e?i={}:"boolean"==typeof i?i={enabled:i}:"string"==typeof i&&(i={classes:i}),!1===i.enabled&&x.push("disabled"),i.classes&&(x=x.concat(i.classes.split(/\s+/))),i.tooltip&&(r=i.tooltip)),x=t.unique(x),_.push('<td class="'+x.join(" ")+'"'+(r?' title="'+r+'"':"")+">"+g.getUTCDate()+"</td>"),r=null,g.getUTCDay()===this.o.weekEnd&&_.push("</tr>"),g.setUTCDate(g.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(_.join(""));var M=m[this.o.language].monthsTitle||m.en.monthsTitle||"Months",T=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?M:a).end().find("span").removeClass("active");if(t.each(this.dates,function(t,e){e.getUTCFullYear()===a&&T.eq(e.getUTCMonth()).addClass("active")}),(a<l||a>c)&&T.addClass("disabled"),a===l&&T.slice(0,u).addClass("disabled"),a===c&&T.slice(d+1).addClass("disabled"),this.o.beforeShowMonth!==t.noop){var $=this;t.each(T,function(n,r){var i=new Date(a,n,1),o=$.o.beforeShowMonth(i);o===e?o={}:"boolean"==typeof o?o={enabled:o}:"string"==typeof o&&(o={classes:o}),!1!==o.enabled||t(r).hasClass("disabled")||t(r).addClass("disabled"),o.classes&&t(r).addClass(o.classes),o.tooltip&&t(r).prop("title",o.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,1,a,l,c,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,10,a,l,c,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,100,a,l,c,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),n=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:case 3:case 4:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault(),e.stopPropagation();var i,o,a,s,l,u,c;(i=t(e.target)).hasClass("datepicker-switch")&&this.showMode(1);var d=i.closest(".prev, .next");d.length>0&&(o=v.modes[this.viewMode].navStep*(d.hasClass("prev")?-1:1),0===this.viewMode?(this.viewDate=this.moveMonth(this.viewDate,o),this._trigger("changeMonth",this.viewDate)):(this.viewDate=this.moveYear(this.viewDate,o),1===this.viewMode&&this._trigger("changeYear",this.viewDate)),this.fill()),i.hasClass("today")&&!i.hasClass("day")&&(this.showMode(-2),this._setDate(r(),"linked"===this.o.todayBtn?null:"view")),i.hasClass("clear")&&this.clearDates(),i.hasClass("disabled")||(i.hasClass("day")&&(a=parseInt(i.text(),10)||1,s=this.viewDate.getUTCFullYear(),l=this.viewDate.getUTCMonth(),i.hasClass("old")&&(0===l?(l=11,s-=1,u=!0,c=!0):(l-=1,u=!0)),i.hasClass("new")&&(11===l?(l=0,s+=1,u=!0,c=!0):(l+=1,u=!0)),this._setDate(n(s,l,a)),c&&this._trigger("changeYear",this.viewDate),u&&this._trigger("changeMonth",this.viewDate)),i.hasClass("month")&&(this.viewDate.setUTCDate(1),a=1,l=i.parent().find("span").index(i),s=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(l),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(n(s,l,a)),this.showMode()):this.showMode(-1),this.fill()),(i.hasClass("year")||i.hasClass("decade")||i.hasClass("century"))&&(this.viewDate.setUTCDate(1),a=1,l=0,s=parseInt(i.text(),10)||0,this.viewDate.setUTCFullYear(s),i.hasClass("year")&&(this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(n(s,l,a))),i.hasClass("decade")&&(this._trigger("changeDecade",this.viewDate),3===this.o.minViewMode&&this._setDate(n(s,l,a))),i.hasClass("century")&&(this._trigger("changeCentury",this.viewDate),4===this.o.minViewMode&&this._setDate(n(s,l,a))),this.showMode(-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(!0===this.o.multidate||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(e):!1===this.o.multidate?(this.dates.clear(),this.dates.push(t)):this.dates.push(t),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate"),this.inputField&&this.inputField.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveDay:function(t,e){var n=new Date(t);return n.setUTCDate(t.getUTCDate()+e),n},moveWeek:function(t,e){return this.moveDay(t,7*e)},moveMonth:function(t,e){if(!a(t))return this.o.defaultViewDate;if(!e)return t;var n,r,i=new Date(t.valueOf()),o=i.getUTCDate(),s=i.getUTCMonth(),l=Math.abs(e);if(e=e>0?1:-1,1===l)r=-1===e?function(){return i.getUTCMonth()===s}:function(){return i.getUTCMonth()!==n},n=s+e,i.setUTCMonth(n),(n<0||n>11)&&(n=(n+12)%12);else{for(var u=0;u<l;u++)i=this.moveMonth(i,e);n=i.getUTCMonth(),i.setUTCDate(o),r=function(){return n!==i.getUTCMonth()}}for(;r();)i.setUTCDate(--o),i.setUTCMonth(n);return i},moveYear:function(t,e){return this.moveMonth(t,12*e)},moveAvailableDate:function(t,e,n){do{if(t=this[n](t,e),!this.dateWithinRange(t))return!1;n="moveDay"}while(this.dateIsDisabled(t));return t},weekOfDateIsDisabled:function(e){return-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(e){return this.weekOfDateIsDisabled(e)||t.grep(this.o.datesDisabled,function(t){return i(e,t)}).length>0},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":visible")){var e,n,r=!1,i=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;e=37===t.keyCode||38===t.keyCode?-1:1,0===this.viewMode?t.ctrlKey?(n=this.moveAvailableDate(i,e,"moveYear"))&&this._trigger("changeYear",this.viewDate):t.shiftKey?(n=this.moveAvailableDate(i,e,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===t.keyCode||39===t.keyCode?n=this.moveAvailableDate(i,e,"moveDay"):this.weekOfDateIsDisabled(i)||(n=this.moveAvailableDate(i,e,"moveWeek")):1===this.viewMode?(38!==t.keyCode&&40!==t.keyCode||(e*=4),n=this.moveAvailableDate(i,e,"moveMonth")):2===this.viewMode&&(38!==t.keyCode&&40!==t.keyCode||(e*=4),n=this.moveAvailableDate(i,e,"moveYear")),n&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 13:if(!this.o.forceParse)break;i=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(i),r=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),t.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}r&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField&&this.inputField.change())}else 40!==t.keyCode&&27!==t.keyCode||(this.show(),t.stopPropagation())},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+t))),this.picker.children("div").hide().filter(".datepicker-"+v.modes[this.viewMode].clsName).show(),this.updateNavArrows()}};var d=function(e,n){t(e).data("datepicker",this),this.element=t(e),this.inputs=t.map(n.inputs,function(t){return t.jquery?t[0]:t}),delete n.inputs,f.call(t(this.inputs),n).on("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};d.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,n){n.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var n=t(e.target).data("datepicker");if(void 0!==n){var r=n.getUTCDate(),i=t.inArray(e.target,this.inputs),o=i-1,a=i+1,s=this.inputs.length;if(-1!==i){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(r)}),r<this.dates[o])for(;o>=0&&r<this.dates[o];)this.pickers[o--].setUTCDate(r);else if(r>this.dates[a])for(;a<s&&r>this.dates[a];)this.pickers[a++].setUTCDate(r);this.updateDates(),delete this.updating}}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var h=t.fn.datepicker,f=function(n){var r=Array.apply(null,arguments);r.shift();var i;if(this.each(function(){var e=t(this),o=e.data("datepicker"),a="object"==typeof n&&n;if(!o){var u=s(this,"date"),h=l(t.extend({},p,u,a).language),f=t.extend({},p,h,u,a);e.hasClass("input-daterange")||f.inputs?(t.extend(f,{inputs:f.inputs||e.find("input").toArray()}),o=new d(this,f)):o=new c(this,f),e.data("datepicker",o)}"string"==typeof n&&"function"==typeof o[n]&&(i=o[n].apply(o,r))}),i===e||i instanceof c||i instanceof d)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+n+" function)");return i};t.fn.datepicker=f;var p=t.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,beforeShowYear:t.noop,beforeShowDecade:t.noop,beforeShowCentury:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&laquo;",rightArrow:"&raquo;"}},g=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=c;var m=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},v={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10},{clsName:"decades",navFnc:"FullDecade",navStep:100},{clsName:"centuries",navFnc:"FullCentury",navStep:1e3}],isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth:function(t,e){return[31,v.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\0").split("\0"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(i,o,a,s){function l(t,e){return!0===e&&(e=10),t<100&&(t+=2e3)>(new Date).getFullYear()+e&&(t-=100),t}function u(){var t=this.slice(0,y[f].length),e=y[f].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!i)return e;if(i instanceof Date)return i;if("string"==typeof o&&(o=v.parseFormat(o)),o.toValue)return o.toValue(i,o,a);var d,h,f,p,g=/([\-+]\d+)([dmwy])/,y=i.match(/([\-+]\d+)([dmwy])/g),b={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},x={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){for(i=new Date,f=0;f<y.length;f++)d=g.exec(y[f]),h=parseInt(d[1]),p=b[d[2]],i=c.prototype[p](i,h);return n(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate())}if(void 0!==x[i]&&(i=x[i],y=i.match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i))){for(i=new Date,f=0;f<y.length;f++)d=g.exec(y[f]),h=parseInt(d[1]),p=b[d[2]],i=c.prototype[p](i,h);return n(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate())}y=i&&i.match(this.nonpunctuation)||[],i=new Date;var _,w,C={},k=["yyyy","yy","M","MM","m","mm","d","dd"],S={yyyy:function(t,e){return t.setUTCFullYear(s?l(e,s):e)},yy:function(t,e){return t.setUTCFullYear(s?l(e,s):e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};S.M=S.MM=S.mm=S.m,S.dd=S.d,i=r();var M=o.parts.slice();if(y.length!==M.length&&(M=t(M).filter(function(e,n){return-1!==t.inArray(n,k)}).toArray()),y.length===M.length){var T;for(f=0,T=M.length;f<T;f++){if(_=parseInt(y[f],10),d=M[f],isNaN(_))switch(d){case"MM":w=t(m[a].months).filter(u),_=t.inArray(w[0],m[a].months)+1;break;case"M":w=t(m[a].monthsShort).filter(u),_=t.inArray(w[0],m[a].monthsShort)+1}C[d]=_}var $,D;for(f=0;f<k.length;f++)(D=k[f])in C&&!isNaN(C[D])&&($=new Date(i),S[D]($,C[D]),isNaN($)||(i=$))}return i},formatDate:function(e,n,r){if(!e)return"";if("string"==typeof n&&(n=v.parseFormat(n)),n.toDisplay)return n.toDisplay(e,n,r);var i={d:e.getUTCDate(),D:m[r].daysShort[e.getUTCDay()],DD:m[r].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:m[r].monthsShort[e.getUTCMonth()],MM:m[r].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};i.dd=(i.d<10?"0":"")+i.d,i.mm=(i.m<10?"0":"")+i.m,e=[];for(var o=t.extend([],n.separators),a=0,s=n.parts.length;a<=s;a++)o.length&&e.push(o.shift()),e.push(i[n.parts[a]]);return e.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};v.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+v.headTemplate+"<tbody></tbody>"+v.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=v,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=h,this},t.fn.datepicker.version="1.6.1",t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var n=t(this);n.data("datepicker")||(e.preventDefault(),f.call(n,"show"))}),t(function(){f.call(t('[data-provide="datepicker-inline"]'))})}),function(t){"use strict";function e(e,n){if((n=n||{}).worker&&C.WORKERS_SUPPORTED){var r=u();return r.userStep=n.step,r.userChunk=n.chunk,r.userComplete=n.complete,r.userError=n.error,n.step=m(n.step),n.chunk=m(n.chunk),n.complete=m(n.complete),n.error=m(n.error),delete n.worker,void r.postMessage({input:e,config:n,workerId:r.id})}var s=null;return"string"==typeof e?s=n.download?new i(n):new a(n):(t.File&&e instanceof File||e instanceof Object)&&(s=new o(n)),s.stream(e)}function n(t,e){function n(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function r(t,e){var n="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var r=t instanceof Array&&t.length>0,o=!(e[0]instanceof Array);if(r){for(var a=0;a<t.length;a++)a>0&&(n+=s),n+=i(t[a],a);e.length>0&&(n+=l)}for(var u=0;u<e.length;u++){for(var c=r?t.length:e[u].length,d=0;c>d;d++){d>0&&(n+=s);var h=r&&o?t[d]:d;n+=i(e[u][h],d)}u<e.length-1&&(n+=l)}return n}function i(t,e){return void 0===t||null===t?"":(t=t.toString().replace(/"/g,'""'),"boolean"==typeof a&&a||a instanceof Array&&a[e]||o(t,C.BAD_DELIMITERS)||t.indexOf(s)>-1||" "==t.charAt(0)||" "==t.charAt(t.length-1)?'"'+t+'"':t)}function o(t,e){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1}var a=!1,s=",",l="\r\n";if(function(){"object"==typeof e&&("string"==typeof e.delimiter&&1==e.delimiter.length&&-1==C.BAD_DELIMITERS.indexOf(e.delimiter)&&(s=e.delimiter),("boolean"==typeof e.quotes||e.quotes instanceof Array)&&(a=e.quotes),"string"==typeof e.newline&&(l=e.newline))}(),"string"==typeof t&&(t=JSON.parse(t)),t instanceof Array){if(!t.length||t[0]instanceof Array)return r(null,t);if("object"==typeof t[0])return r(n(t[0]),t)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),t.data instanceof Array&&(t.fields||(t.fields=t.data[0]instanceof Array?t.fields:n(t.data[0])),t.data[0]instanceof Array||"object"==typeof t.data[0]||(t.data=[t.data])),r(t.fields||[],t.data||[]);throw"exception: Unable to serialize unrecognized input"}function r(e){function n(t){var e=p(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new s(e),this._handle.streamer=this,this._config=e}this._handle=null,this._paused=!1,this._finished=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},n.call(this,e),this.parseChunk=function(e){if(this.isFirstChunk&&m(this._config.beforeFirstChunk)){var n=this._config.beforeFirstChunk(e);void 0!==n&&(e=n)}this.isFirstChunk=!1;var r=this._partialLine+e;this._partialLine="";var i=this._handle.parse(r,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var o=i.meta.cursor;this._finished||(this._partialLine=r.substring(o-this._baseIndex),this._baseIndex=o),i&&i.data&&(this._rowCount+=i.data.length);var a=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(b)t.postMessage({results:i,workerId:C.WORKER_ID,finished:a});else if(m(this._config.chunk)){if(this._config.chunk(i,this._handle),this._paused)return;i=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(i.data),this._completeResults.errors=this._completeResults.errors.concat(i.errors),this._completeResults.meta=i.meta),!a||!m(this._config.complete)||i&&i.meta.aborted||this._config.complete(this._completeResults),a||i&&i.meta.paused||this._nextChunk(),i}},this._sendError=function(e){m(this._config.error)?this._config.error(e):b&&this._config.error&&t.postMessage({workerId:C.WORKER_ID,error:e,finished:!1})}}function i(t){function e(t){var e=t.getResponseHeader("Content-Range");return parseInt(e.substr(e.lastIndexOf("/")+1))}(t=t||{}).chunkSize||(t.chunkSize=C.RemoteChunkSize),r.call(this,t);var n;this._nextChunk=y?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(n=new XMLHttpRequest,y||(n.onload=g(this._chunkLoaded,this),n.onerror=g(this._chunkError,this)),n.open("GET",this._input,!y),this._config.chunkSize){var t=this._start+this._config.chunkSize-1;n.setRequestHeader("Range","bytes="+this._start+"-"+t),n.setRequestHeader("If-None-Match","webkit-no-cache")}try{n.send()}catch(t){this._chunkError(t.message)}y&&0==n.status?this._chunkError():this._start+=this._config.chunkSize}},this._chunkLoaded=function(){if(4==n.readyState){if(n.status<200||n.status>=400)return void this._chunkError();this._finished=!this._config.chunkSize||this._start>e(n),this.parseChunk(n.responseText)}},this._chunkError=function(t){var e=n.statusText||t;this._sendError(e)}}function o(t){(t=t||{}).chunkSize||(t.chunkSize=C.LocalChunkSize),r.call(this,t);var e,n,i="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,i?(e=new FileReader,e.onload=g(this._chunkLoaded,this),e.onerror=g(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var r=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,r)}var o=e.readAsText(t,this._config.encoding);i||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function a(t){t=t||{},r.call(this,t);var e,n;this.stream=function(t){return e=t,n=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,e=t?n.substr(0,t):n;return n=t?n.substr(t):"",this._finished=!n,this.parseChunk(e)}}}function s(t){function e(){if(_&&h&&(u("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+C.DefaultDelimiter+"'"),h=!1),t.skipEmptyLines)for(var e=0;e<_.data.length;e++)1==_.data[e].length&&""==_.data[e][0]&&_.data.splice(e--,1);return n()&&r(),i()}function n(){return t.header&&0==x.length}function r(){if(_){for(var t=0;n()&&t<_.data.length;t++)for(var e=0;e<_.data[t].length;e++)x.push(_.data[t][e]);_.data.splice(0,1)}}function i(){if(!_||!t.header&&!t.dynamicTyping)return _;for(var e=0;e<_.data.length;e++){for(var n={},r=0;r<_.data[e].length;r++){if(t.dynamicTyping){var i=_.data[e][r];_.data[e][r]="true"==i||"TRUE"==i||"false"!=i&&"FALSE"!=i&&s(i)}t.header&&(r>=x.length?(n.__parsed_extra||(n.__parsed_extra=[]),n.__parsed_extra.push(_.data[e][r])):n[x[r]]=_.data[e][r])}t.header&&(_.data[e]=n,r>x.length?u("FieldMismatch","TooManyFields","Too many fields: expected "+x.length+" fields but parsed "+r,e):r<x.length&&u("FieldMismatch","TooFewFields","Too few fields: expected "+x.length+" fields but parsed "+r,e))}return t.header&&_.meta&&(_.meta.fields=x),_}function o(e){for(var n,r,i,o=[",","\t","|",";",C.RECORD_SEP,C.UNIT_SEP],a=0;a<o.length;a++){var s=o[a],u=0,c=0;i=void 0;for(var d=new l({delimiter:s,preview:10}).parse(e),h=0;h<d.data.length;h++){var f=d.data[h].length;c+=f,void 0!==i?f>1&&(u+=Math.abs(f-i),i=f):i=f}d.data.length>0&&(c/=d.data.length),(void 0===r||r>u)&&c>1.99&&(r=u,n=s)}return t.delimiter=n,{successful:!!n,bestDelimiter:n}}function a(t){var e=(t=t.substr(0,1048576)).split("\r");if(1==e.length)return"\n";for(var n=0,r=0;r<e.length;r++)"\n"==e[r][0]&&n++;return n>=e.length/2?"\r\n":"\r"}function s(t){return f.test(t)?parseFloat(t):t}function u(t,e,n,r){_.errors.push({type:t,code:e,message:n,row:r})}var c,d,h,f=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,g=this,v=0,y=!1,b=!1,x=[],_={data:[],errors:[],meta:{}};if(m(t.step)){var w=t.step;t.step=function(r){if(_=r,n())e();else{if(e(),0==_.data.length)return;v+=r.data.length,t.preview&&v>t.preview?d.abort():w(_,g)}}}this.parse=function(n,r,i){if(t.newline||(t.newline=a(n)),h=!1,!t.delimiter){var s=o(n);s.successful?t.delimiter=s.bestDelimiter:(h=!0,t.delimiter=C.DefaultDelimiter),_.meta.delimiter=t.delimiter}var u=p(t);return t.preview&&t.header&&u.preview++,c=n,d=new l(u),_=d.parse(c,r,i),e(),y?{meta:{paused:!0}}:_||{meta:{paused:!1}}},this.paused=function(){return y},this.pause=function(){y=!0,d.abort(),c=c.substr(d.getCharIndex())},this.resume=function(){y=!1,g.streamer.parseChunk(c)},this.aborted=function(){return b},this.abort=function(){b=!0,d.abort(),_.meta.aborted=!0,m(t.complete)&&t.complete(_),c=""}}function l(t){var e=(t=t||{}).delimiter,n=t.newline,r=t.comments,i=t.step,o=t.preview,a=t.fastMode;if(("string"!=typeof e||C.BAD_DELIMITERS.indexOf(e)>-1)&&(e=","),r===e)throw"Comment character same as delimiter";!0===r?r="#":("string"!=typeof r||C.BAD_DELIMITERS.indexOf(r)>-1)&&(r=!1),"\n"!=n&&"\r"!=n&&"\r\n"!=n&&(n="\n");var s=0,l=!1;this.parse=function(t,u,c){function d(t){_.push(t),k=s}function h(e){return c?p():(void 0===e&&(e=t.substr(s)),C.push(e),s=m,d(C),x&&g(),p())}function f(e){s=e,d(C),C=[],$=t.indexOf(n,s)}function p(t){return{data:_,errors:w,meta:{delimiter:e,linebreak:n,aborted:l,truncated:!!t,cursor:k+(u||0)}}}function g(){i(p()),_=[],w=[]}if("string"!=typeof t)throw"Input must be a string";var m=t.length,v=e.length,y=n.length,b=r.length,x="function"==typeof i;s=0;var _=[],w=[],C=[],k=0;if(!t)return p();if(a||!1!==a&&-1===t.indexOf('"')){for(var S=t.split(n),M=0;M<S.length;M++){C=S[M];if(s+=C.length,M!==S.length-1)s+=n.length;else if(c)return p();if(!r||C.substr(0,b)!=r){if(x){if(_=[],d(C.split(e)),g(),l)return p()}else d(C.split(e));if(o&&M>=o)return _=_.slice(0,o),p(!0)}}return p()}for(var T=t.indexOf(e,s),$=t.indexOf(n,s);;)if('"'!=t[s])if(r&&0===C.length&&t.substr(s,b)===r){if(-1==$)return p();s=$+y,$=t.indexOf(n,s),T=t.indexOf(e,s)}else if(-1!==T&&($>T||-1===$))C.push(t.substring(s,T)),s=T+v,T=t.indexOf(e,s);else{if(-1===$)break;if(C.push(t.substring(s,$)),f($+y),x&&(g(),l))return p();if(o&&_.length>=o)return p(!0)}else{var D=s;for(s++;;){if(-1===(D=t.indexOf('"',D+1)))return c||w.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:_.length,index:s}),h();if(D===m-1)return h(t.substring(s,D).replace(/""/g,'"'));if('"'!=t[D+1]){if(t[D+1]==e){C.push(t.substring(s,D).replace(/""/g,'"')),s=D+1+v,T=t.indexOf(e,s),$=t.indexOf(n,s);break}if(t.substr(D+1,y)===n){if(C.push(t.substring(s,D).replace(/""/g,'"')),f(D+1+y),T=t.indexOf(e,s),x&&(g(),l))return p();if(o&&_.length>=o)return p(!0);break}}else D++}}return h()},this.abort=function(){l=!0},this.getCharIndex=function(){return s}}function u(){if(!C.WORKERS_SUPPORTED)return!1;if(!x&&null===C.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var e=C.SCRIPT_PATH||v;e+=(-1!==e.indexOf("?")?"&":"?")+"papaworker";var n=new t.Worker(e);return n.onmessage=c,n.id=w++,_[n.id]=n,n}function c(t){var e=t.data,n=_[e.workerId],r=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var i={abort:function(){r=!0,d(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:h,resume:h};if(m(n.userStep)){for(var o=0;o<e.results.data.length&&(n.userStep({data:[e.results.data[o]],errors:e.results.errors,meta:e.results.meta},i),!r);o++);delete e.results}else m(n.userChunk)&&(n.userChunk(e.results,i,e.file),delete e.results)}e.finished&&!r&&d(e.workerId,e.results)}function d(t,e){var n=_[t];m(n.userComplete)&&n.userComplete(e),n.terminate(),delete _[t]}function h(){throw"Not implemented."}function f(e){var n=e.data;if(void 0===C.WORKER_ID&&n&&(C.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:C.WORKER_ID,results:C.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=C.parse(n.input,n.config);r&&t.postMessage({workerId:C.WORKER_ID,results:r,finished:!0})}}function p(t){if("object"!=typeof t)return t;var e=t instanceof Array?[]:{};for(var n in t)e[n]=p(t[n]);return e}function g(t,e){return function(){t.apply(e,arguments)}}function m(t){return"function"==typeof t}var v,y=!t.document&&!!t.postMessage,b=y&&/(\?|&)papaworker(=|&|$)/.test(t.location.search),x=!1,_={},w=0,C={};if(C.parse=e,C.unparse=n,C.RECORD_SEP=String.fromCharCode(30),C.UNIT_SEP=String.fromCharCode(31),C.BYTE_ORDER_MARK="\ufeff",C.BAD_DELIMITERS=["\r","\n",'"',C.BYTE_ORDER_MARK],C.WORKERS_SUPPORTED=!y&&!!t.Worker,C.SCRIPT_PATH=null,C.LocalChunkSize=10485760,C.RemoteChunkSize=5242880,C.DefaultDelimiter=",",C.Parser=l,C.ParserHandle=s,C.NetworkStreamer=i,C.FileStreamer=o,C.StringStreamer=a,"undefined"!=typeof module&&module.exports?module.exports=C:m(t.define)&&t.define.amd?define(function(){return C}):t.Papa=C,t.jQuery){var k=t.jQuery;k.fn.parse=function(e){function n(){if(0!=a.length){var t=a[0];if(m(e.before)){var n=e.before(t.file,t.inputElem);if("object"==typeof n){if("abort"==n.action)return void r("AbortError",t.file,t.inputElem,n.reason);if("skip"==n.action)return void i();"object"==typeof n.config&&(t.instanceConfig=k.extend(t.instanceConfig,n.config))}else if("skip"==n)return void i()}var o=t.instanceConfig.complete;t.instanceConfig.complete=function(e){m(o)&&o(e,t.file,t.inputElem),i()},C.parse(t.file,t.instanceConfig)}else m(e.complete)&&e.complete()}function r(t,n,r,i){m(e.error)&&e.error({name:t},n,r,i)}function i(){a.splice(0,1),n()}var o=e.config||{},a=[];return this.each(function(){if(!("INPUT"==k(this).prop("tagName").toUpperCase()&&"file"==k(this).attr("type").toLowerCase()&&t.FileReader)||!this.files||0==this.files.length)return!0;for(var e=0;e<this.files.length;e++)a.push({file:this.files[e],inputElem:this,instanceConfig:k.extend({},o)})}),n(),this}}b?t.onmessage=f:C.WORKERS_SUPPORTED&&(v=function(){var t=document.getElementsByTagName("script");return t.length?t[t.length-1].src:""}(),document.body?document.addEventListener("DOMContentLoaded",function(){x=!0},!0):x=!0),i.prototype=Object.create(r.prototype),i.prototype.constructor=i,o.prototype=Object.create(r.prototype),o.prototype.constructor=o,a.prototype=Object.create(a.prototype),a.prototype.constructor=a}("undefined"!=typeof window?window:this),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(t){return function(e,n){if("__setXHR_"===e){var r=n(this);r instanceof Function&&r(this)}else t.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="12.2.12",ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(t,e,n){function r(r){function i(t){u.notify&&u.notify(t),c.progressFunc&&n(function(){c.progressFunc(t)})}function s(t){return null!=r._start&&a?{loaded:t.loaded+r._start,total:r._file&&r._file.size||t.total,type:t.type,config:r,lengthComputable:!0,target:t.target}:t}function l(){t(r).then(function(t){if(a&&r._chunkSize&&!r._finished&&r._file){var e=r._file&&r._file.size||0;i({loaded:Math.min(r._end,e),total:e,config:r,type:"progress"}),o.upload(r,!0)}else r._finished&&delete r._finished,u.resolve(t)},function(t){u.reject(t)},function(t){u.notify(t)})}r.method=r.method||"POST",r.headers=r.headers||{};var u=r._deferred=r._deferred||e.defer(),c=u.promise;return r.disableProgress||(r.headers.__setXHR_=function(){return function(t){t&&t.upload&&t.upload.addEventListener&&(r.__XHR=t,r.xhrFn&&r.xhrFn(t),t.upload.addEventListener("progress",function(t){t.config=r,i(s(t))},!1),t.upload.addEventListener("load",function(t){t.lengthComputable&&(t.config=r,i(s(t)))},!1))}}),a?r._chunkSize&&r._end&&!r._finished?(r._start=r._end,r._end+=r._chunkSize,l()):r.resumeSizeUrl?t.get(r.resumeSizeUrl).then(function(t){r._start=r.resumeSizeResponseReader?r.resumeSizeResponseReader(t.data):parseInt((null==t.data.size?t.data:t.data.size).toString()),r._chunkSize&&(r._end=r._start+r._chunkSize),l()},function(t){throw t}):r.resumeSize?r.resumeSize().then(function(t){r._start=t,r._chunkSize&&(r._end=r._start+r._chunkSize),l()},function(t){throw t}):(r._chunkSize&&(r._start=0,r._end=r._start+r._chunkSize),l()):l(),c.success=function(t){return c.then(function(e){t(e.data,e.status,e.headers,r)}),c},c.error=function(t){return c.then(null,function(e){t(e.data,e.status,e.headers,r)}),c},c.progress=function(t){return c.progressFunc=t,c.then(null,null,function(e){t(e)}),c},c.abort=c.pause=function(){return r.__XHR&&n(function(){r.__XHR.abort()}),c},c.xhr=function(t){return r.xhrFn=function(e){return function(){e&&e.apply(c,arguments),t.apply(c,arguments)}}(r.xhrFn),c},o.promisesCount++,c.finally&&c.finally instanceof Function&&c.finally(function(){o.promisesCount--}),c}function i(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var o=this;o.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var a=this.isResumeSupported();this.isUploadInProgress=function(){return o.promisesCount>0},this.rename=function(t,e){return t.ngfName=e,t},this.jsonBlob=function(t){null==t||angular.isString(t)||(t=JSON.stringify(t));var e=new window.Blob([t],{type:"application/json"});return e._ngfBlob=!0,e},this.json=function(t){return angular.toJson(t)},this.isFile=function(t){return null!=t&&(t instanceof window.Blob||t.flashId&&t.name&&t.size)},this.upload=function(t,e){function n(e,n){if(e._ngfBlob)return e;if(t._file=t._file||e,null!=t._start&&a){t._end&&t._end>=e.size&&(t._finished=!0,t._end=e.size);var r=e.slice(t._start,t._end||e.size);return r.name=e.name,r.ngfName=e.ngfName,t._chunkSize&&(n.append("_chunkSize",t._chunkSize),n.append("_currentChunkSize",t._end-t._start),n.append("_chunkNumber",Math.floor(t._start/t._chunkSize)),n.append("_totalSize",t._file.size)),r}return e}function s(e,r,i){if(void 0!==r)if(angular.isDate(r)&&(r=r.toISOString()),angular.isString(r))e.append(i,r);else if(o.isFile(r)){var a=n(r,e),l=i.split(",");l[1]&&(a.ngfName=l[1].replace(/^\s+|\s+$/g,""),i=l[0]),t._fileKey=t._fileKey||i,e.append(i,a,a.ngfName||a.name)}else if(angular.isObject(r)){if(r.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+i;r.$$ngfCircularDetection=!0;try{for(var u in r)if(r.hasOwnProperty(u)&&"$$ngfCircularDetection"!==u){var c=null==t.objectKey?"[i]":t.objectKey;r.length&&parseInt(u)>-1&&(c=null==t.arrayKey?c:t.arrayKey),s(e,r[u],i+c.replace(/[ik]/g,u))}}finally{delete r.$$ngfCircularDetection}}else e.append(i,r)}return e||(t=i(t)),t._isDigested||(t._isDigested=!0,function(){t._chunkSize=o.translateScalars(t.resumeChunkSize),t._chunkSize=t._chunkSize?parseInt(t._chunkSize.toString()):null,t.headers=t.headers||{},t.headers["Content-Type"]=void 0,t.transformRequest=t.transformRequest?angular.isArray(t.transformRequest)?t.transformRequest:[t.transformRequest]:[],t.transformRequest.push(function(e){var n,r=new window.FormData;e=e||t.fields||{},t.file&&(e.file=t.file);for(n in e)if(e.hasOwnProperty(n)){var i=e[n];t.formDataAppender?t.formDataAppender(r,n,i):s(r,i,n)}return r})}()),r(t)},this.http=function(e){return e=i(e),e.transformRequest=e.transformRequest||function(e){return window.ArrayBuffer&&e instanceof window.ArrayBuffer||e instanceof window.Blob?e:t.defaults.transformRequest[0].apply(this,arguments)},e._chunkSize=o.translateScalars(e.resumeChunkSize),e._chunkSize=e._chunkSize?parseInt(e._chunkSize.toString()):null,r(e)},this.translateScalars=function(t){if(angular.isString(t)){if(t.search(/kb/i)===t.length-2)return parseFloat(1024*t.substring(0,t.length-2));if(t.search(/mb/i)===t.length-2)return parseFloat(1048576*t.substring(0,t.length-2));if(t.search(/gb/i)===t.length-2)return parseFloat(1073741824*t.substring(0,t.length-2));if(t.search(/b/i)===t.length-1)return parseFloat(t.substring(0,t.length-1));if(t.search(/s/i)===t.length-1)return parseFloat(t.substring(0,t.length-1));if(t.search(/m/i)===t.length-1)return parseFloat(60*t.substring(0,t.length-1));if(t.search(/h/i)===t.length-1)return parseFloat(3600*t.substring(0,t.length-1))}return t},this.urlToBlob=function(n){var r=e.defer();return t({url:n,method:"get",responseType:"arraybuffer"}).then(function(t){var e=new Uint8Array(t.data),i=t.headers("content-type")||"image/WebP",o=new window.Blob([e],{type:i}),a=n.match(/.*\/(.+?)(\?.*)?$/);a.length>1&&(o.name=a[1]),r.resolve(o)},function(t){r.reject(t)}),r.promise},this.setDefaults=function(t){this.defaults=t||{}},this.defaults={},this.version=ngFileUpload.version}]),ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(t,e,n,r,i){function o(t,e,n){var i=[l.emptyPromise()];return angular.forEach(t,function(r,o){0===r.type.indexOf("image/jpeg")&&l.attrGetter("ngfFixOrientation",e,n,{$file:r})&&i.push(l.happyPromise(l.applyExifRotation(r),r).then(function(e){t.splice(o,1,e)}))}),r.all(i)}function a(t,e,n,i){var o=l.attrGetter("ngfResize",e,n);if(!o||!l.isResizeSupported()||!t.length)return l.emptyPromise();if(o instanceof Function){var a=r.defer();return o(t).then(function(r){s(r,t,e,n,i).then(function(t){a.resolve(t)},function(t){a.reject(t)})},function(t){a.reject(t)})}return s(o,t,e,n,i)}function s(t,e,n,i,o){for(var a=[l.emptyPromise()],s=0;s<e.length;s++)!function(r,s){if(0===r.type.indexOf("image")){if(t.pattern&&!l.validatePattern(r,t.pattern))return;t.resizeIf=function(t,e){return l.attrGetter("ngfResizeIf",n,i,{$width:t,$height:e,$file:r})};var u=l.resize(r,t);a.push(u),u.then(function(t){e.splice(s,1,t)},function(t){r.$error="resize",(r.$errorMessages=r.$errorMessages||{}).resize=!0,r.$errorParam=(t?(t.message?t.message:t)+": ":"")+(r&&r.name),o.$ngfValidations.push({name:"resize",valid:!1}),l.applyModelValidation(o,e)})}}(e[s],s);return r.all(a)}var l=i;return l.getAttrWithDefaults=function(t,e){if(null!=t[e])return t[e];var n=l.defaults[e];return null==n?n:angular.isString(n)?n:JSON.stringify(n)},l.attrGetter=function(e,n,r,i){var o=this.getAttrWithDefaults(n,e);if(!r)return o;try{return i?t(o)(r,i):t(o)(r)}catch(t){if(e.search(/min|max|pattern/i))return o;throw t}},l.shouldUpdateOn=function(t,e,n){var r=l.attrGetter("ngfModelOptions",e,n);return!r||!r.updateOn||r.updateOn.split(" ").indexOf(t)>-1},l.emptyPromise=function(){var t=r.defer(),n=arguments;return e(function(){t.resolve.apply(t,n)}),t.promise},l.rejectPromise=function(){var t=r.defer(),n=arguments;return e(function(){t.reject.apply(t,n)}),t.promise},l.happyPromise=function(t,n){var i=r.defer();return t.then(function(t){i.resolve(t)},function(t){e(function(){throw t}),i.resolve(n)}),i.promise},l.updateModel=function(n,r,i,s,u,c,d){function h(o,a,u,d,h){r.$$ngfPrevValidFiles=o,r.$$ngfPrevInvalidFiles=a;var f=o&&o.length?o[0]:null,p=a&&a.length?a[0]:null;n&&(l.applyModelValidation(n,o),n.$setViewValue(h?f:o)),s&&t(s)(i,{$files:o,$file:f,$newFiles:u,$duplicateFiles:d,$invalidFiles:a,$invalidFile:p,$event:c});var g=l.attrGetter("ngfModelInvalid",r);g&&e(function(){t(g).assign(i,h?p:a)}),e(function(){})}function f(){function t(){e(function(){h(x?g.concat(b):b,x?m.concat(y):y,u,v,_)},C&&C.debounce?C.debounce.change||C.debounce:0)}var o=w?p:b;a(o,r,i,n).then(function(){w?l.validate(p,x?g.length:0,n,r,i).then(function(e){b=e.validsFiles,y=e.invalidsFiles,t()}):t()},function(){for(var e=0;e<o.length;e++){var n=o[e];if("resize"===n.$error){var r=b.indexOf(n);r>-1&&(b.splice(r,1),y.push(n)),t()}}})}var p,g,m,v=[],y=[],b=[];g=r.$$ngfPrevValidFiles||[],m=r.$$ngfPrevInvalidFiles||[],n&&n.$modelValue&&(g=function(t){return angular.isArray(t)?t:[t]}(n.$modelValue));var x=l.attrGetter("ngfKeep",r,i);p=(u||[]).slice(0),("distinct"===x||!0===l.attrGetter("ngfKeepDistinct",r,i))&&function(){function t(t,e){return t.name===e.name&&(t.$ngfOrigSize||t.size)===(e.$ngfOrigSize||e.size)&&t.type===e.type}if(u){p=[],v=[];for(var e=0;e<u.length;e++)!function(e){var n;for(n=0;n<g.length;n++)if(t(e,g[n]))return!0;for(n=0;n<m.length;n++)if(t(e,m[n]))return!0;return!1}(u[e])?p.push(u[e]):v.push(u[e])}}();var _=!x&&!l.attrGetter("ngfMultiple",r,i)&&!l.attrGetter("multiple",r);if(!x||p.length){l.attrGetter("ngfBeforeModelChange",r,i,{$files:u,$file:u&&u.length?u[0]:null,$newFiles:p,$duplicateFiles:v,$event:c});var w=l.attrGetter("ngfValidateAfterResize",r,i),C=l.attrGetter("ngfModelOptions",r,i);l.validate(p,x?g.length:0,n,r,i).then(function(t){d?h(p,[],u,v,_):(C&&C.allowInvalid||w?b=p:(b=t.validFiles,y=t.invalidFiles),l.attrGetter("ngfFixOrientation",r,i)&&l.isExifSupported()?o(b,r,i).then(function(){f()}):f())})}},l}]),ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(t,e,n,r){function i(t){var e=t.match(/Android[^\d]*(\d+)\.(\d+)/);if(e&&e.length>2){var n=r.defaults.androidFixMinorVersion||4;return parseInt(e[1])<4||parseInt(e[1])===n&&parseInt(e[2])<n}return-1===t.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(t)}function o(t,e,n,r,o,s,l,u){function c(){return"input"===e[0].tagName.toLowerCase()&&n.type&&"file"===n.type.toLowerCase()}function d(){return y("ngfChange")||y("ngfSelect")}function h(e){if(u.shouldUpdateOn("change",n,t)){var i=e.__files_||e.target&&e.target.files,o=[];if(!i)return;for(var a=0;a<i.length;a++)o.push(i[a]);u.updateModel(r,n,t,d(),o.length?o:null,e)}}function f(t,r){function i(e){t.attr("id","ngf-"+e),r.attr("id","ngf-label-"+e)}for(var o=0;o<e[0].attributes.length;o++){var a=e[0].attributes[o];"type"!==a.name&&"class"!==a.name&&"style"!==a.name&&("id"===a.name?(i(a.value),b.push(n.$observe("id",i))):t.attr(a.name,a.value||"required"!==a.name&&"multiple"!==a.name?a.value:a.name))}}function p(n){if(e.attr("disabled"))return!1;if(!y("ngfSelectDisabled",t)){var r=g(n);if(null!=r)return r;m(n);try{c()||document.body.contains(w[0])||(a.push({el:e,ref:w.parent()}),document.body.appendChild(w.parent()[0]),w.bind("change",h))}catch(t){}return i(navigator.userAgent)?setTimeout(function(){w[0].click()},0):w[0].click(),!1}}function g(t){var e=t.changedTouches||t.originalEvent&&t.originalEvent.changedTouches;if(e){if("touchstart"===t.type)return _=e[0].clientX,x=e[0].clientY,!0;if("touchend"===t.type){var n=e[0].clientX,r=e[0].clientY;if(Math.abs(n-_)>20||Math.abs(r-x)>20)return t.stopPropagation(),t.preventDefault(),!1}return!0}}function m(e){u.shouldUpdateOn("click",n,t)&&w.val()&&(w.val(null),u.updateModel(r,n,t,d(),null,e,!0))}function v(t){if(w&&!w.attr("__ngf_ie10_Fix_")){if(!w[0].parentNode)return void(w=null);t.preventDefault(),t.stopPropagation(),w.unbind("click");var e=w.clone();return w.replaceWith(e),(w=e).attr("__ngf_ie10_Fix_","true"),w.bind("change",h),w.bind("click",v),w[0].click(),!1}w.removeAttr("__ngf_ie10_Fix_")}var y=function(t,e){return u.attrGetter(t,n,e)};u.registerModelChangeValidator(r,n,t);var b=[];y("ngfMultiple")&&b.push(t.$watch(y("ngfMultiple"),function(){w.attr("multiple",y("ngfMultiple",t))})),y("ngfCapture")&&b.push(t.$watch(y("ngfCapture"),function(){w.attr("capture",y("ngfCapture",t))})),y("ngfAccept")&&b.push(t.$watch(y("ngfAccept"),function(){w.attr("accept",y("ngfAccept",t))})),b.push(n.$observe("accept",function(){w.attr("accept",y("accept"))}));var x=0,_=0,w=e;c()||(w=function(){if(c())return e;var t=angular.element('<input type="file">'),n=angular.element("<label>upload</label>");return n.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),f(t,n),a.push({el:e,ref:n}),document.body.appendChild(n.append(t)[0]),t}()),w.bind("change",h),c()?e.bind("click",m):e.bind("click touchstart touchend",p),-1!==navigator.appVersion.indexOf("MSIE 10")&&w.bind("click",v),r&&r.$formatters.push(function(t){return(null==t||0===t.length)&&w.val()&&w.val(null),t}),t.$on("$destroy",function(){c()||w.parent().remove(),angular.forEach(b,function(t){t()})}),s(function(){for(var t=0;t<a.length;t++){var e=a[t];document.body.contains(e.el[0])||(a.splice(t,1),e.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(e,w,h)}var a=[];return{restrict:"AEC",require:"?ngModel",link:function(i,a,s,l){o(i,a,s,l,t,e,n,r)}}}]),function(){function t(t){return"img"===t.tagName.toLowerCase()?"image":"audio"===t.tagName.toLowerCase()?"audio":"video"===t.tagName.toLowerCase()?"video":/./}function e(e,n,r,i,o,a,s,l){function u(t){var a=e.attrGetter("ngfNoObjectUrl",o,r);e.dataUrl(t,a).finally(function(){n(function(){var e=(a?t.$ngfDataUrl:t.$ngfBlobUrl)||t.$ngfDataUrl;l?i.css("background-image","url('"+(e||"")+"')"):i.attr("src",e),e?i.removeClass("ng-hide"):i.addClass("ng-hide")})})}n(function(){var n=r.$watch(o[a],function(n){var c=s;if("ngfThumbnail"===a&&(c||(c={width:i[0].naturalWidth||i[0].clientWidth,height:i[0].naturalHeight||i[0].clientHeight}),0===c.width&&window.getComputedStyle)){var d=getComputedStyle(i[0]);c={width:parseInt(d.width.slice(0,-2)),height:parseInt(d.height.slice(0,-2))}}return angular.isString(n)?(i.removeClass("ng-hide"),l?i.css("background-image","url('"+n+"')"):i.attr("src",n)):void(!n||!n.type||0!==n.type.search(t(i[0]))||l&&0!==n.type.indexOf("image")?i.addClass("ng-hide"):c&&e.isResizeSupported()?(c.resizeIf=function(t,i){return e.attrGetter("ngfResizeIf",o,r,{$width:t,$height:i,$file:n})},e.resize(n,c).then(function(t){u(t)},function(t){throw t})):u(n))});r.$on("$destroy",function(){n()})})}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(t,e,n){var r=t;return r.base64DataUrl=function(t){if(angular.isArray(t)){var e=n.defer(),i=0;return angular.forEach(t,function(n){r.dataUrl(n,!0).finally(function(){if(++i===t.length){var n=[];angular.forEach(t,function(t){n.push(t.$ngfDataUrl)}),e.resolve(n,t)}})}),e.promise}return r.dataUrl(t,!0)},r.dataUrl=function(t,i){if(!t)return r.emptyPromise(t,t);if(i&&null!=t.$ngfDataUrl||!i&&null!=t.$ngfBlobUrl)return r.emptyPromise(i?t.$ngfDataUrl:t.$ngfBlobUrl,t);var o=i?t.$$ngfDataUrlPromise:t.$$ngfBlobUrlPromise;if(o)return o;var a=n.defer();return e(function(){if(window.FileReader&&t&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||t.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||t.size<4e6)){var n=window.URL||window.webkitURL;if(n&&n.createObjectURL&&!i){var o;try{o=n.createObjectURL(t)}catch(n){return void e(function(){t.$ngfBlobUrl="",a.reject()})}e(function(){if(t.$ngfBlobUrl=o,o){a.resolve(o,t),r.blobUrls=r.blobUrls||[],r.blobUrlsTotalSize=r.blobUrlsTotalSize||0,r.blobUrls.push({url:o,size:t.size}),r.blobUrlsTotalSize+=t.size||0;for(var e=r.defaults.blobUrlsMaxMemory||268435456,i=r.defaults.blobUrlsMaxQueueSize||200;(r.blobUrlsTotalSize>e||r.blobUrls.length>i)&&r.blobUrls.length>1;){var s=r.blobUrls.splice(0,1)[0];n.revokeObjectURL(s.url),r.blobUrlsTotalSize-=s.size}}})}else{var s=new FileReader;s.onload=function(n){e(function(){t.$ngfDataUrl=n.target.result,a.resolve(n.target.result,t),e(function(){delete t.$ngfDataUrl},1e3)})},s.onerror=function(){e(function(){t.$ngfDataUrl="",a.reject()})},s.readAsDataURL(t)}}else e(function(){t[i?"$ngfDataUrl":"$ngfBlobUrl"]="",a.reject()})}),(o=i?t.$$ngfDataUrlPromise=a.promise:t.$$ngfBlobUrlPromise=a.promise).finally(function(){delete t[i?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),o},r}]),ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(t,n){return{restrict:"AE",link:function(r,i,o){e(t,n,r,i,o,"ngfSrc",t.attrGetter("ngfResize",o,r),!1)}}}]),ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(t,n){return{restrict:"AE",link:function(r,i,o){e(t,n,r,i,o,"ngfBackground",t.attrGetter("ngfResize",o,r),!0)}}}]),ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(t,n){return{restrict:"AE",link:function(r,i,o){var a=t.attrGetter("ngfSize",o,r);e(t,n,r,i,o,"ngfThumbnail",a,t.attrGetter("ngfAsBackground",o,r))}}}]),ngFileUpload.config(["$compileProvider",function(t){t.imgSrcSanitizationWhitelist&&t.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),t.aHrefSanitizationWhitelist&&t.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(t,e){return function(n,r,i){if(angular.isString(n))return e.trustAsResourceUrl(n);var o=n&&((r?n.$ngfDataUrl:n.$ngfBlobUrl)||n.$ngfDataUrl);return n&&!o?(!n.$ngfDataUrlFilterInProgress&&angular.isObject(n)&&(n.$ngfDataUrlFilterInProgress=!0,t.dataUrl(n,r)),""):(n&&delete n.$ngfDataUrlFilterInProgress,(n&&o?i?e.trustAsResourceUrl(o):o:n)||"")}}])}(),ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(t,e,n){function r(t){var e="",n=[];if(t.length>2&&"/"===t[0]&&"/"===t[t.length-1])e=t.substring(1,t.length-1);else{var i=t.split(",");if(i.length>1)for(var o=0;o<i.length;o++){var a=r(i[o]);a.regexp?(e+="("+a.regexp+")",o<i.length-1&&(e+="|")):n=n.concat(a.excludes)}else 0===t.indexOf("!")?n.push("^((?!"+r(t.substring(1)).regexp+").)*$"):(0===t.indexOf(".")&&(t="*"+t),e="^"+t.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",e=e.replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:e,excludes:n}}function i(t,e){null==e||t.$dirty||(t.$setDirty?t.$setDirty():t.$dirty=!0)}var o=t;return o.validatePattern=function(t,e){if(!e)return!0;var n=r(e),i=!0;if(n.regexp&&n.regexp.length){var o=new RegExp(n.regexp,"i");i=null!=t.type&&o.test(t.type)||null!=t.name&&o.test(t.name)}for(var a=n.excludes.length;a--;){var s=new RegExp(n.excludes[a],"i");i=i&&(null==t.type||s.test(t.type))&&(null==t.name||s.test(t.name))}return i},o.ratioToFloat=function(t){var e=t.toString(),n=e.search(/[x:]/i);return e=n>-1?parseFloat(e.substring(0,n))/parseFloat(e.substring(n+1)):parseFloat(e)},o.registerModelChangeValidator=function(t,e,n){t&&t.$formatters.push(function(r){if(t.$dirty){var i=r;r&&!angular.isArray(r)&&(i=[r]),o.validate(i,0,t,e,n).then(function(){o.applyModelValidation(t,i)})}return r})},o.applyModelValidation=function(t,e){i(t,e),angular.forEach(t.$ngfValidations,function(e){t.$setValidity(e.name,e.valid)})},o.getValidationAttr=function(t,e,n,r,i){var a="ngf"+n[0].toUpperCase()+n.substr(1),s=o.attrGetter(a,t,e,{$file:i});if(null==s&&(s=o.attrGetter("ngfValidate",t,e,{$file:i}))){var l=(r||n).split(".");s=s[l[0]],l.length>1&&(s=s&&s[l[1]])}return s},o.validate=function(t,n,r,i,a){function s(e,n,s){if(t){for(var l=t.length,u=null;l--;){var f=t[l];if(f){var p=o.getValidationAttr(i,a,e,n,f);null!=p&&(s(f,p,l)||(-1===c.indexOf(e)?(f.$error=e,(f.$errorMessages=f.$errorMessages||{})[e]=!0,f.$errorParam=p,-1===h.indexOf(f)&&h.push(f),d||t.splice(l,1),u=!1):t.splice(l,1)))}}null!==u&&r.$ngfValidations.push({name:e,valid:u})}}function l(n,s,l,f,p){function g(e,r,i){function o(o){if(o())if(-1===c.indexOf(n)){if(r.$error=n,(r.$errorMessages=r.$errorMessages||{})[n]=!0,r.$errorParam=i,-1===h.indexOf(r)&&h.push(r),!d){var a=t.indexOf(r);a>-1&&t.splice(a,1)}e.resolve(!1)}else{var s=t.indexOf(r);s>-1&&t.splice(s,1),e.resolve(!0)}else e.resolve(!0)}null!=i?f(r,i).then(function(t){o(function(){return!p(t,i)})},function(){o(function(){return u("ngfValidateForce",{$file:r})})}):e.resolve(!0)}var m=[o.emptyPromise(!0)];t&&(t=void 0===t.length?[t]:t,angular.forEach(t,function(t){var r=e.defer();return m.push(r.promise),!l||null!=t.type&&0===t.type.search(l)?void("dimensions"===n&&null!=o.attrGetter("ngfDimensions",i)?o.imageDimensions(t).then(function(e){g(r,t,u("ngfDimensions",{$file:t,$width:e.width,$height:e.height}))},function(){r.resolve(!1)}):"duration"===n&&null!=o.attrGetter("ngfDuration",i)?o.mediaDuration(t).then(function(e){g(r,t,u("ngfDuration",{$file:t,$duration:e}))},function(){r.resolve(!1)}):g(r,t,o.getValidationAttr(i,a,n,s,t))):void r.resolve(!0)}));var v=e.defer();return e.all(m).then(function(t){for(var e=!0,i=0;i<t.length;i++)if(!t[i]){e=!1;break}r.$ngfValidations.push({name:n,valid:e}),v.resolve(e)}),v.promise}(r=r||{}).$ngfValidations=r.$ngfValidations||[],angular.forEach(r.$ngfValidations,function(t){t.valid=!0});var u=function(t,e){return o.attrGetter(t,i,a,e)},c=(o.attrGetter("ngfIgnoreInvalid",i,a)||"").split(" "),d=o.attrGetter("ngfRunAllValidations",i,a);if(null==t||0===t.length)return o.emptyPromise({validFiles:t,invalidFiles:[]});t=void 0===t.length?[t]:t.slice(0);var h=[];s("pattern",null,o.validatePattern),s("minSize","size.min",function(t,e){return t.size+.1>=o.translateScalars(e)}),s("maxSize","size.max",function(t,e){return t.size-.1<=o.translateScalars(e)});var f=0;if(s("maxTotalSize",null,function(e,n){return!((f+=e.size)>o.translateScalars(n))||(t.splice(0,t.length),!1)}),s("validateFn",null,function(t,e){return!0===e||null===e||""===e}),!t.length)return o.emptyPromise({validFiles:[],invalidFiles:h});var p=e.defer(),g=[];return g.push(l("maxHeight","height.max",/image/,this.imageDimensions,function(t,e){return t.height<=e})),g.push(l("minHeight","height.min",/image/,this.imageDimensions,function(t,e){return t.height>=e})),g.push(l("maxWidth","width.max",/image/,this.imageDimensions,function(t,e){return t.width<=e})),g.push(l("minWidth","width.min",/image/,this.imageDimensions,function(t,e){return t.width>=e})),g.push(l("dimensions",null,/image/,function(t,e){return o.emptyPromise(e)},function(t){return t})),g.push(l("ratio",null,/image/,this.imageDimensions,function(t,e){for(var n=e.toString().split(","),r=!1,i=0;i<n.length;i++)Math.abs(t.width/t.height-o.ratioToFloat(n[i]))<.01&&(r=!0);return r})),g.push(l("maxRatio","ratio.max",/image/,this.imageDimensions,function(t,e){return t.width/t.height-o.ratioToFloat(e)<1e-4})),g.push(l("minRatio","ratio.min",/image/,this.imageDimensions,function(t,e){return t.width/t.height-o.ratioToFloat(e)>-1e-4})),g.push(l("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(t,e){return t<=o.translateScalars(e)})),g.push(l("minDuration","duration.min",/audio|video/,this.mediaDuration,function(t,e){return t>=o.translateScalars(e)})),g.push(l("duration",null,/audio|video/,function(t,e){return o.emptyPromise(e)},function(t){return t})),g.push(l("validateAsyncFn",null,null,function(t,e){return e},function(t){return!0===t||null===t||""===t})),e.all(g).then(function(){if(d)for(var e=0;e<t.length;e++)t[e].$error&&t.splice(e--,1);d=!1,s("maxFiles",null,function(t,e,r){return e>n+r}),p.resolve({validFiles:t,invalidFiles:h})}),p.promise},o.imageDimensions=function(t){if(t.$ngfWidth&&t.$ngfHeight){var r=e.defer();return n(function(){r.resolve({width:t.$ngfWidth,height:t.$ngfHeight})}),r.promise}if(t.$ngfDimensionPromise)return t.$ngfDimensionPromise;var i=e.defer();return n(function(){return 0!==t.type.indexOf("image")?void i.reject("not image"):void o.dataUrl(t).then(function(e){function r(){var e=s[0].naturalWidth||s[0].clientWidth,n=s[0].naturalHeight||s[0].clientHeight;s.remove(),t.$ngfWidth=e,t.$ngfHeight=n,i.resolve({width:e,height:n})}function o(){s.remove(),i.reject("load error")}function a(){n(function(){s[0].parentNode&&(s[0].clientWidth?r():l++>10?o():a())},1e3)}var s=angular.element("<img>").attr("src",e).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");s.on("load",r),s.on("error",o);var l=0;a(),angular.element(document.getElementsByTagName("body")[0]).append(s)},function(){i.reject("load error")})}),t.$ngfDimensionPromise=i.promise,t.$ngfDimensionPromise.finally(function(){delete t.$ngfDimensionPromise}),t.$ngfDimensionPromise},o.mediaDuration=function(t){if(t.$ngfDuration){var r=e.defer();return n(function(){r.resolve(t.$ngfDuration)}),r.promise}if(t.$ngfDurationPromise)return t.$ngfDurationPromise;var i=e.defer();return n(function(){return 0!==t.type.indexOf("audio")&&0!==t.type.indexOf("video")?void i.reject("not media"):void o.dataUrl(t).then(function(e){function r(){var e=s[0].duration;t.$ngfDuration=e,s.remove(),i.resolve(e)}function o(){s.remove(),i.reject("load error")}function a(){n(function(){s[0].parentNode&&(s[0].duration?r():l>10?o():a())},1e3)}var s=angular.element(0===t.type.indexOf("audio")?"<audio>":"<video>").attr("src",e).css("visibility","none").css("position","fixed");s.on("loadedmetadata",r),s.on("error",o);var l=0;a(),angular.element(document.body).append(s)},function(){i.reject("load error")})}),t.$ngfDurationPromise=i.promise,t.$ngfDurationPromise.finally(function(){delete t.$ngfDurationPromise}),t.$ngfDurationPromise},o}]),ngFileUpload.service("UploadResize",["UploadValidate","$q",function(t,e){var n=t,r=function(t,e,n,r,i){var o=i?Math.max(n/t,r/e):Math.min(n/t,r/e);return{width:t*o,height:e*o,marginX:t*o-n,marginY:e*o-r}},i=function(t,i,o,a,s,l,u,c){var d=e.defer(),h=document.createElement("canvas"),f=document.createElement("img");return f.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000"),document.body.appendChild(f),f.onload=function(){var t=f.width,e=f.height;if(f.parentNode.removeChild(f),null==c||!1!==c(t,e))try{if(l){var p=n.ratioToFloat(l);p>t/e?(i=t,o=i/p):(o=e,i=o*p)}i||(i=t),o||(o=e);var g=r(t,e,i,o,u);h.width=Math.min(g.width,i),h.height=Math.min(g.height,o),h.getContext("2d").drawImage(f,Math.min(0,-g.marginX/2),Math.min(0,-g.marginY/2),g.width,g.height),d.resolve(h.toDataURL(s||"image/WebP",a||.934))}catch(t){d.reject(t)}else d.reject("resizeIf")},f.onerror=function(){f.parentNode.removeChild(f),d.reject()},f.src=t,d.promise};return n.dataUrltoBlob=function(t,e,n){for(var r=t.split(","),i=r[0].match(/:(.*?);/)[1],o=atob(r[1]),a=o.length,s=new Uint8Array(a);a--;)s[a]=o.charCodeAt(a);var l=new window.Blob([s],{type:i});return l.name=e,l.$ngfOrigSize=n,l},n.isResizeSupported=function(){var t=document.createElement("canvas");return window.atob&&t.getContext&&t.getContext("2d")&&window.Blob},n.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(t){this.$ngfName=t},configurable:!0}),n.resize=function(t,r){if(0!==t.type.indexOf("image"))return n.emptyPromise(t);var o=e.defer();return n.dataUrl(t,!0).then(function(e){i(e,r.width,r.height,r.quality,r.type||t.type,r.ratio,r.centerCrop,r.resizeIf).then(function(i){if("image/jpeg"===t.type&&!1!==r.restoreExif)try{i=n.restoreExif(e,i)}catch(t){setTimeout(function(){throw t},1)}try{var a=n.dataUrltoBlob(i,t.name,t.size);o.resolve(a)}catch(t){o.reject(t)}},function(e){"resizeIf"===e&&o.resolve(t),o.reject(e)})},function(t){o.reject(t)}),o.promise},n}]),function(){function t(t,n,r,i,o,a,s,l,u,c){function d(){return n.attr("disabled")||v("ngfDropDisabled",t)}function h(e,n){l.updateModel(i,r,t,v("ngfChange")||v("ngfDrop"),e,n)}function f(e,n){if(!l.shouldUpdateOn(e,r,t)||"string"!=typeof n)return l.rejectPromise([]);var i=[];n.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(t,e,n){i.push(n)});var o=[],a=[];if(i.length){angular.forEach(i,function(t){o.push(l.urlToBlob(t).then(function(t){a.push(t)}))});var s=c.defer();return c.all(o).then(function(){s.resolve(a)},function(t){s.reject(t)}),s.promise}return l.emptyPromise()}function p(t,e,n,r){var i=v("ngfDragOverClass",t,{$event:n}),o="dragover";if(angular.isString(i))o=i;else if(i&&(i.delay&&(_=i.delay),i.accept||i.reject)){var a=n.dataTransfer.items;if(null!=a&&a.length)for(var s=i.pattern||v("ngfPattern",t,{$event:n}),u=a.length;u--;){if(!l.validatePattern(a[u],s)){o=i.reject;break}o=i.accept}else o=i.accept}r(o)}function g(e,n,i,o){function a(t,e){var n=c.defer();if(null!=t)if(t.isDirectory){var r=[l.emptyPromise()];if(h){var i={type:"directory"};i.name=i.path=(e||"")+t.name,f.push(i)}var o=t.createReader(),s=[],g=function(){o.readEntries(function(i){try{i.length?(s=s.concat(Array.prototype.slice.call(i||[],0)),g()):(angular.forEach(s.slice(0),function(n){f.length<=u&&d>=p&&r.push(a(n,(e||"")+t.name+"/"))}),c.all(r).then(function(){n.resolve()},function(t){n.reject(t)}))}catch(t){n.reject(t)}},function(t){n.reject(t)})};g()}else t.file(function(t){try{t.path=(e||"")+t.name,h&&(t=l.rename(t,t.path)),f.push(t),p+=t.size,n.resolve()}catch(t){n.reject(t)}},function(t){n.reject(t)});return n.promise}var u=l.getValidationAttr(r,t,"maxFiles");null==u&&(u=Number.MAX_VALUE);var d=l.getValidationAttr(r,t,"maxTotalSize");null==d&&(d=Number.MAX_VALUE);var h=v("ngfIncludeDir",t),f=[],p=0,g=[l.emptyPromise()];if(e&&e.length>0&&"file:"!==s.location.protocol)for(var m=0;m<e.length;m++){if(e[m].webkitGetAsEntry&&e[m].webkitGetAsEntry()&&e[m].webkitGetAsEntry().isDirectory){var y=e[m].webkitGetAsEntry();if(y.isDirectory&&!i)continue;null!=y&&g.push(a(y))}else{var b=e[m].getAsFile();null!=b&&(f.push(b),p+=b.size)}if(f.length>u||p>d||!o&&f.length>0)break}else if(null!=n)for(var x=0;x<n.length;x++){var _=n.item(x);if((_.type||_.size>0)&&(f.push(_),p+=_.size),f.length>u||p>d||!o&&f.length>0)break}var w=c.defer();return c.all(g).then(function(){if(o||h||!f.length)w.resolve(f);else{for(var t=0;f[t]&&"directory"===f[t].type;)t++;w.resolve([f[t]])}},function(t){w.reject(t)}),w.promise}var m=e(),v=function(t,e,n){return l.attrGetter(t,r,e,n)};if(v("dropAvailable")&&a(function(){t[v("dropAvailable")]?t[v("dropAvailable")].value=m:t[v("dropAvailable")]=m}),m){null==v("ngfSelect")&&l.registerModelChangeValidator(i,r,t);var y,b=null,x=o(v("ngfStopPropagation")),_=1;n[0].addEventListener("dragover",function(e){if(!d()&&l.shouldUpdateOn("drop",r,t)){if(e.preventDefault(),x(t)&&e.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var i=e.dataTransfer.effectAllowed;e.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy"}a.cancel(b),y||(y="C",p(t,r,e,function(r){y=r,n.addClass(y),v("ngfDrag",t,{$isDragging:!0,$class:y,$event:e})}))}},!1),n[0].addEventListener("dragenter",function(e){!d()&&l.shouldUpdateOn("drop",r,t)&&(e.preventDefault(),x(t)&&e.stopPropagation())},!1),n[0].addEventListener("dragleave",function(e){!d()&&l.shouldUpdateOn("drop",r,t)&&(e.preventDefault(),x(t)&&e.stopPropagation(),b=a(function(){y&&n.removeClass(y),y=null,v("ngfDrag",t,{$isDragging:!1,$event:e})},_||100))},!1),n[0].addEventListener("drop",function(e){if(!d()&&l.shouldUpdateOn("drop",r,t)){e.preventDefault(),x(t)&&e.stopPropagation(),y&&n.removeClass(y),y=null;var i,o=e.dataTransfer.items;try{i=e.dataTransfer&&e.dataTransfer.getData&&e.dataTransfer.getData("text/html")}catch(t){}g(o,e.dataTransfer.files,!1!==v("ngfAllowDir",t),v("multiple")||v("ngfMultiple",t)).then(function(t){t.length?h(t,e):f("dropUrl",i).then(function(t){h(t,e)})})}},!1),n[0].addEventListener("paste",function(e){if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&v("ngfEnableFirefoxPaste",t)&&e.preventDefault(),!d()&&l.shouldUpdateOn("paste",r,t)){var n=[],i=e.clipboardData||e.originalEvent.clipboardData;if(i&&i.items)for(var o=0;o<i.items.length;o++)-1!==i.items[o].type.indexOf("image")&&n.push(i.items[o].getAsFile());n.length?h(n,e):f("pasteUrl",i).then(function(t){h(t,e)})}},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&v("ngfEnableFirefoxPaste",t)&&(n.attr("contenteditable",!0),n.on("keypress",function(t){t.metaKey||t.ctrlKey||t.preventDefault()}))}else!0===v("ngfHideOnDropNotAvailable",t)&&n.css("display","none")}function e(){var t=document.createElement("div");return"draggable"in t&&"ondrop"in t&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function(e,n,r,i,o,a){return{restrict:"AEC",require:"?ngModel",link:function(s,l,u,c){t(s,l,u,c,e,n,r,i,o,a)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(t,n){e()&&n.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(t,n,r){return function(i,o,a){if(e()){var s=t(r.attrGetter("ngfDropAvailable",a));n(function(){s(i),s.assign&&s.assign(i,!0)})}}}])}(),ngFileUpload.service("UploadExif",["UploadResize","$q",function(t,e){function n(t,e,n,r){switch(e){case 2:return t.transform(-1,0,0,1,n,0);case 3:return t.transform(-1,0,0,-1,n,r);case 4:return t.transform(1,0,0,-1,0,r);case 5:return t.transform(0,1,1,0,0,0);case 6:return t.transform(0,1,-1,0,r,0);case 7:return t.transform(0,-1,-1,0,r,n);case 8:return t.transform(0,-1,1,0,0,n)}}function r(t){for(var e="",n=new Uint8Array(t),r=n.byteLength,i=0;r>i;i++)e+=String.fromCharCode(n[i]);return window.btoa(e)}var i=t;return i.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&i.isResizeSupported()},i.readOrientation=function(t){var n=e.defer(),r=new FileReader,i=t.slice?t.slice(0,65536):t;return r.readAsArrayBuffer(i),r.onerror=function(t){return n.reject(t)},r.onload=function(t){var e={orientation:1},r=new DataView(this.result);if(65496!==r.getUint16(0,!1))return n.resolve(e);for(var i=r.byteLength,o=2;i>o;){var a=r.getUint16(o,!1);if(o+=2,65505===a){if(1165519206!==r.getUint32(o+=2,!1))return n.resolve(e);var s=18761===r.getUint16(o+=6,!1);o+=r.getUint32(o+4,s);var l=r.getUint16(o,s);o+=2;for(var u=0;l>u;u++)if(274===r.getUint16(o+12*u,s)){var c=r.getUint16(o+12*u+8,s);return c>=2&&8>=c&&(r.setUint16(o+12*u+8,1,s),e.fixedArrayBuffer=t.target.result),e.orientation=c,n.resolve(e)}}else{if(65280!=(65280&a))break;o+=r.getUint16(o,!1)}}return n.resolve(e)},n.promise},i.applyExifRotation=function(t){if(0!==t.type.indexOf("image/jpeg"))return i.emptyPromise(t);var o=e.defer();return i.readOrientation(t).then(function(e){return e.orientation<2||e.orientation>8?o.resolve(t):void i.dataUrl(t,!0).then(function(a){var s=document.createElement("canvas"),l=document.createElement("img");l.onload=function(){try{s.width=e.orientation>4?l.height:l.width,s.height=e.orientation>4?l.width:l.height;var a=s.getContext("2d");n(a,e.orientation,l.width,l.height),a.drawImage(l,0,0);var u=s.toDataURL(t.type||"image/WebP",.934);u=i.restoreExif(r(e.fixedArrayBuffer),u);var c=i.dataUrltoBlob(u,t.name);o.resolve(c)}catch(t){return o.reject(t)}},l.onerror=function(){o.reject()},l.src=a},function(t){o.reject(t)})},function(t){o.reject(t)}),o.promise},i.restoreExif=function(t,e){var n={};return n.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n.encode64=function(t){var e,n,r,i,o,a="",s="",l="",u=0;do{e=t[u++],n=t[u++],s=t[u++],r=e>>2,i=(3&e)<<4|n>>4,o=(15&n)<<2|s>>6,l=63&s,isNaN(n)?o=l=64:isNaN(s)&&(l=64),a=a+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(l),e=n=s="",r=i=o=l=""}while(u<t.length);return a},n.restore=function(t,e){t.match("data:image/jpeg;base64,")&&(t=t.replace("data:image/jpeg;base64,",""));var n=this.decode64(t),r=this.slice2Segments(n),i=this.exifManipulation(e,r);return"data:image/jpeg;base64,"+this.encode64(i)},n.exifManipulation=function(t,e){var n=this.getExifArray(e),r=this.insertExif(t,n);return new Uint8Array(r)},n.getExifArray=function(t){for(var e,n=0;n<t.length;n++)if(255===(e=t[n])[0]&225===e[1])return e;return[]},n.insertExif=function(t,e){var n=t.replace("data:image/jpeg;base64,",""),r=this.decode64(n),i=r.indexOf(255,3),o=r.slice(0,i),a=r.slice(i),s=o;return s=s.concat(e),s=s.concat(a)},n.slice2Segments=function(t){for(var e=0,n=[];!(255===t[e]&218===t[e+1]);){if(255===t[e]&216===t[e+1])e+=2;else{var r=e+(256*t[e+2]+t[e+3])+2,i=t.slice(e,r);n.push(i),e=r}if(e>t.length)break}return n},n.decode64=function(t){var e,n,r,i,o,a="",s="",l=0,u=[];/[^A-Za-z0-9\+\/\=]/g.exec(t)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{r=this.KEY_STR.indexOf(t.charAt(l++)),i=this.KEY_STR.indexOf(t.charAt(l++)),o=this.KEY_STR.indexOf(t.charAt(l++)),s=this.KEY_STR.indexOf(t.charAt(l++)),e=r<<2|i>>4,n=(15&i)<<4|o>>2,a=(3&o)<<6|s,u.push(e),64!==o&&u.push(n),64!==s&&u.push(a),e=n=a="",r=i=o=s=""}while(l<t.length);return u},n.restore(t,e)},i}]),function(t,e){function n(t){return!!(""===t||t&&t.charCodeAt&&t.substr)}function r(t){return d?d(t):"[object Array]"===h.call(t)}function i(t){return t&&"[object Object]"===h.call(t)}function o(t,e){var n;t=t||{},e=e||{};for(n in e)e.hasOwnProperty(n)&&null==t[n]&&(t[n]=e[n]);return t}function a(t,e,n){var r,i,o=[];if(!t)return o;if(c&&t.map===c)return t.map(e,n);for(r=0,i=t.length;r<i;r++)o[r]=e.call(n,t[r],r,t);return o}function s(t,e){return t=Math.round(Math.abs(t)),isNaN(t)?e:t}function l(t){var e=u.settings.currency.format;return"function"==typeof t&&(t=t()),n(t)&&t.match("%v")?{pos:t,neg:t.replace("-","").replace("%v","-%v"),zero:t}:t&&t.pos&&t.pos.match("%v")?t:n(e)?u.settings.currency.format={pos:e,neg:e.replace("%v","-%v"),zero:e}:e}var u={};u.version="0.4.1",u.settings={currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}};var c=Array.prototype.map,d=Array.isArray,h=Object.prototype.toString,f=u.unformat=u.parse=function(t,e){if(r(t))return a(t,function(t){return f(t,e)});if("number"==typeof(t=t||0))return t;e=e||u.settings.number.decimal;var n=new RegExp("[^0-9-"+e+"]",["g"]),i=parseFloat((""+t).replace(/\((.*)\)/,"-$1").replace(n,"").replace(e,"."));return isNaN(i)?0:i},p=u.toFixed=function(t,e){e=s(e,u.settings.number.precision);var n=Math.pow(10,e);return(Math.round(u.unformat(t)*n)/n).toFixed(e)},g=u.formatNumber=u.format=function(t,e,n,l){if(r(t))return a(t,function(t){return g(t,e,n,l)});t=f(t);var c=o(i(e)?e:{precision:e,thousand:n,decimal:l},u.settings.number),d=s(c.precision),h=t<0?"-":"",m=parseInt(p(Math.abs(t||0),d),10)+"",v=m.length>3?m.length%3:0;return h+(v?m.substr(0,v)+c.thousand:"")+m.substr(v).replace(/(\d{3})(?=\d)/g,"$1"+c.thousand)+(d?c.decimal+p(Math.abs(t),d).split(".")[1]:"")},m=u.formatMoney=function(t,e,n,c,d,h){if(r(t))return a(t,function(t){return m(t,e,n,c,d,h)});t=f(t);var p=o(i(e)?e:{symbol:e,precision:n,thousand:c,decimal:d,format:h},u.settings.currency),v=l(p.format);return(t>0?v.pos:t<0?v.neg:v.zero).replace("%s",p.symbol).replace("%v",g(Math.abs(t),s(p.precision),p.thousand,p.decimal))};u.formatColumn=function(t,e,c,d,h,p){if(!t)return[];var m=o(i(e)?e:{symbol:e,precision:c,thousand:d,decimal:h,format:p},u.settings.currency),v=l(m.format),y=v.pos.indexOf("%s")<v.pos.indexOf("%v"),b=0;return a(a(t,function(t,e){if(r(t))return u.formatColumn(t,m);var n=((t=f(t))>0?v.pos:t<0?v.neg:v.zero).replace("%s",m.symbol).replace("%v",g(Math.abs(t),s(m.precision),m.thousand,m.decimal));return n.length>b&&(b=n.length),n}),function(t,e){return n(t)&&t.length<b?y?t.replace(m.symbol,m.symbol+new Array(b-t.length+1).join(" ")):new Array(b-t.length+1).join(" ")+t:t})},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=u),exports.accounting=u):"function"==typeof define&&define.amd?define([],function(){return u}):(u.noConflict=function(e){return function(){return t.accounting=e,u.noConflict=void 0,u}}(t.accounting),t.accounting=u)}(this),function(){"use strict";angular.module("ui.grid.i18n",[]),angular.module("ui.grid",["ui.grid.i18n"])}(),function(){"use strict";angular.module("ui.grid").constant("uiGridConstants",{LOG_DEBUG_MESSAGES:!0,LOG_WARN_MESSAGES:!0,LOG_ERROR_MESSAGES:!0,CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,MODEL_COL_FIELD:/MODEL_COL_FIELD/g,TOOLTIP:/title=\"TOOLTIP\"/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",ENTITY_BINDING:"$$this",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart",COLUMN_HEADER_CLICK:"uiGridColumnHeaderClick"},keymap:{TAB:9,STRG:17,CAPSLOCK:20,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,PG_UP:33,PG_DOWN:34,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512,SELECT:"select",INPUT:"input"},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["","$","","$","","","","","","",""],scrollDirection:{UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",NONE:"none"},dataChange:{ALL:"all",EDIT:"edit",ROW:"row",COLUMN:"column",OPTIONS:"options"},scrollbars:{NEVER:0,ALWAYS:1}})}(),angular.module("ui.grid").directive("uiGridCell",["$compile","$parse","gridUtil","uiGridConstants",function(t,e,n,r){return{priority:0,scope:!1,require:"?^uiGrid",compile:function(){return{pre:function(e,i,o,a){if(a&&e.col.compiledElementFn)!function(){(0,e.col.compiledElementFn)(e,function(t,e){i.append(t)})}();else if(a&&!e.col.compiledElementFn)e.col.getCompiledElementFn().then(function(t){t(e,function(t,e){i.append(t)})});else{var s=e.col.cellTemplate.replace(r.MODEL_COL_FIELD,"row.entity."+n.preEval(e.col.field)).replace(r.COL_FIELD,"grid.getCellValue(row, col)"),l=t(s)(e);i.append(l)}},post:function(t,e,n,i){var o=t.col.getColClass(!1);e.addClass(o);var a,s=function(n){var r=e;a&&(r.removeClass(a),a=null),a=angular.isFunction(t.col.cellClass)?t.col.cellClass(t.grid,t.row,t.col,t.rowRenderIndex,t.colRenderIndex):t.col.cellClass,r.addClass(a)};t.col.cellClass&&s();var l=t.grid.registerDataChangeCallback(s,[r.dataChange.COLUMN,r.dataChange.EDIT]),u=function(n,r){if(n!==r){(a||t.col.cellClass)&&s();var i=t.col.getColClass(!1);i!==o&&(e.removeClass(o),e.addClass(i),o=i)}},c=t.$watch("row",u),d=function(){l(),c()};t.$on("$destroy",d),e.on("$destroy",d)}}}}}]),function(){angular.module("ui.grid").service("uiGridColumnMenuService",["i18nService","uiGridConstants","gridUtil",function(t,e,n){var r={initialize:function(t,e){t.grid=e.grid,e.columnMenuScope=t,t.menuShown=!1},setColMenuItemWatch:function(t){var e=t.$watch("col.menuItems",function(e){void 0!==e&&e&&angular.isArray(e)?(e.forEach(function(e){void 0!==e.context&&e.context||(e.context={}),e.context.col=t.col}),t.menuItems=t.defaultMenuItems.concat(e)):t.menuItems=t.defaultMenuItems});t.$on("$destroy",e)},sortable:function(t){return!!(t.grid.options.enableSorting&&void 0!==t.col&&t.col&&t.col.enableSorting)},isActiveSort:function(t,e){return void 0!==t.col&&void 0!==t.col.sort&&void 0!==t.col.sort.direction&&t.col.sort.direction===e},suppressRemoveSort:function(t){return!(!t.col||!t.col.suppressRemoveSort)},hideable:function(t){return void 0===t.col||!t.col||!t.col.colDef||!1!==t.col.colDef.enableHiding},getDefaultMenuItems:function(n){return[{title:t.getSafeText("sort.ascending"),icon:"ui-grid-icon-sort-alt-up",action:function(t){t.stopPropagation(),n.sortColumn(t,e.ASC)},shown:function(){return r.sortable(n)},active:function(){return r.isActiveSort(n,e.ASC)}},{title:t.getSafeText("sort.descending"),icon:"ui-grid-icon-sort-alt-down",action:function(t){t.stopPropagation(),n.sortColumn(t,e.DESC)},shown:function(){return r.sortable(n)},active:function(){return r.isActiveSort(n,e.DESC)}},{title:t.getSafeText("sort.remove"),icon:"ui-grid-icon-cancel",action:function(t){t.stopPropagation(),n.unsortColumn()},shown:function(){return r.sortable(n)&&void 0!==n.col&&void 0!==n.col.sort&&void 0!==n.col.sort.direction&&null!==n.col.sort.direction&&!r.suppressRemoveSort(n)}},{title:t.getSafeText("column.hide"),icon:"ui-grid-icon-cancel",shown:function(){return r.hideable(n)},action:function(t){t.stopPropagation(),n.hideColumn()}}]},getColumnElementPosition:function(t,e,r){var i={};return i.left=r[0].offsetLeft,i.top=r[0].offsetTop,i.parentLeft=r[0].offsetParent.offsetLeft,i.offset=0,e.grid.options.offsetLeft&&(i.offset=e.grid.options.offsetLeft),i.height=n.elementHeight(r,!0),i.width=n.elementWidth(r,!0),i},repositionMenu:function(t,e,r,i,o){var a=i[0].querySelectorAll(".ui-grid-menu"),s=n.closestElm(o,".ui-grid-render-container"),l=s.getBoundingClientRect().left-t.grid.element[0].getBoundingClientRect().left,u=s.querySelectorAll(".ui-grid-viewport")[0].scrollLeft,c=e.lastMenuWidth?e.lastMenuWidth:t.lastMenuWidth?t.lastMenuWidth:170,d=e.lastMenuPaddingRight?e.lastMenuPaddingRight:t.lastMenuPaddingRight?t.lastMenuPaddingRight:10;if(0!==a.length){var h=a[0].querySelectorAll(".ui-grid-menu-mid");0===h.length||angular.element(h).hasClass("ng-hide")||(c=n.elementWidth(a,!0),t.lastMenuWidth=c,e.lastMenuWidth=c,d=parseInt(n.getStyles(angular.element(a)[0]).paddingRight,10),t.lastMenuPaddingRight=d,e.lastMenuPaddingRight=d)}var f=r.left+l-u+r.parentLeft+r.width-c+d;f<r.offset&&(f=r.offset),i.css("left",f+"px"),i.css("top",r.top+r.height+"px")}};return r}]).directive("uiGridColumnMenu",["$timeout","gridUtil","uiGridConstants","uiGridColumnMenuService","$document",function(t,e,n,r,i){return{priority:0,scope:!0,require:"^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:!0,link:function(o,a,s,l){r.initialize(o,l),o.defaultMenuItems=r.getDefaultMenuItems(o),o.menuItems=o.defaultMenuItems,r.setColMenuItemWatch(o),o.showMenu=function(t,e,n){o.col=t;var i=r.getColumnElementPosition(o,t,e);o.menuShown?(o.colElement=e,o.colElementPosition=i,o.hideThenShow=!0,o.$broadcast("hide-menu",{originalEvent:n})):(o.menuShown=!0,r.repositionMenu(o,t,i,a,e),o.colElement=e,o.colElementPosition=i,o.$broadcast("show-menu",{originalEvent:n}))},o.hideMenu=function(t){o.menuShown=!1,t||o.$broadcast("hide-menu")},o.$on("menu-hidden",function(){o.hideThenShow?(delete o.hideThenShow,r.repositionMenu(o,o.col,o.colElementPosition,a,o.colElement),o.$broadcast("show-menu"),o.menuShown=!0):(o.hideMenu(!0),o.col&&e.focus.bySelector(i,".ui-grid-header-cell."+o.col.getColClass()+" .ui-grid-column-menu-button",o.col.grid,!1))}),o.$on("menu-shown",function(){t(function(){r.repositionMenu(o,o.col,o.colElementPosition,a,o.colElement),e.focus.bySelector(i,".ui-grid-menu-items .ui-grid-menu-item",!0),delete o.colElementPosition,delete o.columnElement},200)}),o.sortColumn=function(t,e){t.stopPropagation(),o.grid.sortColumn(o.col,e,!0).then(function(){o.grid.refresh(),o.hideMenu()})},o.unsortColumn=function(){o.col.unsort(),o.grid.refresh(),o.hideMenu()};var u=function(){t(function(){var t,n=function(){return e.focus.byId("grid-menu",o.grid)};o.grid.columns.some(function(e,n){if(angular.equals(e,o.col))return t=n,!0});var r;if(o.grid.columns.some(function(e,n){if(!e.visible)return!1;if(n<t)r=e;else{if(n>t&&!r)return r=e,!0;if(n>t&&r)return!0}}),r){var a=r.getColClass();e.focus.bySelector(i,".ui-grid-header-cell."+a+" .ui-grid-header-cell-primary-focus",!0).then(angular.noop,function(t){if("canceled"!==t)return n()})}else n()})};o.hideColumn=function(){o.col.colDef.visible=!1,o.col.visible=!1,o.grid.queueGridRefresh(),o.hideMenu(),o.grid.api.core.notifyDataChange(n.dataChange.COLUMN),o.grid.api.core.raise.columnVisibilityChanged(o.col),u()}},controller:["$scope",function(t){var e=this;t.$watch("menuItems",function(t){e.menuItems=t})}]}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFilter",["$compile","$templateCache","i18nService","gridUtil",function(t,e,n,r){return{compile:function(){return{pre:function(e,n,r,i){e.col.updateFilters=function(r){if(n.children().remove(),r){var i=e.col.filterHeaderTemplate;n.append(t(i)(e))}},e.$on("$destroy",function(){delete e.col.updateFilters})},post:function(t,e,i,o){t.aria=n.getSafeText("headerCell.aria"),t.removeFilter=function(t,n){t.term=null,r.focus.bySelector(e,".ui-grid-filter-input-"+n)}}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooterCell",["$timeout","gridUtil","uiGridConstants","$compile",function(t,e,n,r){return{priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:!0,require:"^uiGrid",compile:function(t,e,i){return{pre:function(t,e,n,i){var o=r(t.col.footerCellTemplate)(t);e.append(o)},post:function(t,e,r,i){t.grid=i.grid;var o=t.col.getColClass(!1);e.addClass(o);var a,s=function(n){var r=e;a&&(r.removeClass(a),a=null),a=angular.isFunction(t.col.footerCellClass)?t.col.footerCellClass(t.grid,t.row,t.col,t.rowRenderIndex,t.colRenderIndex):t.col.footerCellClass,r.addClass(a)};t.col.footerCellClass&&s(),t.col.updateAggregationValue();var l=t.grid.registerDataChangeCallback(s,[n.dataChange.COLUMN]);t.grid.api.core.on.rowsRendered(t,t.col.updateAggregationValue),t.grid.api.core.on.rowsRendered(t,s),t.$on("$destroy",l)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(t,e,n,r,i){return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(t,n){return{pre:function(t,n,i,o){var a=o[0],s=o[1];t.grid=a.grid,t.colContainer=s.colContainer,s.footer=n;var l=t.grid.options.footerTemplate;r.getTemplate(l).then(function(r){var i=angular.element(r),o=e(i)(t);if(n.append(o),s){var a=n[0].getElementsByClassName("ui-grid-footer-viewport")[0];a&&(s.footerViewport=a)}})},post:function(t,e,n,i){var o=i[0],a=i[1];o.grid;r.disableAnimations(e),a.footer=e;var s=e[0].getElementsByClassName("ui-grid-footer-viewport")[0];s&&(a.footerViewport=s)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(t,e,n,r,i){return{restrict:"EA",replace:!0,require:"^uiGrid",scope:!0,compile:function(t,n){return{pre:function(t,n,i,o){t.grid=o.grid;var a=t.grid.options.gridFooterTemplate;r.getTemplate(a).then(function(r){var i=angular.element(r),o=e(i)(t);n.append(o)})},post:function(t,e,n,r){}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGroupPanel",["$compile","uiGridConstants","gridUtil",function(t,e,n){return{restrict:"EA",replace:!0,require:"?^uiGrid",scope:!1,compile:function(e,r){return{pre:function(e,r,i,o){var a=e.grid.options.groupPanelTemplate||"ui-grid/ui-grid-group-panel";n.getTemplate(a).then(function(n){var i=angular.element(n),o=t(i)(e);r.append(o)})},post:function(t,e,n,r){e.bind("$destroy",function(){})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeaderCell",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","ScrollEvent","i18nService",function(t,e,n,r,i,o,a,s){return{priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:["^uiGrid","^uiGridRenderContainer"],replace:!0,compile:function(){return{pre:function(e,n,r){var i=t(e.col.headerCellTemplate)(e);n.append(i)},post:function(t,n,i,a){var l=a[0],u=a[1];t.i18n={headerCell:s.getSafeText("headerCell"),sort:s.getSafeText("sort")},t.isSortPriorityVisible=function(){return angular.isNumber(t.col.sort.priority)&&t.grid.columns.some(function(e,n){return angular.isNumber(e.sort.priority)&&e!==t.col})},t.getSortDirectionAriaLabel=function(){var e=t.col,n=e.sort.direction===o.ASC?t.i18n.sort.ascending:e.sort.direction===o.DESC?t.i18n.sort.descending:t.i18n.sort.none;return t.isSortPriorityVisible()&&(n=n+". "+t.i18n.headerCell.priority+" "+e.sort.priority),n},t.grid=l.grid,t.renderContainer=l.grid.renderContainers[u.containerId];var c=t.col.getColClass(!1);n.addClass(c),t.menuShown=!1,t.asc=o.ASC,t.desc=o.DESC;angular.element(n[0].querySelectorAll(".ui-grid-header-cell-menu"));var d,h,f=angular.element(n[0].querySelectorAll(".ui-grid-cell-contents")),p=[];t.downFn=function(i){i.stopPropagation(),void 0!==i.originalEvent&&void 0!==i.originalEvent&&(i=i.originalEvent),i.button&&0!==i.button||(h=i.pageX,t.mousedownStartTime=(new Date).getTime(),t.mousedownTimeout=e(function(){},500),t.mousedownTimeout.then(function(){t.colMenu&&l.columnMenuScope.showMenu(t.col,n,i)}),l.fireEvent(o.events.COLUMN_HEADER_CLICK,{event:i,columnName:t.col.colDef.name}),t.offAllEvents(),"touchstart"===i.type?(r.on("touchend",t.upFn),r.on("touchmove",t.moveFn)):"mousedown"===i.type&&(r.on("mouseup",t.upFn),r.on("mousemove",t.moveFn)))},t.upFn=function(n){n.stopPropagation(),e.cancel(t.mousedownTimeout),t.offAllEvents(),t.onDownEvents(n.type),(new Date).getTime()-t.mousedownStartTime>500||t.sortable&&t.handleClick(n)},t.moveFn=function(n){0!==n.pageX-h&&(e.cancel(t.mousedownTimeout),t.offAllEvents(),t.onDownEvents(n.type))},t.clickFn=function(e){e.stopPropagation(),f.off("click",t.clickFn)},t.offAllEvents=function(){f.off("touchstart",t.downFn),f.off("mousedown",t.downFn),r.off("touchend",t.upFn),r.off("mouseup",t.upFn),r.off("touchmove",t.moveFn),r.off("mousemove",t.moveFn),f.off("click",t.clickFn)},t.onDownEvents=function(n){switch(n){case"touchmove":case"touchend":f.on("click",t.clickFn),f.on("touchstart",t.downFn),e(function(){f.on("mousedown",t.downFn)},500);break;case"mousemove":case"mouseup":f.on("click",t.clickFn),f.on("mousedown",t.downFn),e(function(){f.on("touchstart",t.downFn)},500);break;default:f.on("click",t.clickFn),f.on("touchstart",t.downFn),f.on("mousedown",t.downFn)}};var g=function(r){var i=n;d&&(i.removeClass(d),d=null),d=angular.isFunction(t.col.headerCellClass)?t.col.headerCellClass(t.grid,t.row,t.col,t.rowRenderIndex,t.colRenderIndex):t.col.headerCellClass,i.addClass(d),e(function(){var e=t.grid.renderContainers.right?t.grid.renderContainers.right:t.grid.renderContainers.body;t.isLastCol=t.col===e.visibleColumnCache[e.visibleColumnCache.length-1]}),l.grid.options.enableSorting&&t.col.enableSorting?t.sortable=!0:t.sortable=!1;var a=t.filterable;l.grid.options.enableFiltering&&t.col.enableFiltering?t.filterable=!0:t.filterable=!1,a!==t.filterable&&(void 0!==t.col.updateFilters&&t.col.updateFilters(t.filterable),t.filterable?(t.col.filters.forEach(function(e,n){p.push(t.$watch("col.filters["+n+"].term",function(t,e){t!==e&&(l.grid.api.core.raise.filterChanged(),l.grid.api.core.notifyDataChange(o.dataChange.COLUMN),l.grid.queueGridRefresh())}))}),t.$on("$destroy",function(){p.forEach(function(t){t()})})):p.forEach(function(t){t()})),t.col.grid.options&&!1!==t.col.grid.options.enableColumnMenus&&t.col.colDef&&!1!==t.col.colDef.enableColumnMenu?t.colMenu=!0:t.colMenu=!1,t.offAllEvents(),(t.sortable||t.colMenu)&&(t.onDownEvents(),t.$on("$destroy",function(){t.offAllEvents()}))};g();var m=t.grid.registerDataChangeCallback(g,[o.dataChange.COLUMN]);t.$on("$destroy",m),t.handleClick=function(e){var n=!1;e.shiftKey&&(n=!0),l.grid.sortColumn(t.col,n).then(function(){l.columnMenuScope&&l.columnMenuScope.hideMenu(),l.grid.refresh()})},t.toggleMenu=function(e){e.stopPropagation(),l.columnMenuScope.menuShown&&l.columnMenuScope.col===t.col?l.columnMenuScope.hideMenu():l.columnMenuScope.showMenu(t.col,n)}}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeader",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout","ScrollEvent",function(t,e,n,r,i,o){return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(t,n){return{pre:function(t,n,i,a){function s(){c.header=c.colContainer.header=n;var t=n[0].getElementsByClassName("ui-grid-header-canvas");t.length>0?c.headerCanvas=c.colContainer.headerCanvas=t[0]:c.headerCanvas=null}function l(t){if(!u.grid.isScrollingHorizontally){var e=r.normalizeScrollLeft(c.headerViewport,u.grid),n=c.colContainer.scrollHorizontal(e),i=new o(u.grid,null,c.colContainer,o.Sources.ViewPortScroll);i.newScrollLeft=e,n>-1&&(i.x={percentage:n}),u.grid.scrollContainers(null,i)}}var u=a[0],c=a[1];t.grid=u.grid,t.colContainer=c.colContainer,s();var d;d=t.grid.options.showHeader?t.grid.options.headerTemplate?t.grid.options.headerTemplate:"ui-grid/ui-grid-header":"ui-grid/ui-grid-no-header",r.getTemplate(d).then(function(r){var i=angular.element(r),o=e(i)(t);if(n.replaceWith(o),n=o,s(),c){var a=n[0].getElementsByClassName("ui-grid-header-viewport")[0];a&&(c.headerViewport=a,angular.element(a).on("scroll",l),t.$on("$destroy",function(){angular.element(a).off("scroll",l)}))}t.grid.queueRefresh()})},post:function(t,e,n,i){function o(){var t="",e=0;return s.colContainer.visibleColumnCache.forEach(function(n){t+=n.getColClassDefinition(),e+=n.drawnWidth}),s.colContainer.canvasWidth=e,t}var a=i[0],s=i[1];a.grid;r.disableAnimations(e),s.header=e;var l=e[0].getElementsByClassName("ui-grid-header-viewport")[0];l&&(s.headerViewport=l),a&&a.grid.registerStyleComputation({priority:15,func:o})}}}}}])}(),function(){angular.module("ui.grid").service("uiGridGridMenuService",["gridUtil","i18nService","uiGridConstants",function(t,e,n){var r={initialize:function(t,e){e.gridMenuScope=t,t.grid=e,t.registeredMenuItems=[],t.$on("$destroy",function(){t.grid&&t.grid.gridMenuScope&&(t.grid.gridMenuScope=null),t.grid&&(t.grid=null),t.registeredMenuItems&&(t.registeredMenuItems=null)}),t.registeredMenuItems=[],e.api.registerMethod("core","addToGridMenu",r.addToGridMenu),e.api.registerMethod("core","removeFromGridMenu",r.removeFromGridMenu)},addToGridMenu:function(e,n){angular.isArray(n)?e.gridMenuScope?(e.gridMenuScope.registeredMenuItems=e.gridMenuScope.registeredMenuItems?e.gridMenuScope.registeredMenuItems:[],e.gridMenuScope.registeredMenuItems=e.gridMenuScope.registeredMenuItems.concat(n)):t.logError("Asked to addToGridMenu, but gridMenuScope not present.  Timing issue?  Please log issue with ui-grid"):t.logError("addToGridMenu: menuItems must be an array, and is not, not adding any items")},removeFromGridMenu:function(e,n){var r=-1;e&&e.gridMenuScope&&e.gridMenuScope.registeredMenuItems.forEach(function(e,i){e.id===n&&(r>-1?t.logError("removeFromGridMenu: found multiple items with the same id, removing only the last"):r=i)}),r>-1&&e.gridMenuScope.registeredMenuItems.splice(r,1)},getMenuItems:function(n){var i=[];n.grid.options.gridMenuCustomItems&&(angular.isArray(n.grid.options.gridMenuCustomItems)?i=i.concat(n.grid.options.gridMenuCustomItems):t.logError("gridOptions.gridMenuCustomItems must be an array, and is not"));var o=[{title:e.getSafeText("gridMenu.clearAllFilters"),action:function(t){n.grid.clearAllFilters(void 0,!0,void 0)},shown:function(){return n.grid.options.enableFiltering},order:100}];return i=i.concat(o),i=i.concat(n.registeredMenuItems),!1!==n.grid.options.gridMenuShowHideColumns&&(i=i.concat(r.showHideColumns(n))),i.sort(function(t,e){return t.order-e.order}),i},showHideColumns:function(t){var n=[];return t.grid.options.columnDefs&&0!==t.grid.options.columnDefs.length&&0!==t.grid.columns.length?(n.push({title:e.getSafeText("gridMenu.columns"),order:300}),t.grid.options.gridMenuTitleFilter=t.grid.options.gridMenuTitleFilter?t.grid.options.gridMenuTitleFilter:function(t){return t},t.grid.options.columnDefs.forEach(function(e,i){if(!1!==e.enableHiding){var o={icon:"ui-grid-icon-ok",action:function(t){t.stopPropagation(),r.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!0===this.context.gridCol.colDef.visible||void 0===this.context.gridCol.colDef.visible},context:{gridCol:t.grid.getColumn(e.name||e.field)},leaveOpen:!0,order:301+2*i};r.setMenuItemTitle(o,e,t.grid),n.push(o),o={icon:"ui-grid-icon-cancel",action:function(t){t.stopPropagation(),r.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!(!0===this.context.gridCol.colDef.visible||void 0===this.context.gridCol.colDef.visible)},context:{gridCol:t.grid.getColumn(e.name||e.field)},leaveOpen:!0,order:301+2*i+1},r.setMenuItemTitle(o,e,t.grid),n.push(o)}}),n):n},setMenuItemTitle:function(e,n,r){var i=r.options.gridMenuTitleFilter(n.displayName||t.readableColumnName(n.name)||n.field);"string"==typeof i?e.title=i:i.then?(e.title="",i.then(function(t){e.title=t},function(t){e.title=t})):(t.logError("Expected gridMenuTitleFilter to return a string or a promise, it has returned neither, bad config"),e.title="badconfig")},toggleColumnVisibility:function(t){t.colDef.visible=!(!0===t.colDef.visible||void 0===t.colDef.visible),t.grid.refresh(),t.grid.api.core.notifyDataChange(n.dataChange.COLUMN),t.grid.api.core.raise.columnVisibilityChanged(t)}};return r}]).directive("uiGridMenuButton",["gridUtil","uiGridConstants","uiGridGridMenuService","i18nService",function(t,e,n,r){return{priority:0,scope:!0,require:["^uiGrid"],templateUrl:"ui-grid/ui-grid-menu-button",replace:!0,link:function(e,i,o,a){var s=a[0];e.i18n={aria:r.getSafeText("gridMenu.aria")},n.initialize(e,s.grid),e.shown=!1,e.toggleMenu=function(){e.shown?(e.$broadcast("hide-menu"),e.shown=!1):(e.menuItems=n.getMenuItems(e),e.$broadcast("show-menu"),e.shown=!0)},e.$on("menu-hidden",function(){e.shown=!1,t.focus.bySelector(i,".ui-grid-icon-container")})}}}])}(),function(){angular.module("ui.grid").directive("uiGridMenu",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","i18nService",function(t,e,n,r,i,o,a){return{priority:0,scope:{menuItems:"=",autoHide:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:!1,link:function(t,r,s,l){t.dynamicStyles="";var u=function(e){var n=e-l.grid.headerHeight-20;t.dynamicStyles=[".grid"+l.grid.id+" .ui-grid-menu-mid {","max-height: "+n+"px;","}"].join(" ")};l&&(u(l.grid.gridHeight),l.grid.api.core.on.gridDimensionChanged(t,function(t,e,n,r){u(n)})),t.i18n={close:a.getSafeText("columnMenu.close")},t.showMenu=function(n,o){t.shown?t.shownMid||(t.shownMid=!0,t.$emit("menu-shown")):(t.shown=!0,e(function(){t.shownMid=!0,t.$emit("menu-shown")}));var a="click";o&&o.originalEvent&&o.originalEvent.type&&"touchstart"===o.originalEvent.type&&(a=o.originalEvent.type),angular.element(document).off("click touchstart",c),r.off("keyup",d),r.off("keydown",h),e(function(){angular.element(document).on(a,c),r.on("keyup",d),r.on("keydown",h)}),i.focus.bySelector(r,"button[type=button]",!0)},t.hideMenu=function(n){t.shown&&(t.shownMid=!1,e(function(){t.shownMid||(t.shown=!1,t.$emit("menu-hidden"))},200)),angular.element(document).off("click touchstart",c),r.off("keyup",d),r.off("keydown",h)},t.$on("hide-menu",function(e,n){t.hideMenu(e,n)}),t.$on("show-menu",function(e,n){t.showMenu(e,n)});var c=function(){t.shown&&t.$apply(function(){t.hideMenu()})},d=function(e){27===e.keyCode&&t.hideMenu()},h=function(t){var e=function(e){return e.focus(),t.preventDefault(),!1};if(9===t.keyCode){var n,i,o=r[0].querySelectorAll("button:not(.ng-hide)");o.length>0&&(n=o[0],i=o[o.length-1],t.target!==i||t.shiftKey?t.target===n&&t.shiftKey&&e(i):e(n))}};void 0!==t.autoHide&&void 0!==t.autoHide||(t.autoHide=!0),t.autoHide&&angular.element(n).on("resize",c),t.$on("$destroy",function(){angular.element(document).off("click touchstart",c)}),t.$on("$destroy",function(){angular.element(n).off("resize",c)}),l&&t.$on("$destroy",l.grid.api.core.on.scrollBegin(t,c)),t.$on("$destroy",t.$on(o.events.ITEM_DRAGGING,c))}}}]).directive("uiGridMenuItem",["gridUtil","$compile","i18nService",function(t,e,n){return{priority:0,scope:{name:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"=",leaveOpen:"=",screenReaderOnly:"="},require:["?^uiGrid"],templateUrl:"ui-grid/uiGridMenuItem",replace:!1,compile:function(){return{pre:function(n,r){n.templateUrl&&t.getTemplate(n.templateUrl).then(function(t){var i=angular.element(t),o=e(i)(n);r.replaceWith(o)})},post:function(e,r,i,o){var a=o[0];void 0!==e.shown&&null!==e.shown||(e.shown=function(){return!0}),e.itemShown=function(){var t={};return e.context&&(t.context=e.context),void 0!==a&&a&&(t.grid=a.grid),e.shown.call(t)},e.itemAction=function(n,i){if(n.stopPropagation(),"function"==typeof e.action){var o={};e.context&&(o.context=e.context),void 0!==a&&a&&(o.grid=a.grid),e.action.call(o,n,i),e.leaveOpen?t.focus.bySelector(angular.element(t.closestElm(r,".ui-grid-menu-items")),"button[type=button]",!0):e.$emit("hide-menu")}},e.i18n=n.get()}}}}}])}(),function(){"use strict";var t=angular.module("ui.grid");angular.forEach([{tag:"Src",method:"attr"},{tag:"Text",method:"text"},{tag:"Href",method:"attr"},{tag:"Class",method:"addClass"},{tag:"Html",method:"html"},{tag:"Alt",method:"attr"},{tag:"Style",method:"css"},{tag:"Value",method:"attr"},{tag:"Id",method:"attr"},{tag:"Id",directiveName:"IdGrid",method:"attr",appendGridId:!0},{tag:"Title",method:"attr"},{tag:"Label",method:"attr",aria:!0},{tag:"Labelledby",method:"attr",aria:!0},{tag:"Labelledby",directiveName:"LabelledbyGrid",appendGridId:!0,method:"attr",aria:!0},{tag:"Describedby",method:"attr",aria:!0},{tag:"Describedby",directiveName:"DescribedbyGrid",appendGridId:!0,method:"attr",aria:!0}],function(e){var n=(e.aria?"uiGridOneBindAria":"uiGridOneBind")+(e.directiveName?e.directiveName:e.tag);t.directive(n,["gridUtil",function(t){return{restrict:"A",require:["?uiGrid","?^uiGrid"],link:function(r,i,o,a){var s=function(e){var i;if(r.grid)i=r.grid;else if(r.col&&r.col.grid)i=r.col.grid;else if(!a.some(function(t){if(t&&t.grid)return i=t.grid,!0}))throw t.logError("["+n+"] A valid grid could not be found to bind id. Are you using this directive within the correct scope? Trying to generate id: [gridID]-"+e),new Error("No valid grid could be found");return i&&(new RegExp(i.id.toString()).test(e)||(e=i.id.toString()+"-"+e)),e},l=r.$watch(o[n],function(t){if(t){if(e.appendGridId){var n=null;angular.forEach(t.split(" "),function(t){n=(n?n+" ":"")+s(t)}),t=n}switch(e.method){case"attr":e.aria?i[e.method]("aria-"+e.tag.toLowerCase(),t):i[e.method](e.tag.toLowerCase(),t);break;case"addClass":if(angular.isObject(t)&&!angular.isArray(t)){var r=[],o=!1;if(angular.forEach(t,function(t,e){null!==t&&void 0!==t&&(o=!0,t&&r.push(e))}),!o)return;t=r}if(!t)return;i.addClass(angular.isArray(t)?t.join(" "):t);break;default:i[e.method](t)}l()}},!0)}}}])})}(),function(){"use strict";var t=angular.module("ui.grid");t.directive("uiGridRenderContainer",["$timeout","$document","uiGridConstants","gridUtil","ScrollEvent",function(t,e,n,r,i){return{replace:!0,transclude:!0,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableVerticalScrollbar:"=",enableHorizontalScrollbar:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function(t,e,n,r){var i=r[0],o=r[1],a=t.grid=i.grid;if(!t.rowContainerName)throw"No row render container name specified";if(!t.colContainerName)throw"No column render container name specified";if(!a.renderContainers[t.rowContainerName])throw"Row render container '"+t.rowContainerName+"' is not registered.";if(!a.renderContainers[t.colContainerName])throw"Column render container '"+t.colContainerName+"' is not registered.";var s=t.rowContainer=a.renderContainers[t.rowContainerName],l=t.colContainer=a.renderContainers[t.colContainerName];o.containerId=t.containerId,o.rowContainer=s,o.colContainer=l},post:function(t,e,n,o){function a(){var e="",n=d.canvasWidth,r=d.getViewportWidth(),i=c.getCanvasHeight(),o=c.getViewportHeight();d.needsHScrollbarPlaceholder()&&(o-=u.scrollbarHeight);var a,l;return a=l=d.getHeaderViewportWidth(),e+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+t.containerId+" .ui-grid-canvas { width: "+n+"px; height: "+i+"px; }",e+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+t.containerId+" .ui-grid-header-canvas { width: "+(n+u.scrollbarWidth)+"px; }",p.explicitHeaderCanvasHeight?e+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+t.containerId+" .ui-grid-header-canvas { height: "+p.explicitHeaderCanvasHeight+"px; }":e+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+t.containerId+" .ui-grid-header-canvas { height: inherit; }",e+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+t.containerId+" .ui-grid-viewport { width: "+r+"px; height: "+o+"px; }",e+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+t.containerId+" .ui-grid-header-viewport { width: "+a+"px; }",e+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+t.containerId+" .ui-grid-footer-canvas { width: "+(n+u.scrollbarWidth)+"px; }",e+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+t.containerId+" .ui-grid-footer-viewport { width: "+l+"px; }"}var s=o[0],l=o[1],u=s.grid,c=l.rowContainer,d=l.colContainer,h=null,f=null,p=u.renderContainers[t.containerId];e.addClass("ui-grid-render-container-"+t.containerId),r.on.mousewheel(e,function(t){var e=new i(u,c,d,i.Sources.RenderContainerMouseWheel);if(0!==t.deltaY){var n=-1*t.deltaY*t.deltaFactor;h=l.viewport[0].scrollTop,e.verticalScrollLength=c.getVerticalScrollLength();var o=(h+n)/e.verticalScrollLength;o>=1&&h<e.verticalScrollLength&&(l.viewport[0].scrollTop=e.verticalScrollLength),o<0?o=0:o>1&&(o=1),e.y={percentage:o,pixels:n}}if(0!==t.deltaX){var a=t.deltaX*t.deltaFactor;f=r.normalizeScrollLeft(l.viewport,u),e.horizontalScrollLength=d.getCanvasWidth()-d.getViewportWidth();var s=(f+a)/e.horizontalScrollLength;s<0?s=0:s>1&&(s=1),e.x={percentage:s,pixels:a}}0!==t.deltaY&&(e.atTop(h)||e.atBottom(h))||0!==t.deltaX&&(e.atLeft(f)||e.atRight(f))||(t.preventDefault(),t.stopPropagation(),e.fireThrottledScrollingEvent("",e))}),e.bind("$destroy",function(){e.unbind("keydown"),["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(t){e.unbind(t)})}),s.grid.registerStyleComputation({priority:6,func:a})}}}}}]),t.controller("uiGridRenderContainer",["$scope","gridUtil",function(t,e){}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridRow",["gridUtil",function(t){return{replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function(t,e,n,r){function i(){t.row.getRowTemplateFn.then(function(n){var r=t.$new();n(r,function(t,n){s&&(s.remove(),l.$destroy()),e.empty().append(t),s=t,l=r})})}var o=r[0],a=r[1];o.grid;t.grid=o.grid,t.colContainer=a.colContainer;var s,l;i(),t.$watch("row.getRowTemplateFn",function(t,e){t!==e&&i()})},post:function(t,e,n,r){}}}}}])}(),function(){angular.module("ui.grid").directive("uiGridStyle",["gridUtil","$interpolate",function(t,e){return{link:function(t,n,r,i){var o=e(n.text(),!0);o&&t.$watch(o,function(t){n.text(t)})}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridViewport",["gridUtil","ScrollEvent","uiGridConstants","$log",function(t,e,n,r){return{replace:!0,scope:{},controllerAs:"Viewport",templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function(n,r,i,o){function a(i){var o=r[0].scrollTop,a=t.normalizeScrollLeft(r,g),s=f.scrollVertical(o),l=p.scrollHorizontal(a),u=new e(g,f,p,e.Sources.ViewPortScroll);u.newScrollLeft=a,u.newScrollTop=o,l>-1&&(u.x={percentage:l}),s>-1&&(u.y={percentage:s}),g.scrollContainers(n.$parent.containerId,u)}function s(t){h.prevScrollArgs=t;var e=t.getNewScrollTop(f,h.viewport);r[0].scrollTop=e}function l(e){h.prevScrollArgs=e;var n=e.getNewScrollLeft(p,h.viewport);r[0].scrollLeft=t.denormalizeScrollLeft(h.viewport,n,g)}function u(e){var n=e.getNewScrollLeft(p,h.viewport);h.headerViewport&&(h.headerViewport.scrollLeft=t.denormalizeScrollLeft(h.viewport,n,g))}function c(e){var n=e.getNewScrollLeft(p,h.viewport);h.footerViewport&&(h.footerViewport.scrollLeft=t.denormalizeScrollLeft(h.viewport,n,g))}var d=o[0],h=o[1];n.containerCtrl=h;var f=h.rowContainer,p=h.colContainer,g=d.grid;n.grid=d.grid,n.rowContainer=h.rowContainer,n.colContainer=h.colContainer,h.viewport=r,r.on("scroll",a);n.$parent.bindScrollVertical&&g.addVerticalScrollSync(n.$parent.containerId,s),n.$parent.bindScrollHorizontal&&(g.addHorizontalScrollSync(n.$parent.containerId,l),g.addHorizontalScrollSync(n.$parent.containerId+"header",u),g.addHorizontalScrollSync(n.$parent.containerId+"footer",c))},controller:["$scope",function(t){this.rowStyle=function(e){var n=t.rowContainer,r=t.colContainer,i={};if(0===e&&0!==n.currentTopRow){var o=n.currentTopRow*n.grid.options.rowHeight;i["margin-top"]=o+"px"}return 0!==r.currentFirstColumn&&(r.grid.isRTL()?i["margin-right"]=r.columnOffset+"px":i["margin-left"]=r.columnOffset+"px"),i}}]}}])}(),function(){angular.module("ui.grid").directive("uiGridVisible",function(){return function(t,e,n){t.$watch(n.uiGridVisible,function(t){e[t?"removeClass":"addClass"]("ui-grid-invisible")})}})}(),function(){"use strict";function t(t,e,n,r,i,o){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"="},replace:!0,transclude:!0,controller:"uiGridController",compile:function(){return{post:function(t,e,a,s){function l(){e[0].offsetWidth<=0&&g<p?(setTimeout(l,f),g++):n(u)}function u(){h.gridWidth=t.gridWidth=i.elementWidth(e),h.canvasWidth=s.grid.gridWidth,h.gridHeight=t.gridHeight=i.elementHeight(e),h.gridHeight<=h.options.rowHeight&&h.options.enableMinHeightCheck&&c(),h.refreshCanvas(!0)}function c(){var n=h.options.minRowsToShow*h.options.rowHeight,r=h.options.showHeader?h.options.headerRowHeight:0,a=h.calcFooterHeight(),s=0;h.options.enableHorizontalScrollbar===o.scrollbars.ALWAYS&&(s=i.getScrollbarWidth());var l=0;angular.forEach(h.options.columnDefs,function(t){t.hasOwnProperty("filter")?l<1&&(l=1):t.hasOwnProperty("filters")&&l<t.filters.length&&(l=t.filters.length)}),h.options.enableFiltering&&!l&&(h.options.columnDefs.length&&h.options.columnDefs.every(function(t){return!1===t.enableFiltering})||(l=1));var u=r+n+a+s+l*r;e.css("height",u+"px"),h.gridHeight=t.gridHeight=i.elementHeight(e)}function d(n){h.gridWidth=t.gridWidth=i.elementWidth(e),h.gridHeight=t.gridHeight=i.elementHeight(e),h.refreshCanvas(!0)}var h=s.grid;s.scrollbars=[],h.element=e;var f=100,p=20,g=0;!function(){angular.element(r).on("resize",d),e.on("$destroy",function(){angular.element(r).off("resize",d)}),t.$watch(function(){return h.hasLeftContainer()},function(t,e){t!==e&&h.refreshCanvas(!0)}),t.$watch(function(){return h.hasRightContainer()},function(t,e){t!==e&&h.refreshCanvas(!0)})}(),u(),h.renderingComplete(),l()}}}}}angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","gridUtil","$q","uiGridConstants","$templateCache","gridClassFactory","$timeout","$parse","$compile",function(t,e,n,r,i,o,a,s,l,u,c){function d(e,n){e&&e!==n&&(f.grid.options.columnDefs=t.uiGrid.columnDefs,f.grid.buildColumns({orderByColumnDefs:!0}).then(function(){f.grid.preCompileCellTemplates(),f.grid.callDataChangeCallbacks(o.dataChange.COLUMN)}))}function h(e){var r=[];if(f.grid.options.fastWatch&&(e=angular.isString(t.uiGrid.data)?f.grid.appScope[t.uiGrid.data]:t.uiGrid.data),g=e,e){var a=f.grid.columns.length>(f.grid.rowHeaderColumns?f.grid.rowHeaderColumns.length:0);!a&&!n.uiGridColumns&&0===f.grid.options.columnDefs.length&&e.length>0&&f.grid.buildColumnDefsFromData(e),!a&&(f.grid.options.columnDefs.length>0||e.length>0)&&r.push(f.grid.buildColumns().then(function(){f.grid.preCompileCellTemplates()})),i.all(r).then(function(){f.grid.modifyRows(g).then(function(){f.grid.redrawInPlace(!0),t.$evalAsync(function(){f.grid.refreshCanvas(!0),f.grid.callDataChangeCallbacks(o.dataChange.ROW)})})})}}var f=this;f.grid=s.createGrid(t.uiGrid),f.grid.appScope=f.grid.appScope||t.$parent,e.addClass("grid"+f.grid.id),f.grid.rtl="rtl"===r.getStyles(e[0]).direction,t.grid=f.grid,n.uiGridColumns&&n.$observe("uiGridColumns",function(t){f.grid.options.columnDefs=t,f.grid.buildColumns().then(function(){f.grid.preCompileCellTemplates(),f.grid.refreshCanvas(!0)})});var p=[];f.grid.options.fastWatch?(f.uiGrid=t.uiGrid,angular.isString(t.uiGrid.data)?(p.push(t.$parent.$watch(t.uiGrid.data,h)),p.push(t.$parent.$watch(function(){return f.grid.appScope[t.uiGrid.data]?f.grid.appScope[t.uiGrid.data].length:void 0},h))):(p.push(t.$parent.$watch(function(){return t.uiGrid.data},h)),p.push(t.$parent.$watch(function(){return t.uiGrid.data.length},function(){h(t.uiGrid.data)}))),p.push(t.$parent.$watch(function(){return t.uiGrid.columnDefs},d)),p.push(t.$parent.$watch(function(){return t.uiGrid.columnDefs.length},function(){d(t.uiGrid.columnDefs)}))):(angular.isString(t.uiGrid.data)?p.push(t.$parent.$watchCollection(t.uiGrid.data,h)):p.push(t.$parent.$watchCollection(function(){return t.uiGrid.data},h)),p.push(t.$parent.$watchCollection(function(){return t.uiGrid.columnDefs},d)));var g,m=t.$watch(function(){return f.grid.styleComputations},function(){f.grid.refreshCanvas(!0)});t.$on("$destroy",function(){p.forEach(function(t){t()}),m()}),f.fireEvent=function(e,n){void 0!==n&&void 0!==n||(n={}),void 0!==n.grid&&void 0!==n.grid||(n.grid=f.grid),t.$broadcast(e,n)},f.innerCompile=function(e){c(e)(t)}}]),angular.module("ui.grid").directive("uiGrid",t),t.$inject=["$compile","$templateCache","$timeout","$window","gridUtil","uiGridConstants"]}(),function(){"use strict";angular.module("ui.grid").directive("uiGridPinnedContainer",["gridUtil",function(t){return{restrict:"EA",replace:!0,template:'<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="\'body\'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"></div></div>',scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function(){return{post:function(t,e,n,r){function i(){var t=this,e=0;t.visibleColumnCache.forEach(function(t){e+=t.drawnWidth});var n=t.getViewportAdjustment();return e+=n.width}function o(){if("left"===t.side||"right"===t.side){for(var e=s.renderContainers[t.side].visibleColumnCache,n=0,r=0;r<e.length;r++){var i=e[r];n+=i.drawnWidth||i.width||0}return n}}function a(){var n="";return"left"!==t.side&&"right"!==t.side||(l=o(),e.attr("style",null),n+=".grid"+s.id+" .ui-grid-pinned-container-"+t.side+", .grid"+s.id+" .ui-grid-pinned-container-"+t.side+" .ui-grid-render-container-"+t.side+" .ui-grid-viewport { width: "+l+"px; } "),n}var s=r.grid,l=0;e.addClass("ui-grid-pinned-container-"+t.side),"left"!==t.side&&"right"!==t.side||(s.renderContainers[t.side].getViewportWidth=i),s.renderContainers.body.registerViewportAdjuster(function(e){return l=o(),e.width-=l,e.side=t.side,e}),s.registerStyleComputation({priority:15,func:a})}}}}}])}(),function(){angular.module("ui.grid").factory("Grid",["$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout","ScrollEvent",function(t,e,n,r,i,o,a,s,l,u,c,d,h,f){function p(){}var g=function(t){function e(t){a.isScrollingVertically=!1,a.api.core.raise.scrollEnd(t),a.scrollDirection=i.scrollDirection.NONE}function n(t){a.isScrollingHorizontally=!1,a.api.core.raise.scrollEnd(t),a.scrollDirection=i.scrollDirection.NONE}var a=this;if(void 0===t||void 0===t.id||!t.id)throw new Error("No ID provided. An ID must be given when creating a grid.");if(!/^[_a-zA-Z0-9-]+$/.test(t.id))throw new Error("Grid id '"+t.id+'" is invalid. It must follow CSS selector syntax rules.');a.id=t.id,delete t.id,a.options=o.initialize(t),a.appScope=a.options.appScopeProvider,a.headerHeight=a.options.headerRowHeight,a.footerHeight=a.calcFooterHeight(),a.columnFooterHeight=a.calcColumnFooterHeight(),a.rtl=!1,a.gridHeight=0,a.gridWidth=0,a.columnBuilders=[],a.rowBuilders=[],a.rowsProcessors=[],a.columnsProcessors=[],a.styleComputations=[],a.viewportAdjusters=[],a.rowHeaderColumns=[],a.dataChangeCallbacks={},a.verticalScrollSyncCallBackFns={},a.horizontalScrollSyncCallBackFns={},a.renderContainers={},a.renderContainers.body=new d("body",a),a.cellValueGetterCache={},a.getRowTemplateFn=null,a.rows=[],a.columns=[],a.isScrollingVertically=!1,a.isScrollingHorizontally=!1,a.scrollDirection=i.scrollDirection.NONE,a.disableScrolling=!1;var s=r.debounce(e,a.options.scrollDebounce),c=r.debounce(e,0),h=r.debounce(n,a.options.scrollDebounce),f=r.debounce(n,0);a.flagScrollingVertically=function(t){a.isScrollingVertically||a.isScrollingHorizontally||a.api.core.raise.scrollBegin(t),a.isScrollingVertically=!0,0!==a.options.scrollDebounce&&t.withDelay?s(t):c(t)},a.flagScrollingHorizontally=function(t){a.isScrollingVertically||a.isScrollingHorizontally||a.api.core.raise.scrollBegin(t),a.isScrollingHorizontally=!0,0!==a.options.scrollDebounce&&t.withDelay?h(t):f(t)},a.scrollbarHeight=0,a.scrollbarWidth=0,a.options.enableHorizontalScrollbar===i.scrollbars.ALWAYS&&(a.scrollbarHeight=r.getScrollbarWidth()),a.options.enableVerticalScrollbar===i.scrollbars.ALWAYS&&(a.scrollbarWidth=r.getScrollbarWidth()),a.api=new l(a),a.api.registerMethod("core","refresh",this.refresh),a.api.registerMethod("core","queueGridRefresh",this.queueGridRefresh),a.api.registerMethod("core","refreshRows",this.refreshRows),a.api.registerMethod("core","queueRefresh",this.queueRefresh),a.api.registerMethod("core","handleWindowResize",this.handleWindowResize),a.api.registerMethod("core","addRowHeaderColumn",this.addRowHeaderColumn),a.api.registerMethod("core","scrollToIfNecessary",function(t,e){return a.scrollToIfNecessary(t,e)}),a.api.registerMethod("core","scrollTo",function(t,e){return a.scrollTo(t,e)}),a.api.registerMethod("core","registerRowsProcessor",this.registerRowsProcessor),a.api.registerMethod("core","registerColumnsProcessor",this.registerColumnsProcessor),a.api.registerMethod("core","sortHandleNulls",u.handleNulls),a.api.registerEvent("core","sortChanged"),a.api.registerEvent("core","columnVisibilityChanged"),a.api.registerMethod("core","notifyDataChange",this.notifyDataChange),a.api.registerMethod("core","clearAllFilters",this.clearAllFilters),a.registerDataChangeCallback(a.columnRefreshCallback,[i.dataChange.COLUMN]),a.registerDataChangeCallback(a.processRowsCallback,[i.dataChange.EDIT]),a.registerDataChangeCallback(a.updateFooterHeightCallback,[i.dataChange.OPTIONS]),a.registerStyleComputation({priority:10,func:a.getFooterStyles})};g.prototype.calcFooterHeight=function(){if(!this.hasFooter())return 0;var t=0;return this.options.showGridFooter&&(t+=this.options.gridFooterHeight),t+=this.calcColumnFooterHeight()},g.prototype.calcColumnFooterHeight=function(){var t=0;return this.options.showColumnFooter&&(t+=this.options.columnFooterHeight),t},g.prototype.getFooterStyles=function(){var t=".grid"+this.id+" .ui-grid-footer-aggregates-row { height: "+this.options.columnFooterHeight+"px; }";return t+=" .grid"+this.id+" .ui-grid-footer-info { height: "+this.options.gridFooterHeight+"px; }"},g.prototype.hasFooter=function(){return this.options.showGridFooter||this.options.showColumnFooter},g.prototype.isRTL=function(){return this.rtl},g.prototype.registerColumnBuilder=function(t){this.columnBuilders.push(t)},g.prototype.buildColumnDefsFromData=function(t){this.options.columnDefs=r.getColumnsFromData(t,this.options.excludeProperties)},g.prototype.registerRowBuilder=function(t){this.rowBuilders.push(t)},g.prototype.registerDataChangeCallback=function(t,e,n){var o=r.nextUid();e||(e=[i.dataChange.ALL]),Array.isArray(e)||r.logError("Expected types to be an array or null in registerDataChangeCallback, value passed was: "+e),this.dataChangeCallbacks[o]={callback:t,types:e,_this:n};var a=this;return function(){delete a.dataChangeCallbacks[o]}},g.prototype.callDataChangeCallbacks=function(t,e){angular.forEach(this.dataChangeCallbacks,function(e,n){-1===e.types.indexOf(i.dataChange.ALL)&&-1===e.types.indexOf(t)&&t!==i.dataChange.ALL||(e._this?e.callback.apply(e._this,this):e.callback(this))},this)},g.prototype.notifyDataChange=function(t){var e=i.dataChange;t===e.ALL||t===e.COLUMN||t===e.EDIT||t===e.ROW||t===e.OPTIONS?this.callDataChangeCallbacks(t):r.logError("Notified of a data change, but the type was not recognised, so no action taken, type was: "+t)},g.prototype.columnRefreshCallback=function(t){t.buildColumns(),t.queueGridRefresh()},g.prototype.processRowsCallback=function(t){t.queueGridRefresh()},g.prototype.updateFooterHeightCallback=function(t){t.footerHeight=t.calcFooterHeight(),t.columnFooterHeight=t.calcColumnFooterHeight()},g.prototype.getColumn=function(t){var e=this.columns.filter(function(e){return e.colDef.name===t});return e.length>0?e[0]:null},g.prototype.getColDef=function(t){var e=this.options.columnDefs.filter(function(e){return e.name===t});return e.length>0?e[0]:null},g.prototype.assignTypes=function(){var t=this;t.options.columnDefs.forEach(function(e,n){if(!e.type){var i=new a(e,n,t),o=t.rows.length>0?t.rows[0]:null;e.type=o?r.guessType(t.getCellValue(o,i)):"string"}})},g.prototype.isRowHeaderColumn=function(t){return-1!==this.rowHeaderColumns.indexOf(t)},g.prototype.addRowHeaderColumn=function(t,e){var n=this;void 0===e&&(e=0);var i=new a(t,r.nextUid(),n);i.isRowHeader=!0,n.isRTL()?(n.createRightContainer(),i.renderContainer="right"):(n.createLeftContainer(),i.renderContainer="left"),n.columnBuilders[0](t,i,n.options).then(function(){i.enableFiltering=!1,i.enableSorting=!1,i.enableHiding=!1,i.headerPriority=e,n.rowHeaderColumns.push(i),n.rowHeaderColumns=n.rowHeaderColumns.sort(function(t,e){return t.headerPriority-e.headerPriority}),n.buildColumns().then(function(){n.preCompileCellTemplates(),n.queueGridRefresh()})})},g.prototype.getOnlyDataColumns=function(){var t=this,e=[];return t.columns.forEach(function(n){-1===t.rowHeaderColumns.indexOf(n)&&e.push(n)}),e},g.prototype.buildColumns=function(e){var n={orderByColumnDefs:!1};angular.extend(n,e);var i,o=this,s=[],l=o.rowHeaderColumns.length;for(i=0;i<o.columns.length;i++)o.getColDef(o.columns[i].name)||(o.columns.splice(i,1),i--);for(var u=o.rowHeaderColumns.length-1;u>=0;u--)o.columns.unshift(o.rowHeaderColumns[u]);if(o.options.columnDefs.forEach(function(t,e){o.preprocessColDef(t);var n=o.getColumn(t.name);n?n.updateColumnDef(t,!1):(n=new a(t,r.nextUid(),o),o.columns.splice(e+l,0,n)),o.columnBuilders.forEach(function(e){s.push(e.call(o,t,n,o.options))})}),n.orderByColumnDefs){var c=o.columns.slice(0),d=Math.min(o.options.columnDefs.length,o.columns.length);for(i=0;i<d;i++)o.columns[i+l].name!==o.options.columnDefs[i].name?c[i+l]=o.getColumn(o.options.columnDefs[i].name):c[i+l]=o.columns[i+l];o.columns.length=0,Array.prototype.splice.apply(o.columns,[0,0].concat(c))}return t.all(s).then(function(){o.rows.length>0&&o.assignTypes()})},g.prototype.preCompileCellTemplate=function(t){var n=this,r=t.cellTemplate.replace(i.MODEL_COL_FIELD,n.getQualifiedColField(t));r=r.replace(i.COL_FIELD,"grid.getCellValue(row, col)");var o=e(r);t.compiledElementFn=o,t.compiledElementFnDefer&&t.compiledElementFnDefer.resolve(t.compiledElementFn)},g.prototype.preCompileCellTemplates=function(){var t=this;t.columns.forEach(function(e){e.cellTemplate?t.preCompileCellTemplate(e):e.cellTemplatePromise&&e.cellTemplatePromise.then(function(){t.preCompileCellTemplate(e)})})},g.prototype.getQualifiedColField=function(t){return t.field===i.ENTITY_BINDING?"row.entity":r.preEval("row.entity."+t.field)},g.prototype.createLeftContainer=function(){this.hasLeftContainer()||(this.renderContainers.left=new d("left",this,{disableColumnOffset:!0}))},g.prototype.createRightContainer=function(){this.hasRightContainer()||(this.renderContainers.right=new d("right",this,{disableColumnOffset:!0}))},g.prototype.hasLeftContainer=function(){return void 0!==this.renderContainers.left},g.prototype.hasRightContainer=function(){return void 0!==this.renderContainers.right},g.prototype.preprocessColDef=function(t){var e=this;if(!t.field&&!t.name)throw new Error("colDef.name or colDef.field property is required");if(void 0===t.name&&void 0!==t.field){for(var n=t.field,r=2;e.getColumn(n);)n=t.field+r.toString(),r++;t.name=n}},g.prototype.newInN=function(t,e,n,r){for(var i=this,o=[],a=0;a<e.length;a++){for(var s=r?e[a][r]:e[a],l=!1,u=0;u<t.length;u++){var c=n?t[u][n]:t[u];if(i.options.rowEquality(s,c)){l=!0;break}}l||o.push(s)}return o},g.prototype.getRow=function(t,e){var n=this,r=(e=void 0===e?n.rows:e).filter(function(e){return n.options.rowEquality(e.entity,t)});return r.length>0?r[0]:null},g.prototype.modifyRows=function(e){var n=this,r=n.rows.slice(0),i=n.rowHashMap||n.createRowHashMap();n.rowHashMap=n.createRowHashMap(),n.rows.length=0,e.forEach(function(t,e){var o;(o=n.options.enableRowHashing?i.get(t):n.getRow(t,r))||(o=n.processRowBuilders(new s(t,e,n))),n.rows.push(o),n.rowHashMap.put(t,o)}),n.assignTypes();var o=t.when(n.processRowsProcessors(n.rows)).then(function(t){return n.setVisibleRows(t)}),a=t.when(n.processColumnsProcessors(n.columns)).then(function(t){return n.setVisibleColumns(t)});return t.all([o,a])},g.prototype.addRows=function(t){for(var e=this,n=e.rows.length,r=0;r<t.length;r++){var i=e.processRowBuilders(new s(t[r],r+n,e));if(e.options.enableRowHashing){var o=e.rowHashMap.get(i.entity);o&&(o.row=i)}e.rows.push(i)}},g.prototype.processRowBuilders=function(t){var e=this;return e.rowBuilders.forEach(function(n){n.call(e,t,e.options)}),t},g.prototype.registerStyleComputation=function(t){this.styleComputations.push(t)},g.prototype.registerRowsProcessor=function(t,e){if(!angular.isFunction(t))throw"Attempt to register non-function rows processor: "+t;this.rowsProcessors.push({processor:t,priority:e}),this.rowsProcessors.sort(function(t,e){return t.priority-e.priority})},g.prototype.removeRowsProcessor=function(t){var e=-1;this.rowsProcessors.forEach(function(n,r){n.processor===t&&(e=r)}),-1!==e&&this.rowsProcessors.splice(e,1)},g.prototype.processRowsProcessors=function(e){function n(e,i){var a=r.rowsProcessors[e].processor;return t.when(a.call(r,i,r.columns)).then(function(t){if(!t)throw"Processor at index "+e+" did not return a set of renderable rows";if(!angular.isArray(t))throw"Processor at index "+e+" did not return an array";if(++e<=r.rowsProcessors.length-1)return n(e,t);o.resolve(t)})}var r=this,i=e.slice(0);if(0===r.rowsProcessors.length)return t.when(i);var o=t.defer();return n(0,i),o.promise},g.prototype.setVisibleRows=function(t){var e=this;for(var n in e.renderContainers){var r=e.renderContainers[n];r.canvasHeightShouldUpdate=!0,void 0===r.visibleRowCache?r.visibleRowCache=[]:r.visibleRowCache.length=0}for(var i=0;i<t.length;i++){var o=t[i],a=void 0!==o.renderContainer&&o.renderContainer?o.renderContainer:"body";o.visible&&e.renderContainers[a].visibleRowCache.push(o)}e.api.core.raise.rowsVisibleChanged(this.api),e.api.core.raise.rowsRendered(this.api)},g.prototype.registerColumnsProcessor=function(t,e){if(!angular.isFunction(t))throw"Attempt to register non-function rows processor: "+t;this.columnsProcessors.push({processor:t,priority:e}),this.columnsProcessors.sort(function(t,e){return t.priority-e.priority})},g.prototype.removeColumnsProcessor=function(t){var e=this.columnsProcessors.indexOf(t);void 0!==e&&void 0!==e&&this.columnsProcessors.splice(e,1)},g.prototype.processColumnsProcessors=function(e){function n(e,a){var s=r.columnsProcessors[e].processor;return t.when(s.call(r,a,r.rows)).then(function(t){if(!t)throw"Processor at index "+e+" did not return a set of renderable rows";if(!angular.isArray(t))throw"Processor at index "+e+" did not return an array";if(++e<=r.columnsProcessors.length-1)return n(e,i);o.resolve(i)})}var r=this,i=e.slice(0);if(0===r.columnsProcessors.length)return t.when(i);var o=t.defer();return n(0,i),o.promise},g.prototype.setVisibleColumns=function(t){var e=this;for(var n in e.renderContainers)e.renderContainers[n].visibleColumnCache.length=0;for(var r=0;r<t.length;r++){var i=t[r];i.visible&&(void 0!==i.renderContainer&&i.renderContainer?e.renderContainers[i.renderContainer].visibleColumnCache.push(i):e.renderContainers.body.visibleColumnCache.push(i))}},g.prototype.handleWindowResize=function(t){var e=this;return e.gridWidth=r.elementWidth(e.element),e.gridHeight=r.elementHeight(e.element),e.queueRefresh()},g.prototype.queueRefresh=function(){var t=this;return t.refreshCanceller&&h.cancel(t.refreshCanceller),t.refreshCanceller=h(function(){t.refreshCanvas(!0)}),t.refreshCanceller.then(function(){t.refreshCanceller=null}),t.refreshCanceller},g.prototype.queueGridRefresh=function(){var t=this;return t.gridRefreshCanceller&&h.cancel(t.gridRefreshCanceller),t.gridRefreshCanceller=h(function(){t.refresh(!0)}),t.gridRefreshCanceller.then(function(){t.gridRefreshCanceller=null}),t.gridRefreshCanceller},g.prototype.updateCanvasHeight=function(){var t=this;for(var e in t.renderContainers)t.renderContainers.hasOwnProperty(e)&&(t.renderContainers[e].canvasHeightShouldUpdate=!0)},g.prototype.buildStyles=function(){var t=this;t.customStyles="",t.styleComputations.sort(function(t,e){return null===t.priority?1:null===e.priority?-1:null===t.priority&&null===e.priority?0:t.priority-e.priority}).forEach(function(e){var n=e.func.call(t);angular.isString(n)&&(t.customStyles+="\n"+n)})},g.prototype.minColumnsToRender=function(){var t=this,e=this.getViewportWidth(),n=0,r=0;return t.columns.forEach(function(i,o){if(r<e)r+=i.drawnWidth,n++;else{for(var a=0,s=o;s>=o-n;s--)a+=t.columns[s].drawnWidth;a<e&&n++}}),n},g.prototype.getBodyHeight=function(){return this.getViewportHeight()},g.prototype.getViewportHeight=function(){var t=this,e=this.gridHeight-this.headerHeight-this.footerHeight;return e+=t.getViewportAdjustment().height},g.prototype.getViewportWidth=function(){var t=this,e=this.gridWidth;return e+=t.getViewportAdjustment().width},g.prototype.getHeaderViewportWidth=function(){return this.getViewportWidth()},g.prototype.addVerticalScrollSync=function(t,e){this.verticalScrollSyncCallBackFns[t]=e},g.prototype.addHorizontalScrollSync=function(t,e){this.horizontalScrollSyncCallBackFns[t]=e},g.prototype.scrollContainers=function(t,e){if(e.y){var n=["body","left","right"];this.flagScrollingVertically(e),"body"===t?n=["left","right"]:"left"===t?n=["body","right"]:"right"===t&&(n=["body","left"]);for(var r=0;r<n.length;r++){var i=n[r];this.verticalScrollSyncCallBackFns[i]&&this.verticalScrollSyncCallBackFns[i](e)}}if(e.x){var o=["body","bodyheader","bodyfooter"];this.flagScrollingHorizontally(e),"body"===t&&(o=["bodyheader","bodyfooter"]);for(var a=0;a<o.length;a++){var s=o[a];this.horizontalScrollSyncCallBackFns[s]&&this.horizontalScrollSyncCallBackFns[s](e)}}},g.prototype.registerViewportAdjuster=function(t){this.viewportAdjusters.push(t)},g.prototype.removeViewportAdjuster=function(t){var e=this.viewportAdjusters.indexOf(t);void 0!==e&&void 0!==e&&this.viewportAdjusters.splice(e,1)},g.prototype.getViewportAdjustment=function(){var t={height:0,width:0};return this.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},g.prototype.getVisibleRowCount=function(){return this.renderContainers.body.visibleRowCache.length},g.prototype.getVisibleRows=function(){return this.renderContainers.body.visibleRowCache},g.prototype.getVisibleColumnCount=function(){return this.renderContainers.body.visibleColumnCache.length},g.prototype.searchRows=function(t){return c.search(this,t,this.columns)},g.prototype.sortByColumn=function(t){return u.sort(this,t,this.columns)},g.prototype.getCellValue=function(t,e){return void 0!==t.entity["$$"+e.uid]?t.entity["$$"+e.uid].rendered:this.options.flatEntityAccess&&void 0!==e.field?t.entity[e.field]:(e.cellValueGetterCache||(e.cellValueGetterCache=n(t.getEntityQualifiedColField(e))),e.cellValueGetterCache(t))},g.prototype.getCellDisplayValue=function(t,e){if(!e.cellDisplayGetterCache){var r=e.cellFilter?" | "+e.cellFilter:"";void 0!==t.entity["$$"+e.uid]?e.cellDisplayGetterCache=n(t.entity["$$"+e.uid].rendered+r):this.options.flatEntityAccess&&void 0!==e.field?e.cellDisplayGetterCache=n(t.entity[e.field]+r):e.cellDisplayGetterCache=n(t.getEntityQualifiedColField(e)+r)}return e.cellDisplayGetterCache(t)},g.prototype.getNextColumnSortPriority=function(){var t=0;return this.columns.forEach(function(e){e.sort&&void 0!==e.sort.priority&&e.sort.priority>=t&&(t=e.sort.priority+1)}),t},g.prototype.resetColumnSorting=function(t){this.columns.forEach(function(e){e===t||e.suppressRemoveSort||(e.sort={})})},g.prototype.getColumnSorting=function(){var t=[];return this.columns.slice(0).sort(u.prioritySort).forEach(function(e){e.sort&&void 0!==e.sort.direction&&e.sort.direction&&(e.sort.direction===i.ASC||e.sort.direction===i.DESC)&&t.push(e)}),t},g.prototype.sortColumn=function(e,n,r){var i=this,o=null;if(void 0===e||!e)throw new Error("No column parameter provided");if("boolean"==typeof n?r=n:o=n,r?void 0===e.sort.priority&&(e.sort.priority=i.getNextColumnSortPriority()):(i.resetColumnSorting(e),e.sort.priority=void 0,e.sort.priority=i.getNextColumnSortPriority()),o)e.sort.direction=o;else{var a=e.sortDirectionCycle.indexOf(e.sort.direction?e.sort.direction:null);a=(a+1)%e.sortDirectionCycle.length,e.colDef&&e.suppressRemoveSort&&!e.sortDirectionCycle[a]&&(a=(a+1)%e.sortDirectionCycle.length),e.sortDirectionCycle[a]?e.sort.direction=e.sortDirectionCycle[a]:m(e,i)}return i.api.core.raise.sortChanged(i,i.getColumnSorting()),t.when(e)};var m=function(t,e){e.columns.forEach(function(e){e.sort&&void 0!==e.sort.priority&&e.sort.priority>t.sort.priority&&(e.sort.priority-=1)}),t.sort={}};return g.prototype.renderingComplete=function(){angular.isFunction(this.options.onRegisterApi)&&this.options.onRegisterApi(this.api),this.api.core.raise.renderingComplete(this.api)},g.prototype.createRowHashMap=function(){var t=this,e=new p;return e.grid=t,e},g.prototype.refresh=function(e){var n=this,r=n.processRowsProcessors(n.rows).then(function(t){n.setVisibleRows(t)}),i=n.processColumnsProcessors(n.columns).then(function(t){n.setVisibleColumns(t)});return t.all([r,i]).then(function(){n.redrawInPlace(e),n.refreshCanvas(!0)})},g.prototype.refreshRows=function(){var t=this;return t.processRowsProcessors(t.rows).then(function(e){t.setVisibleRows(e),t.redrawInPlace(),t.refreshCanvas(!0)})},g.prototype.refreshCanvas=function(e){var n=this;e&&n.buildStyles();var i=t.defer(),o=[];for(var a in n.renderContainers)if(n.renderContainers.hasOwnProperty(a)){var s=n.renderContainers[a];if(null===s.canvasWidth||isNaN(s.canvasWidth))continue;(s.header||s.headerCanvas)&&(s.explicitHeaderHeight=s.explicitHeaderHeight||null,s.explicitHeaderCanvasHeight=s.explicitHeaderCanvasHeight||null,o.push(s))}return o.length>0?(e&&n.buildStyles(),h(function(){var t,a,s=!1,l=0,u=0,c=function(t,e){return t!==e&&(s=!0),e};for(t=0;t<o.length;t++)if(null!==(a=o[t]).canvasWidth&&!isNaN(a.canvasWidth)){if(a.header){var d=a.headerHeight=c(a.headerHeight,parseInt(r.outerElementHeight(a.header),10)),h=r.getBorderSize(a.header,"top"),f=r.getBorderSize(a.header,"bottom"),p=parseInt(d-h-f,10);p=p<0?0:p,a.innerHeaderHeight=p,!a.explicitHeaderHeight&&p>l&&(l=p)}if(a.headerCanvas){var g=a.headerCanvasHeight=c(a.headerCanvasHeight,parseInt(r.outerElementHeight(a.headerCanvas),10));!a.explicitHeaderCanvasHeight&&g>u&&(u=g)}}for(t=0;t<o.length;t++)a=o[t],l>0&&void 0!==a.headerHeight&&null!==a.headerHeight&&(a.explicitHeaderHeight||a.headerHeight<l)&&(a.explicitHeaderHeight=c(a.explicitHeaderHeight,l)),u>0&&void 0!==a.headerCanvasHeight&&null!==a.headerCanvasHeight&&(a.explicitHeaderCanvasHeight||a.headerCanvasHeight<u)&&(a.explicitHeaderCanvasHeight=c(a.explicitHeaderCanvasHeight,u));e&&s&&n.buildStyles(),i.resolve()})):h(function(){i.resolve()}),i.promise},g.prototype.redrawInPlace=function(t){var e=this;for(var n in e.renderContainers){var r=e.renderContainers[n];t?(r.adjustRows(r.prevScrollTop,null),r.adjustColumns(r.prevScrollLeft,null)):(r.adjustRows(null,r.prevScrolltopPercentage),r.adjustColumns(null,r.prevScrollleftPercentage))}},g.prototype.hasLeftContainerColumns=function(){return this.hasLeftContainer()&&this.renderContainers.left.renderedColumns.length>0},g.prototype.hasRightContainerColumns=function(){return this.hasRightContainer()&&this.renderContainers.right.renderedColumns.length>0},g.prototype.scrollToIfNecessary=function(e,n){var r=this,i=new f(r,"uiGrid.scrollToIfNecessary"),o=r.renderContainers.body.visibleRowCache,a=r.renderContainers.body.visibleColumnCache,s=r.renderContainers.body.prevScrollTop+r.headerHeight;s=s<0?0:s;var l=r.renderContainers.body.prevScrollLeft,u=r.renderContainers.body.prevScrollTop+r.gridHeight-r.renderContainers.body.headerHeight-r.footerHeight-r.scrollbarWidth,c=r.renderContainers.body.prevScrollLeft+Math.ceil(r.renderContainers.body.getViewportWidth());if(null!==e){var d,h=o.indexOf(e),p=r.renderContainers.body.getCanvasHeight()-r.renderContainers.body.getViewportHeight(),g=h*r.options.rowHeight+r.headerHeight;(g=g<0?0:g)<s?(d=(r.renderContainers.body.prevScrollTop-(s-g))/p,i.y={percentage:d}):g>u&&(d=(g-u+r.renderContainers.body.prevScrollTop)/p,i.y={percentage:d})}if(null!==n){for(var m=a.indexOf(n),v=r.renderContainers.body.getCanvasWidth()-r.renderContainers.body.getViewportWidth(),y=0,b=0;b<m;b++)y+=a[b].drawnWidth;var x=(y=y<0?0:y)+n.drawnWidth;x=x<0?0:x;var _;y<l?(_=(_=(r.renderContainers.body.prevScrollLeft-(l-y))/v)>1?1:_,i.x={percentage:_}):x>c&&(_=(_=(x-c+r.renderContainers.body.prevScrollLeft)/v)>1?1:_,i.x={percentage:_})}var w=t.defer();if(i.y||i.x){i.withDelay=!1,r.scrollContainers("",i);var C=r.api.core.on.scrollEnd(null,function(){w.resolve(i),C()})}else w.resolve();return w.promise},g.prototype.scrollTo=function(t,e){var n=null,r=null;return null!==t&&void 0!==t&&(n=this.getRow(t)),null!==e&&void 0!==e&&(r=this.getColumn(e.name?e.name:e.field)),this.scrollToIfNecessary(n,r)},g.prototype.clearAllFilters=function(t,e,n){if(void 0===t&&(t=!0),void 0===e&&(e=!1),void 0===n&&(n=!1),this.columns.forEach(function(t){t.filters.forEach(function(t){t.term=void 0,e&&(t.condition=void 0),n&&(t.flags=void 0)})}),t)return this.refreshRows()},p.prototype={put:function(t,e){this[this.grid.options.rowIdentity(t)]=e},get:function(t){return this[this.grid.options.rowIdentity(t)]},remove:function(t){var e=this[t=this.grid.options.rowIdentity(t)];return delete this[t],e}},g}])}(),function(){angular.module("ui.grid").factory("GridApi",["$q","$rootScope","gridUtil","uiGridConstants","GridRow","uiGridGridMenuService",function(t,e,n,r,i,o){function a(t,n,r,i){return e.$on(t,function(t){var e=Array.prototype.slice.call(arguments);e.splice(0,1),n.apply(i||r.api,e)})}var s=function(t){this.grid=t,this.listeners=[],this.registerEvent("core","renderingComplete"),this.registerEvent("core","filterChanged"),this.registerMethod("core","setRowInvisible",i.prototype.setRowInvisible),this.registerMethod("core","clearRowInvisible",i.prototype.clearRowInvisible),this.registerMethod("core","getVisibleRows",this.grid.getVisibleRows),this.registerEvent("core","rowsVisibleChanged"),this.registerEvent("core","rowsRendered"),this.registerEvent("core","scrollBegin"),this.registerEvent("core","scrollEnd"),this.registerEvent("core","canvasHeightChanged"),this.registerEvent("core","gridDimensionChanged")};return s.prototype.suppressEvents=function(t,e){var n=this,r=angular.isArray(t)?t:[t],i=n.listeners.filter(function(t){return r.some(function(e){return t.handler===e})});i.forEach(function(t){t.dereg()}),e(),i.forEach(function(t){t.dereg=a(t.eventId,t.handler,n.grid,t._this)})},s.prototype.registerEvent=function(t,r){var i=this;i[t]||(i[t]={});var o=i[t];o.on||(o.on={},o.raise={});var s=i.grid.id+t+r;o.raise[r]=function(){e.$emit.apply(e,[s].concat(Array.prototype.slice.call(arguments)))},o.on[r]=function(e,o,l){if(null===e||void 0!==e.$on){var u={handler:o,dereg:a(s,o,i.grid,l),eventId:s,scope:e,_this:l};i.listeners.push(u);var c=function(){u.dereg();var t=i.listeners.indexOf(u);i.listeners.splice(t,1)};return e&&e.$on("$destroy",function(){c()}),c}n.logError("asked to listen on "+t+".on."+r+" but scope wasn't passed in the input parameters.  It is legitimate to pass null, but you've passed something else, so you probably forgot to provide scope rather than did it deliberately, not registering")}},s.prototype.registerEventsFromObject=function(t){var e=this,n=[];angular.forEach(t,function(t,e){var r={name:e,events:[]};angular.forEach(t,function(t,e){r.events.push(e)}),n.push(r)}),n.forEach(function(t){t.events.forEach(function(n){e.registerEvent(t.name,n)})})},s.prototype.registerMethod=function(t,e,r,i){this[t]||(this[t]={}),this[t][e]=n.createBoundedWrapper(i||this.grid,r)},s.prototype.registerMethodsFromObject=function(t,e){var n=this,r=[];angular.forEach(t,function(t,e){var n={name:e,methods:[]};angular.forEach(t,function(t,e){n.methods.push({name:e,fn:t})}),r.push(n)}),r.forEach(function(t){t.methods.forEach(function(r){n.registerMethod(t.name,r.name,r.fn,e)})})},s}])}(),function(){angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants","i18nService",function(t,e,n){function r(t,n,r){var i=this;i.grid=r,i.uid=n,i.updateColumnDef(t,!0),i.aggregationValue=void 0,i.updateAggregationValue=function(){if(i.aggregationType){var t=0,n=i.grid.getVisibleRows(),r=function(){var t=[];return n.forEach(function(e){var n=i.grid.getCellValue(e,i),r=Number(n);isNaN(r)||t.push(r)}),t};angular.isFunction(i.aggregationType)?i.aggregationValue=i.aggregationType(n,i):i.aggregationType===e.aggregationTypes.count?i.aggregationValue=i.grid.getVisibleRowCount():i.aggregationType===e.aggregationTypes.sum?(r().forEach(function(e){t+=e}),i.aggregationValue=t):i.aggregationType===e.aggregationTypes.avg?(r().forEach(function(e){t+=e}),t/=r().length,i.aggregationValue=t):i.aggregationType===e.aggregationTypes.min?i.aggregationValue=Math.min.apply(null,r()):i.aggregationType===e.aggregationTypes.max?i.aggregationValue=Math.max.apply(null,r()):i.aggregationValue=""}else i.aggregationValue=void 0},this.getAggregationValue=function(){return i.aggregationValue}}return r.prototype.hideColumn=function(){this.colDef.visible=!1},r.prototype.setPropertyOrDefault=function(t,e,n){var r=this;void 0!==t[e]&&t[e]?r[e]=t[e]:void 0!==r[e]?r[e]=r[e]:r[e]=n||{}},r.prototype.updateColumnDef=function(n,r){var i=this;if(i.colDef=n,void 0===n.name)throw new Error("colDef.name is required for column at index "+i.grid.options.columnDefs.indexOf(n));if(i.displayName=void 0===n.displayName?t.readableColumnName(n.name):n.displayName,!angular.isNumber(i.width)||!i.hasCustomWidth||n.allowCustomWidthOverride){var o=n.width,a="Cannot parse column width '"+o+"' for column named '"+n.name+"'";if(i.hasCustomWidth=!1,angular.isString(o)||angular.isNumber(o))if(angular.isString(o))if(t.endsWith(o,"%")){var s=o.replace(/%/g,""),l=parseInt(s,10);if(isNaN(l))throw new Error(a);i.width=o}else if(o.match(/^(\d+)$/))i.width=parseInt(o.match(/^(\d+)$/)[1],10);else{if(!o.match(/^\*+$/))throw new Error(a);i.width=o}else i.width=o;else i.width="*"}["minWidth","maxWidth"].forEach(function(t){var e=n[t],r="Cannot parse column "+t+" '"+e+"' for column named '"+n.name+"'";if(angular.isString(e)||angular.isNumber(e))if(angular.isString(e)){if(!e.match(/^(\d+)$/))throw new Error(r);i[t]=parseInt(e.match(/^(\d+)$/)[1],10)}else i[t]=e;else i[t]="minWidth"===t?30:9e3}),i.field=void 0===n.field?n.name:n.field,"string"!=typeof i.field&&t.logError("Field is not a string, this is likely to break the code, Field is: "+i.field),i.name=n.name,i.displayName=void 0===n.displayName?t.readableColumnName(n.name):n.displayName,i.aggregationType=angular.isDefined(n.aggregationType)?n.aggregationType:null,i.footerCellTemplate=angular.isDefined(n.footerCellTemplate)?n.footerCellTemplate:null,void 0===n.cellTooltip||!1===n.cellTooltip?i.cellTooltip=!1:!0===n.cellTooltip?i.cellTooltip=function(t,e){return i.grid.getCellValue(t,e)}:"function"==typeof n.cellTooltip?i.cellTooltip=n.cellTooltip:i.cellTooltip=function(t,e){return e.colDef.cellTooltip},void 0===n.headerTooltip||!1===n.headerTooltip?i.headerTooltip=!1:!0===n.headerTooltip?i.headerTooltip=function(t){return t.displayName}:"function"==typeof n.headerTooltip?i.headerTooltip=n.headerTooltip:i.headerTooltip=function(t){return t.colDef.headerTooltip},i.footerCellClass=n.footerCellClass,i.cellClass=n.cellClass,i.headerCellClass=n.headerCellClass,i.cellFilter=n.cellFilter?n.cellFilter:"",i.sortCellFiltered=!!n.sortCellFiltered,i.filterCellFiltered=!!n.filterCellFiltered,i.headerCellFilter=n.headerCellFilter?n.headerCellFilter:"",i.footerCellFilter=n.footerCellFilter?n.footerCellFilter:"",i.visible=t.isNullOrUndefined(n.visible)||n.visible,i.headerClass=n.headerClass,i.enableSorting=void 0===n.enableSorting||n.enableSorting,i.sortingAlgorithm=n.sortingAlgorithm,i.sortDirectionCycle=void 0!==n.sortDirectionCycle?n.sortDirectionCycle:[null,e.ASC,e.DESC],void 0===i.suppressRemoveSort&&(i.suppressRemoveSort=void 0!==n.suppressRemoveSort&&n.suppressRemoveSort),i.enableFiltering=void 0===n.enableFiltering||n.enableFiltering,i.setPropertyOrDefault(n,"menuItems",[]),r&&i.setPropertyOrDefault(n,"sort");var u=[];n.filter?u.push(n.filter):n.filters?u=n.filters:u.push({}),r?(i.setPropertyOrDefault(n,"filter"),i.setPropertyOrDefault(n,"filters",u)):i.filters.length===u.length&&i.filters.forEach(function(t,e){void 0!==u[e].placeholder&&(t.placeholder=u[e].placeholder),void 0!==u[e].ariaLabel&&(t.ariaLabel=u[e].ariaLabel),void 0!==u[e].flags&&(t.flags=u[e].flags),void 0!==u[e].type&&(t.type=u[e].type),void 0!==u[e].selectOptions&&(t.selectOptions=u[e].selectOptions)})},r.prototype.unsort=function(){this.sort={},this.grid.api.core.raise.sortChanged(this.grid,this.grid.getColumnSorting())},r.prototype.getColClass=function(t){var n=e.COL_CLASS_PREFIX+this.uid;return t?"."+n:n},r.prototype.isPinnedLeft=function(){return"left"===this.renderContainer},r.prototype.isPinnedRight=function(){return"right"===this.renderContainer},r.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(!0)+" { min-width: "+this.drawnWidth+"px; max-width: "+this.drawnWidth+"px; }"},r.prototype.getRenderContainer=function(){var t=this,e=t.renderContainer;return null!==e&&""!==e&&void 0!==e||(e="body"),t.grid.renderContainers[e]},r.prototype.showColumn=function(){this.colDef.visible=!0},r.prototype.getAggregationText=function(){var t=this;if(t.colDef.aggregationHideLabel)return"";if(t.colDef.aggregationLabel)return t.colDef.aggregationLabel;switch(t.colDef.aggregationType){case e.aggregationTypes.count:return n.getSafeText("aggregation.count");case e.aggregationTypes.sum:return n.getSafeText("aggregation.sum");case e.aggregationTypes.avg:return n.getSafeText("aggregation.avg");case e.aggregationTypes.min:return n.getSafeText("aggregation.min");case e.aggregationTypes.max:return n.getSafeText("aggregation.max");default:return""}},r.prototype.getCellTemplate=function(){return this.cellTemplatePromise},r.prototype.getCompiledElementFn=function(){return this.compiledElementFnDefer.promise},r}])}(),function(){angular.module("ui.grid").factory("GridOptions",["gridUtil","uiGridConstants",function(t,e){return{initialize:function(n){return n.onRegisterApi=n.onRegisterApi||angular.noop(),n.data=n.data||[],n.columnDefs=n.columnDefs||[],n.excludeProperties=n.excludeProperties||["$$hashKey"],n.enableRowHashing=!1!==n.enableRowHashing,n.rowIdentity=n.rowIdentity||function(e){return t.hashKey(e)},n.getRowIdentity=n.getRowIdentity||function(t){return t.$$hashKey},n.flatEntityAccess=!0===n.flatEntityAccess,n.showHeader=void 0===n.showHeader||n.showHeader,n.showHeader?n.headerRowHeight=void 0!==n.headerRowHeight?n.headerRowHeight:30:n.headerRowHeight=0,n.rowHeight=n.rowHeight||30,n.minRowsToShow=void 0!==n.minRowsToShow?n.minRowsToShow:10,n.showGridFooter=!0===n.showGridFooter,n.showColumnFooter=!0===n.showColumnFooter,n.columnFooterHeight=void 0!==n.columnFooterHeight?n.columnFooterHeight:30,n.gridFooterHeight=void 0!==n.gridFooterHeight?n.gridFooterHeight:30,n.columnWidth=void 0!==n.columnWidth?n.columnWidth:50,n.maxVisibleColumnCount=void 0!==n.maxVisibleColumnCount?n.maxVisibleColumnCount:200,n.virtualizationThreshold=void 0!==n.virtualizationThreshold?n.virtualizationThreshold:20,n.columnVirtualizationThreshold=void 0!==n.columnVirtualizationThreshold?n.columnVirtualizationThreshold:10,n.excessRows=void 0!==n.excessRows?n.excessRows:4,n.scrollThreshold=void 0!==n.scrollThreshold?n.scrollThreshold:4,n.excessColumns=void 0!==n.excessColumns?n.excessColumns:4,n.horizontalScrollThreshold=void 0!==n.horizontalScrollThreshold?n.horizontalScrollThreshold:2,n.aggregationCalcThrottle=void 0!==n.aggregationCalcThrottle?n.aggregationCalcThrottle:500,n.wheelScrollThrottle=void 0!==n.wheelScrollThrottle?n.wheelScrollThrottle:70,n.scrollDebounce=void 0!==n.scrollDebounce?n.scrollDebounce:300,n.enableSorting=!1!==n.enableSorting,n.enableFiltering=!0===n.enableFiltering,n.enableColumnMenus=!1!==n.enableColumnMenus,n.enableVerticalScrollbar=void 0!==n.enableVerticalScrollbar?n.enableVerticalScrollbar:e.scrollbars.ALWAYS,n.enableHorizontalScrollbar=void 0!==n.enableHorizontalScrollbar?n.enableHorizontalScrollbar:e.scrollbars.ALWAYS,n.enableMinHeightCheck=!1!==n.enableMinHeightCheck,n.minimumColumnSize=void 0!==n.minimumColumnSize?n.minimumColumnSize:10,n.rowEquality=n.rowEquality||function(t,e){return t===e},n.headerTemplate=n.headerTemplate||null,n.footerTemplate=n.footerTemplate||"ui-grid/ui-grid-footer",n.gridFooterTemplate=n.gridFooterTemplate||"ui-grid/ui-grid-grid-footer",n.rowTemplate=n.rowTemplate||"ui-grid/ui-grid-row",n.appScopeProvider=n.appScopeProvider||null,n}}}])}(),function(){angular.module("ui.grid").factory("GridRenderContainer",["gridUtil","uiGridConstants",function(t,e){function n(t,e,n){var r=this;r.name=t,r.grid=e,r.visibleRowCache=[],r.visibleColumnCache=[],r.renderedRows=[],r.renderedColumns=[],r.prevScrollTop=0,r.prevScrolltopPercentage=0,r.prevRowScrollIndex=0,r.prevScrollLeft=0,r.prevScrollleftPercentage=0,r.prevColumnScrollIndex=0,r.columnStyles="",r.viewportAdjusters=[],r.hasHScrollbar=!1,r.hasVScrollbar=!1,r.canvasHeightShouldUpdate=!0,r.$$canvasHeight=0,n&&angular.isObject(n)&&angular.extend(r,n),e.registerStyleComputation({priority:5,func:function(){return r.updateColumnWidths(),r.columnStyles}})}return n.prototype.reset=function(){this.visibleColumnCache.length=0,this.visibleRowCache.length=0,this.renderedRows.length=0,this.renderedColumns.length=0},n.prototype.containsColumn=function(t){return-1!==this.visibleColumnCache.indexOf(t)},n.prototype.minRowsToRender=function(){for(var t=this,e=0,n=0,r=t.getViewportHeight(),i=t.visibleRowCache.length-1;n<r&&i>=0;i--)n+=t.visibleRowCache[i].height,e++;return e},n.prototype.minColumnsToRender=function(){for(var t=this,e=this.getViewportWidth(),n=0,r=0,i=0;i<t.visibleColumnCache.length;i++){var o=t.visibleColumnCache[i];if(r<e)r+=o.drawnWidth?o.drawnWidth:0,n++;else{for(var a=0,s=i;s>=i-n;s--)a+=t.visibleColumnCache[s].drawnWidth?t.visibleColumnCache[s].drawnWidth:0;a<e&&n++}}return n},n.prototype.getVisibleRowCount=function(){return this.visibleRowCache.length},n.prototype.registerViewportAdjuster=function(t){this.viewportAdjusters.push(t)},n.prototype.removeViewportAdjuster=function(t){var e=this.viewportAdjusters.indexOf(t);e>-1&&this.viewportAdjusters.splice(e,1)},n.prototype.getViewportAdjustment=function(){var t={height:0,width:0};return this.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},n.prototype.getMargin=function(t){var e=0;return this.viewportAdjusters.forEach(function(n){var r=n.call(this,{height:0,width:0});r.side&&r.side===t&&(e+=-1*r.width)}),e},n.prototype.getViewportHeight=function(){var t=this,e=t.headerHeight?t.headerHeight:t.grid.headerHeight,n=t.grid.gridHeight-e-t.grid.footerHeight;return n+=t.getViewportAdjustment().height},n.prototype.getViewportWidth=function(){var t=this,e=t.grid.gridWidth;return e+=t.getViewportAdjustment().width},n.prototype.getHeaderViewportWidth=function(){return this.getViewportWidth()},n.prototype.getCanvasHeight=function(){var t=this;if(!t.canvasHeightShouldUpdate)return t.$$canvasHeight;var e=t.$$canvasHeight;return t.$$canvasHeight=0,t.visibleRowCache.forEach(function(e){t.$$canvasHeight+=e.height}),t.canvasHeightShouldUpdate=!1,t.grid.api.core.raise.canvasHeightChanged(e,t.$$canvasHeight),t.$$canvasHeight},n.prototype.getVerticalScrollLength=function(){return this.getCanvasHeight()-this.getViewportHeight()+this.grid.scrollbarHeight},n.prototype.getHorizontalScrollLength=function(){return this.getCanvasWidth()-this.getViewportWidth()+this.grid.scrollbarWidth},n.prototype.getCanvasWidth=function(){return this.canvasWidth},n.prototype.setRenderedRows=function(t){this.renderedRows.length=t.length;for(var e=0;e<t.length;e++)this.renderedRows[e]=t[e]},n.prototype.setRenderedColumns=function(t){this.renderedColumns.length=t.length;for(var e=0;e<t.length;e++)this.renderedColumns[e]=t[e];this.updateColumnOffset()},n.prototype.updateColumnOffset=function(){for(var t=0,e=0;e<this.currentFirstColumn;e++)t+=this.visibleColumnCache[e].drawnWidth;this.columnOffset=t},n.prototype.scrollVertical=function(t){var n=-1;if(t!==this.prevScrollTop){var r=t-this.prevScrollTop;return r>0&&(this.grid.scrollDirection=e.scrollDirection.DOWN),r<0&&(this.grid.scrollDirection=e.scrollDirection.UP),(n=t/this.getVerticalScrollLength())>1&&(n=1),n<0&&(n=0),this.adjustScrollVertical(t,n),n}},n.prototype.scrollHorizontal=function(t){var n=-1;if(t!==this.prevScrollLeft){var r=t-this.prevScrollLeft;r>0&&(this.grid.scrollDirection=e.scrollDirection.RIGHT),r<0&&(this.grid.scrollDirection=e.scrollDirection.LEFT);var i=this.getHorizontalScrollLength();return n=0!==i?t/i:0,this.adjustScrollHorizontal(t,n),n}},n.prototype.adjustScrollVertical=function(t,e,n){(this.prevScrollTop!==t||n)&&(void 0!==t&&void 0!==t&&null!==t||(t=(this.getCanvasHeight()-this.getViewportHeight())*e),this.adjustRows(t,e,!1),this.prevScrollTop=t,this.prevScrolltopPercentage=e,this.grid.queueRefresh())},n.prototype.adjustScrollHorizontal=function(t,e,n){(this.prevScrollLeft!==t||n)&&(void 0!==t&&void 0!==t&&null!==t||(t=(this.getCanvasWidth()-this.getViewportWidth())*e),this.adjustColumns(t,e),this.prevScrollLeft=t,this.prevScrollleftPercentage=e,this.grid.queueRefresh())},n.prototype.adjustRows=function(t,e,n){var r=this,i=r.minRowsToRender(),o=r.visibleRowCache,a=o.length-i;void 0!==e&&null!==e||!t||(e=t/r.getVerticalScrollLength());var s=Math.ceil(Math.min(a,a*e));s>a&&(s=a);var l=[];if(o.length>r.grid.options.virtualizationThreshold){if(void 0!==t&&null!==t){if(!r.grid.suppressParentScrollDown&&r.prevScrollTop<t&&s<r.prevRowScrollIndex+r.grid.options.scrollThreshold&&s<a)return;if(!r.grid.suppressParentScrollUp&&r.prevScrollTop>t&&s>r.prevRowScrollIndex-r.grid.options.scrollThreshold&&s<a)return}l=[Math.max(0,s-r.grid.options.excessRows),Math.min(o.length,s+i+r.grid.options.excessRows)]}else{var u=r.visibleRowCache.length;l=[0,Math.max(u,i+r.grid.options.excessRows)]}r.updateViewableRowRange(l),r.prevRowScrollIndex=s},n.prototype.adjustColumns=function(t,e){var n=this,r=n.minColumnsToRender(),i=n.visibleColumnCache,o=i.length-r;void 0!==e&&null!==e||!t||(e=t/n.getHorizontalScrollLength());var a=Math.ceil(Math.min(o,o*e));a>o&&(a=o);var s=[];if(i.length>n.grid.options.columnVirtualizationThreshold&&n.getCanvasWidth()>n.getViewportWidth())s=[Math.max(0,a-n.grid.options.excessColumns),Math.min(i.length,a+r+n.grid.options.excessColumns)];else{var l=n.visibleColumnCache.length;s=[0,Math.max(l,r+n.grid.options.excessColumns)]}n.updateViewableColumnRange(s),n.prevColumnScrollIndex=a},n.prototype.updateViewableRowRange=function(t){var e=this.visibleRowCache.slice(t[0],t[1]);this.currentTopRow=t[0],this.setRenderedRows(e)},n.prototype.updateViewableColumnRange=function(t){var e=this.visibleColumnCache.slice(t[0],t[1]);this.currentFirstColumn=t[0],this.setRenderedColumns(e)},n.prototype.headerCellWrapperStyle=function(){var t=this;if(0!==t.currentFirstColumn){var e=t.columnOffset;return t.grid.isRTL()?{"margin-right":e+"px"}:{"margin-left":e+"px"}}return null},n.prototype.updateColumnWidths=function(){var e=this,n=[],r=0,i=0,o="",a=e.grid.getViewportWidth()-e.grid.scrollbarWidth,s=[];angular.forEach(e.grid.renderContainers,function(t,e){s=s.concat(t.visibleColumnCache)}),s.forEach(function(e,o){var s=0;e.visible&&(angular.isNumber(e.width)?(s=parseInt(e.width,10),i+=s,e.drawnWidth=s):t.endsWith(e.width,"%")?((s=parseInt(parseInt(e.width.replace(/%/g,""),10)/100*a))>e.maxWidth&&(s=e.maxWidth),s<e.minWidth&&(s=e.minWidth),i+=s,e.drawnWidth=s):angular.isString(e.width)&&-1!==e.width.indexOf("*")&&(r+=e.width.length,n.push(e)))});var l=a-i;if(n.length>0){var u=l/r;n.forEach(function(t){var e=parseInt(t.width.length*u,10);e>t.maxWidth&&(e=t.maxWidth),e<t.minWidth&&(e=t.minWidth),i+=e,t.drawnWidth=e})}for(var c=function(t){t.drawnWidth<t.maxWidth&&d>0&&(t.drawnWidth++,i++,d--,h=!0)},d=a-i,h=!0;d>0&&h;)h=!1,n.forEach(c);var f=function(t){t.drawnWidth>t.minWidth&&p>0&&(t.drawnWidth--,i--,p--,h=!0)},p=i-a;for(h=!0;p>0&&h;)h=!1,n.forEach(f);var g=0;e.visibleColumnCache.forEach(function(t){t.visible&&(g+=t.drawnWidth)}),s.forEach(function(t){o+=t.getColClassDefinition()}),e.canvasWidth=g,this.columnStyles=o},n.prototype.needsHScrollbarPlaceholder=function(){return this.grid.options.enableHorizontalScrollbar&&!this.hasHScrollbar&&!this.grid.disableScrolling},n.prototype.getViewportStyle=function(){var t=this,n={};return t.hasHScrollbar=!1,t.hasVScrollbar=!1,t.grid.disableScrolling?(n["overflow-x"]="hidden",n["overflow-y"]="hidden",n):("body"===t.name?(t.hasHScrollbar=t.grid.options.enableHorizontalScrollbar!==e.scrollbars.NEVER,t.grid.isRTL()?t.grid.hasLeftContainerColumns()||(t.hasVScrollbar=t.grid.options.enableVerticalScrollbar!==e.scrollbars.NEVER):t.grid.hasRightContainerColumns()||(t.hasVScrollbar=t.grid.options.enableVerticalScrollbar!==e.scrollbars.NEVER)):"left"===t.name?t.hasVScrollbar=!!t.grid.isRTL()&&t.grid.options.enableVerticalScrollbar!==e.scrollbars.NEVER:t.hasVScrollbar=!t.grid.isRTL()&&t.grid.options.enableVerticalScrollbar!==e.scrollbars.NEVER,n["overflow-x"]=t.hasHScrollbar?"scroll":"hidden",n["overflow-y"]=t.hasVScrollbar?"scroll":"hidden",n)},n}])}(),function(){angular.module("ui.grid").factory("GridRow",["gridUtil","uiGridConstants",function(t,e){function n(e,n,r){this.grid=r,this.entity=e,this.uid=t.nextUid(),this.visible=!0,this.$$height=r.options.rowHeight}return Object.defineProperty(n.prototype,"height",{get:function(){return this.$$height},set:function(t){t!==this.$$height&&(this.grid.updateCanvasHeight(),this.$$height=t)}}),n.prototype.getQualifiedColField=function(t){return"row."+this.getEntityQualifiedColField(t)},n.prototype.getEntityQualifiedColField=function(n){return n.field===e.ENTITY_BINDING?"entity":t.preEval("entity."+n.field)},n.prototype.setRowInvisible=function(t){t&&t.setThisRowInvisible&&t.setThisRowInvisible("user")},n.prototype.clearRowInvisible=function(t){t&&t.clearThisRowInvisible&&t.clearThisRowInvisible("user")},n.prototype.setThisRowInvisible=function(t,e){this.invisibleReason||(this.invisibleReason={}),this.invisibleReason[t]=!0,this.evaluateRowVisibility(e)},n.prototype.clearThisRowInvisible=function(t,e){void 0!==this.invisibleReason&&delete this.invisibleReason[t],this.evaluateRowVisibility(e)},n.prototype.evaluateRowVisibility=function(t){var e=!0;void 0!==this.invisibleReason&&angular.forEach(this.invisibleReason,function(t,n){t&&(e=!1)}),void 0!==this.visible&&this.visible===e||(this.visible=e,t||(this.grid.queueGridRefresh(),this.grid.api.core.raise.rowsVisibleChanged(this)))},n}])}(),function(){"use strict";angular.module("ui.grid").factory("GridRowColumn",["$parse","$filter",function(t,e){var n=function t(e,n){if(!(this instanceof t))throw"Using GridRowColumn as a function insead of as a constructor. Must be called with `new` keyword";this.row=e,this.col=n};return n.prototype.getIntersectionValueRaw=function(){return t(this.row.getEntityQualifiedColField(this.col))(this.row)},n}])}(),function(){angular.module("ui.grid").factory("ScrollEvent",["gridUtil",function(t){function e(e,n,r,i){var o=this;if(!e)throw new Error("grid argument is required");o.grid=e,o.source=i,o.withDelay=!0,o.sourceRowContainer=n,o.sourceColContainer=r,o.newScrollLeft=null,o.newScrollTop=null,o.x=null,o.y=null,o.verticalScrollLength=-9999999,o.horizontalScrollLength=-999999,o.fireThrottledScrollingEvent=t.throttle(function(t){o.grid.scrollContainers(t,o)},o.grid.options.wheelScrollThrottle,{trailing:!0})}return e.prototype.getNewScrollLeft=function(e,n){var r=this;if(!r.newScrollLeft){var i,o=e.getCanvasWidth()-e.getViewportWidth(),a=t.normalizeScrollLeft(n,r.grid);if(void 0!==r.x.percentage&&void 0!==r.x.percentage)i=r.x.percentage;else{if(void 0===r.x.pixels||void 0===r.x.pixels)throw new Error("No percentage or pixel value provided for scroll event X axis");i=r.x.percentage=(a+r.x.pixels)/o}return Math.max(0,i*o)}return r.newScrollLeft},e.prototype.getNewScrollTop=function(t,e){var n=this;if(!n.newScrollTop){var r,i=t.getVerticalScrollLength(),o=e[0].scrollTop;if(void 0!==n.y.percentage&&void 0!==n.y.percentage)r=n.y.percentage;else{if(void 0===n.y.pixels||void 0===n.y.pixels)throw new Error("No percentage or pixel value provided for scroll event Y axis");r=n.y.percentage=(o+n.y.pixels)/i}return Math.max(0,r*i)}return n.newScrollTop},e.prototype.atTop=function(t){return this.y&&(0===this.y.percentage||this.verticalScrollLength<0)&&0===t},e.prototype.atBottom=function(t){return this.y&&(1===this.y.percentage||0===this.verticalScrollLength)&&t>0},e.prototype.atLeft=function(t){return this.x&&(0===this.x.percentage||this.horizontalScrollLength<0)&&0===t},e.prototype.atRight=function(t){return this.x&&(1===this.x.percentage||0===this.horizontalScrollLength)&&t>0},e.Sources={ViewPortScroll:"ViewPortScroll",RenderContainerMouseWheel:"RenderContainerMouseWheel",RenderContainerTouchMove:"RenderContainerTouchMove",Other:99},e}])}(),function(){"use strict";angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","Grid","GridColumn","GridRow",function(t,e,n,r,i,o,a,s){var l={createGrid:function(r){(r=void 0!==r?r:{}).id=t.newId();var i=new o(r);if(i.options.rowTemplate){var a=e.defer();i.getRowTemplateFn=a.promise,t.getTemplate(i.options.rowTemplate).then(function(t){var e=n(t);a.resolve(e)},function(t){throw new Error("Couldn't fetch/use row template '"+i.options.rowTemplate+"'")})}return i.registerColumnBuilder(l.defaultColumnBuilder),i.registerRowBuilder(l.rowTemplateAssigner),i.registerRowsProcessor(function(t){return t.forEach(function(t){t.evaluateRowVisibility(!0)},50),t}),i.registerColumnsProcessor(function(t){return t.forEach(function(t){t.visible=!angular.isDefined(t.colDef.visible)||t.colDef.visible}),t},50),i.registerRowsProcessor(i.searchRows,100),i.options.externalSort&&angular.isFunction(i.options.externalSort)?i.registerRowsProcessor(i.options.externalSort,200):i.registerRowsProcessor(i.sortByColumn,200),i},defaultColumnBuilder:function(n,r,o){var a=[],s=function(e,o,s,l,u){n[e]?r[o]=n[e]:r[o]=s,a.push(t.getTemplate(r[o]).then(function(t){angular.isFunction(t)&&(t=t());var n="cellTooltip"===u?"col.cellTooltip(row,col)":"col.headerTooltip(col)";u&&!1===r[u]?t=t.replace(i.TOOLTIP,""):u&&r[u]&&(t=t.replace(i.TOOLTIP,'title="{{'+n+' CUSTOM_FILTERS }}"')),r[e]=l?t.replace(i.CUSTOM_FILTERS,function(){return r[l]?"|"+r[l]:""}):t},function(t){throw new Error("Couldn't fetch/use colDef."+e+" '"+n[e]+"'")}))};return s("cellTemplate","providedCellTemplate","ui-grid/uiGridCell","cellFilter","cellTooltip"),r.cellTemplatePromise=a[0],s("headerCellTemplate","providedHeaderCellTemplate","ui-grid/uiGridHeaderCell","headerCellFilter","headerTooltip"),s("footerCellTemplate","providedFooterCellTemplate","ui-grid/uiGridFooterCell","footerCellFilter"),s("filterHeaderTemplate","providedFilterHeaderTemplate","ui-grid/ui-grid-filter"),r.compiledElementFnDefer=e.defer(),e.all(a)},rowTemplateAssigner:function(r){var i=this;if(r.rowTemplate){var o=e.defer();r.getRowTemplateFn=o.promise,t.getTemplate(r.rowTemplate).then(function(t){var e=n(t);o.resolve(e)},function(t){throw new Error("Couldn't fetch/use row template '"+r.rowTemplate+"'")})}else r.rowTemplate=i.options.rowTemplate,r.getRowTemplateFn=i.getRowTemplateFn;return r.getRowTemplateFn}};return l}])}(),function(){function t(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}angular.module("ui.grid").service("rowSearcher",["gridUtil","uiGridConstants",function(e,n){var r=n.filter.CONTAINS,i={};return i.getTerm=function(t){if(void 0===t.term)return t.term;var e=t.term;return"string"==typeof e&&(e=e.trim()),e},i.stripTerm=function(e){var n=i.getTerm(e);return"string"==typeof n?t(n.replace(/(^\*|\*$)/g,"")):n},i.guessCondition=function(t){if(void 0===t.term||!t.term)return r;var e=i.getTerm(t);if(/\*/.test(e)){var n="";t.flags&&t.flags.caseSensitive||(n+="i");var o=e.replace(/(\\)?\*/g,function(t,e){return e?t:"[\\s\\S]*?"});return new RegExp("^"+o+"$",n)}return r},i.setupFilters=function(t){for(var r=[],o=t.length,a=0;a<o;a++){var s=t[a];if(s.noTerm||!e.isNullOrUndefined(s.term)){var l={},u="";s.flags&&s.flags.caseSensitive||(u+="i"),e.isNullOrUndefined(s.term)||(s.rawTerm?l.term=s.term:l.term=i.stripTerm(s)),l.noTerm=s.noTerm,s.condition?l.condition=s.condition:l.condition=i.guessCondition(s),l.flags=angular.extend({caseSensitive:!1,date:!1},s.flags),l.condition===n.filter.STARTS_WITH&&(l.startswithRE=new RegExp("^"+l.term,u)),l.condition===n.filter.ENDS_WITH&&(l.endswithRE=new RegExp(l.term+"$",u)),l.condition===n.filter.CONTAINS&&(l.containsRE=new RegExp(l.term,u)),l.condition===n.filter.EXACT&&(l.exactRE=new RegExp("^"+l.term+"$",u)),r.push(l)}}return r},i.runColumnFilter=function(t,e,r,i){var o,a=typeof i.condition,s=i.term;if(o=r.filterCellFiltered?t.getCellDisplayValue(e,r):t.getCellValue(e,r),i.condition instanceof RegExp)return i.condition.test(o);if("function"===a)return i.condition(s,o,e,r);if(i.startswithRE)return i.startswithRE.test(o);if(i.endswithRE)return i.endswithRE.test(o);if(i.containsRE)return i.containsRE.test(o);if(i.exactRE)return i.exactRE.test(o);if(i.condition===n.filter.NOT_EQUAL)return!new RegExp("^"+s+"$").exec(o);if("number"==typeof o&&"string"==typeof s){var l=parseFloat(s.replace(/\\\./,".").replace(/\\\-/,"-"));isNaN(l)||(s=l)}return!0===i.flags.date&&(o=new Date(o),s=new Date(s.replace(/\\/g,""))),i.condition===n.filter.GREATER_THAN?o>s:i.condition===n.filter.GREATER_THAN_OR_EQUAL?o>=s:i.condition===n.filter.LESS_THAN?o<s:i.condition!==n.filter.LESS_THAN_OR_EQUAL||o<=s},i.searchColumn=function(t,n,r,o){if(t.options.useExternalFiltering)return!0;for(var a=o.length,s=0;s<a;s++){var l=o[s];if((!e.isNullOrUndefined(l.term)&&""!==l.term||l.noTerm)&&!i.runColumnFilter(t,n,r,l))return!1}return!0},i.search=function(t,n,r){if(n){if(!t.options.enableFiltering)return n;for(var o=[],a=r.length,s=0;s<a;s++){var l=r[s];void 0!==l.filters&&function(t){var n=!1;return t.forEach(function(t){(!e.isNullOrUndefined(t.term)&&""!==t.term||t.noTerm)&&(n=!0)}),n}(l.filters)&&o.push({col:l,filters:i.setupFilters(l.filters)})}if(o.length>0){for(var u=function(t,e,n,r){e.visible&&!i.searchColumn(t,e,n,r)&&(e.visible=!1)},c=o.length,d=0;d<c;d++)!function(t,e){for(var r=n.length,i=0;i<r;i++)u(t,n[i],e.col,e.filters)}(t,o[d]);t.api.core.raise.rowsVisibleChanged&&t.api.core.raise.rowsVisibleChanged()}return n}},i}])}(),function(){angular.module("ui.grid").service("rowSorter",["$parse","uiGridConstants",function(t,e){var n="("+e.CURRENCY_SYMBOLS.map(function(t){return"\\"+t}).join("|")+")?",r=(new RegExp("^[-+]?"+n+"[\\d,.]+"+n+"%?$"),{colSortFnCache:{}});return r.guessSortFn=function(t){switch(t){case"number":return r.sortNumber;case"numberStr":return r.sortNumberStr;case"boolean":return r.sortBool;case"string":return r.sortAlpha;case"date":return r.sortDate;case"object":return r.basicSort;default:throw new Error("No sorting function found for type:"+t)}},r.handleNulls=function(t,e){if(!t&&0!==t&&!1!==t||!e&&0!==e&&!1!==e){if(!t&&0!==t&&!1!==t&&!e&&0!==e&&!1!==e)return 0;if(!t&&0!==t&&!1!==t)return 1;if(!e&&0!==e&&!1!==e)return-1}return null},r.basicSort=function(t,e){var n=r.handleNulls(t,e);return null!==n?n:t===e?0:t<e?-1:1},r.sortNumber=function(t,e){var n=r.handleNulls(t,e);return null!==n?n:t-e},r.sortNumberStr=function(t,e){var n=r.handleNulls(t,e);if(null!==n)return n;var i,o,a=!1,s=!1;return i=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(i)&&(a=!0),o=parseFloat(e.replace(/[^0-9.-]/g,"")),isNaN(o)&&(s=!0),a&&s?0:a?1:s?-1:i-o},r.sortAlpha=function(t,e){var n=r.handleNulls(t,e);if(null!==n)return n;var i=t.toString().toLowerCase(),o=e.toString().toLowerCase();return i===o?0:i.localeCompare(o)},r.sortDate=function(t,e){var n=r.handleNulls(t,e);if(null!==n)return n;t instanceof Date||(t=new Date(t)),e instanceof Date||(e=new Date(e));var i=t.getTime(),o=e.getTime();return i===o?0:i<o?-1:1},r.sortBool=function(t,e){var n=r.handleNulls(t,e);return null!==n?n:t&&e?0:t||e?t?1:-1:0},r.getSortFn=function(t,e,n){var i;return r.colSortFnCache[e.colDef.name]?i=r.colSortFnCache[e.colDef.name]:void 0!==e.sortingAlgorithm?(i=e.sortingAlgorithm,r.colSortFnCache[e.colDef.name]=e.sortingAlgorithm):e.sortCellFiltered&&e.cellFilter?(i=r.sortAlpha,r.colSortFnCache[e.colDef.name]=i):(i=r.guessSortFn(e.colDef.type))?r.colSortFnCache[e.colDef.name]=i:i=r.sortAlpha,i},r.prioritySort=function(t,e){return void 0!==t.sort.priority&&void 0!==e.sort.priority?t.sort.priority<e.sort.priority?-1:t.sort.priority===e.sort.priority?0:1:t.sort.priority||void 0===t.sort.priority?-1:e.sort.priority||void 0===e.sort.priority?1:0},r.sort=function(t,n,i){if(n){if(t.options.useExternalSorting)return n;var o=[];if(i.forEach(function(t){!t.sort||t.sort.ignoreSort||!t.sort.direction||t.sort.direction!==e.ASC&&t.sort.direction!==e.DESC||o.push(t)}),0===(o=o.sort(r.prioritySort)).length)return n;var a,s,l=function(t,e){t.entity.$$uiGridIndex=e};n.forEach(l);var u=n.slice(0),c=function(n,i){for(var l,c=0,d=0;0===c&&d<o.length;){a=o[d],s=o[d].sort.direction,l=r.getSortFn(t,a,u);var h,f;a.sortCellFiltered?(h=t.getCellDisplayValue(n,a),f=t.getCellDisplayValue(i,a)):(h=t.getCellValue(n,a),f=t.getCellValue(i,a)),c=l(h,f,n,i,s),d++}return 0===c?n.entity.$$uiGridIndex-i.entity.$$uiGridIndex:s===e.ASC?c:0-c},d=n.sort(c),h=function(t,e){delete t.entity.$$uiGridIndex};return n.forEach(h),d}},r}])}(),function(){function t(t){var e=t;return void 0!==e.length&&e.length&&(e=t[0]),e.ownerDocument.defaultView.getComputedStyle(e,null)}function e(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,a=0,s=["Top","Right","Bottom","Left"];o<4;o+=2){var l=s[o];if("margin"===n){var u=parseFloat(i[n+l]);isNaN(u)||(a+=u)}if(r){if("content"===n){var c=parseFloat(i["padding"+l]);isNaN(c)||(a-=c)}if("margin"!==n){var d=parseFloat(i["border"+l+"Width"]);isNaN(d)||(a-=d)}}else{var h=parseFloat(i["padding"+l]);if(isNaN(h)||(a+=h),"padding"!==n){var f=parseFloat(i["border"+l+"Width"]);isNaN(f)||(a+=f)}}}return a}function n(n,r,i){var o,s=!0,l=t(n),u="border-box"===l.boxSizing;if(o<=0||null==o){if(((o=l[r])<0||null==o)&&(o=n.style[r]),a.test(o))return o;s=u&&!0,o=parseFloat(o)||0}return o+e(n,r,i||(u?"border":"content"),s,l)}function r(e){var n=(e=angular.element(e)[0]).parentElement;return n||(n=document.getElementsByTagName("body")[0]),parseInt(t(n).fontSize)||parseInt(t(e).fontSize)||16}var i,o=angular.module("ui.grid");"function"!=typeof Function.prototype.bind&&(i=function(){var t=Array.prototype.slice;return function(e){var n=this,r=t.call(arguments,1);return r.length?function(){return arguments.length?n.apply(e,r.concat(t.call(arguments))):n.apply(e,r)}:function(){return arguments.length?n.apply(e,arguments):n.call(e)}}});var a=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),s=/^(block|none|table(?!-c[ea]).+)/,l={position:"absolute",visibility:"hidden",display:"block"},u=["0","0","0","0"];o.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$interval","$injector","$q","$interpolate","uiGridConstants",function(o,a,c,d,h,f,p,g,m,v,y){function b(t,e){var n=angular.element(this),r=0,i=0,o=0,a=0;if(e.originalEvent&&(e=e.originalEvent),"detail"in e&&(o=-1*e.detail),"wheelDelta"in e&&(o=e.wheelDelta),"wheelDeltaY"in e&&(o=e.wheelDeltaY),"wheelDeltaX"in e&&(i=-1*e.wheelDeltaX),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(i=-1*o,o=0),r=0===o?i:o,"deltaY"in e&&(r=o=-1*e.deltaY),"deltaX"in e&&(i=e.deltaX,0===o&&(r=-1*i)),0!==o||0!==i){if(1===e.deltaMode){var s=n.data("mousewheel-line-height");r*=s,o*=s,i*=s}else if(2===e.deltaMode){var l=n.data("mousewheel-page-height");r*=l,o*=l,i*=l}a=Math.max(Math.abs(o),Math.abs(i)),(!k||a<k)&&(k=a,_(e,a)&&(k/=40)),r=Math[r>=1?"floor":"ceil"](r/k),i=Math[i>=1?"floor":"ceil"](i/k),o=Math[o>=1?"floor":"ceil"](o/k);var u={originalEvent:e,deltaX:i,deltaY:o,deltaFactor:k,preventDefault:function(){e.preventDefault()},stopPropagation:function(){e.stopPropagation()}};C&&clearTimeout(C),C=setTimeout(x,200),t.call(n[0],u)}}function x(){k=null}function _(t,e){return"mousewheel"===t.type&&e%120==0}var w={augmentWidthOrHeight:e,getStyles:t,createBoundedWrapper:function(t,e){return function(){return e.apply(t,arguments)}},readableColumnName:function(t){return void 0===t||void 0===t||null===t?t:("string"!=typeof t&&(t=String(t)),t.replace(/_+/g," ").replace(/^[A-Z]+$/,function(t){return angular.lowercase(angular.uppercase(t.charAt(0))+t.slice(1))}).replace(/([\w\u00C0-\u017F]+)/g,function(t){return angular.uppercase(t.charAt(0))+t.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 "))},getColumnsFromData:function(t,e){var n=[];if(!t||void 0===t[0]||void 0===t[0])return[];angular.isUndefined(e)&&(e=[]);var r=t[0];return angular.forEach(r,function(t,r){-1===e.indexOf(r)&&n.push({name:r})}),n},newId:function(){var t=(new Date).getTime();return function(){return t+=1}}(),getTemplate:function(t){if(h.get(t))return w.postProcessTemplate(h.get(t));if(angular.isFunction(t.then))return t.then(w.postProcessTemplate);try{if(angular.element(t).length>0)return m.when(t).then(w.postProcessTemplate)}catch(t){}return w.logDebug("fetching url",t),d({method:"GET",url:t}).then(function(e){var n=e.data.trim();return h.put(t,n),n},function(e){throw new Error("Could not get template "+t+": "+e)}).then(w.postProcessTemplate)},postProcessTemplate:function(t){var e=v.startSymbol(),n=v.endSymbol();return"{{"===e&&"}}"===n||(t=(t=t.replace(/\{\{/g,e)).replace(/\}\}/g,n)),m.when(t)},guessType:function(t){var e=typeof t;switch(e){case"number":case"boolean":case"string":return e;default:return angular.isDate(t)?"date":"object"}},elementWidth:function(t){},elementHeight:function(t){},getScrollbarWidth:function(){var t=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",t.style.msOverflowStyle="scrollbar",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",t.appendChild(n);var r=n.offsetWidth;return t.parentNode.removeChild(t),e-r},swap:function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=a[o];return i},fakeElement:function(t,e,n,r){var i,o,a=angular.element(t).clone()[0];for(o in e)a.style[o]=e[o];return angular.element(document.body).append(a),i=n.call(a,a),angular.element(a).remove(),i},normalizeWheelEvent:function(t){var e,n,r,i=t||window.event,o=([].slice.call(arguments,1),0),a=0,s=0,l=0,u=0;return i.originalEvent&&(i=i.originalEvent),i.wheelDelta&&(o=i.wheelDelta),i.detail&&(o=-1*i.detail),s=o,void 0!==i.axis&&i.axis===i.HORIZONTAL_AXIS&&(s=0,a=-1*o),i.deltaY&&(o=s=-1*i.deltaY),i.deltaX&&(o=-1*(a=i.deltaX)),void 0!==i.wheelDeltaY&&(s=i.wheelDeltaY),void 0!==i.wheelDeltaX&&(a=i.wheelDeltaX),l=Math.abs(o),(!e||l<e)&&(e=l),u=Math.max(Math.abs(s),Math.abs(a)),(!n||u<n)&&(n=u),r=o>0?"floor":"ceil",o=Math[r](o/e),a=Math[r](a/n),s=Math[r](s/n),{delta:o,deltaX:a,deltaY:s}},isTouchEnabled:function(){var t;return("ontouchstart"in a||a.DocumentTouch&&c instanceof DocumentTouch)&&(t=!0),t},isNullOrUndefined:function(t){return void 0===t||null===t},endsWith:function(t,e){return!(!t||!e||"string"!=typeof t)&&-1!==t.indexOf(e,t.length-e.length)},arrayContainsObjectWithProperty:function(t,e,n){var r=!1;return angular.forEach(t,function(t){t[e]===n&&(r=!0)}),r},numericAndNullSort:function(t,e){return null===t?1:null===e?-1:null===t&&null===e?0:t-e},disableAnimations:function(t){var e;try{e=g.get("$animate"),angular.version.major>1||1===angular.version.major&&angular.version.minor>=4?e.enabled(t,!1):e.enabled(!1,t)}catch(t){}},enableAnimations:function(t){var e;try{return e=g.get("$animate"),angular.version.major>1||1===angular.version.major&&angular.version.minor>=4?e.enabled(t,!0):e.enabled(!0,t),e}catch(t){}},nextUid:function(){for(var t,e=u.length;e;){if(e--,57===(t=u[e].charCodeAt(0)))return u[e]="A","uiGrid-"+u.join("");if(90!==t)return u[e]=String.fromCharCode(t+1),"uiGrid-"+u.join("");u[e]="0"}return u.unshift("0"),"uiGrid-"+u.join("")},hashKey:function(t){var e,n=typeof t;return"object"===n&&null!==t?"function"==typeof(e=t.$$hashKey)?e=t.$$hashKey():void 0!==t.$$hashKey&&t.$$hashKey?e=t.$$hashKey:void 0===e&&(e=t.$$hashKey=w.nextUid()):e=t,n+":"+e},resetUids:function(){u=["0","0","0"]},logError:function(t){y.LOG_ERROR_MESSAGES&&o.error(t)},logWarn:function(t){y.LOG_WARN_MESSAGES&&o.warn(t)},logDebug:function(){y.LOG_DEBUG_MESSAGES&&o.debug.apply(o,arguments)}};w.focus={queue:[],byId:function(t,e){this._purgeQueue();var n=f(function(){var n=(e&&e.id?e.id+"-":"")+t,r=a.document.getElementById(n);r?r.focus():w.logWarn("[focus.byId] Element id "+n+" was not found.")});return this.queue.push(n),n},byElement:function(t){if(!angular.isElement(t))return w.logWarn("Trying to focus on an element that isn't an element."),m.reject("not-element");t=angular.element(t),this._purgeQueue();var e=f(function(){t&&t[0].focus()});return this.queue.push(e),e},bySelector:function(t,e,n){var r=this;if(!angular.isElement(t))throw new Error("The parent element is not an element.");t=angular.element(t);var i=function(){var n=t[0].querySelector(e);return r.byElement(n)};if(this._purgeQueue(),n){var o=f(i);return this.queue.push(f(i)),o}return i()},_purgeQueue:function(){this.queue.forEach(function(t){f.cancel(t)}),this.queue=[]}},["width","height"].forEach(function(e){var r=angular.uppercase(e.charAt(0))+e.substr(1);w["element"+r]=function(r,i){var o=r;if(o&&void 0!==o.length&&o.length&&(o=r[0]),o){var a=t(o);return 0===o.offsetWidth&&s.test(a.display)?w.swap(o,l,function(){return n(o,e,i)}):n(o,e,i)}return null},w["outerElement"+r]=function(t,e){return t?w["element"+r].call(this,t,e?"margin":"border"):null}}),w.closestElm=function(t,e){void 0!==t.length&&t.length&&(t=t[0]);var n;["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(t){return"function"==typeof document.body[t]&&(n=t,!0)});for(var r;null!==t;){if(null!==(r=t.parentElement)&&r[n](e))return r;t=r}return null},w.type=function(t){return Function.prototype.toString.call(t.constructor).match(/function (.*?)\(/)[1]},w.getBorderSize=function(e,n){void 0!==e.length&&e.length&&(e=e[0]);var r=t(e);n=n?"border"+n.charAt(0).toUpperCase()+n.slice(1):"border",n+="Width";var i=parseInt(r[n],10);return isNaN(i)?0:i},w.detectBrowser=function(){var t=a.navigator.userAgent,e={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var n in e)if(e[n].test(t))return n;return"unknown"},w.rtlScrollType=function t(){if(t.type)return t.type;var e=angular.element('<div dir="rtl" style="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll">A</div>')[0],n="reverse";return document.body.appendChild(e),e.scrollLeft>0?n="default":(e.scrollLeft=1,0===e.scrollLeft&&(n="negative")),angular.element(e).remove(),t.type=n,n},w.normalizeScrollLeft=function(t,e){void 0!==t.length&&t.length&&(t=t[0]);var n=t.scrollLeft;if(e.isRTL())switch(w.rtlScrollType()){case"default":return t.scrollWidth-n-t.clientWidth;case"negative":return Math.abs(n);case"reverse":return n}return n},w.denormalizeScrollLeft=function(t,e,n){if(void 0!==t.length&&t.length&&(t=t[0]),n.isRTL())switch(w.rtlScrollType()){case"default":return t.scrollWidth-t.clientWidth-e;case"negative":return-1*e;case"reverse":return e}return e},w.preEval=function(t){var e=y.BRACKET_REGEXP.exec(t);if(e)return(e[1]?w.preEval(e[1]):e[1])+e[2]+(e[3]?w.preEval(e[3]):e[3]);var n=(t=t.replace(y.APOS_REGEXP,"\\'")).split(y.DOT_REGEXP),r=[n.shift()];return angular.forEach(n,function(t){r.push(t.replace(y.FUNC_REGEXP,"']$1"))}),r.join("['")},w.debounce=function(t,e,n){function r(){a=this,o=arguments;var r=function(){i=null,n||(s=t.apply(a,o))},l=n&&!i;return i&&f.cancel(i),i=f(r,e,!1),l&&(s=t.apply(a,o)),s}var i,o,a,s;return r.cancel=function(){f.cancel(i),i=null},r},w.throttle=function(t,e,n){function r(e){a=+new Date,t.apply(i,o),p(function(){s=null},0,1,!1)}n=n||{};var i,o,a=0,s=null;return function(){if(i=this,o=arguments,null===s){var t=+new Date-a;t>e?r():n.trailing&&(s=p(r,e-t,1,!1))}}},w.on={},w.off={},w._events={},w.addOff=function(t){w.off[t]=function(e,n){var r=w._events[t].indexOf(n);r>0&&w._events[t].removeAt(r)}};var C,k,S="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];return w.on.mousewheel=function(t,e){if(t&&e){var n=angular.element(t);n.data("mousewheel-line-height",r(n)),n.data("mousewheel-page-height",w.elementHeight(n)),n.data("mousewheel-callbacks")||n.data("mousewheel-callbacks",{});var o=n.data("mousewheel-callbacks");o[e]=(Function.prototype.bind||i).call(b,n[0],e);for(var a=S.length;a;)n.on(S[--a],o[e])}},w.off.mousewheel=function(t,e){var n=angular.element(t),r=n.data("mousewheel-callbacks"),i=r[e];if(i)for(var o=S.length;o;)n.off(S[--o],i);delete r[e],0===Object.keys(r).length&&(n.removeData("mousewheel-line-height"),n.removeData("mousewheel-page-height"),n.removeData("mousewheel-callbacks"))},w}]),o.filter("px",function(){return function(t){return t.match(/^[\d\.]+$/)?t+"px":t}})}(),function(){angular.module("ui.grid").config(["$provide",function(t){t.decorator("i18nService",["$delegate",function(t){var e={aggregate:{label:"poloky"},groupPanel:{description:"Pesute zhlav zde pro vytvoen skupiny dle sloupce."},search:{placeholder:"Hledat...",showingItems:"Zobrazuji poloky:",selectedItems:"Vybran poloky:",totalItems:"Celkem poloek:",size:"Velikost strany:",first:"Prvn strana",next:"Dal strana",previous:"Pedchoz strana",last:"Posledn strana"},menu:{text:"Vyberte sloupec:"},sort:{ascending:"Seadit od A-Z",descending:"Seadit od Z-A",remove:"Odebrat seazen"},column:{hide:"Schovat sloupec"},aggregation:{count:"celkem dk: ",sum:"celkem: ",avg:"avg: ",min:"min.: ",max:"max.: "},pinning:{pinLeft:"Zamknout vlevo",pinRight:"Zamknout vpravo",unpin:"Odemknout"},gridMenu:{columns:"Sloupce:",importerTitle:"Importovat soubor",exporterAllAsCsv:"Exportovat vechna data do csv",exporterVisibleAsCsv:"Exportovat viditeln data do csv",exporterSelectedAsCsv:"Exportovat vybran data do csv",exporterAllAsPdf:"Exportovat vechna data do pdf",exporterVisibleAsPdf:"Exportovat viditeln data do pdf",exporterSelectedAsPdf:"Exportovat vybran data do pdf",clearAllFilters:"Odstranit vechny filtry"},importer:{noHeaders:"Nzvy sloupc se nepodailo zskat, obsahuje soubor zhlav?",noObjects:"Data se nepodailo zpracovat, obsahuje soubor dky mimo zhlav?",invalidCsv:"Soubor nelze zpracovat, jedn se o CSV?",invalidJson:"Soubor nelze zpracovat, je to JSON?",jsonNotArray:"Soubor mus obsahovat json. Ukonuji.."},pagination:{sizes:"poloek na strnku",totalItems:"poloek"},grouping:{group:"Seskupit",ungroup:"Odebrat seskupen",aggregate_count:"Agregace: Count",aggregate_sum:"Agregace: Sum",aggregate_max:"Agregace: Max",aggregate_min:"Agregace: Min",aggregate_avg:"Agregace: Avg",aggregate_remove:"Agregace: Odebrat"}};return t.add("cs",e),t.add("cz",e),t.add("cs-cz",e),t.add("cs-CZ",e),t}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(t){t.decorator("i18nService",["$delegate",function(t){return t.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grupr rkker udfra en kolonne ved at trkke dens overskift hertil."},search:{placeholder:"Sg...",showingItems:"Viste rkker:",selectedItems:"Valgte rkker:",totalItems:"Rkker totalt:",size:"Side strrelse:",first:"Frste side",next:"Nste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"Vlg kolonner:"},sort:{ascending:"Sorter stigende",descending:"Sorter faldende",none:"Sorter ingen",remove:"Fjern sortering"},column:{hide:"Skjul kolonne"},aggregation:{count:"antal rkker: ",sum:"sum: ",avg:"gns: ",min:"min: ",max:"max: "},gridMenu:{columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter markerede data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter markerede data som pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"G til frste",pageBack:"G tilbage",pageSelected:"Valgte side",pageForward:"G frem",pageToLast:"G til sidste"},sizes:"genstande per side",totalItems:"genstande",through:"gennem",of:"af"}}),t}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(t){t.decorator("i18nService",["$delegate",function(t){return t.add("de",{headerCell:{aria:{defaultFilterLabel:"Filter fr Spalte",removeFilter:"Filter lschen",columnMenuButtonLabel:"Spaltenmen"},priority:"Prioritt:",filterLabel:"Filter fr Spalte: "},aggregate:{label:"Eintrag"},groupPanel:{description:"Ziehen Sie eine Spaltenberschrift hierhin, um nach dieser Spalte zu gruppieren."},search:{placeholder:"Suche...",showingItems:"Zeige Eintrge:",selectedItems:"Ausgewhlte Eintrge:",totalItems:"Eintrge gesamt:",size:"Eintrge pro Seite:",first:"Erste Seite",next:"Nchste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},menu:{text:"Spalten auswhlen:"},sort:{ascending:"aufsteigend sortieren",descending:"absteigend sortieren",none:"keine Sortierung",remove:"Sortierung zurcksetzen"},column:{hide:"Spalte ausblenden"},aggregation:{count:"Zeilen insgesamt: ",sum:"gesamt: ",avg:"Durchschnitt: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Links anheften",pinRight:"Rechts anheften",unpin:"Lsen"},columnMenu:{close:"Schlieen"},gridMenu:{aria:{buttonLabel:"Tabellenmen"},columns:"Spalten:",importerTitle:"Datei importieren",exporterAllAsCsv:"Alle Daten als CSV exportieren",exporterVisibleAsCsv:"sichtbare Daten als CSV exportieren",exporterSelectedAsCsv:"markierte Daten als CSV exportieren",exporterAllAsPdf:"Alle Daten als PDF exportieren",exporterVisibleAsPdf:"sichtbare Daten als PDF exportieren",exporterSelectedAsPdf:"markierte Daten als PDF exportieren",clearAllFilters:"Alle Filter zurcksetzen"},importer:{noHeaders:"Es konnten keine Spaltennamen ermittelt werden. Sind in der Datei Spaltendefinitionen enthalten?",noObjects:"Es konnten keine Zeileninformationen gelesen werden, Sind in der Datei auer den Spaltendefinitionen auch Daten enthalten?",invalidCsv:"Die Datei konnte nicht eingelesen werden, ist es eine gltige CSV-Datei?",invalidJson:"Die Datei konnte nicht eingelesen werden. Enthlt sie gltiges JSON?",jsonNotArray:"Die importierte JSON-Datei mu ein Array enthalten. Breche Import ab."},pagination:{aria:{pageToFirst:"Zum Anfang",pageBack:"Seite zurck",pageSelected:"Ausgwhlte Seite",pageForward:"Seite vor",pageToLast:"Zum Ende"},sizes:"Eintrge pro Seite",totalItems:"Eintrge",through:"bis",of:"von"},grouping:{group:"Gruppieren",ungroup:"Gruppierung aufheben",aggregate_count:"Agg: Anzahl",aggregate_sum:"Agg: Summe",aggregate_max:"Agg: Maximum",aggregate_min:"Agg: Minimum",aggregate_avg:"Agg: Mittelwert",aggregate_remove:"Aggregation entfernen"}}),t}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(t){t.decorator("i18nService",["$delegate",function(t){return t.add("en",{headerCell:{aria:{defaultFilterLabel:"Filter for column",removeFilter:"Remove Filter",columnMenuButtonLabel:"Column Menu"},priority:"Priority:",filterLabel:"Filter for column: "},aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",none:"Sort None",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},columnMenu:{close:"Close"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"Page to first",pageBack:"Page back",pageSelected:"Selected page",pageForward:"Page forward",pageToLast:"Page to last"},sizes:"items per page",totalItems:"items",through:"through",of:"of"},grouping:{group:"Group",ungroup:"Ungroup",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"},validate:{error:"Error:",minLength:"Value should be at least THRESHOLD characters long.",maxLength:"Value should be at most THRESHOLD characters long.",required:"A value is needed."}}),t}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(t){t.decorator("i18nService",["$delegate",function(t){return t.add("es",{aggregate:{label:"Artculos"},groupPanel:{description:"Arrastre un encabezado de columna aqu y sultelo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Artculos Mostrados:",selectedItems:"Artculos Seleccionados:",totalItems:"Artculos Totales:",size:"Tamao de Pgina:",first:"Primera Pgina",next:"Pgina Siguiente",previous:"Pgina Anterior",last:"ltima Pgina"},menu:{text:"Elegir columnas:"},sort:{ascending:"Orden Ascendente",descending:"Orden Descendente",remove:"Sin Ordenar"},column:{hide:"Ocultar la columna"},aggregation:{count:"filas totales: ",sum:"total: ",avg:"media: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fijar a la Izquierda",pinRight:"Fijar a la Derecha",unpin:"Quitar Fijacin"},gridMenu:{columns:"Columnas:",importerTitle:"Importar archivo",exporterAllAsCsv:"Exportar todo como csv",exporterVisibleAsCsv:"Exportar vista como csv",exporterSelectedAsCsv:"Exportar seleccin como csv",exporterAllAsPdf:"Exportar todo como pdf",exporterVisibleAsPdf:"Exportar vista como pdf",exporterSelectedAsPdf:"Exportar seleccin como pdf",clearAllFilters:"Limpiar todos los filtros"},importer:{noHeaders:"No fue posible derivar los nombres de las columnas, tiene encabezados el archivo?",noObjects:"No fue posible obtener registros, contiene datos el archivo, aparte de los encabezados?",invalidCsv:"No fue posible procesar el archivo, es un CSV vlido?",invalidJson:"No fue posible procesar el archivo, es un Json vlido?",jsonNotArray:"El archivo json importado debe contener un array, abortando."},pagination:{sizes:"registros por pgina",totalItems:"registros",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Cont",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: Mx",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Prom",aggregate_remove:"Agr: Quitar"}}),t}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(t){t.decorator("i18nService",["$delegate",function(t){return t.add("fa",{aggregate:{label:""},groupPanel:{description:"            ."},search:{placeholder:"...",showingItems:" :",selectedItems:"  :",totalItems:" :",size:" :",first:" ",next:"",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:"  "},column:{hide:" "},aggregation:{count:": ",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:"   ",pinRight:"   ",unpin:" "},gridMenu:{columns:":",importerTitle:"  ",exporterAllAsCsv:"     csv",exporterVisibleAsCsv:"      csv",exporterSelectedAsCsv:"     csv",exporterAllAsPdf:"     pdf",exporterVisibleAsPdf:"      pdf",exporterSelectedAsPdf:"     pdf",clearAllFilters:"   "},importer:{noHeaders:"    .    ",noObjects:"   .         ",invalidCsv:"   .    csv   ",invalidJson:"   .   json    ",jsonNotArray:" json      .   ."},pagination:{sizes:"   ",totalItems:"",of:""},grouping:{group:"",ungroup:" ",aggregate_count:"Agg: ",aggregate_sum:"Agg: ",aggregate_max:"Agg: ",aggregate_min:"Agg: ",aggregate_avg:"Agg: ",aggregate_remove:"Agg: "}}),t}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(t){t.decorator("i18nService",["$delegate",function(t){return t.add("fi",{aggregate:{label:"rivit"},groupPanel:{description:"Raahaa ja pudota otsikko thn ryhmittksesi sarakkeen mukaan."},search:{placeholder:"Hae...",showingItems:"Nytetn rivej:",selectedItems:"Valitut rivit:",totalItems:"Rivej yht.:",size:"Nyt:",first:"Ensimminen sivu",next:"Seuraava sivu",previous:"Edellinen sivu",last:"Viimeinen sivu"},menu:{text:"Valitse sarakkeet:"},sort:{ascending:"Jrjest nouseva",descending:"Jrjest laskeva",remove:"Poista jrjestys"},column:{hide:"Piilota sarake"},aggregation:{count:"Rivej yht.: ",sum:"Summa: ",avg:"K.a.: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Lukitse vasemmalle",pinRight:"Lukitse oikealle",unpin:"Poista lukitus"},gridMenu:{columns:"Sarakkeet:",importerTitle:"Tuo tiedosto",exporterAllAsCsv:"Vie tiedot csv-muodossa",exporterVisibleAsCsv:"Vie nkyv tieto csv-muodossa",exporterSelectedAsCsv:"Vie valittu tieto csv-muodossa",exporterAllAsPdf:"Vie tiedot pdf-muodossa",exporterVisibleAsPdf:"Vie nkyv tieto pdf-muodossa",exporterSelectedAsPdf:"Vie valittu tieto pdf-muodossa",clearAllFilters:"Puhdista kaikki suodattimet"},importer:{noHeaders:"Sarakkeen nimi ei voitu ptell, onko tiedostossa otsikkorivi?",noObjects:"Tietoja ei voitu lukea, onko tiedostossa muuta kuin otsikkot?",invalidCsv:"Tiedostoa ei voitu ksitell, oliko se CSV-muodossa?",invalidJson:"Tiedostoa ei voitu ksitell, oliko se JSON-muodossa?",jsonNotArray:"Tiedosto ei sisltnyt taulukkoa, lopetetaan."}}),t}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(t){t.decorator("i18nService",["$delegate",function(t){return t.add("fr",{headerCell:{aria:{defaultFilterLabel:"Filtre de la colonne",removeFilter:"Supprimer le filtre",columnMenuButtonLabel:"Menu de la colonne"},priority:"Priorit:",filterLabel:"Filtre de la colonne: "},aggregate:{label:"lments"},groupPanel:{description:"Faites glisser une en-tte de colonne ici pour crer un groupe de colonnes."},search:{placeholder:"Recherche...",showingItems:"Affichage des lments :",selectedItems:"lments slectionns :",totalItems:"Nombre total d'lments:",size:"Taille de page:",first:"Premire page",next:"Page Suivante",previous:"Page prcdente",last:"Dernire page"},menu:{text:"Choisir des colonnes :"},sort:{ascending:"Trier par ordre croissant",descending:"Trier par ordre dcroissant",none:"Aucun tri",remove:"Enlever le tri"},column:{hide:"Cacher la colonne"},aggregation:{count:"lignes totales: ",sum:"total: ",avg:"moy: ",min:"min: ",max:"max: "},pinning:{pinLeft:"pingler  gauche",pinRight:"pingler  droite",unpin:"Dtacher"},columnMenu:{close:"Fermer"},gridMenu:{aria:{buttonLabel:"Menu du tableau"},columns:"Colonnes:",importerTitle:"Importer un fichier",exporterAllAsCsv:"Exporter toutes les donnes en CSV",exporterVisibleAsCsv:"Exporter les donnes visibles en CSV",exporterSelectedAsCsv:"Exporter les donnes slectionnes en CSV",exporterAllAsPdf:"Exporter toutes les donnes en PDF",exporterVisibleAsPdf:"Exporter les donnes visibles en PDF",exporterSelectedAsPdf:"Exporter les donnes slectionnes en PDF",clearAllFilters:"Nettoyez tous les filtres"},importer:{noHeaders:"Impossible de dterminer le nom des colonnes, le fichier possde-t-il une en-tte ?",noObjects:"Aucun objet trouv, le fichier possde-t-il des donnes autres que l'en-tte ?",invalidCsv:"Le fichier n'a pas pu tre trait, le CSV est-il valide ?",invalidJson:"Le fichier n'a pas pu tre trait, le JSON est-il valide ?",jsonNotArray:"Le fichier JSON import doit contenir un tableau, abandon."},pagination:{aria:{pageToFirst:"Aller  la premire page",pageBack:"Page prcdente",pageSelected:"Page slectionne",pageForward:"Page suivante",pageToLast:"Aller  la dernire page"},sizes:"lments par page",totalItems:"lments",through:"",of:"sur"},grouping:{group:"Grouper",ungroup:"Dgrouper",aggregate_count:"Agg: Compter",aggregate_sum:"Agg: Somme",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Moy",aggregate_remove:"Agg: Retirer"},validate:{error:"Erreur:",minLength:"La valeur doit tre suprieure ou gale  THRESHOLD caractres.",maxLength:"La valeur doit tre infrieure ou gale  THRESHOLD caractres.",required:"Une valeur est ncssaire."}}),t}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(t){t.decorator("i18nService",["$delegate",function(t){return t.add("he",{aggregate:{label:"items"},groupPanel:{description:"       ."},search:{placeholder:"...",showingItems:":",selectedItems:'" :',totalItems:'" :',size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:""},column:{hide:" "},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clean all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),t}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(t){t.decorator("i18nService",["$delegate",function(t){return t.add("hy",{aggregate:{label:""},groupPanel:{description:"        "},search:{placeholder:"...",showingItems:" ",selectedItems:":",totalItems:"",size:"  ",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:" "},column:{hide:" "},aggregation:{count:"  ",sum:" ",avg:" ",min:" ",max:" "},pinning:{pinLeft:"  ",pinRight:"  ",unpin:""},gridMenu:{columns:":",importerTitle:" ",exporterAllAsCsv:"  CSV",exporterVisibleAsCsv:"   CSV",exporterSelectedAsCsv:"   CSV",exporterAllAsPdf:" PDF",exporterVisibleAsPdf:"   PDF",exporterSelectedAsPdf:"   PDF",clearAllFilters:"  "},importer:{noHeaders:"        ",noObjects:"       ",invalidCsv:"       CSV ",invalidJson:"       Json ",jsonNotArray:" json     ,  "}}),t}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(t){t.decorator("i18nService",["$delegate",function(t){return t.add("it",{aggregate:{label:"elementi"},groupPanel:{description:"Trascina un'intestazione all'interno del gruppo della colonna."},search:{placeholder:"Ricerca...",showingItems:"Mostra:",selectedItems:"Selezionati:",totalItems:"Totali:",size:"Tot Pagine:",first:"Prima",next:"Prossima",previous:"Precedente",last:"Ultima"},menu:{text:"Scegli le colonne:"},sort:{ascending:"Asc.",descending:"Desc.",remove:"Annulla ordinamento"},column:{hide:"Nascondi"},aggregation:{count:"righe totali: ",sum:"tot: ",avg:"media: ",min:"minimo: ",max:"massimo: "},pinning:{pinLeft:"Blocca a sx",pinRight:"Blocca a dx",unpin:"Blocca in alto"},gridMenu:{columns:"Colonne:",importerTitle:"Importa",exporterAllAsCsv:"Esporta tutti i dati in CSV",exporterVisibleAsCsv:"Esporta i dati visibili in CSV",exporterSelectedAsCsv:"Esporta i dati selezionati in CSV",exporterAllAsPdf:"Esporta tutti i dati in PDF",exporterVisibleAsPdf:"Esporta i dati visibili in PDF",exporterSelectedAsPdf:"Esporta i dati selezionati in PDF",clearAllFilters:"Pulire tutti i filtri"},importer:{noHeaders:"Impossibile reperire i nomi delle colonne, sicuro che siano indicati all'interno del file?",noObjects:"Impossibile reperire gli oggetti, sicuro che siano indicati all'interno del file?",invalidCsv:"Impossibile elaborare il file, sicuro che sia un CSV?",invalidJson:"Impossibile elaborare il file, sicuro che sia un JSON valido?",jsonNotArray:"Errore! Il file JSON da importare deve contenere un array."},pagination:{aria:{pageToFirst:"Prima",pageBack:"Indietro",pageSelected:"Pagina selezionata",pageForward:"Avanti",pageToLast:"Ultima"},sizes:"elementi per pagina",totalItems:"elementi",through:"a",of:"di"},grouping:{group:"Raggruppa",ungroup:"Separa",aggregate_count:"Agg: N. Elem.",aggregate_sum:"Agg: Somma",aggregate_max:"Agg: Massimo",aggregate_min:"Agg: Minimo",aggregate_avg:"Agg: Media",aggregate_remove:"Agg: Rimuovi"},validate:{error:"Errore:",minLength:"Lunghezza minima pari a THRESHOLD caratteri.",maxLength:"Lunghezza massima pari a THRESHOLD caratteri.",required:"Necessario inserire un valore."}}),t}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(t){t.decorator("i18nService",["$delegate",function(t){return t.add("ja",{aggregate:{label:""},groupPanel:{description:""},search:{placeholder:"...",showingItems:":",selectedItems:":",totalItems:":",size:":",first:"",next:"",previous:"",last:""},menu:{text:":"},sort:{ascending:"",descending:"",remove:""},column:{hide:""},aggregation:{count:": ",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:"",pinRight:"",unpin:""},gridMenu:{columns:":",importerTitle:"",exporterAllAsCsv:"CSV",exporterVisibleAsCsv:"CSV",exporterSelectedAsCsv:"CSV",exporterAllAsPdf:"PDF",exporterVisibleAsPdf:"PDF",exporterSelectedAsPdf:"PDF",clearAllFilters:""},importer:{noHeaders:"",noObjects:"",invalidCsv:"CSV",invalidJson:"JSON",jsonNotArray:"JSON"},pagination:{aria:{pageToFirst:"",pageBack:"",pageSelected:"",pageForward:"",pageToLast:""},sizes:"/",totalItems:"",through:"",of:"/"}}),t}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(t){t.decorator("i18nService",["$delegate",function(t){return t.add("ko",{aggregate:{label:""},groupPanel:{description:"       ."},search:{placeholder:"...",showingItems:" :",selectedItems:" :",totalItems:" :",size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:" "},column:{hide:" "},aggregation:{count:" : ",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:" ",pinRight:" ",unpin:" "},gridMenu:{columns:":",importerTitle:" ",exporterAllAsCsv:"csv   ",exporterVisibleAsCsv:"csv   ",exporterSelectedAsCsv:"csv   ",exporterAllAsPdf:"pdf   ",exporterVisibleAsPdf:"pdf   ",exporterSelectedAsPdf:"pdf   ",clearAllFilters:"  "},importer:{noHeaders:"   .      .",noObjects:"   .     .",invalidCsv:"   .  csv  .",invalidJson:"   .  json  .",jsonNotArray:"json    ."},pagination:{sizes:" ",totalItems:" "}}),t}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(t){t.decorator("i18nService",["$delegate",function(t){return t.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Verberg kolom"},aggregation:{count:"Aantal rijen: ",sum:"Som: ",avg:"Gemiddelde: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Zet links vast",pinRight:"Zet rechts vast",unpin:"Maak los"},gridMenu:{columns:"Kolommen:",importerTitle:"Importeer bestand",exporterAllAsCsv:"Exporteer alle data als csv",exporterVisibleAsCsv:"Exporteer zichtbare data als csv",exporterSelectedAsCsv:"Exporteer geselecteerde data als csv",exporterAllAsPdf:"Exporteer alle data als pdf",exporterVisibleAsPdf:"Exporteer zichtbare data als pdf",exporterSelectedAsPdf:"Exporteer geselecteerde data als pdf",clearAllFilters:"Reinig alle filters"},importer:{noHeaders:"Kolomnamen kunnen niet worden afgeleid. Heeft het bestand een header?",noObjects:"Objecten kunnen niet worden afgeleid. Bevat het bestand data naast de headers?",invalidCsv:"Het bestand kan niet verwerkt worden. Is het een valide csv bestand?",invalidJson:"Het bestand kan niet verwerkt worden. Is het valide json?",jsonNotArray:"Het json bestand moet een array bevatten. De actie wordt geannuleerd."},pagination:{sizes:"items per pagina",totalItems:"items",of:"van de"},grouping:{group:"Groepeer",ungroup:"Groepering opheffen",aggregate_count:"Agg: Aantal",aggregate_sum:"Agg: Som",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Gem",aggregate_remove:"Agg: Verwijder"}}),t}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(t){t.decorator("i18nService",["$delegate",function(t){return t.add("no",{headerCell:{aria:{defaultFilterLabel:"Filter for column",removeFilter:"Remove Filter",columnMenuButtonLabel:"Column Menu"},priority:"Priority:",filterLabel:"Filter for column: "},aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",none:"Sort None",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},columnMenu:{close:"Close"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter utvalgte data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter utvalgte data som pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"Page to first",pageBack:"Page back",pageSelected:"Selected page",pageForward:"Page forward",pageToLast:"Page to last"},sizes:"items per page",totalItems:"items",through:"through",of:"of"},grouping:{group:"Group",ungroup:"Ungroup",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"}}),t}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(t){t.decorator("i18nService",["$delegate",function(t){return t.add("pl",{headerCell:{aria:{defaultFilterLabel:"Filter dla kolumny",removeFilter:"Usu filter",columnMenuButtonLabel:"Menu kolumny"},priority:"Prioritet:",filterLabel:"Filtr dla kolumny: "},aggregate:{label:"pozycji"},groupPanel:{description:"Przecignij nagwek kolumny tutaj, aby pogrupowa wedug niej."},search:{placeholder:"Szukaj...",showingItems:"Widoczne pozycje:",selectedItems:"Zaznaczone pozycje:",totalItems:"Wszystkich pozycji:",size:"Rozmiar strony:",first:"Pierwsza strona",next:"Nastpna strona",previous:"Poprzednia strona",last:"Ostatnia strona"},menu:{text:"Wybierz kolumny:"},sort:{ascending:"Sortuj rosnco",descending:"Sortuj malejco",none:"Brak sortowania",remove:"Wycz sortowanie"},column:{hide:"Ukryj kolumne"},aggregation:{count:"Razem pozycji: ",sum:"Razem: ",avg:"rednia: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Przypnij do lewej",pinRight:"Przypnij do prawej",unpin:"Odepnij"},columnMenu:{close:"Zamknij"},gridMenu:{aria:{buttonLabel:"Menu Grida"},columns:"Kolumny:",importerTitle:"Importuj plik",exporterAllAsCsv:"Eksportuj wszystkie dane do csv",exporterVisibleAsCsv:"Eksportuj widoczne dane do csv",exporterSelectedAsCsv:"Eksportuj zaznaczone dane do csv",exporterAllAsPdf:"Eksportuj wszystkie dane do pdf",exporterVisibleAsPdf:"Eksportuj widoczne dane do pdf",exporterSelectedAsPdf:"Eksportuj zaznaczone dane do pdf",clearAllFilters:"Wyczy filtry"},importer:{noHeaders:"Nie udao si wczyta nazw kolumn. Czy plik posiada nagwek?",noObjects:"Nie udalo si wczyta pozycji. Czy plik zawiera dane??",invalidCsv:"Nie udao si przetworzy pliku, jest to prawidlowy plik CSV??",invalidJson:"Nie udao si przetworzy pliku, jest to prawidlowy plik Json?",jsonNotArray:"Importowany plik json musi zawiera tablic, importowanie przerwane."},pagination:{aria:{pageToFirst:"Pierwsza strona",pageBack:"Poprzednia strona",pageSelected:"Wybrana strona",pageForward:"Nastpna strona",pageToLast:"Ostatnia strona"},sizes:"pozycji na stron",totalItems:"pozycji",through:"do",of:"z"},grouping:{group:"Grupuj",ungroup:"Rozgrupuj",aggregate_count:"Zbiorczo: Razem",aggregate_sum:"Zbiorczo: Suma",aggregate_max:"Zbiorczo: Max",aggregate_min:"Zbiorczo: Min",aggregate_avg:"Zbiorczo: rednia",aggregate_remove:"Zbiorczo: Usu"}}),t}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(t){t.decorator("i18nService",["$delegate",function(t){return t.add("pt-br",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Pgina:",first:"Primeira Pgina",next:"Prxima Pgina",previous:"Pgina Anterior",last:"ltima Pgina"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordenao"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar arquivo",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas no puderam ser derivados. O arquivo tem um cabealho?",noObjects:"Objetos no puderam ser derivados. Havia dados no arquivo, alm dos cabealhos?",invalidCsv:"Arquivo no pode ser processado.  um CSV vlido?",invalidJson:"Arquivo no pode ser processado.  um Json vlido?",jsonNotArray:"Arquivo json importado tem que conter um array. Abortando."},pagination:{aria:{pageToFirst:"Primeira pgina",pageBack:"Pgina anterior",pageSelected:"Pgina Selecionada",pageForward:"Proxima",pageToLast:"Anterior"},sizes:"itens por pgina",totalItems:"itens",through:"atravs dos",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),t}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(t){t.decorator("i18nService",["$delegate",function(t){return t.add("pt",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Itens Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Pgina:",first:"Primeira Pgina",next:"Prxima Pgina",previous:"Pgina Anterior",last:"ltima Pgina"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordenao"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar ficheiro",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas no puderam ser derivados. O ficheiro tem um cabealho?",noObjects:"Objetos no puderam ser derivados. Havia dados no ficheiro, alm dos cabealhos?",invalidCsv:"Ficheiro no pode ser processado.  um CSV vlido?",invalidJson:"Ficheiro no pode ser processado.  um Json vlido?",jsonNotArray:"Ficheiro json importado tem que conter um array. Interrompendo."},pagination:{aria:{pageToFirst:"Primeira pgina",pageBack:"Pgina anterior",pageSelected:"Pgina Selecionada",pageForward:"Prxima",pageToLast:"Anterior"},sizes:"itens por pgina",totalItems:"itens",through:"atravs dos",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),t}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(t){t.decorator("i18nService",["$delegate",function(t){return t.add("ro",{headerCell:{aria:{defaultFilterLabel:"Filtru pentru coloana",removeFilter:"Sterge filtru",columnMenuButtonLabel:"Column Menu"},priority:"Prioritate:",filterLabel:"Filtru pentru coloana:"},aggregate:{label:"Elemente"},groupPanel:{description:"Trage un cap de coloana aici pentru a grupa elementele dupa coloana respectiva"},search:{placeholder:"Cauta...",showingItems:"Arata elementele:",selectedItems:"Elementele selectate:",totalItems:"Total elemente:",size:"Marime pagina:",first:"Prima pagina",next:"Pagina urmatoare",previous:"Pagina anterioara",last:"Ultima pagina"},menu:{text:"Alege coloane:"},sort:{ascending:"Ordoneaza crescator",descending:"Ordoneaza descrescator",none:"Fara ordonare",remove:"Sterge ordonarea"},column:{hide:"Ascunde coloana"},aggregation:{count:"total linii: ",sum:"total: ",avg:"medie: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin la stanga",pinRight:"Pin la dreapta",unpin:"Sterge pinul"},columnMenu:{close:"Inchide"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Coloane:",importerTitle:"Incarca fisier",exporterAllAsCsv:"Exporta toate datele ca csv",exporterVisibleAsCsv:"Exporta datele vizibile ca csv",exporterSelectedAsCsv:"Exporta datele selectate ca csv",exporterAllAsPdf:"Exporta toate datele ca pdf",exporterVisibleAsPdf:"Exporta datele vizibile ca pdf",exporterSelectedAsPdf:"Exporta datele selectate ca csv pdf",clearAllFilters:"Sterge toate filtrele"},importer:{noHeaders:"Numele coloanelor nu a putut fi incarcat, acest fisier are un header?",noObjects:"Datele nu au putut fi incarcate, exista date in fisier in afara numelor de coloane?",invalidCsv:"Fisierul nu a putut fi procesat, ati incarcat un CSV valid ?",invalidJson:"Fisierul nu a putut fi procesat, ati incarcat un Json valid?",jsonNotArray:"Json-ul incarcat trebuie sa contina un array, inchidere."},pagination:{aria:{pageToFirst:"Prima pagina",pageBack:"O pagina inapoi",pageSelected:"Pagina selectata",pageForward:"O pagina inainte",pageToLast:"Ultima pagina"},sizes:"Elemente per pagina",totalItems:"elemente",through:"prin",of:"of"},grouping:{group:"Grupeaza",ungroup:"Opreste gruparea",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"}}),t}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(t){t.decorator("i18nService",["$delegate",function(t){return t.add("ru",{headerCell:{aria:{defaultFilterLabel:" ",removeFilter:" ",columnMenuButtonLabel:" "},priority:":",filterLabel:" : "},aggregate:{label:""},groupPanel:{description:"       ."},search:{placeholder:"...",showingItems:" :",selectedItems:" :",totalItems:" :",size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",none:" ",remove:" "},column:{hide:" "},aggregation:{count:" : ",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:" ",pinRight:" ",unpin:""},columnMenu:{close:""},gridMenu:{aria:{buttonLabel:""},columns:":",importerTitle:" ",exporterAllAsCsv:"   CSV",exporterVisibleAsCsv:"    CSV",exporterSelectedAsCsv:"    CSV",exporterAllAsPdf:"   PDF",exporterVisibleAsPdf:"    PDF",exporterSelectedAsPdf:"    PDF",clearAllFilters:"  "},importer:{noHeaders:"    ,     ?",noObjects:"   ,       ?",invalidCsv:"   ,   CSV-?",invalidJson:"   ,   JSON?",jsonNotArray:" JSON-   ,  ."},pagination:{aria:{pageToFirst:" ",pageBack:" ",pageSelected:" ",pageForward:" ",pageToLast:" "},sizes:"  ",totalItems:"",through:"",of:""},grouping:{group:"",ungroup:"",aggregate_count:": Count",aggregate_sum:" : ",aggregate_max:" : ",aggregate_min:" : ",aggregate_avg:" : ",aggregate_remove:" : "}}),t}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(t){t.decorator("i18nService",["$delegate",function(t){return t.add("sk",{aggregate:{label:"items"},groupPanel:{description:"Pretiahni sem nzov stpca pre zoskupenie poda toho stpca."},search:{placeholder:"Hadaj...",showingItems:"Zobrazujem poloky:",selectedItems:"Vybrat poloky:",totalItems:"Poet poloiek:",size:"Poet:",first:"Prv strana",next:"alia strana",previous:"Predchdzajca strana",last:"Posledn strana"},menu:{text:"Vyberte stpce:"},sort:{ascending:"Zotriedi vzostupne",descending:"Zotriedi zostupne",remove:"Vymaza triedenie"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),t}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(t){t.decorator("i18nService",["$delegate",function(t){return t.add("sv",{aggregate:{label:"Artiklar"},groupPanel:{description:"Dra en kolumnrubrik hit och slpp den fr att gruppera efter den kolumnen."},search:{placeholder:"Sk...",showingItems:"Visar artiklar:",selectedItems:"Valda artiklar:",totalItems:"Antal artiklar:",size:"Sidstorlek:",first:"Frsta sidan",next:"Nsta sida",previous:"Fregende sida",last:"Sista sidan"},menu:{text:"Vlj kolumner:"},sort:{ascending:"Sortera stigande",descending:"Sortera fallande",remove:"Inaktivera sortering"},column:{hide:"Gm kolumn"},aggregation:{count:"Antal rader: ",sum:"Summa: ",avg:"Genomsnitt: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Fst vnster",pinRight:"Fst hger",unpin:"Lsgr"},gridMenu:{columns:"Kolumner:",importerTitle:"Importera fil",exporterAllAsCsv:"Exportera all data som CSV",exporterVisibleAsCsv:"Exportera synlig data som CSV",exporterSelectedAsCsv:"Exportera markerad data som CSV",exporterAllAsPdf:"Exportera all data som PDF",exporterVisibleAsPdf:"Exportera synlig data som PDF",exporterSelectedAsPdf:"Exportera markerad data som PDF",clearAllFilters:"Rengr alla filter"},importer:{noHeaders:"Kolumnnamn kunde inte hrledas. Har filen ett sidhuvud?",noObjects:"Objekt kunde inte hrledas. Har filen data undantaget sidhuvud?",invalidCsv:"Filen kunde inte behandlas, r den en giltig CSV?",invalidJson:"Filen kunde inte behandlas, r den en giltig JSON?",jsonNotArray:"Importerad JSON-fil mste innehlla ett flt. Import avbruten."},pagination:{sizes:"Artiklar per sida",totalItems:"Artiklar"}}),t}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(t){t.decorator("i18nService",["$delegate",function(t){return t.add("ta",{aggregate:{label:""},groupPanel:{description:"          "},search:{placeholder:" ...",showingItems:" :",selectedItems:"  :",totalItems:" :",size:" : ",first:" ",next:" ",previous:"  ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:" "},column:{hide:"   "},aggregation:{count:" :",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:"  ",pinRight:" ",unpin:""},gridMenu:{columns:":",importerTitle:" : ",exporterAllAsCsv:"  : csv",exporterVisibleAsCsv:"  : csv",exporterSelectedAsCsv:"  : csv",exporterAllAsPdf:"  : pdf",exporterVisibleAsPdf:"  : pdf",exporterSelectedAsPdf:"  : pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"   ,   ?",noObjects:"  ,      ? ",invalidCsv:"   ,  ? - csv",invalidJson:"   ,  ? - json",jsonNotArray:"   ,    : json"},pagination:{sizes:" / ",totalItems:" "},grouping:{group:"",ungroup:"",aggregate_count:" : ",aggregate_sum:" : ",aggregate_max:" : ",aggregate_min:" : ",aggregate_avg:" : ",aggregate_remove:" : "}}),t}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(t){t.decorator("i18nService",["$delegate",function(t){return t.add("tr",{headerCell:{aria:{defaultFilterLabel:"Stun iin filtre",removeFilter:"Filtreyi Kaldr",columnMenuButtonLabel:"Stun Mens"},priority:"ncelik:",filterLabel:"Stun iin filtre: "},aggregate:{label:"kaytlar"},groupPanel:{description:"Stuna gre gruplamak iin stun baln buraya srkleyin ve brakn."},search:{placeholder:"Arama...",showingItems:"Gsterilen Kayt:",selectedItems:"Seili Kayt:",totalItems:"Toplam Kayt:",size:"Sayfa Boyutu:",first:"lk Sayfa",next:"Sonraki Sayfa",previous:"nceki Sayfa",last:"Son Sayfa"},menu:{text:"Stunlar Se:"},sort:{ascending:"Artan Srada Srala",descending:"Azalan Srada Srala",none:"Sralama Yapma",remove:"Sralamay Kaldr"},column:{hide:"Stunu Gizle"},aggregation:{count:"toplam satr: ",sum:"toplam: ",avg:"ort: ",min:"min: ",max:"maks: "},pinning:{pinLeft:"Sola Sabitle",pinRight:"Saa Sabitle",unpin:"Sabitlemeyi Kaldr"},columnMenu:{close:"Kapat"},gridMenu:{aria:{buttonLabel:"Tablo Men"},columns:"Stunlar:",importerTitle:"Dosya ieri aktar",exporterAllAsCsv:"Btn veriyi CSV olarak dar aktar",exporterVisibleAsCsv:"Grnen veriyi CSV olarak dar aktar",exporterSelectedAsCsv:"Seili veriyi CSV olarak dar aktar",exporterAllAsPdf:"Btn veriyi PDF olarak dar aktar",exporterVisibleAsPdf:"Grnen veriyi PDF olarak dar aktar",exporterSelectedAsPdf:"Seili veriyi PDF olarak dar aktar",clearAllFilters:"Btn filtreleri kaldr"},importer:{noHeaders:"Stun isimleri retilemiyor, dosyann bir bal var m?",noObjects:"Nesneler retilemiyor, dosyada balktan baka bir veri var m?",invalidCsv:"Dosya ilenemedi, geerli bir CSV dosyas m?",invalidJson:"Dosya ilenemedi, geerli bir Json dosyas m?",jsonNotArray:"Alnan Json dosyasnda bir dizi bulunmaldr, ilem iptal ediliyor."},pagination:{aria:{pageToFirst:"lk sayfaya",pageBack:"Geri git",pageSelected:"Seili sayfa",pageForward:"leri git",pageToLast:"Sona git"},sizes:"Sayfadaki nesne says",totalItems:"kaytlar",through:"",of:""},grouping:{group:"Grupla",ungroup:"Gruplama",aggregate_count:"Yekun: Say",aggregate_sum:"Yekun: Toplam",aggregate_max:"Yekun: Maks",aggregate_min:"Yekun: Min",aggregate_avg:"Yekun: Ort",aggregate_remove:"Yekun: Sil"}}),t}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(t){t.decorator("i18nService",["$delegate",function(t){return t.add("ua",{headerCell:{aria:{defaultFilterLabel:" ",removeFilter:" ",columnMenuButtonLabel:" "},priority:":",filterLabel:" : "},aggregate:{label:""},groupPanel:{description:"       ."},search:{placeholder:"...",showingItems:" :",selectedItems:" :",totalItems:" :",size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",none:" ",remove:" "},column:{hide:" "},aggregation:{count:" : ",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:" ",pinRight:" ",unpin:""},columnMenu:{close:""},gridMenu:{aria:{buttonLabel:""},columns:":",importerTitle:" ",exporterAllAsCsv:"   CSV",exporterVisibleAsCsv:"    CSV",exporterSelectedAsCsv:"    CSV",exporterAllAsPdf:"   PDF",exporterVisibleAsPdf:"    PDF",exporterSelectedAsPdf:"    PDF",clearAllFilters:"  "},importer:{noHeaders:"    ,     ?",noObjects:"   ,       ?",invalidCsv:"   ,    CSV-?",invalidJson:"   ,    JSON?",jsonNotArray:"JSON-     ,  ."},pagination:{aria:{pageToFirst:" ",pageBack:" ",pageSelected:" ",pageForward:" ",pageToLast:" "},sizes:"  ",totalItems:"",through:"",of:""},grouping:{group:"",ungroup:"",aggregate_count:": ",aggregate_sum:" : ",aggregate_max:" : ",aggregate_min:" : ",aggregate_avg:" : ",aggregate_remove:" : "}}),t}])}])}(),function(){var t=["uiT","uiTranslate"],e=["t","uiTranslate"],n=angular.module("ui.grid.i18n");n.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"}),n.service("i18nService",["$log","i18nConstants","$rootScope",function(t,e,n){var r={_langs:{},current:null,get:function(t){return this._langs[t.toLowerCase()]},add:function(t,e){var n=t.toLowerCase();this._langs[n]||(this._langs[n]={}),angular.extend(this._langs[n],e)},getAllLangs:function(){var t=[];if(!this._langs)return t;for(var e in this._langs)t.push(e);return t},setCurrent:function(t){this.current=t.toLowerCase()},getCurrentLang:function(){return this.current}},i={add:function(t,e){"object"==typeof t?angular.forEach(t,function(t){t&&r.add(t,e)}):r.add(t,e)},getAllLangs:function(){return r.getAllLangs()},get:function(t){var e=t||i.getCurrentLang();return r.get(e)},getSafeText:function(t,n){var o=n||i.getCurrentLang(),a=r.get(o);if(!a)return e.MISSING;for(var s=t.split("."),l=a,u=0;u<s.length;++u){if(void 0===l[s[u]]||null===l[s[u]])return e.MISSING;l=l[s[u]]}return l},setCurrentLang:function(t){t&&(r.setCurrent(t),n.$broadcast(e.UPDATE_EVENT))},getCurrentLang:function(){var t=r.getCurrentLang();return t||(t=e.DEFAULT_LANG,r.setCurrent(t)),t}};return i}]);var r=function(t,e){return{compile:function(){return{pre:function(n,r,i){var o=e.LOCALE_DIRECTIVE_ALIAS,a=n.$eval(i[o]);a?n.$watch(i[o],function(){t.setCurrentLang(a)}):i.$$observers&&i.$observe(o,function(){t.setCurrentLang(i[o]||e.DEFAULT_LANG)})}}}}};n.directive("uiI18n",["i18nService","i18nConstants",r]);var i=function(e,n,r){return{restrict:"EA",compile:function(){return{pre:function(i,o,a){var s,l=t[0],u=t[1],c=a[l]||a[u]||o.html(),d=r.MISSING+c;if(a.$$observers){var h=a[l]?l:u;s=a.$observe(h,function(t){t&&o.html(e(t)(n.getCurrentLang())||d)})}var f=e(c),p=i.$on(r.UPDATE_EVENT,function(t){s?s(a[l]||a[u]):o.html(f(n.get())||d)});i.$on("$destroy",p),o.html(f(n.get())||d)}}}}};angular.forEach(t,function(t){n.directive(t,["$parse","i18nService","i18nConstants",i])});var o=function(t,e,n){return function(r){return t(r)(e.get())||n.MISSING+r}};angular.forEach(e,function(t){n.filter(t,["$parse","i18nService","i18nConstants",o])})}(),function(){angular.module("ui.grid").config(["$provide",function(t){t.decorator("i18nService",["$delegate",function(t){return t.add("zh-cn",{headerCell:{aria:{defaultFilterLabel:"",removeFilter:"",columnMenuButtonLabel:""},priority:":",filterLabel:": "},aggregate:{label:""},groupPanel:{description:""},search:{placeholder:"",showingItems:"",selectedItems:"",totalItems:"",size:"",first:"",next:"",previous:"",last:""},menu:{text:""},sort:{ascending:"",descending:"",none:"",remove:""},column:{hide:""},aggregation:{count:"",sum:"",avg:"",min:"",max:""},pinning:{pinLeft:"",pinRight:"",unpin:""},columnMenu:{close:""},gridMenu:{aria:{buttonLabel:""},columns:"",importerTitle:"",exporterAllAsCsv:"CSV",exporterVisibleAsCsv:"CSV",exporterSelectedAsCsv:"CSV",exporterAllAsPdf:"PDF",exporterVisibleAsPdf:"PDF",exporterSelectedAsPdf:"PDF",clearAllFilters:""},importer:{noHeaders:"",noObjects:"",invalidCsv:"CSV",invalidJson:"JSON",jsonNotArray:"JSON"},pagination:{aria:{pageToFirst:"",pageBack:"",pageSelected:"",pageForward:"",pageToLast:""},sizes:"",totalItems:"",through:"",of:""},grouping:{group:"",ungroup:"",aggregate_count:": ",aggregate_sum:": ",aggregate_max:": ",aggregate_min:": ",aggregate_avg:": ",aggregate_remove:": "}}),t}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(t){t.decorator("i18nService",["$delegate",function(t){return t.add("zh-tw",{aggregate:{label:""},groupPanel:{description:""},search:{placeholder:"",showingItems:"",selectedItems:"",totalItems:"",size:"",first:"",next:"",previous:"",last:""},menu:{text:""},sort:{ascending:"",descending:"",remove:""},column:{hide:""},aggregation:{count:"",sum:"",avg:"",min:"",max:""},pinning:{pinLeft:"",pinRight:"",unpin:""},gridMenu:{columns:"",importerTitle:"",exporterAllAsCsv:"CSV",exporterVisibleAsCsv:"CSV",exporterSelectedAsCsv:"CSV",exporterAllAsPdf:"PDF",exporterVisibleAsPdf:"PDF",exporterSelectedAsPdf:"PDF",clearAllFilters:""},importer:{noHeaders:"",noObjects:"",invalidCsv:"CSV",invalidJson:"JSON",jsonNotArray:"JSON"},pagination:{sizes:"",totalItems:""}}),t}])}])}(),function(){"use strict";angular.module("ui.grid.autoResize",["ui.grid"]).directive("uiGridAutoResize",["$timeout","gridUtil",function(t,e){return{require:"uiGrid",scope:!1,link:function(t,n,r,i){function o(){l=e.elementHeight(n),s=e.elementWidth(n)}function a(){clearTimeout(u),u=setTimeout(function(){var r=e.elementHeight(n),u=e.elementWidth(n);r!==l||u!==s?(i.grid.gridHeight=r,i.grid.gridWidth=u,i.grid.api.core.raise.gridDimensionChanged(l,s,r,u),t.$apply(function(){i.grid.refresh().then(function(){o(),a()})})):a()},250)}var s,l;o();var u;a(),t.$on("$destroy",function(){clearTimeout(u)})}}}])}(),function(){"use strict";var t=angular.module("ui.grid.cellNav",["ui.grid"]);t.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3,PG_UP:4,PG_DOWN:5},EVENT_TYPE:{KEYDOWN:0,CLICK:1,CLEAR:2}}),t.factory("uiGridCellNavFactory",["gridUtil","uiGridConstants","uiGridCellNavConstants","GridRowColumn","$q",function(t,e,n,r,i){var o=function(t,e,n,r){this.rows=t.visibleRowCache,this.columns=e.visibleColumnCache,this.leftColumns=n?n.visibleColumnCache:[],this.rightColumns=r?r.visibleColumnCache:[],this.bodyContainer=t};return o.prototype.getFocusableCols=function(){return this.leftColumns.concat(this.columns,this.rightColumns).filter(function(t){return t.colDef.allowCellFocus})},o.prototype.getFocusableRows=function(){return this.rows.filter(function(t){return!1!==t.allowCellFocus})},o.prototype.getNextRowCol=function(t,e,r){switch(t){case n.direction.LEFT:return this.getRowColLeft(e,r);case n.direction.RIGHT:return this.getRowColRight(e,r);case n.direction.UP:return this.getRowColUp(e,r);case n.direction.DOWN:return this.getRowColDown(e,r);case n.direction.PG_UP:return this.getRowColPageUp(e,r);case n.direction.PG_DOWN:return this.getRowColPageDown(e,r)}},o.prototype.initializeSelection=function(){var t=this.getFocusableCols(),e=this.getFocusableRows();if(0===t.length||0===e.length)return null;return new r(e[0],t[0])},o.prototype.getRowColLeft=function(t,e){var n=this.getFocusableCols(),i=this.getFocusableRows(),o=n.indexOf(e),a=i.indexOf(t);-1===o&&(o=1);var s=0===o?n.length-1:o-1;return s>o?0===a?new r(t,n[s]):new r(i[a-1],n[s]):new r(t,n[s])},o.prototype.getRowColRight=function(t,e){var n=this.getFocusableCols(),i=this.getFocusableRows(),o=n.indexOf(e),a=i.indexOf(t);-1===o&&(o=0);var s=o===n.length-1?0:o+1;return s<o?a===i.length-1?new r(t,n[s]):new r(i[a+1],n[s]):new r(t,n[s])},o.prototype.getRowColDown=function(t,e){var n=this.getFocusableCols(),i=this.getFocusableRows(),o=n.indexOf(e),a=i.indexOf(t);return-1===o&&(o=0),a===i.length-1?new r(t,n[o]):new r(i[a+1],n[o])},o.prototype.getRowColPageDown=function(t,e){var n=this.getFocusableCols(),i=this.getFocusableRows(),o=n.indexOf(e),a=i.indexOf(t);-1===o&&(o=0);var s=this.bodyContainer.minRowsToRender();return a>=i.length-s?new r(i[i.length-1],n[o]):new r(i[a+s],n[o])},o.prototype.getRowColUp=function(t,e){var n=this.getFocusableCols(),i=this.getFocusableRows(),o=n.indexOf(e),a=i.indexOf(t);return-1===o&&(o=0),0===a?new r(t,n[o]):new r(i[a-1],n[o])},o.prototype.getRowColPageUp=function(t,e){var n=this.getFocusableCols(),i=this.getFocusableRows(),o=n.indexOf(e),a=i.indexOf(t);-1===o&&(o=0);var s=this.bodyContainer.minRowsToRender();return a-s<0?new r(i[0],n[o]):new r(i[a-s],n[o])},o}]),t.service("uiGridCellNavService",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q","uiGridCellNavFactory","GridRowColumn","ScrollEvent",function(t,e,n,r,i,o,a){var s={initializeGrid:function(t){t.registerColumnBuilder(s.cellNavColumnBuilder),t.cellNav={},t.cellNav.lastRowCol=null,t.cellNav.focusedCells=[],s.defaultGridOptions(t.options);var e={events:{cellNav:{navigate:function(t,e){},viewPortKeyDown:function(t,e){},viewPortKeyPress:function(t,e){}}},methods:{cellNav:{scrollToFocus:function(e,n){return s.scrollToFocus(t,e,n)},getFocusedCell:function(){return t.cellNav.lastRowCol},getCurrentSelection:function(){return t.cellNav.focusedCells},rowColSelectIndex:function(e){for(var n=-1,r=0;r<t.cellNav.focusedCells.length;r++)if(t.cellNav.focusedCells[r].col.uid===e.col.uid&&t.cellNav.focusedCells[r].row.uid===e.row.uid){n=r;break}return n}}}};t.api.registerEventsFromObject(e.events),t.api.registerMethodsFromObject(e.methods)},defaultGridOptions:function(t){t.modifierKeysToMultiSelectCells=!0===t.modifierKeysToMultiSelectCells},decorateRenderContainers:function(t){var e=t.hasRightContainer()?t.renderContainers.right:null,n=t.hasLeftContainer()?t.renderContainers.left:null;null!==n&&(t.renderContainers.left.cellNav=new i(t.renderContainers.body,n,e,t.renderContainers.body)),null!==e&&(t.renderContainers.right.cellNav=new i(t.renderContainers.body,e,t.renderContainers.body,n)),t.renderContainers.body.cellNav=new i(t.renderContainers.body,t.renderContainers.body,n,e)},getDirection:function(t){return t.keyCode===e.keymap.LEFT||t.keyCode===e.keymap.TAB&&t.shiftKey?n.direction.LEFT:t.keyCode===e.keymap.RIGHT||t.keyCode===e.keymap.TAB?n.direction.RIGHT:t.keyCode===e.keymap.UP||t.keyCode===e.keymap.ENTER&&t.shiftKey?n.direction.UP:t.keyCode===e.keymap.PG_UP?n.direction.PG_UP:t.keyCode===e.keymap.DOWN||t.keyCode===e.keymap.ENTER&&!t.ctrlKey&&!t.altKey?n.direction.DOWN:t.keyCode===e.keymap.PG_DOWN?n.direction.PG_DOWN:null},cellNavColumnBuilder:function(t,e,n){var i=[];return t.allowCellFocus=void 0===t.allowCellFocus||t.allowCellFocus,r.all(i)},scrollToFocus:function(t,e,n){var r=null,i=null;return void 0!==e&&null!==e&&(r=t.getRow(e)),void 0!==n&&null!==n&&(i=t.getColumn(n.name?n.name:n.field)),t.api.core.scrollToIfNecessary(r,i).then(function(){var e={row:r,col:i};null!==r&&null!==i&&t.cellNav.broadcastCellNav(e)})},getLeftWidth:function(t,e){var n=0;if(!e)return n;var r=t.renderContainers.body.visibleColumnCache.indexOf(e);t.renderContainers.body.visibleColumnCache.forEach(function(t,e){e<r&&(n+=t.drawnWidth)});var i=0===r?0:(r+1)/t.renderContainers.body.visibleColumnCache.length;return n+=e.drawnWidth*i}};return s}]),t.directive("uiGridCellnav",["gridUtil","uiGridCellNavService","uiGridCellNavConstants","uiGridConstants","GridRowColumn","$timeout","$compile",function(t,e,n,r,i,o,a){return{replace:!0,priority:-150,require:"^uiGrid",scope:!1,controller:function(){},compile:function(){return{pre:function(t,o,a,s){var l=t,u=s.grid;e.initializeGrid(u),s.cellNav={},s.cellNav.makeRowCol=function(t){return t instanceof i||(t=new i(t.row,t.col)),t},s.cellNav.getActiveCell=function(){var t=o[0].getElementsByClassName("ui-grid-cell-focus");if(t.length>0)return t[0]},s.cellNav.broadcastCellNav=u.cellNav.broadcastCellNav=function(t,e,r){e=!(void 0===e||!e),t=s.cellNav.makeRowCol(t),s.cellNav.broadcastFocus(t,e,r),l.$broadcast(n.CELL_NAV_EVENT,t,e,r)},s.cellNav.clearFocus=u.cellNav.clearFocus=function(){u.cellNav.focusedCells=[],l.$broadcast(n.CELL_NAV_EVENT)},s.cellNav.broadcastFocus=function(t,e,n){e=!(void 0===e||!e);var r=(t=s.cellNav.makeRowCol(t)).row,o=t.col,a=s.grid.api.cellNav.rowColSelectIndex(t);if(null===u.cellNav.lastRowCol||-1===a){var l=new i(r,o);null!==u.cellNav.lastRowCol&&u.cellNav.lastRowCol.row===l.row&&u.cellNav.lastRowCol.col===l.col||(u.api.cellNav.raise.navigate(l,u.cellNav.lastRowCol),u.cellNav.lastRowCol=l),s.grid.options.modifierKeysToMultiSelectCells&&e?u.cellNav.focusedCells.push(t):u.cellNav.focusedCells=[t]}else u.options.modifierKeysToMultiSelectCells&&e&&a>=0&&u.cellNav.focusedCells.splice(a,1)},s.cellNav.handleKeyDown=function(t){var i=e.getDirection(t);if(null===i)return null;var o="body";t.uiGridTargetRenderContainerId&&(o=t.uiGridTargetRenderContainerId);var a=s.grid.api.cellNav.getFocusedCell();if(a){var l=s.grid.renderContainers[o].cellNav.getNextRowCol(i,a.row,a.col),c=s.grid.renderContainers[o].cellNav.getFocusableCols(),d=s.grid.api.cellNav.rowColSelectIndex(l);return i===n.direction.LEFT&&l.col===c[c.length-1]&&l.row===a.row&&t.keyCode===r.keymap.TAB&&t.shiftKey?(u.cellNav.focusedCells.splice(d,1),s.cellNav.clearFocus(),!0):i!==n.direction.RIGHT||l.col!==c[0]||l.row!==a.row||t.keyCode!==r.keymap.TAB||t.shiftKey?(u.scrollToIfNecessary(l.row,l.col).then(function(){s.cellNav.broadcastCellNav(l)}),t.stopPropagation(),t.preventDefault(),!1):(u.cellNav.focusedCells.splice(d,1),s.cellNav.clearFocus(),!0)}}},post:function(t,e,r,i){var o=i.grid;!function(){var r='<div id="'+o.id+'-aria-speakable" class="ui-grid-a11y-ariascreenreader-speakable ui-grid-offscreen" aria-live="assertive" role="region" aria-atomic="true" aria-hidden="false" aria-relevant="additions" >&nbsp;</div>',i=a(r)(t);e.prepend(i),t.$on(n.CELL_NAV_EVENT,function(t,e,n,r){if(!r||"focus"!==r.type){for(var a=[],s=o.api.cellNav.getCurrentSelection(),l=0;l<s.length;l++)a.push(o.getCellDisplayValue(s[l].row,s[l].col));!function(t){t!==i.text()&&(i[0].style.clip="rect(0px,0px,0px,0px)",i[0].innerHTML="",i[0].style.visibility="hidden",i[0].style.visibility="visible",""!==t&&(i[0].style.clip="auto",i[0].appendChild(document.createTextNode(t+" ")),i[0].style.visibility="hidden",i[0].style.visibility="visible"))}(a.toString())}})}()}}}}}]),t.directive("uiGridRenderContainer",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","$compile","uiGridCellNavConstants",function(t,e,n,r,i,o,a){return{replace:!0,priority:-99999,require:["^uiGrid","uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{post:function(e,r,s,l){var u=l[0],c=l[1],d=l[2];if(u.grid.api.cellNav){var h=c.containerId,f=u.grid;if(i.decorateRenderContainers(f),"body"===h){u.grid.options.modifierKeysToMultiSelectCells?r.attr("aria-multiselectable",!0):r.attr("aria-multiselectable",!1);var p=o('<div class="ui-grid-focuser" role="region" aria-live="assertive" aria-atomic="false" tabindex="0" aria-controls="'+f.id+"-aria-speakable "+f.id+'-grid-container" aria-owns="'+f.id+'-grid-container"></div>')(e);r.append(p),p.on("focus",function(t){t.uiGridTargetRenderContainerId=h;var e=u.grid.api.cellNav.getFocusedCell();null===e&&(e=u.grid.renderContainers[h].cellNav.getNextRowCol(a.direction.DOWN,null,null)).row&&e.col&&u.cellNav.broadcastCellNav(e)}),d.setAriaActivedescendant=function(t){r.attr("aria-activedescendant",t)},d.removeAriaActivedescendant=function(t){r.attr("aria-activedescendant")===t&&r.attr("aria-activedescendant","")},u.focus=function(){n.focus.byElement(p[0])};var g=null;p.on("keydown",function(t){t.uiGridTargetRenderContainerId=h;var e=u.grid.api.cellNav.getFocusedCell();null===u.cellNav.handleKeyDown(t)&&(u.grid.api.cellNav.raise.viewPortKeyDown(t,e),g=e)}),p.on("keypress",function(e){g&&(t(function(){u.grid.api.cellNav.raise.viewPortKeyPress(e,g)},4),g=null)}),e.$on("$destroy",function(){p.off()})}}}}}}}]),t.directive("uiGridViewport",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","uiGridCellNavConstants","$log","$compile",function(t,e,n,r,i,o,a,s){return{replace:!0,priority:-99999,require:["^uiGrid","^uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{pre:function(t,e,n,r){},post:function(t,e,n,r){var i=r[0],o=r[1];if(i.grid.api.cellNav&&"body"===o.containerId){var a=i.grid;a.api.core.on.scrollBegin(t,function(t){var e=i.grid.api.cellNav.getFocusedCell();null!==e&&o.colContainer.containsColumn(e.col)&&i.cellNav.clearFocus()}),a.api.core.on.scrollEnd(t,function(t){var e=i.grid.api.cellNav.getFocusedCell();null!==e&&o.colContainer.containsColumn(e.col)&&i.cellNav.broadcastCellNav(e)}),a.api.cellNav.on.navigate(t,function(){i.focus()})}}}}}}]),t.directive("uiGridCell",["$timeout","$document","uiGridCellNavService","gridUtil","uiGridCellNavConstants","uiGridConstants","GridRowColumn",function(t,e,n,r,i,o,a){return{priority:-150,restrict:"A",require:["^uiGrid","?^uiGridCellnav"],scope:!1,link:function(t,e,n,r){function o(t){t.preventDefault()}function s(){t.focused||(e.find("div").addClass("ui-grid-cell-focus"),e.attr("aria-selected",!0),c.setAriaActivedescendant(e.attr("id")),t.focused=!0)}function l(){t.focused&&(e.find("div").removeClass("ui-grid-cell-focus"),e.attr("aria-selected",!1),c.removeAriaActivedescendant(e.attr("id")),t.focused=!1)}var u=r[0],c=r[1];if(u.grid.api.cellNav&&t.col.colDef.allowCellFocus){var d=u.grid;t.focused=!1,e.attr("tabindex",-1),e.find("div").on("click",function(e){u.cellNav.broadcastCellNav(new a(t.row,t.col),e.ctrlKey||e.metaKey,e),e.stopPropagation(),t.$apply()}),e.on("mousedown",o),u.grid.api.edit&&(u.grid.api.edit.on.beginCellEdit(t,function(){e.off("mousedown",o)}),u.grid.api.edit.on.afterCellEdit(t,function(){e.on("mousedown",o)}),u.grid.api.edit.on.cancelCellEdit(t,function(){e.on("mousedown",o)})),e.on("focus",function(e){u.cellNav.broadcastCellNav(new a(t.row,t.col),!1,e),e.stopPropagation(),t.$apply()}),t.$on(i.CELL_NAV_EVENT,function(e,n,r){d.cellNav.focusedCells.some(function(e,n){return e.row===t.row&&e.col===t.col})?s():l()}),t.$on("$destroy",function(){e.find("div").off(),e.off()})}}}}])}(),function(){"use strict";var t=angular.module("ui.grid.edit",["ui.grid"]);t.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}}),t.service("uiGridEditService",["$q","uiGridConstants","gridUtil",function(t,e,n){var r={initializeGrid:function(t){r.defaultGridOptions(t.options),t.registerColumnBuilder(r.editColumnBuilder),t.edit={};var e={events:{edit:{afterCellEdit:function(t,e,n,r){},beginCellEdit:function(t,e,n){},cancelCellEdit:function(t,e){}}},methods:{edit:{}}};t.api.registerEventsFromObject(e.events)},defaultGridOptions:function(t){t.cellEditableCondition=void 0===t.cellEditableCondition||t.cellEditableCondition,t.enableCellEditOnFocus=void 0!==t.enableCellEditOnFocus&&t.enableCellEditOnFocus},editColumnBuilder:function(e,r,i){var o=[];return e.enableCellEdit=void 0===e.enableCellEdit?void 0===i.enableCellEdit?"object"!==e.type:i.enableCellEdit:e.enableCellEdit,e.cellEditableCondition=void 0===e.cellEditableCondition?i.cellEditableCondition:e.cellEditableCondition,e.enableCellEdit&&(e.editableCellTemplate=e.editableCellTemplate||i.editableCellTemplate||"ui-grid/cellEditor",o.push(n.getTemplate(e.editableCellTemplate).then(function(t){r.editableCellTemplate=t},function(t){throw new Error("Couldn't fetch/use colDef.editableCellTemplate '"+e.editableCellTemplate+"'")}))),e.enableCellEditOnFocus=void 0===e.enableCellEditOnFocus?i.enableCellEditOnFocus:e.enableCellEditOnFocus,t.all(o)},isStartEditKey:function(t){return!(t.metaKey||t.keyCode===e.keymap.ESC||t.keyCode===e.keymap.SHIFT||t.keyCode===e.keymap.CTRL||t.keyCode===e.keymap.ALT||t.keyCode===e.keymap.WIN||t.keyCode===e.keymap.CAPSLOCK||t.keyCode===e.keymap.LEFT||t.keyCode===e.keymap.TAB&&t.shiftKey||t.keyCode===e.keymap.RIGHT||t.keyCode===e.keymap.TAB||t.keyCode===e.keymap.UP||t.keyCode===e.keymap.ENTER&&t.shiftKey||t.keyCode===e.keymap.DOWN||t.keyCode===e.keymap.ENTER)}};return r}]),t.directive("uiGridEdit",["gridUtil","uiGridEditService",function(t,e){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(t,n,r,i){e.initializeGrid(i.grid)},post:function(t,e,n,r){}}}}}]),t.directive("uiGridViewport",["uiGridEditConstants",function(t){return{replace:!0,priority:-99998,require:["^uiGrid","^uiGridRenderContainer"],scope:!1,compile:function(){return{post:function(e,n,r,i){var o=i[0];o.grid.api.edit&&o.grid.api.cellNav&&"body"===i[1].containerId&&(e.$on(t.events.CANCEL_CELL_EDIT,function(){o.focus()}),e.$on(t.events.END_CELL_EDIT,function(){o.focus()}))}}}}}]),t.directive("uiGridCell",["$compile","$injector","$timeout","uiGridConstants","uiGridEditConstants","gridUtil","$parse","uiGridEditService","$rootScope","$q",function(t,e,n,r,i,o,a,s,l,u){var c=500;if(e.has("uiGridCellNavService"))e.get("uiGridCellNavService");return{priority:-100,restrict:"A",scope:!1,require:"?^uiGrid",link:function(e,d,h,f){function p(){d.on("dblclick",x),d.on("touchstart",g),f&&f.grid.api.cellNav&&(A=f.grid.api.cellNav.on.viewPortKeyDown(e,function(t,n){null!==n&&(n.row!==e.row||n.col!==e.col||e.col.colDef.enableCellEditOnFocus||y(t))}),L=f.grid.api.cellNav.on.navigate(e,function(t,r){e.col.colDef.enableCellEditOnFocus&&(r&&t.row===r.row&&t.col===r.col||t.row!==e.row||t.col!==e.col||n(function(){x()}))})),e.beginEditEventsWired=!0}function g(t){void 0!==t.originalEvent&&void 0!==t.originalEvent&&(t=t.originalEvent),d.on("touchend",m),($=n(function(){},c)).then(function(){setTimeout(x,0),d.off("touchend",m)})}function m(t){n.cancel($),d.off("touchend",m)}function v(){d.off("dblclick",x),d.off("keydown",y),d.off("touchstart",g),L(),A(),e.beginEditEventsWired=!1}function y(t){s.isStartEditKey(t)&&x(t)}function b(t,n){return!n.isSaving&&(angular.isFunction(t.colDef.cellEditableCondition)?t.colDef.cellEditableCondition(e):t.colDef.cellEditableCondition)}function x(t){e.grid.api.core.scrollToIfNecessary(e.row,e.col).then(function(){_(t)})}function _(s){if(!E&&b(e.col,e.row)){var c=e.row.getQualifiedColField(e.col);e.col.colDef.editModelField&&(c=o.preEval("row.entity."+e.col.colDef.editModelField)),T=a(c),M=T(e),S=e.col.editableCellTemplate,S=S.replace(r.MODEL_COL_FIELD,c),S=S.replace(r.COL_FIELD,"grid.getCellValue(row, col)");var h=e.col.colDef.editDropdownFilter?"|"+e.col.colDef.editDropdownFilter:"";S=S.replace(r.CUSTOM_FILTERS,h);var f="text";switch(e.col.colDef.type){case"boolean":f="checkbox";break;case"number":f="number";break;case"date":f="date"}S=S.replace("INPUT_TYPE",f);var p=e.col.colDef.editDropdownOptionsFunction;if(p)u.when(p(e.row.entity,e.col.colDef)).then(function(t){e.editDropdownOptionsArray=t});else{var g=e.col.colDef.editDropdownRowEntityOptionsArrayPath;e.editDropdownOptionsArray=g?k(e.row.entity,g):e.col.colDef.editDropdownOptionsArray}e.editDropdownIdLabel=e.col.colDef.editDropdownIdLabel?e.col.colDef.editDropdownIdLabel:"id",e.editDropdownValueLabel=e.col.colDef.editDropdownValueLabel?e.col.colDef.editDropdownValueLabel:"value";var m=function(){E=!0,v();var n=angular.element(S);d.append(n),D=e.$new(),t(n)(D),angular.element(d.children()[0]).addClass("ui-grid-cell-contents-hidden")};l.$$phase?m():e.$apply(m);var y=e.col.grid.api.core.on.scrollBegin(e,function(){e.grid.disableScrolling||(w(),e.grid.api.edit.raise.afterCellEdit(e.row.entity,e.col.colDef,T(e),M),y(),x(),_())}),x=e.$on(i.events.END_CELL_EDIT,function(){w(),e.grid.api.edit.raise.afterCellEdit(e.row.entity,e.col.colDef,T(e),M),x(),y(),_()}),_=e.$on(i.events.CANCEL_CELL_EDIT,function(){C(),_(),y(),x()});e.$broadcast(i.events.BEGIN_CELL_EDIT,s),n(function(){e.grid.api.edit.raise.beginCellEdit(e.row.entity,e.col.colDef,s)})}}function w(){if(e.grid.disableScrolling=!1,E){f&&f.grid.api.cellNav&&f.focus();var t=angular.element(d.children()[0]);D.$destroy();for(var n=d.children(),i=1;i<n.length;i++)angular.element(n[i]).remove();t.removeClass("ui-grid-cell-contents-hidden"),E=!1,p(),e.grid.api.core.notifyDataChange(r.dataChange.EDIT)}}function C(){e.grid.disableScrolling=!1,E&&(T.assign(e,M),e.$apply(),e.grid.api.edit.raise.cancelCellEdit(e.row.entity,e.col.colDef),w())}function k(t,e){for(var n=(e=(e=e.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split(".");n.length;){var r=n.shift();if(!(r in t))return;t=t[r]}return t}var S,M,T,$,D,E=!1;if(e.col.colDef.enableCellEdit){var L=function(){},A=function(){},F=function(){e.col.colDef.enableCellEdit&&!1!==e.row.enableCellEdit?e.beginEditEventsWired||p():e.beginEditEventsWired&&v()};F();var P=e.$watch("row",function(t,e){t!==e&&F()});e.$on("$destroy",P)}}}}]),t.directive("uiGridEditor",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout","uiGridEditService",function(t,e,n,r,i){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer","ngModel"],compile:function(){return{pre:function(t,e,n){},post:function(t,o,a,s){var l,u,c;s[0]&&(l=s[0]),s[1]&&(u=s[1]),s[2]&&(c=s[2]),t.$on(n.events.BEGIN_CELL_EDIT,function(e,n){if(r(function(){if(o[0].focus(),!o[0].select||!t.col.colDef.enableCellEditOnFocus&&l&&l.grid.api.cellNav)try{o[0].setSelectionRange(o[0].value.length,o[0].value.length)}catch(t){}else o[0].select()}),l&&l.grid.api.cellNav)var a=l.grid.api.cellNav.on.viewPortKeyPress(t,function(t,e){i.isStartEditKey(t)&&(c.$setViewValue(String.fromCharCode("number"==typeof t.which?t.which:t.keyCode),t),c.$render()),a()});o.on("blur",function(e){t.stopEdit(e)})}),t.deepEdit=!1,t.stopEdit=function(e){t.inputForm&&!t.inputForm.$valid?(e.stopPropagation(),t.$emit(n.events.CANCEL_CELL_EDIT)):t.$emit(n.events.END_CELL_EDIT),t.deepEdit=!1},o.on("click",function(e){"checkbox"!==o[0].type&&(t.deepEdit=!0,r(function(){t.grid.disableScrolling=!0}))}),o.on("keydown",function(r){switch(r.keyCode){case e.keymap.ESC:r.stopPropagation(),t.$emit(n.events.CANCEL_CELL_EDIT)}if(!t.deepEdit||r.keyCode!==e.keymap.LEFT&&r.keyCode!==e.keymap.RIGHT&&r.keyCode!==e.keymap.UP&&r.keyCode!==e.keymap.DOWN)if(l&&l.grid.api.cellNav)r.uiGridTargetRenderContainerId=u.containerId,null!==l.cellNav.handleKeyDown(r)&&t.stopEdit(r);else switch(r.keyCode){case e.keymap.ENTER:case e.keymap.TAB:r.stopPropagation(),r.preventDefault(),t.stopEdit(r)}else r.stopPropagation();return!0})}}}}}]),t.directive("uiGridEditor",["$filter",function(t){function e(t){if(void 0===t||""===t)return null;var e=t.split("-");if(3!==e.length)return null;var n=parseInt(e[0],10),r=parseInt(e[1],10),i=parseInt(e[2],10);return r<1||n<1||i<1?null:new Date(n,r-1,i)}return{priority:-100,require:"?ngModel",link:function(n,r,i,o){2===angular.version.minor&&i.type&&"date"===i.type&&o&&(o.$formatters.push(function(e){return o.$setValidity(null,!e||!isNaN(e.getTime())),t("date")(e,"yyyy-MM-dd")}),o.$parsers.push(function(t){if(t&&t.length>0){var n=e(t);return o.$setValidity(null,n&&!isNaN(n.getTime())),n}return o.$setValidity(null,!0),null}))}}}]),t.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants",function(t,e){return{require:["?^uiGrid","?^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(t,e,n){},post:function(n,r,i,o){var a=o[0],s=o[1];n.$on(e.events.BEGIN_CELL_EDIT,function(){r[0].focus(),r[0].style.width=r[0].parentElement.offsetWidth-1+"px",r.on("blur",function(t){n.stopEdit(t)})}),n.stopEdit=function(t){n.$emit(e.events.END_CELL_EDIT)},r.on("keydown",function(r){switch(r.keyCode){case t.keymap.ESC:r.stopPropagation(),n.$emit(e.events.CANCEL_CELL_EDIT)}if(a&&a.grid.api.cellNav)r.uiGridTargetRenderContainerId=s.containerId,null!==a.cellNav.handleKeyDown(r)&&n.stopEdit(r);else switch(r.keyCode){case t.keymap.ENTER:case t.keymap.TAB:r.stopPropagation(),r.preventDefault(),n.stopEdit(r)}return!0})}}}}}]),t.directive("uiGridEditFileChooser",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout",function(t,e,n,r){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function(t,e,n){},post:function(e,r,i,o){var a;o[0]&&(a=o[0]),o[1]&&o[1];a.grid;var s=function(r){var i=r.srcElement||r.target;i&&i.files&&i.files.length>0?("function"==typeof e.col.colDef.editFileChooserCallback?e.col.colDef.editFileChooserCallback(e.row,e.col,i.files):t.logError("You need to set colDef.editFileChooserCallback to use the file chooser"),i.form.reset(),e.$emit(n.events.END_CELL_EDIT)):e.$emit(n.events.CANCEL_CELL_EDIT)};r[0].addEventListener("change",s,!1),e.$on(n.events.BEGIN_CELL_EDIT,function(){r[0].focus(),r[0].select(),r.on("blur",function(t){e.$emit(n.events.END_CELL_EDIT)})})}}}}}])}(),function(){"use strict";var t=angular.module("ui.grid.expandable",["ui.grid"]);t.service("uiGridExpandableService",["gridUtil","$compile",function(t,e){var n={initializeGrid:function(e){e.expandable={},e.expandable.expandedAll=!1,e.options.enableExpandable=!1!==e.options.enableExpandable,e.options.expandableRowHeight=e.options.expandableRowHeight||150,e.options.expandableRowHeaderWidth=e.options.expandableRowHeaderWidth||40,e.options.enableExpandable&&!e.options.expandableRowTemplate&&(t.logError("You have not set the expandableRowTemplate, disabling expandable module"),e.options.enableExpandable=!1);var r={events:{expandable:{rowExpandedBeforeStateChanged:function(t,e){},rowExpandedStateChanged:function(t,e){}}},methods:{expandable:{toggleRowExpansion:function(t){var r=e.getRow(t);null!==r&&n.toggleRowExpansion(e,r)},expandAllRows:function(){n.expandAllRows(e)},collapseAllRows:function(){n.collapseAllRows(e)},toggleAllRows:function(){n.toggleAllRows(e)},expandRow:function(t){var r=e.getRow(t);null===r||r.isExpanded||n.toggleRowExpansion(e,r)},collapseRow:function(t){var r=e.getRow(t);null!==r&&r.isExpanded&&n.toggleRowExpansion(e,r)},getExpandedRows:function(){return n.getExpandedRows(e).map(function(t){return t.entity})}}}};e.api.registerEventsFromObject(r.events),e.api.registerMethodsFromObject(r.methods)},toggleRowExpansion:function(t,e){t.api.expandable.raise.rowExpandedBeforeStateChanged(e),e.isExpanded=!e.isExpanded,angular.isUndefined(e.expandedRowHeight)&&(e.expandedRowHeight=t.options.expandableRowHeight),e.isExpanded?e.height=e.grid.options.rowHeight+e.expandedRowHeight:(e.height=e.grid.options.rowHeight,t.expandable.expandedAll=!1),t.api.expandable.raise.rowExpandedStateChanged(e)},expandAllRows:function(t,e){t.renderContainers.body.visibleRowCache.forEach(function(e){e.isExpanded||n.toggleRowExpansion(t,e)}),t.expandable.expandedAll=!0,t.queueGridRefresh()},collapseAllRows:function(t){t.renderContainers.body.visibleRowCache.forEach(function(e){e.isExpanded&&n.toggleRowExpansion(t,e)}),t.expandable.expandedAll=!1,t.queueGridRefresh()},toggleAllRows:function(t){t.expandable.expandedAll?n.collapseAllRows(t):n.expandAllRows(t)},getExpandedRows:function(t){return t.rows.filter(function(t){return t.isExpanded})}};return n}]),t.directive("uiGridExpandable",["uiGridExpandableService","$templateCache",function(t,e){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,r,i,o){if(t.initializeGrid(o.grid),o.grid.options.enableExpandable&&!1!==o.grid.options.enableExpandableRowHeader){var a={name:"expandableButtons",displayName:"",exporterSuppressExport:!0,enableColumnResizing:!1,enableColumnMenu:!1,width:o.grid.options.expandableRowHeaderWidth||40};a.cellTemplate=e.get("ui-grid/expandableRowHeader"),a.headerCellTemplate=e.get("ui-grid/expandableTopRowHeader"),o.grid.addRowHeaderColumn(a,-90)}},post:function(t,e,n,r){}}}}}]),t.directive("uiGrid",["uiGridExpandableService","$templateCache",function(t,e){return{replace:!0,priority:599,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(t,e,n,r){r.grid.api.core.on.renderingComplete(t,function(){t.row&&t.row.grid&&t.row.grid.options&&t.row.grid.options.enableExpandable&&(r.grid.parentRow=t.row)})},post:function(t,e,n,r){}}}}}]),t.directive("uiGridExpandableRow",["uiGridExpandableService","$timeout","$compile","uiGridConstants","gridUtil","$interval","$log",function(t,e,n,r,i,o,a){return{replace:!1,priority:0,scope:!1,compile:function(){return{pre:function(t,e,r,o){i.getTemplate(t.grid.options.expandableRowTemplate).then(function(r){if(t.grid.options.expandableRowScope){var i=t.grid.options.expandableRowScope;for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])}var a=angular.element(r);e.append(a),a=n(a)(t),t.row.expandedRendered=!0})},post:function(t,e,n,r){t.$on("$destroy",function(){t.row.expandedRendered=!1})}}}}}]),t.directive("uiGridRow",["$compile","gridUtil","$templateCache",function(t,e,n){return{priority:-200,scope:!1,compile:function(t,e){return{pre:function(t,e,n,r){t.grid.options.enableExpandable&&(t.expandableRow={},t.expandableRow.shouldRenderExpand=function(){return"body"===t.colContainer.name&&!1!==t.grid.options.enableExpandable&&t.row.isExpanded&&(!t.grid.isScrollingVertically||t.row.expandedRendered)},t.expandableRow.shouldRenderFiller=function(){return t.row.isExpanded&&("body"!==t.colContainer.name||t.grid.isScrollingVertically&&!t.row.expandedRendered)})},post:function(t,e,n,r){}}}}}]),t.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(t,e,n){return{priority:-200,scope:!1,compile:function(t,e){var r=angular.element(t.children().children()[0]),i=n.get("ui-grid/expandableScrollFiller"),o=n.get("ui-grid/expandableRow");return r.append(o),r.append(i),{pre:function(t,e,n,r){},post:function(t,e,n,r){}}}}}])}(),function(){"use strict";var t=angular.module("ui.grid.exporter",["ui.grid"]);t.constant("uiGridExporterConstants",{featureName:"exporter",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",BUTTON_LABEL:"BUTTON_LABEL",FILE_NAME:"FILE_NAME"}),t.service("uiGridExporterService",["$q","uiGridExporterConstants","gridUtil","$compile","$interval","i18nService",function(t,e,n,r,i,o){var a={delay:100,initializeGrid:function(t){t.exporter={},this.defaultGridOptions(t.options);var e={events:{exporter:{}},methods:{exporter:{csvExport:function(e,n){a.csvExport(t,e,n)},pdfExport:function(e,n){a.pdfExport(t,e,n)}}}};t.api.registerEventsFromObject(e.events),t.api.registerMethodsFromObject(e.methods),t.api.core.addToGridMenu?a.addToMenu(t):i(function(){t.api.core.addToGridMenu&&a.addToMenu(t)},this.delay,1)},defaultGridOptions:function(t){t.exporterSuppressMenu=!0===t.exporterSuppressMenu,t.exporterMenuLabel=t.exporterMenuLabel?t.exporterMenuLabel:"Export",t.exporterSuppressColumns=t.exporterSuppressColumns?t.exporterSuppressColumns:[],t.exporterCsvColumnSeparator=t.exporterCsvColumnSeparator?t.exporterCsvColumnSeparator:",",t.exporterCsvFilename=t.exporterCsvFilename?t.exporterCsvFilename:"download.csv",t.exporterPdfFilename=t.exporterPdfFilename?t.exporterPdfFilename:"download.pdf",t.exporterOlderExcelCompatibility=!0===t.exporterOlderExcelCompatibility,t.exporterPdfDefaultStyle=t.exporterPdfDefaultStyle?t.exporterPdfDefaultStyle:{fontSize:11},t.exporterPdfTableStyle=t.exporterPdfTableStyle?t.exporterPdfTableStyle:{margin:[0,5,0,15]},t.exporterPdfTableHeaderStyle=t.exporterPdfTableHeaderStyle?t.exporterPdfTableHeaderStyle:{bold:!0,fontSize:12,color:"black"},t.exporterPdfHeader=t.exporterPdfHeader?t.exporterPdfHeader:null,t.exporterPdfFooter=t.exporterPdfFooter?t.exporterPdfFooter:null,t.exporterPdfOrientation=t.exporterPdfOrientation?t.exporterPdfOrientation:"landscape",t.exporterPdfPageSize=t.exporterPdfPageSize?t.exporterPdfPageSize:"A4",t.exporterPdfMaxGridWidth=t.exporterPdfMaxGridWidth?t.exporterPdfMaxGridWidth:720,t.exporterMenuAllData=void 0===t.exporterMenuAllData||t.exporterMenuAllData,t.exporterMenuVisibleData=void 0===t.exporterMenuVisibleData||t.exporterMenuVisibleData,t.exporterMenuSelectedData=void 0===t.exporterMenuSelectedData||t.exporterMenuSelectedData,t.exporterMenuCsv=void 0===t.exporterMenuCsv||t.exporterMenuCsv,t.exporterMenuPdf=void 0===t.exporterMenuPdf||t.exporterMenuPdf,t.exporterPdfCustomFormatter=t.exporterPdfCustomFormatter&&"function"==typeof t.exporterPdfCustomFormatter?t.exporterPdfCustomFormatter:function(t){return t},t.exporterHeaderFilterUseName=!0===t.exporterHeaderFilterUseName,t.exporterFieldCallback=t.exporterFieldCallback?t.exporterFieldCallback:function(t,e,n,r){return r},t.exporterAllDataFn=t.exporterAllDataFn?t.exporterAllDataFn:null,null==t.exporterAllDataFn&&t.exporterAllDataPromise&&(t.exporterAllDataFn=t.exporterAllDataPromise)},addToMenu:function(t){t.api.core.addToGridMenu(t,[{title:o.getSafeText("gridMenu.exporterAllAsCsv"),action:function(t){this.grid.api.exporter.csvExport(e.ALL,e.ALL)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.options.exporterMenuAllData},order:200},{title:o.getSafeText("gridMenu.exporterVisibleAsCsv"),action:function(t){this.grid.api.exporter.csvExport(e.VISIBLE,e.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.options.exporterMenuVisibleData},order:201},{title:o.getSafeText("gridMenu.exporterSelectedAsCsv"),action:function(t){this.grid.api.exporter.csvExport(e.SELECTED,e.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.options.exporterMenuSelectedData&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0},order:202},{title:o.getSafeText("gridMenu.exporterAllAsPdf"),action:function(t){this.grid.api.exporter.pdfExport(e.ALL,e.ALL)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.options.exporterMenuAllData},order:203},{title:o.getSafeText("gridMenu.exporterVisibleAsPdf"),action:function(t){this.grid.api.exporter.pdfExport(e.VISIBLE,e.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.options.exporterMenuVisibleData},order:204},{title:o.getSafeText("gridMenu.exporterSelectedAsPdf"),action:function(t){this.grid.api.exporter.pdfExport(e.SELECTED,e.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.options.exporterMenuSelectedData&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0},order:205}])},csvExport:function(t,e,n){var r=this;this.loadAllDataIfNeeded(t,e,n).then(function(){var i=t.options.showHeader?r.getColumnHeaders(t,n):[],o=r.getData(t,e,n),a=r.formatAsCsv(i,o,t.options.exporterCsvColumnSeparator);r.downloadFile(t.options.exporterCsvFilename,a,t.options.exporterCsvColumnSeparator,t.options.exporterOlderExcelCompatibility)})},loadAllDataIfNeeded:function(n,r,i){if(r===e.ALL&&n.rows.length!==n.options.totalItems&&n.options.exporterAllDataFn)return n.options.exporterAllDataFn().then(function(){n.modifyRows(n.options.data)});var o=t.defer();return o.resolve(),o.promise},getColumnHeaders:function(t,n){var r,i=[];if(n===e.ALL)r=t.columns;else{var o=t.renderContainers.left?t.renderContainers.left.visibleColumnCache.filter(function(t){return t.visible}):[],a=t.renderContainers.body?t.renderContainers.body.visibleColumnCache.filter(function(t){return t.visible}):[],s=t.renderContainers.right?t.renderContainers.right.visibleColumnCache.filter(function(t){return t.visible}):[];r=o.concat(a,s)}return r.forEach(function(e,n){!0!==e.colDef.exporterSuppressExport&&-1===t.options.exporterSuppressColumns.indexOf(e.name)&&i.push({name:e.field,displayName:t.options.exporterHeaderFilter?t.options.exporterHeaderFilterUseName?t.options.exporterHeaderFilter(e.name):t.options.exporterHeaderFilter(e.displayName):e.displayName,width:e.drawnWidth?e.drawnWidth:e.width,align:"number"===e.colDef.type?"right":"left"})}),i},getData:function(t,r,i,o){var a,s,l=[];switch(r){case e.ALL:a=t.rows;break;case e.VISIBLE:a=t.getVisibleRows();break;case e.SELECTED:t.api.selection?a=t.api.selection.getSelectedGridRows():n.logError("selection feature must be enabled to allow selected rows to be exported")}if(i===e.ALL)s=t.columns;else{var u=t.renderContainers.left?t.renderContainers.left.visibleColumnCache.filter(function(t){return t.visible}):[],c=t.renderContainers.body?t.renderContainers.body.visibleColumnCache.filter(function(t){return t.visible}):[],d=t.renderContainers.right?t.renderContainers.right.visibleColumnCache.filter(function(t){return t.visible}):[];s=u.concat(c,d)}return a.forEach(function(n,r){if(!1!==n.exporterEnableExporting){var a=[];s.forEach(function(r,s){if((r.visible||i===e.ALL)&&!0!==r.colDef.exporterSuppressExport&&-1===t.options.exporterSuppressColumns.indexOf(r.name)){var l=o?t.getCellDisplayValue(n,r):t.getCellValue(n,r),u={value:t.options.exporterFieldCallback(t,n,r,l)};r.colDef.exporterPdfAlign&&(u.alignment=r.colDef.exporterPdfAlign),a.push(u)}}),l.push(a)}}),l},formatAsCsv:function(t,e,n){var r=this,i=t.map(function(t){return{value:t.displayName}}),o=i.length>0?r.formatRowAsCsv(this,n)(i)+"\n":"";return o+=e.map(this.formatRowAsCsv(this,n)).join("\n")},formatRowAsCsv:function(t,e){return function(n){return n.map(t.formatFieldAsCsv).join(e)}},formatFieldAsCsv:function(t){return null==t.value?"":"number"==typeof t.value?t.value:"boolean"==typeof t.value?t.value?"TRUE":"FALSE":"string"==typeof t.value?'"'+t.value.replace(/"/g,'""')+'"':JSON.stringify(t.value)},isIE:function(){var t=!1;return-1!==navigator.userAgent.search(/(?:Edge|MSIE|Trident\/.*; rv:)/)&&(t=!0),t},downloadFile:function(t,e,n,r){var i,o=document,a=o.createElement("a"),s="application/octet-stream;charset=utf-8",l=this.isIE();if(navigator.msSaveBlob)return navigator.msSaveOrOpenBlob(new Blob([r?"\ufeff":"",e],{type:s}),t);if(l){var u=o.createElement("iframe");return document.body.appendChild(u),u.contentWindow.document.open("text/html","replace"),u.contentWindow.document.write("sep="+n+"\r\n"+e),u.contentWindow.document.close(),u.contentWindow.focus(),u.contentWindow.document.execCommand("SaveAs",!0,t),document.body.removeChild(u),!0}if("download"in a){var c=new Blob([r?"\ufeff":"",e],{type:s});i=URL.createObjectURL(c),a.setAttribute("download",t)}else i="data:"+s+","+encodeURIComponent(e),a.setAttribute("target","_blank");a.href=i,a.setAttribute("style","display:none;"),o.body.appendChild(a),setTimeout(function(){if(a.click)a.click();else if(document.createEvent){var t=document.createEvent("MouseEvents");t.initEvent("click",!0,!0),a.dispatchEvent(t)}o.body.removeChild(a)},this.delay)},pdfExport:function(t,e,n){var r=this;this.loadAllDataIfNeeded(t,e,n).then(function(){var i=r.getColumnHeaders(t,n),o=r.getData(t,e,n),a=r.prepareAsPdf(t,i,o);r.isIE()||-1!==navigator.appVersion.indexOf("Edge")?r.downloadPDF(t.options.exporterPdfFilename,a):pdfMake.createPdf(a).open()})},downloadPDF:function(t,e){var n,r=document;r.createElement("a");n=this.isIE();var i;pdfMake.createPdf(e).getBuffer(function(e){if(i=new Blob([e]),navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(n){var o=r.createElement("iframe");return document.body.appendChild(o),o.contentWindow.document.open("text/html","replace"),o.contentWindow.document.write(i),o.contentWindow.document.close(),o.contentWindow.focus(),o.contentWindow.document.execCommand("SaveAs",!0,t),document.body.removeChild(o),!0}})},prepareAsPdf:function(t,e,n){var r=this.calculatePdfHeaderWidths(t,e),i=e.map(function(t){return{text:t.displayName,style:"tableHeader"}}),o=n.map(this.formatRowAsPdf(this)),a=[i].concat(o),s={pageOrientation:t.options.exporterPdfOrientation,pageSize:t.options.exporterPdfPageSize,content:[{style:"tableStyle",table:{headerRows:1,widths:r,body:a}}],styles:{tableStyle:t.options.exporterPdfTableStyle,tableHeader:t.options.exporterPdfTableHeaderStyle},defaultStyle:t.options.exporterPdfDefaultStyle};return t.options.exporterPdfLayout&&(s.layout=t.options.exporterPdfLayout),t.options.exporterPdfHeader&&(s.header=t.options.exporterPdfHeader),t.options.exporterPdfFooter&&(s.footer=t.options.exporterPdfFooter),t.options.exporterPdfCustomFormatter&&(s=t.options.exporterPdfCustomFormatter(s)),s},calculatePdfHeaderWidths:function(t,e){var n=0;e.forEach(function(t){"number"==typeof t.width&&(n+=t.width)});var r=0;e.forEach(function(t){if("*"===t.width&&(r+=100),"string"==typeof t.width&&t.width.match(/(\d)*%/)){var e=parseInt(t.width.match(/(\d)*%/)[0]);t.width=n*e/100,r+=t.width}});var i=n+r;return e.map(function(e){return"*"===e.width?e.width:e.width*t.options.exporterPdfMaxGridWidth/i})},formatRowAsPdf:function(t){return function(e){return e.map(t.formatFieldAsPdfString)}},formatFieldAsPdfString:function(t){var e;return e=null==t.value?"":"number"==typeof t.value?t.value.toString():"boolean"==typeof t.value?t.value?"TRUE":"FALSE":"string"==typeof t.value?t.value.replace(/"/g,'""'):JSON.stringify(t.value).replace(/^"/,"").replace(/"$/,""),t.alignment&&"string"==typeof t.alignment&&(e={text:e,alignment:t.alignment}),e}};return a}]),t.directive("uiGridExporter",["uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(t,e,n,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(t,n,r,i){e.initializeGrid(i.grid),i.grid.exporter.$scope=t}}}])}(),function(){"use strict";var t=angular.module("ui.grid.grouping",["ui.grid","ui.grid.treeBase"]);t.constant("uiGridGroupingConstants",{featureName:"grouping",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),t.service("uiGridGroupingService",["$q","uiGridGroupingConstants","gridUtil","rowSorter","GridRow","gridClassFactory","i18nService","uiGridConstants","uiGridTreeBaseService",function(t,e,n,r,i,o,a,s,l){var u={initializeGrid:function(t,e){l.initializeGrid(t,e),t.grouping={},t.grouping.groupHeaderCache={},u.defaultGridOptions(t.options),t.registerRowsProcessor(u.groupRows,400),t.registerColumnBuilder(u.groupingColumnBuilder),t.registerColumnsProcessor(u.groupingColumnProcessor,400);var n={events:{grouping:{aggregationChanged:{},groupingChanged:{}}},methods:{grouping:{getGrouping:function(e){var n=u.getGrouping(t);return n.grouping.forEach(function(t){t.colName=t.col.name,delete t.col}),n.aggregations.forEach(function(t){t.colName=t.col.name,delete t.col}),n.aggregations=n.aggregations.filter(function(t){return!t.aggregation.source||"grouping"!==t.aggregation.source}),e&&(n.rowExpandedStates=u.getRowExpandedStates(t.grouping.groupingHeaderCache)),n},setGrouping:function(e){u.setGrouping(t,e)},groupColumn:function(e){var n=t.getColumn(e);u.groupColumn(t,n)},ungroupColumn:function(e){var n=t.getColumn(e);u.ungroupColumn(t,n)},clearGrouping:function(){u.clearGrouping(t)},aggregateColumn:function(e,n,r){var i=t.getColumn(e);u.aggregateColumn(t,i,n,r)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.api.core.on.sortChanged(e,u.tidyPriorities)},defaultGridOptions:function(t){t.enableGrouping=!1!==t.enableGrouping,t.groupingShowCounts=!1!==t.groupingShowCounts,t.groupingNullLabel=void 0===t.groupingNullLabel?"Null":t.groupingNullLabel,t.enableGroupHeaderSelection=!0===t.enableGroupHeaderSelection},groupingColumnBuilder:function(t,r,i){if(!1!==t.enableGrouping){void 0===r.grouping&&void 0!==t.grouping?(r.grouping=angular.copy(t.grouping),void 0!==r.grouping.groupPriority&&r.grouping.groupPriority>-1&&(r.treeAggregationFn=l.nativeAggregations()[e.aggregation.COUNT].aggregationFn,r.treeAggregationFinalizerFn=u.groupedFinalizerFn)):void 0===r.grouping&&(r.grouping={}),void 0!==r.grouping&&void 0!==r.grouping.groupPriority&&r.grouping.groupPriority>=0&&(r.suppressRemoveSort=!0);var o={name:"ui.grid.grouping.group",title:a.get().grouping.group,icon:"ui-grid-icon-indent-right",shown:function(){return void 0===this.context.col.grouping||void 0===this.context.col.grouping.groupPriority||this.context.col.grouping.groupPriority<0},action:function(){u.groupColumn(this.context.col.grid,this.context.col)}},s={name:"ui.grid.grouping.ungroup",title:a.get().grouping.ungroup,icon:"ui-grid-icon-indent-left",shown:function(){return void 0!==this.context.col.grouping&&void 0!==this.context.col.grouping.groupPriority&&this.context.col.grouping.groupPriority>=0},action:function(){u.ungroupColumn(this.context.col.grid,this.context.col)}},c={name:"ui.grid.grouping.aggregateRemove",title:a.get().grouping.aggregate_remove,shown:function(){return void 0!==this.context.col.treeAggregationFn},action:function(){u.aggregateColumn(this.context.col.grid,this.context.col,null)}},d=function(t,e){e=e||a.get().grouping["aggregate_"+t]||t;var i={name:"ui.grid.grouping.aggregate"+t,title:e,shown:function(){return void 0===this.context.col.treeAggregation||void 0===this.context.col.treeAggregation.type||this.context.col.treeAggregation.type!==t},action:function(){u.aggregateColumn(this.context.col.grid,this.context.col,t)}};n.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.aggregate"+t)||r.menuItems.push(i)};!1!==r.colDef.groupingShowGroupingMenu&&(n.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.group")||r.menuItems.push(o),n.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.ungroup")||r.menuItems.push(s)),!1!==r.colDef.groupingShowAggregationMenu&&(angular.forEach(l.nativeAggregations(),function(t,e){d(e)}),angular.forEach(i.treeCustomAggregations,function(t,e){d(e,t.menuTitle)}),n.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.aggregateRemove")||r.menuItems.push(c))}},groupingColumnProcessor:function(t,e){return t=u.moveGroupColumns(this,t,e)},groupedFinalizerFn:function(t){var e=this;void 0!==t.groupVal?(t.rendered=t.groupVal,e.grid.options.groupingShowCounts&&"date"!==e.colDef.type&&(t.rendered+=" ("+t.value+")")):t.rendered=null},moveGroupColumns:function(t,e,n){return!1===t.options.moveGroupColumns?e:(e.forEach(function(t,e){t.groupingPosition=e}),e.sort(function(t,e){var n,r;return n=t.isRowHeader?t.headerPriority:void 0===t.grouping||void 0===t.grouping.groupPriority||t.grouping.groupPriority<0?null:t.grouping.groupPriority,r=e.isRowHeader?e.headerPriority:void 0===e.grouping||void 0===e.grouping.groupPriority||e.grouping.groupPriority<0?null:e.grouping.groupPriority,null!==n&&null===r?-1:null!==r&&null===n?1:null!==n&&null!==r?n-r:t.groupingPosition-e.groupingPosition}),e.forEach(function(t,e){delete t.groupingPosition}),e)},groupColumn:function(t,n){void 0===n.grouping&&(n.grouping={});var r=u.getGrouping(t);n.grouping.groupPriority=r.grouping.length,n.sort?void 0!==n.sort.direction&&null!==n.sort.direction||(n.sort.direction=s.ASC):n.sort={direction:s.ASC},n.treeAggregation={type:e.aggregation.COUNT,source:"grouping"},n.treeAggregationFn=l.nativeAggregations()[e.aggregation.COUNT].aggregationFn,n.treeAggregationFinalizerFn=u.groupedFinalizerFn,t.api.grouping.raise.groupingChanged(n),t.api.core.raise.sortChanged(t,t.getColumnSorting()),t.queueGridRefresh()},ungroupColumn:function(t,e){void 0!==e.grouping&&(delete e.grouping.groupPriority,delete e.treeAggregation,delete e.customTreeAggregationFinalizer,u.tidyPriorities(t),t.api.grouping.raise.groupingChanged(e),t.queueGridRefresh())},aggregateColumn:function(t,e,n){void 0!==e.grouping&&void 0!==e.grouping.groupPriority&&e.grouping.groupPriority>=0&&u.ungroupColumn(t,e);var r={};void 0!==t.options.treeCustomAggregations[n]?r=t.options.treeCustomAggregations[n]:void 0!==l.nativeAggregations()[n]&&(r=l.nativeAggregations()[n]),e.treeAggregation={type:n,label:a.get().aggregation[r.label]||r.label},e.treeAggregationFn=r.aggregationFn,e.treeAggregationFinalizerFn=r.finalizerFn,t.api.grouping.raise.aggregationChanged(e),t.queueGridRefresh()},setGrouping:function(t,e){void 0!==e&&(u.clearGrouping(t),e.grouping&&e.grouping.length&&e.grouping.length>0&&e.grouping.forEach(function(e){var n=t.getColumn(e.colName);n&&u.groupColumn(t,n)}),e.aggregations&&e.aggregations.length&&e.aggregations.forEach(function(e){var n=t.getColumn(e.colName);n&&u.aggregateColumn(t,n,e.aggregation.type)}),e.rowExpandedStates&&u.applyRowExpandedStates(t.grouping.groupingHeaderCache,e.rowExpandedStates))},clearGrouping:function(t){var e=u.getGrouping(t);e.grouping.length>0&&e.grouping.forEach(function(e){e.col||(e.col=t.getColumn(e.colName)),u.ungroupColumn(t,e.col)}),e.aggregations.length>0&&e.aggregations.forEach(function(e){e.col||(e.col=t.getColumn(e.colName)),u.aggregateColumn(t,e.col,null)})},tidyPriorities:function(t){void 0!==t&&void 0===t.grid||void 0===this.grid||(t=this.grid);var e=[],n=[];t.columns.forEach(function(t,r){void 0!==t.grouping&&void 0!==t.grouping.groupPriority&&t.grouping.groupPriority>=0?e.push(t):void 0!==t.sort&&void 0!==t.sort.priority&&t.sort.priority>=0&&n.push(t)}),e.sort(function(t,e){return t.grouping.groupPriority-e.grouping.groupPriority}),e.forEach(function(t,e){t.grouping.groupPriority=e,t.suppressRemoveSort=!0,void 0===t.sort&&(t.sort={}),t.sort.priority=e});var r=e.length;n.sort(function(t,e){return t.sort.priority-e.sort.priority}),n.forEach(function(t,e){t.sort.priority=r,t.suppressRemoveSort=t.colDef.suppressRemoveSort,r++})},groupRows:function(t){if(0===t.length)return t;var e=this;e.grouping.oldGroupingHeaderCache=e.grouping.groupingHeaderCache||{},e.grouping.groupingHeaderCache={};for(var n=u.initialiseProcessingState(e),i=function(i,s){var l=e.getCellValue(a,i.col);i.initialised&&0===r.getSortFn(e,i.col,t)(l,i.currentValue)||(u.insertGroupHeader(e,t,o,n,s),o++)},o=0;o<t.length;o++){var a=t[o];a.visible&&n.forEach(i)}return delete e.grouping.oldGroupingHeaderCache,t},initialiseProcessingState:function(t){var e=[];return u.getGrouping(t).grouping.forEach(function(t,n){e.push({fieldName:t.field,col:t.col,initialised:!1,currentValue:null,currentRow:null})}),e},getGrouping:function(t){var e=[],n=[];return t.columns.forEach(function(t,r){t.grouping&&void 0!==t.grouping.groupPriority&&t.grouping.groupPriority>=0&&e.push({field:t.field,col:t,groupPriority:t.grouping.groupPriority,grouping:t.grouping}),t.treeAggregation&&t.treeAggregation.type&&n.push({field:t.field,col:t,aggregation:t.treeAggregation})}),e.sort(function(t,e){return t.groupPriority-e.groupPriority}),e.forEach(function(t,e){t.grouping.groupPriority=e,t.groupPriority=e,delete t.grouping}),{grouping:e,aggregations:n}},insertGroupHeader:function(t,e,n,r,a){r[a].fieldName;var s=r[a].col,l=t.getCellValue(e[n],s),c=l;void 0!==l&&null!==l||(c=t.options.groupingNullLabel);for(var d=function(t){return angular.isObject(t)?JSON.stringify(t):t},h=t.grouping.oldGroupingHeaderCache,f=0;f<a;f++)h&&h[d(r[f].currentValue)]&&(h=h[d(r[f].currentValue)].children);var p;for(h&&h[d(l)]?(p=h[d(l)].row).entity={}:(p=new i({},null,t),o.rowTemplateAssigner.call(t,p)),p.entity["$$"+r[a].col.uid]={groupVal:c},p.treeLevel=a,p.groupHeader=!0,p.internalRow=!0,p.enableCellEdit=!1,p.enableSelection=t.options.enableGroupHeaderSelection,r[a].initialised=!0,r[a].currentValue=l,r[a].currentRow=p,u.finaliseProcessingState(r,a+1),e.splice(n,0,p),h=t.grouping.groupingHeaderCache,f=0;f<a;f++)h=h[d(r[f].currentValue)].children;h[d(l)]={row:p,children:{}}},finaliseProcessingState:function(t,e){for(var n=e;n<t.length;n++)t[n].initialised=!1,t[n].currentRow=null,t[n].currentValue=null},getRowExpandedStates:function(t){if(void 0===t)return{};var e={};return angular.forEach(t,function(t,n){e[n]={state:t.row.treeNode.state},t.children?e[n].children=u.getRowExpandedStates(t.children):e[n].children={}}),e},applyRowExpandedStates:function(t,e){void 0!==e&&angular.forEach(e,function(e,n){t[n]&&(t[n].row.treeNode.state=e.state,e.children&&t[n].children&&u.applyRowExpandedStates(t[n].children,e.children))})}};return u}]),t.directive("uiGridGrouping",["uiGridGroupingConstants","uiGridGroupingService","$templateCache",function(t,e,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(t,n,r,i){!1!==i.grid.options.enableGrouping&&e.initializeGrid(i.grid,t)},post:function(t,e,n,r){}}}}}])}(),function(){"use strict";var t=angular.module("ui.grid.importer",["ui.grid"]);t.constant("uiGridImporterConstants",{featureName:"importer"}),t.service("uiGridImporterService",["$q","uiGridConstants","uiGridImporterConstants","gridUtil","$compile","$interval","i18nService","$window",function(t,e,n,r,i,o,a,s){var l={initializeGrid:function(t,e){e.importer={$scope:t},this.defaultGridOptions(e.options);var n={events:{importer:{}},methods:{importer:{importFile:function(t){l.importThisFile(e,t)}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods),e.options.enableImporter&&e.options.importerShowMenu&&(e.api.core.addToGridMenu?l.addToMenu(e):o(function(){e.api.core.addToGridMenu&&l.addToMenu(e)},100,1))},defaultGridOptions:function(t){t.enableImporter||void 0===t.enableImporter?s.hasOwnProperty("File")&&s.hasOwnProperty("FileReader")&&s.hasOwnProperty("FileList")&&s.hasOwnProperty("Blob")?t.enableImporter=!0:(r.logError("The File APIs are not fully supported in this browser, grid importer cannot be used."),t.enableImporter=!1):t.enableImporter=!1,t.importerProcessHeaders=t.importerProcessHeaders||l.processHeaders,t.importerHeaderFilter=t.importerHeaderFilter||function(t){return t},t.importerErrorCallback&&"function"==typeof t.importerErrorCallback||delete t.importerErrorCallback,!0!==t.enableImporter||t.importerDataAddCallback||(r.logError("You have not set an importerDataAddCallback, importer is disabled"),t.enableImporter=!1),t.importerShowMenu=!1!==t.importerShowMenu,t.importerObjectCallback=t.importerObjectCallback||function(t,e){return e}},addToMenu:function(t){t.api.core.addToGridMenu(t,[{title:a.getSafeText("gridMenu.importerTitle"),order:150},{templateUrl:"ui-grid/importerMenuItemContainer",action:function(e){this.grid.api.importer.importAFile(t)},order:151}])},importThisFile:function(t,e){if(e){var n=new FileReader;switch(e.type){case"application/json":n.onload=l.importJsonClosure(t);break;default:n.onload=l.importCsvClosure(t)}n.readAsText(e)}else r.logError("No file object provided to importThisFile, should be impossible, aborting")},importJsonClosure:function(t){return function(e){var n,r=[],i=l.parseJson(t,e);null!==i&&(i.forEach(function(e,i){n=l.newObject(t),angular.extend(n,e),n=t.options.importerObjectCallback(t,n),r.push(n)}),l.addObjects(t,r))}},parseJson:function(t,e){var n;try{n=JSON.parse(e.target.result)}catch(n){return void l.alertError(t,"importer.invalidJson","File could not be processed, is it valid json? Content was: ",e.target.result)}return Array.isArray(n)?n:(l.alertError(t,"importer.jsonNotarray","Import failed, file is not an array, file was: ",e.target.result),[])},importCsvClosure:function(t){return function(e){var n=l.parseCsv(e);if(!n||n.length<1)l.alertError(t,"importer.invalidCsv","File could not be processed, is it valid csv? Content was: ",e.target.result);else{var r=l.createCsvObjects(t,n);r&&0!==r.length?l.addObjects(t,r):l.alertError(t,"importer.noObjects","Objects were not able to be derived, content was: ",e.target.result)}}},parseCsv:function(t){var e=t.target.result;return CSV.parse(e)},createCsvObjects:function(t,e){var n=t.options.importerProcessHeaders(t,e.shift());if(!n||0===n.length)return l.alertError(t,"importer.noHeaders","Column names could not be derived, content was: ",e),[];var r,i=[];return e.forEach(function(e,o){r=l.newObject(t),null!==e&&e.forEach(function(t,e){null!==n[e]&&(r[n[e]]=t)}),r=t.options.importerObjectCallback(t,r),i.push(r)}),i},processHeaders:function(t,e){var n=[];if(t.options.columnDefs&&0!==t.options.columnDefs.length){var r=l.flattenColumnDefs(t,t.options.columnDefs);return e.forEach(function(t,e){r[t]?n.push(r[t]):r[t.toLowerCase()]?n.push(r[t.toLowerCase()]):n.push(null)}),n}return e.forEach(function(t,e){n.push(t.replace(/[^0-9a-zA-Z\-_]/g,"_"))}),n},flattenColumnDefs:function(t,e){var n={};return e.forEach(function(e,r){e.name&&(n[e.name]=e.field||e.name,n[e.name.toLowerCase()]=e.field||e.name),e.field&&(n[e.field]=e.field||e.name,n[e.field.toLowerCase()]=e.field||e.name),e.displayName&&(n[e.displayName]=e.field||e.name,n[e.displayName.toLowerCase()]=e.field||e.name),e.displayName&&t.options.importerHeaderFilter&&(n[t.options.importerHeaderFilter(e.displayName)]=e.field||e.name,n[t.options.importerHeaderFilter(e.displayName).toLowerCase()]=e.field||e.name)}),n},addObjects:function(t,n,r){if(t.api.rowEdit){var i=t.registerDataChangeCallback(function(){t.api.rowEdit.setRowsDirty(n),i()},[e.dataChange.ROW]);t.importer.$scope.$on("$destroy",i)}t.importer.$scope.$apply(t.options.importerDataAddCallback(t,n))},newObject:function(t){return void 0!==t.options&&void 0!==t.options.importerNewObject?new t.options.importerNewObject:{}},alertError:function(t,e,n,i){t.options.importerErrorCallback?t.options.importerErrorCallback(t,e,n,i):(s.alert(a.getSafeText(e)),r.logError(n+i))}};return l}]),t.directive("uiGridImporter",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(t,e,n,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(t,n,r,i){e.initializeGrid(t,i.grid)}}}]),t.directive("uiGridImporterMenuItem",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(t,e,n,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,templateUrl:"ui-grid/importerMenuItem",link:function(t,r,i,o){var a=function(t){var n=t.srcElement||t.target;if(n&&n.files&&1===n.files.length){var r=n.files[0];e.importThisFile(l,r),n.form.reset()}},s=r[0].querySelectorAll(".ui-grid-importer-file-chooser"),l=o.grid;1!==s.length?n.logError("Found > 1 or < 1 file choosers within the menu item, error, cannot continue"):s[0].addEventListener("change",a,!1)}}}])}(),function(){"use strict";var t=angular.module("ui.grid.infiniteScroll",["ui.grid"]);t.service("uiGridInfiniteScrollService",["gridUtil","$compile","$timeout","uiGridConstants","ScrollEvent","$q",function(t,e,n,r,i,o){var a={initializeGrid:function(t,e){if(a.defaultGridOptions(t.options),t.options.enableInfiniteScroll){t.infiniteScroll={dataLoading:!1},a.setScrollDirections(t,t.options.infiniteScrollUp,t.options.infiniteScrollDown),t.api.core.on.scrollEnd(e,a.handleScroll);var n={events:{infiniteScroll:{needLoadMoreData:function(t,e){},needLoadMoreDataTop:function(t,e){}}},methods:{infiniteScroll:{dataLoaded:function(e,n){return a.setScrollDirections(t,e,n),a.adjustScroll(t).then(function(){t.infiniteScroll.dataLoading=!1})},resetScroll:function(e,n){return a.setScrollDirections(t,e,n),a.adjustInfiniteScrollPosition(t,0)},saveScrollPercentage:function(){t.infiniteScroll.prevScrollTop=t.renderContainers.body.prevScrollTop,t.infiniteScroll.previousVisibleRows=t.getVisibleRowCount()},dataRemovedTop:function(e,n){a.dataRemovedTop(t,e,n)},dataRemovedBottom:function(e,n){a.dataRemovedBottom(t,e,n)},setScrollDirections:function(e,n){a.setScrollDirections(t,e,n)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods)}},defaultGridOptions:function(t){t.enableInfiniteScroll=!1!==t.enableInfiniteScroll,t.infiniteScrollRowsFromEnd=t.infiniteScrollRowsFromEnd||20,t.infiniteScrollUp=!0===t.infiniteScrollUp,t.infiniteScrollDown=!1!==t.infiniteScrollDown},setScrollDirections:function(t,e,n){t.infiniteScroll.scrollUp=!0===e,t.suppressParentScrollUp=!0===e,t.infiniteScroll.scrollDown=!1!==n,t.suppressParentScrollDown=!1!==n},handleScroll:function(t){if(!(t.grid.infiniteScroll&&t.grid.infiniteScroll.dataLoading||"ui.grid.adjustInfiniteScrollPosition"===t.source)&&t.y)if(0===t.y.percentage)t.grid.scrollDirection=r.scrollDirection.UP,a.loadData(t.grid);else if(1===t.y.percentage)t.grid.scrollDirection=r.scrollDirection.DOWN,a.loadData(t.grid);else{var e=t.grid.options.infiniteScrollRowsFromEnd/t.grid.renderContainers.body.visibleRowCache.length;t.grid.scrollDirection===r.scrollDirection.UP?t.y.percentage<=e&&a.loadData(t.grid):t.grid.scrollDirection===r.scrollDirection.DOWN&&1-t.y.percentage<=e&&a.loadData(t.grid)}},loadData:function(t){t.infiniteScroll.previousVisibleRows=t.renderContainers.body.visibleRowCache.length,t.infiniteScroll.direction=t.scrollDirection,delete t.infiniteScroll.prevScrollTop,t.scrollDirection===r.scrollDirection.UP&&t.infiniteScroll.scrollUp?(t.infiniteScroll.dataLoading=!0,t.api.infiniteScroll.raise.needLoadMoreDataTop()):t.scrollDirection===r.scrollDirection.DOWN&&t.infiniteScroll.scrollDown&&(t.infiniteScroll.dataLoading=!0,t.api.infiniteScroll.raise.needLoadMoreData())},adjustScroll:function(t){var e=o.defer();return n(function(){var i,o,s,l;i=t.getViewportHeight()+t.headerHeight-t.renderContainers.body.headerHeight-t.scrollbarHeight,o=t.options.rowHeight,void 0===t.infiniteScroll.direction&&a.adjustInfiniteScrollPosition(t,0);var u=o*(s=t.getVisibleRowCount());t.infiniteScroll.scrollDown&&i>u&&t.api.infiniteScroll.raise.needLoadMoreData(),t.infiniteScroll.direction===r.scrollDirection.UP&&(l=(t.infiniteScroll.prevScrollTop||0)+(s-t.infiniteScroll.previousVisibleRows)*o,a.adjustInfiniteScrollPosition(t,l),n(function(){e.resolve()})),t.infiniteScroll.direction===r.scrollDirection.DOWN&&(l=t.infiniteScroll.prevScrollTop||t.infiniteScroll.previousVisibleRows*o-i,a.adjustInfiniteScrollPosition(t,l),n(function(){e.resolve()}))},0),e.promise},adjustInfiniteScrollPosition:function(t,e){var n=new i(t,null,null,"ui.grid.adjustInfiniteScrollPosition"),r=t.getVisibleRowCount(),o=t.getViewportHeight()+t.headerHeight-t.renderContainers.body.headerHeight-t.scrollbarHeight,a=r*t.options.rowHeight-o;0===e&&t.infiniteScroll.scrollUp?n.y={percentage:1/a}:n.y={percentage:e/a},t.scrollContainers("",n)},dataRemovedTop:function(t,e,n){var r,i,o,s;return a.setScrollDirections(t,e,n),r=t.renderContainers.body.visibleRowCache.length,i=t.infiniteScroll.prevScrollTop,s=t.options.rowHeight,o=i-(t.infiniteScroll.previousVisibleRows-r)*s,a.adjustInfiniteScrollPosition(t,o)},dataRemovedBottom:function(t,e,n){var r;return a.setScrollDirections(t,e,n),r=t.infiniteScroll.prevScrollTop,a.adjustInfiniteScrollPosition(t,r)}};return a}]),t.directive("uiGridInfiniteScroll",["uiGridInfiniteScrollService",function(t){return{priority:-200,scope:!1,require:"^uiGrid",compile:function(e,n,r){return{pre:function(e,n,r,i){t.initializeGrid(i.grid,e)},post:function(t,e,n){}}}}}])}(),function(){"use strict";var t=angular.module("ui.grid.moveColumns",["ui.grid"]);t.service("uiGridMoveColumnService",["$q","$timeout","$log","ScrollEvent","uiGridConstants","gridUtil",function(t,e,n,r,i,o){var a={initializeGrid:function(t){var e=this;this.registerPublicApi(t),this.defaultGridOptions(t.options),t.moveColumns={orderCache:[]},t.registerColumnBuilder(e.movableColumnBuilder),t.registerDataChangeCallback(e.verifyColumnOrder,[i.dataChange.COLUMN])},registerPublicApi:function(t){var e=this,n={events:{colMovable:{columnPositionChanged:function(t,e,n){}}},methods:{colMovable:{moveColumn:function(n,r){var i=t.columns;if(angular.isNumber(n)&&angular.isNumber(r)){for(var a=0,s=0;s<i.length;s++)(angular.isDefined(i[s].colDef.visible)&&!1===i[s].colDef.visible||!0===i[s].isRowHeader)&&a++;if(n>=i.length-a||r>=i.length-a)o.logError("MoveColumn: Invalid values for originalPosition, finalPosition");else{var l=function(t){for(var e=t,n=0;n<=e;n++)angular.isDefined(i[n])&&(angular.isDefined(i[n].colDef.visible)&&!1===i[n].colDef.visible||!0===i[n].isRowHeader)&&e++;return e};e.redrawColumnAtPosition(t,l(n),l(r))}}else o.logError("MoveColumn: Please provide valid values for originalPosition and finalPosition")}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(t){t.enableColumnMoving=!1!==t.enableColumnMoving},movableColumnBuilder:function(e,n,r){var i=[];return e.enableColumnMoving=void 0===e.enableColumnMoving?r.enableColumnMoving:e.enableColumnMoving,t.all(i)},updateColumnCache:function(t){t.moveColumns.orderCache=t.getOnlyDataColumns()},verifyColumnOrder:function(t){var e,n=t.rowHeaderColumns.length;angular.forEach(t.moveColumns.orderCache,function(r,i){if(-1!==(e=t.columns.indexOf(r))&&e-n!==i){var o=t.columns.splice(e,1)[0];t.columns.splice(i+n,0,o)}})},redrawColumnAtPosition:function(t,n,r){var o=t.columns;if(n!==r){var s=n<r?n+1:n-1,l=Math.min(s,r);for(l;l<=Math.max(s,r)&&!o[l].visible;l++);if(!(l>Math.max(s,r))){var u=o[n];if(u.colDef.enableColumnMoving){if(n>r)for(var c=n;c>r;c--)o[c]=o[c-1];else if(r>n)for(var d=n;d<r;d++)o[d]=o[d+1];o[r]=u,a.updateColumnCache(t),t.queueGridRefresh(),e(function(){t.api.core.notifyDataChange(i.dataChange.COLUMN),t.api.colMovable.raise.columnPositionChanged(u.colDef,n,r)})}}}}};return a}]),t.directive("uiGridMoveColumns",["uiGridMoveColumnService",function(t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,r,i){t.initializeGrid(i.grid)},post:function(t,e,n,r){}}}}}]),t.directive("uiGridHeaderCell",["$q","gridUtil","uiGridMoveColumnService","$document","$log","uiGridConstants","ScrollEvent",function(t,e,n,r,i,o,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(t,e,i,o){if(t.col.colDef.enableColumnMoving){var s,l,u,c,d,h,f=angular.element(e[0].querySelectorAll(".ui-grid-cell-contents")),p=!1,g=!1,m=function(e){s=t.grid.element[0].getBoundingClientRect().left,t.grid.hasLeftContainer()&&(s+=t.grid.renderContainers.left.header[0].getBoundingClientRect().width),l=e.pageX||(e.originalEvent?e.originalEvent.pageX:0),u=0,c=s+t.grid.getViewportWidth(),"mousedown"===e.type?(r.on("mousemove",v),r.on("mouseup",y)):"touchstart"===e.type&&(r.on("touchmove",v),r.on("touchend",y))},v=function(t){var e=t.pageX||(t.originalEvent?t.originalEvent.pageX:0),n=e-l;0!==n&&(document.onselectstart=function(){return!1},g=!0,p?p&&(w(n),l=e):_())},y=function(e){if(document.onselectstart=null,d&&(d.remove(),p=!1),x(),b(),g){for(var r=t.grid.columns,i=0,o=0;o<r.length&&r[o].colDef.name!==t.col.colDef.name;o++)i++;var a;if(u<0){var s,l=0;if(t.grid.isRTL()){for(s=i+1;s<r.length;s++)if((angular.isUndefined(r[s].colDef.visible)||!0===r[s].colDef.visible)&&(l+=r[s].drawnWidth||r[s].width||r[s].colDef.width)>Math.abs(u)){n.redrawColumnAtPosition(t.grid,i,s-1);break}}else for(s=i-1;s>=0;s--)if((angular.isUndefined(r[s].colDef.visible)||!0===r[s].colDef.visible)&&(l+=r[s].drawnWidth||r[s].width||r[s].colDef.width)>Math.abs(u)){n.redrawColumnAtPosition(t.grid,i,s+1);break}l<Math.abs(u)&&(a=0,t.grid.isRTL()&&(a=r.length-1),n.redrawColumnAtPosition(t.grid,i,a))}else if(u>0){var c,h=0;if(t.grid.isRTL()){for(c=i-1;c>0;c--)if((angular.isUndefined(r[c].colDef.visible)||!0===r[c].colDef.visible)&&(h+=r[c].drawnWidth||r[c].width||r[c].colDef.width)>u){n.redrawColumnAtPosition(t.grid,i,c);break}}else for(c=i+1;c<r.length;c++)if((angular.isUndefined(r[c].colDef.visible)||!0===r[c].colDef.visible)&&(h+=r[c].drawnWidth||r[c].width||r[c].colDef.width)>u){n.redrawColumnAtPosition(t.grid,i,c-1);break}h<u&&(a=r.length-1,t.grid.isRTL()&&(a=0),n.redrawColumnAtPosition(t.grid,i,a))}}},b=function(){f.on("touchstart",m),f.on("mousedown",m)},x=function(){f.off("touchstart",m),f.off("mousedown",m),r.off("mousemove",v),r.off("touchmove",v),r.off("mouseup",y),r.off("touchend",y)};b();var _=function(){p=!0,d=e.clone(),e.parent().append(d),d.addClass("movingColumn");var n={};n.left=e[0].offsetLeft+"px";var r=t.grid.element[0].getBoundingClientRect().right,i=e[0].getBoundingClientRect().right;i>r&&(h=t.col.drawnWidth+(r-i),n.width=h+"px"),d.css(n)},w=function(e){for(var n=t.grid.columns,r=0,i=0;i<n.length;i++)(angular.isUndefined(n[i].colDef.visible)||!0===n[i].colDef.visible)&&(r+=n[i].drawnWidth||n[i].width||n[i].colDef.width);var l,f=d[0].getBoundingClientRect().left-1,p=d[0].getBoundingClientRect().right;if(l=f-s+e,l=l<c?l:c,(f>=s||e>0)&&(p<=c||e<0))d.css({visibility:"visible",left:d[0].offsetLeft+(l<c?e:c-f)+"px"});else if(r>Math.ceil(o.grid.gridWidth)){e*=8;var g=new a(t.col.grid,null,null,"uiGridHeaderCell.moveElement");g.x={pixels:e},g.grid.scrollContainers("",g)}for(var m=0,v=0;v<n.length;v++)if(angular.isUndefined(n[v].colDef.visible)||!0===n[v].colDef.visible){if(n[v].colDef.name===t.col.colDef.name)break;m+=n[v].drawnWidth||n[v].width||n[v].colDef.width}void 0===t.newScrollLeft?u+=e:u=t.newScrollLeft+l-m,h<t.col.drawnWidth&&(h+=Math.abs(e),d.css({width:h+"px"}))}}}}}}}])}(),function(){"use strict";var t=angular.module("ui.grid.pagination",["ng","ui.grid"]);t.service("uiGridPaginationService",["gridUtil",function(t){var e={initializeGrid:function(t){e.defaultGridOptions(t.options);var n={events:{pagination:{paginationChanged:function(t,e){}}},methods:{pagination:{getPage:function(){return t.options.enablePagination?t.options.paginationCurrentPage:null},getTotalPages:function(){return t.options.enablePagination?0===t.options.totalItems?1:Math.ceil(t.options.totalItems/t.options.paginationPageSize):null},nextPage:function(){t.options.enablePagination&&(t.options.totalItems>0?t.options.paginationCurrentPage=Math.min(t.options.paginationCurrentPage+1,n.methods.pagination.getTotalPages()):t.options.paginationCurrentPage++)},previousPage:function(){t.options.enablePagination&&(t.options.paginationCurrentPage=Math.max(t.options.paginationCurrentPage-1,1))},seek:function(e){if(t.options.enablePagination){if(!angular.isNumber(e)||e<1)throw"Invalid page number: "+e;t.options.paginationCurrentPage=Math.min(e,n.methods.pagination.getTotalPages())}}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods);var r=function(e){if(t.options.useExternalPagination||!t.options.enablePagination)return e;var n=parseInt(t.options.paginationPageSize,10),r=parseInt(t.options.paginationCurrentPage,10),i=e.filter(function(t){return t.visible});t.options.totalItems=i.length;var o=(r-1)*n;return o>i.length&&(o=((r=t.options.paginationCurrentPage=1)-1)*n),i.slice(o,o+n)};t.registerRowsProcessor(r,900)},defaultGridOptions:function(e){e.enablePagination=!1!==e.enablePagination,e.enablePaginationControls=!1!==e.enablePaginationControls,e.useExternalPagination=!0===e.useExternalPagination,t.isNullOrUndefined(e.totalItems)&&(e.totalItems=0),t.isNullOrUndefined(e.paginationPageSizes)&&(e.paginationPageSizes=[250,500,1e3]),t.isNullOrUndefined(e.paginationPageSize)&&(e.paginationPageSizes.length>0?e.paginationPageSize=e.paginationPageSizes[0]:e.paginationPageSize=0),t.isNullOrUndefined(e.paginationCurrentPage)&&(e.paginationCurrentPage=1),t.isNullOrUndefined(e.paginationTemplate)&&(e.paginationTemplate="ui-grid/pagination")},onPaginationChanged:function(t,e,n){t.api.pagination.raise.paginationChanged(e,n),t.options.useExternalPagination||t.queueGridRefresh()}};return e}]),t.directive("uiGridPagination",["gridUtil","uiGridPaginationService",function(t,e){return{priority:-200,scope:!1,require:"uiGrid",link:{pre:function(n,r,i,o){e.initializeGrid(o.grid),t.getTemplate(o.grid.options.paginationTemplate).then(function(t){var e=angular.element(t);r.append(e),o.innerCompile(e)})}}}}]),t.directive("uiGridPager",["uiGridPaginationService","uiGridConstants","gridUtil","i18nService",function(t,e,n,r){return{priority:-200,scope:!0,require:"^uiGrid",link:function(i,o,a,s){i.aria=r.getSafeText("pagination.aria"),i.paginationApi=s.grid.api.pagination,i.sizesLabel=r.getSafeText("pagination.sizes"),i.totalItemsLabel=r.getSafeText("pagination.totalItems"),i.paginationOf=r.getSafeText("pagination.of"),i.paginationThrough=r.getSafeText("pagination.through");var l=s.grid.options;s.grid.renderContainers.body.registerViewportAdjuster(function(t){return t.height=t.height-n.elementHeight(o,"padding"),t});var u=s.grid.registerDataChangeCallback(function(t){t.options.useExternalPagination||(t.options.totalItems=t.rows.length)},[e.dataChange.ROW]);i.$on("$destroy",u);var c=function(){i.showingLow=(l.paginationCurrentPage-1)*l.paginationPageSize+1,i.showingHigh=Math.min(l.paginationCurrentPage*l.paginationPageSize,l.totalItems)},d=i.$watch("grid.options.totalItems + grid.options.paginationPageSize",c),h=i.$watch("grid.options.paginationCurrentPage + grid.options.paginationPageSize",function(e,n){e!==n&&void 0!==n&&(!angular.isNumber(l.paginationCurrentPage)||l.paginationCurrentPage<1?l.paginationCurrentPage=1:l.totalItems>0&&l.paginationCurrentPage>i.paginationApi.getTotalPages()?l.paginationCurrentPage=i.paginationApi.getTotalPages():(c(),t.onPaginationChanged(i.grid,l.paginationCurrentPage,l.paginationPageSize)))});i.$on("$destroy",function(){d(),h()}),i.cantPageForward=function(){return l.totalItems>0?l.paginationCurrentPage>=i.paginationApi.getTotalPages():l.data.length<1},i.cantPageToLast=function(){return!(l.totalItems>0)||i.cantPageForward()},i.cantPageBackward=function(){return l.paginationCurrentPage<=1};var f=function(t){t&&n.focus.bySelector(o,".ui-grid-pager-control-input")};i.pageFirstPageClick=function(){i.paginationApi.seek(1),f(i.cantPageBackward())},i.pagePreviousPageClick=function(){i.paginationApi.previousPage(),f(i.cantPageBackward())},i.pageNextPageClick=function(){i.paginationApi.nextPage(),f(i.cantPageForward())},i.pageLastPageClick=function(){i.paginationApi.seek(i.paginationApi.getTotalPages()),f(i.cantPageToLast())}}}}])}(),function(){"use strict";var t=angular.module("ui.grid.pinning",["ui.grid"]);t.constant("uiGridPinningConstants",{container:{LEFT:"left",RIGHT:"right",NONE:""}}),t.service("uiGridPinningService",["gridUtil","GridRenderContainer","i18nService","uiGridPinningConstants",function(t,e,n,r){var i={initializeGrid:function(t){i.defaultGridOptions(t.options),t.registerColumnBuilder(i.pinningColumnBuilder);var e={events:{pinning:{columnPinned:function(t,e){}}},methods:{pinning:{pinColumn:function(e,n){i.pinColumn(t,e,n)}}}};t.api.registerEventsFromObject(e.events),t.api.registerMethodsFromObject(e.methods)},defaultGridOptions:function(t){t.enablePinning=!1!==t.enablePinning},pinningColumnBuilder:function(e,o,a){if(e.enablePinning=void 0===e.enablePinning?a.enablePinning:e.enablePinning,e.pinnedLeft?(o.renderContainer="left",o.grid.createLeftContainer()):e.pinnedRight&&(o.renderContainer="right",o.grid.createRightContainer()),e.enablePinning){var s={name:"ui.grid.pinning.pinLeft",title:n.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return void 0===this.context.col.renderContainer||!this.context.col.renderContainer||"left"!==this.context.col.renderContainer},action:function(){i.pinColumn(this.context.col.grid,this.context.col,r.container.LEFT)}},l={name:"ui.grid.pinning.pinRight",title:n.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return void 0===this.context.col.renderContainer||!this.context.col.renderContainer||"right"!==this.context.col.renderContainer},action:function(){i.pinColumn(this.context.col.grid,this.context.col,r.container.RIGHT)}},u={name:"ui.grid.pinning.unpin",title:n.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return void 0!==this.context.col.renderContainer&&null!==this.context.col.renderContainer&&"body"!==this.context.col.renderContainer},action:function(){i.pinColumn(this.context.col.grid,this.context.col,r.container.NONE)}};t.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.pinLeft")||o.menuItems.push(s),t.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.pinRight")||o.menuItems.push(l),t.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.unpin")||o.menuItems.push(u)}},pinColumn:function(t,e,n){n===r.container.NONE?(e.renderContainer=null,e.colDef.pinnedLeft=e.colDef.pinnedRight=!1):(e.renderContainer=n,n===r.container.LEFT?t.createLeftContainer():n===r.container.RIGHT&&t.createRightContainer()),t.refresh().then(function(){t.api.pinning.raise.columnPinned(e.colDef,n)})}};return i}]),t.directive("uiGridPinning",["gridUtil","uiGridPinningService",function(t,e){return{require:"uiGrid",scope:!1,compile:function(){return{pre:function(t,n,r,i){e.initializeGrid(i.grid)},post:function(t,e,n,r){}}}}}])}(),function(){"use strict";var t=angular.module("ui.grid.resizeColumns",["ui.grid"]);t.service("uiGridResizeColumnsService",["gridUtil","$q","$timeout",function(t,e,n){return{defaultGridOptions:function(t){t.enableColumnResizing=!1!==t.enableColumnResizing,!1===t.enableColumnResize&&(t.enableColumnResizing=!1)},colResizerColumnBuilder:function(t,n,r){var i=[];return t.enableColumnResizing=void 0===t.enableColumnResizing?r.enableColumnResizing:t.enableColumnResizing,!1===t.enableColumnResize&&(t.enableColumnResizing=!1),e.all(i)},registerPublicApi:function(t){var e={events:{colResizable:{columnSizeChanged:function(t,e){}}}};t.api.registerEventsFromObject(e.events)},fireColumnSizeChanged:function(e,r,i){n(function(){e.api.colResizable?e.api.colResizable.raise.columnSizeChanged(r,i):t.logError("The resizeable api is not registered, this may indicate that you've included the module but not added the 'ui-grid-resize-columns' directive to your grid definition.  Cannot raise any events.")})},findTargetCol:function(t,e,n){var r=t.getRenderContainer();if("left"===e){var i=r.visibleColumnCache.indexOf(t);return r.visibleColumnCache[i-1*n]}return t}}}]),t.directive("uiGridResizeColumns",["gridUtil","uiGridResizeColumnsService",function(t,e){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(t,n,r,i){e.defaultGridOptions(i.grid.options),i.grid.registerColumnBuilder(e.colResizerColumnBuilder),e.registerPublicApi(i.grid)},post:function(t,e,n,r){}}}}}]),t.directive("uiGridHeaderCell",["gridUtil","$templateCache","$compile","$q","uiGridResizeColumnsService","uiGridConstants","$timeout",function(t,e,n,r,i,o,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(t,r,s,l){var u=l.grid;if(u.options.enableColumnResizing){var c=e.get("ui-grid/columnResizer"),d=1;u.isRTL()&&(t.position="left",d=-1);var h=function(){for(var e=r[0].getElementsByClassName("ui-grid-column-resizer"),o=0;o<e.length;o++)angular.element(e[o]).remove();var a=i.findTargetCol(t.col,"left",d),s=t.col.getRenderContainer();if(a&&0!==s.visibleColumnCache.indexOf(t.col)&&!1!==a.colDef.enableColumnResizing){var l=angular.element(c).clone();l.attr("position","left"),r.prepend(l),n(l)(t)}if(!1!==t.col.colDef.enableColumnResizing){var u=angular.element(c).clone();u.attr("position","right"),r.append(u),n(u)(t)}};h();var f=function(){a(h)},p=u.registerDataChangeCallback(f,[o.dataChange.COLUMN]);t.$on("$destroy",p)}}}}}}]),t.directive("uiGridColumnResizer",["$document","gridUtil","uiGridConstants","uiGridResizeColumnsService",function(t,e,n,r){var i=angular.element('<div class="ui-grid-resize-overlay"></div>');return{priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(o,a,s,l){function u(t){l.grid.refreshCanvas(!0).then(function(){l.grid.queueGridRefresh()})}function c(t,e){var n=e;return t.minWidth&&n<t.minWidth?n=t.minWidth:t.maxWidth&&n>t.maxWidth&&(n=t.maxWidth),n}function d(t,e){t.originalEvent&&(t=t.originalEvent),t.preventDefault(),(p=(t.targetTouches?t.targetTouches[0]:t).clientX-g)<0?p=0:p>l.grid.gridWidth&&(p=l.grid.gridWidth);var a=r.findTargetCol(o.col,o.position,m);if(!1!==a.colDef.enableColumnResizing){l.grid.element.hasClass("column-resizing")||l.grid.element.addClass("column-resizing");var s=p-f,u=parseInt(a.drawnWidth+s*m,10);p+=(c(a,u)-u)*m,i.css({left:p+"px"}),l.fireEvent(n.events.ITEM_DRAGGING)}}function h(t,e){t.originalEvent&&(t=t.originalEvent),t.preventDefault(),l.grid.element.removeClass("column-resizing"),i.remove();var n=(p=(t.changedTouches?t.changedTouches[0]:t).clientX-g)-f;if(0===n)return b(),void y();var a=r.findTargetCol(o.col,o.position,m);if(!1!==a.colDef.enableColumnResizing){var s=parseInt(a.drawnWidth+n*m,10);a.width=c(a,s),a.hasCustomWidth=!0,u(n),r.fireColumnSizeChanged(l.grid,a.colDef,n),b(),y()}}var f=0,p=0,g=0,m=1;l.grid.isRTL()&&(o.position="left",m=-1),"left"===o.position?a.addClass("left"):"right"===o.position&&a.addClass("right");var v=function(e,n){e.originalEvent&&(e=e.originalEvent),e.stopPropagation(),g=l.grid.element[0].getBoundingClientRect().left,f=(e.targetTouches?e.targetTouches[0]:e).clientX-g,l.grid.element.append(i),i.css({left:f}),"touchstart"===e.type?(t.on("touchend",h),t.on("touchmove",d),a.off("mousedown",v)):(t.on("mouseup",h),t.on("mousemove",d),a.off("touchstart",v))},y=function(){a.on("mousedown",v),a.on("touchstart",v)},b=function(){t.off("mouseup",h),t.off("touchend",h),t.off("mousemove",d),t.off("touchmove",d),a.off("mousedown",v),a.off("touchstart",v)};y();var x=function(t,i){t.stopPropagation();var s=r.findTargetCol(o.col,o.position,m);if(!1!==s.colDef.enableColumnResizing){var d=0,h=0,f=e.closestElm(a,".ui-grid-render-container").querySelectorAll("."+n.COL_CLASS_PREFIX+s.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(f,function(t){var n;angular.element(t).parent().hasClass("ui-grid-header-cell")&&(n=angular.element(t).parent()[0].querySelectorAll(".ui-grid-column-menu-button")),e.fakeElement(t,{},function(t){var r=angular.element(t);r.attr("style","float: left");var i=e.elementWidth(r);n&&(i+=e.elementWidth(n)),i>d&&(h=(d=i)-i)})}),s.width=c(s,d),s.hasCustomWidth=!0,u(h),r.fireColumnSizeChanged(l.grid,s.colDef,h)}};a.on("dblclick",x),a.on("$destroy",function(){a.off("dblclick",x),b()})}}}])}(),function(){"use strict";var t=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);t.constant("uiGridRowEditConstants",{}),t.service("uiGridRowEditService",["$interval","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function(t,e,n,r,i){var o={initializeGrid:function(t,e){e.rowEdit={};var n={events:{rowEdit:{saveRow:function(t){}}},methods:{rowEdit:{setSavePromise:function(t,n){o.setSavePromise(e,t,n)},getDirtyRows:function(){return e.rowEdit.dirtyRows?e.rowEdit.dirtyRows:[]},getErrorRows:function(){return e.rowEdit.errorRows?e.rowEdit.errorRows:[]},flushDirtyRows:function(){return o.flushDirtyRows(e)},setRowsDirty:function(t){o.setRowsDirty(e,t)},setRowsClean:function(t){o.setRowsClean(e,t)}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods),e.api.core.on.renderingComplete(t,function(n){e.api.edit.on.afterCellEdit(t,o.endEditCell),e.api.edit.on.beginCellEdit(t,o.beginEditCell),e.api.edit.on.cancelCellEdit(t,o.cancelEditCell),e.api.cellNav&&e.api.cellNav.on.navigate(t,o.navigate)})},defaultGridOptions:function(t){},saveRow:function(t,e){var n=this;return function(){if(e.isSaving=!0,e.rowEditSavePromise)return e.rowEditSavePromise;var r=t.api.rowEdit.raise.saveRow(e.entity);return e.rowEditSavePromise?e.rowEditSavePromise.then(n.processSuccessPromise(t,e),n.processErrorPromise(t,e)):i.logError("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise"),r}},setSavePromise:function(t,e,n){t.getRow(e).rowEditSavePromise=n},processSuccessPromise:function(t,e){var n=this;return function(){delete e.isSaving,delete e.isDirty,delete e.isError,delete e.rowEditSaveTimer,delete e.rowEditSavePromise,n.removeRow(t.rowEdit.errorRows,e),n.removeRow(t.rowEdit.dirtyRows,e)}},processErrorPromise:function(t,e){return function(){delete e.isSaving,delete e.rowEditSaveTimer,delete e.rowEditSavePromise,e.isError=!0,t.rowEdit.errorRows||(t.rowEdit.errorRows=[]),o.isRowPresent(t.rowEdit.errorRows,e)||t.rowEdit.errorRows.push(e)}},removeRow:function(t,e){void 0!==t&&null!==t&&t.forEach(function(n,r){n.uid===e.uid&&t.splice(r,1)})},isRowPresent:function(t,e){var n=!1;return t.forEach(function(t,r){t.uid===e.uid&&(n=!0)}),n},flushDirtyRows:function(t){var n=[];return t.api.rowEdit.getDirtyRows().forEach(function(e){o.saveRow(t,e)(),n.push(e.rowEditSavePromise)}),e.all(n)},endEditCell:function(t,e,n,r){var a=this.grid,s=a.getRow(t);s?(n!==r||s.isDirty)&&(a.rowEdit.dirtyRows||(a.rowEdit.dirtyRows=[]),s.isDirty||(s.isDirty=!0,a.rowEdit.dirtyRows.push(s)),delete s.isError,o.considerSetTimer(a,s)):i.logError("Unable to find rowEntity in grid data, dirty flag cannot be set")},beginEditCell:function(t,e){var n=this.grid,r=n.getRow(t);r?o.cancelTimer(n,r):i.logError("Unable to find rowEntity in grid data, timer cannot be cancelled")},cancelEditCell:function(t,e){var n=this.grid,r=n.getRow(t);r?o.considerSetTimer(n,r):i.logError("Unable to find rowEntity in grid data, timer cannot be set")},navigate:function(t,e){var n=this.grid;t.row.rowEditSaveTimer&&o.cancelTimer(n,t.row),e&&e.row&&e.row!==t.row&&o.considerSetTimer(n,e.row)},considerSetTimer:function(e,n){if(o.cancelTimer(e,n),n.isDirty&&!n.isSaving&&-1!==e.options.rowEditWaitInterval){var r=e.options.rowEditWaitInterval?e.options.rowEditWaitInterval:2e3;n.rowEditSaveTimer=t(o.saveRow(e,n),r,1)}},cancelTimer:function(e,n){n.rowEditSaveTimer&&!n.isSaving&&(t.cancel(n.rowEditSaveTimer),delete n.rowEditSaveTimer)},setRowsDirty:function(t,e){var n;e.forEach(function(e,r){(n=t.getRow(e))?(t.rowEdit.dirtyRows||(t.rowEdit.dirtyRows=[]),n.isDirty||(n.isDirty=!0,t.rowEdit.dirtyRows.push(n)),delete n.isError,o.considerSetTimer(t,n)):i.logError("requested row not found in rowEdit.setRowsDirty, row was: "+e)})},setRowsClean:function(t,e){var n;e.forEach(function(e,r){(n=t.getRow(e))?(delete n.isDirty,o.removeRow(t.rowEdit.dirtyRows,n),o.cancelTimer(t,n),delete n.isError,o.removeRow(t.rowEdit.errorRows,n)):i.logError("requested row not found in rowEdit.setRowsClean, row was: "+e)})}};return o}]),t.directive("uiGridRowEdit",["gridUtil","uiGridRowEditService","uiGridEditConstants",function(t,e,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(t,n,r,i){e.initializeGrid(t,i.grid)},post:function(t,e,n,r){}}}}}]),t.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(t,e,n,r){return{priority:-200,scope:!1,compile:function(t,e){var n=angular.element(t.children().children()[0]),r=n.attr("ng-class"),i="";return i=r?r.slice(0,-1)+", 'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}":"{'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}",n.attr("ng-class",i),{pre:function(t,e,n,r){},post:function(t,e,n,r){}}}}}])}(),function(){"use strict";var t=angular.module("ui.grid.saveState",["ui.grid","ui.grid.selection","ui.grid.cellNav","ui.grid.grouping","ui.grid.pinning","ui.grid.treeView"]);t.constant("uiGridSaveStateConstants",{featureName:"saveState"}),t.service("uiGridSaveStateService",["$q","uiGridSaveStateConstants","gridUtil","$compile","$interval","uiGridConstants",function(t,e,n,r,i,o){var a={initializeGrid:function(t){t.saveState={},this.defaultGridOptions(t.options);var e={events:{saveState:{}},methods:{saveState:{save:function(){return a.save(t)},restore:function(e,n){a.restore(t,e,n)}}}};t.api.registerEventsFromObject(e.events),t.api.registerMethodsFromObject(e.methods)},defaultGridOptions:function(t){t.saveWidths=!1!==t.saveWidths,t.saveOrder=!1!==t.saveOrder,t.saveScroll=!0===t.saveScroll,t.saveFocus=!0!==t.saveScroll&&!1!==t.saveFocus,t.saveVisible=!1!==t.saveVisible,t.saveSort=!1!==t.saveSort,t.saveFilter=!1!==t.saveFilter,t.saveSelection=!1!==t.saveSelection,t.saveGrouping=!1!==t.saveGrouping,t.saveGroupingExpandedStates=!0===t.saveGroupingExpandedStates,t.savePinning=!1!==t.savePinning,t.saveTreeView=!1!==t.saveTreeView},save:function(t){var e={};return e.columns=a.saveColumns(t),e.scrollFocus=a.saveScrollFocus(t),e.selection=a.saveSelection(t),e.grouping=a.saveGrouping(t),e.treeView=a.saveTreeView(t),e.pagination=a.savePagination(t),e},restore:function(t,e,n){n.columns&&a.restoreColumns(t,n.columns),n.scrollFocus&&a.restoreScrollFocus(t,e,n.scrollFocus),n.selection&&a.restoreSelection(t,n.selection),n.grouping&&a.restoreGrouping(t,n.grouping),n.treeView&&a.restoreTreeView(t,n.treeView),n.pagination&&a.restorePagination(t,n.pagination),t.refresh()},saveColumns:function(t){var e=[];return t.getOnlyDataColumns().forEach(function(n){var r={};r.name=n.name,t.options.saveVisible&&(r.visible=n.visible),t.options.saveWidths&&(r.width=n.width),t.options.saveSort&&(r.sort=angular.copy(n.sort)),t.options.saveFilter&&(r.filters=[],n.filters.forEach(function(t){var e={};angular.forEach(t,function(t,n){"condition"!==n&&"$$hashKey"!==n&&"placeholder"!==n&&(e[n]=t)}),r.filters.push(e)})),t.api.pinning&&t.options.savePinning&&(r.pinned=n.renderContainer?n.renderContainer:""),e.push(r)}),e},saveScrollFocus:function(t){if(!t.api.cellNav)return{};var e={};if(t.options.saveFocus){e.focus=!0;var n=t.api.cellNav.getFocusedCell();null!==n&&(null!==n.col&&(e.colName=n.col.colDef.name),null!==n.row&&(e.rowVal=a.getRowVal(t,n.row)))}return(t.options.saveScroll||t.options.saveFocus&&!e.colName&&!e.rowVal)&&(e.focus=!1,t.renderContainers.body.prevRowScrollIndex&&(e.rowVal=a.getRowVal(t,t.renderContainers.body.visibleRowCache[t.renderContainers.body.prevRowScrollIndex])),t.renderContainers.body.prevColScrollIndex&&(e.colName=t.renderContainers.body.visibleColumnCache[t.renderContainers.body.prevColScrollIndex].name)),e},saveSelection:function(t){return t.api.selection&&t.options.saveSelection?t.api.selection.getSelectedGridRows().map(function(e){return a.getRowVal(t,e)}):[]},saveGrouping:function(t){return t.api.grouping&&t.options.saveGrouping?t.api.grouping.getGrouping(t.options.saveGroupingExpandedStates):{}},savePagination:function(t){return t.api.pagination&&t.options.paginationPageSize?{paginationCurrentPage:t.options.paginationCurrentPage,paginationPageSize:t.options.paginationPageSize}:{}},saveTreeView:function(t){return t.api.treeView&&t.options.saveTreeView?t.api.treeView.getTreeView():{}},getRowVal:function(t,e){if(!e)return null;var n={};return t.options.saveRowIdentity?(n.identity=!0,n.row=t.options.saveRowIdentity(e.entity)):(n.identity=!1,n.row=t.renderContainers.body.visibleRowCache.indexOf(e)),n},restoreColumns:function(t,e){var n=!1;e.forEach(function(e,r){var i=t.getColumn(e.name);if(i&&!t.isRowHeaderColumn(i)){!t.options.saveVisible||i.visible===e.visible&&i.colDef.visible===e.visible||(i.visible=e.visible,i.colDef.visible=e.visible,t.api.core.raise.columnVisibilityChanged(i)),t.options.saveWidths&&i.width!==e.width&&(i.width=e.width,i.hasCustomWidth=!0),!t.options.saveSort||angular.equals(i.sort,e.sort)||void 0===i.sort&&angular.isEmpty(e.sort)||(i.sort=angular.copy(e.sort),n=!0),t.options.saveFilter&&!angular.equals(i.filters,e.filters)&&(e.filters.forEach(function(t,e){angular.extend(i.filters[e],t),void 0!==t.term&&null!==t.term||delete i.filters[e].term}),t.api.core.raise.filterChanged()),t.api.pinning&&t.options.savePinning&&i.renderContainer!==e.pinned&&t.api.pinning.pinColumn(i,e.pinned);var o=t.getOnlyDataColumns().indexOf(i);if(-1!==o&&t.options.saveOrder&&o!==r){var a=t.columns.splice(o+t.rowHeaderColumns.length,1)[0];t.columns.splice(r+t.rowHeaderColumns.length,0,a)}}}),n&&t.api.core.raise.sortChanged(t,t.getColumnSorting())},restoreScrollFocus:function(t,e,n){if(t.api.cellNav){var r,i;if(n.colName){var o=t.options.columnDefs.filter(function(t){return t.name===n.colName});o.length>0&&(r=o[0])}n.rowVal&&n.rowVal.row&&(i=n.rowVal.identity?a.findRowByIdentity(t,n.rowVal):t.renderContainers.body.visibleRowCache[n.rowVal.row]);var s=i&&i.entity?i.entity:null;(r||s)&&(n.focus?t.api.cellNav.scrollToFocus(s,r):t.scrollTo(s,r))}},restoreSelection:function(t,e){t.api.selection&&(t.api.selection.clearSelectedRows(),e.forEach(function(e){if(e.identity){var n=a.findRowByIdentity(t,e);n&&t.api.selection.selectRow(n.entity)}else t.api.selection.selectRowByVisibleIndex(e.row)}))},restoreGrouping:function(t,e){t.api.grouping&&void 0!==e&&null!==e&&!angular.equals(e,{})&&t.api.grouping.setGrouping(e)},restoreTreeView:function(t,e){t.api.treeView&&void 0!==e&&null!==e&&!angular.equals(e,{})&&t.api.treeView.setTreeView(e)},restorePagination:function(t,e){t.api.pagination&&t.options.paginationPageSize&&(t.options.paginationCurrentPage=e.paginationCurrentPage,t.options.paginationPageSize=e.paginationPageSize)},findRowByIdentity:function(t,e){if(!t.options.saveRowIdentity)return null;var n=t.rows.filter(function(n){return t.options.saveRowIdentity(n.entity)===e.row});return n.length>0?n[0]:null}};return a}]),t.directive("uiGridSaveState",["uiGridSaveStateConstants","uiGridSaveStateService","gridUtil","$compile",function(t,e,n,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(t,n,r,i){e.initializeGrid(i.grid)}}}])}(),function(){"use strict";var t=angular.module("ui.grid.selection",["ui.grid"]);t.constant("uiGridSelectionConstants",{featureName:"selection",selectionRowHeaderColName:"selectionRowHeaderCol"}),angular.module("ui.grid").config(["$provide",function(t){t.decorator("GridRow",["$delegate",function(t){return t.prototype.setSelected=function(t){t!==this.isSelected&&(this.isSelected=t,this.grid.selection.selectedCount+=t?1:-1)},t}])}]),t.service("uiGridSelectionService",["$q","$templateCache","uiGridSelectionConstants","gridUtil",function(t,e,n,r){var i={initializeGrid:function(t){t.selection={},t.selection.lastSelectedRow=null,t.selection.selectAll=!1,t.selection.selectedCount=0,i.defaultGridOptions(t.options);var e={events:{selection:{rowSelectionChanged:function(t,e,n){},rowSelectionChangedBatch:function(t,e,n){}}},methods:{selection:{toggleRowSelection:function(e,n){var r=t.getRow(e);null!==r&&i.toggleRowSelection(t,r,n,t.options.multiSelect,t.options.noUnselect)},selectRow:function(e,n){var r=t.getRow(e);null===r||r.isSelected||i.toggleRowSelection(t,r,n,t.options.multiSelect,t.options.noUnselect)},selectRowByVisibleIndex:function(e,n){var r=t.renderContainers.body.visibleRowCache[e];null===r||void 0===r||r.isSelected||i.toggleRowSelection(t,r,n,t.options.multiSelect,t.options.noUnselect)},unSelectRow:function(e,n){var r=t.getRow(e);null!==r&&r.isSelected&&i.toggleRowSelection(t,r,n,t.options.multiSelect,t.options.noUnselect)},selectAllRows:function(e){if(!1!==t.options.multiSelect){var n=[];t.rows.forEach(function(r){r.isSelected||!1===r.enableSelection||(r.setSelected(!0),i.decideRaiseSelectionEvent(t,r,n,e))}),i.decideRaiseSelectionBatchEvent(t,n,e),t.selection.selectAll=!0}},selectAllVisibleRows:function(e){if(!1!==t.options.multiSelect){var n=[];t.rows.forEach(function(r){r.visible?r.isSelected||!1===r.enableSelection||(r.setSelected(!0),i.decideRaiseSelectionEvent(t,r,n,e)):r.isSelected&&(r.setSelected(!1),i.decideRaiseSelectionEvent(t,r,n,e))}),i.decideRaiseSelectionBatchEvent(t,n,e),t.selection.selectAll=!0}},clearSelectedRows:function(e){i.clearSelectedRows(t,e)},getSelectedRows:function(){return i.getSelectedRows(t).map(function(t){return t.entity})},getSelectedGridRows:function(){return i.getSelectedRows(t)},getSelectedCount:function(){return t.selection.selectedCount},setMultiSelect:function(e){t.options.multiSelect=e},setModifierKeysToMultiSelect:function(e){t.options.modifierKeysToMultiSelect=e},getSelectAllState:function(){return t.selection.selectAll}}}};t.api.registerEventsFromObject(e.events),t.api.registerMethodsFromObject(e.methods)},defaultGridOptions:function(t){t.enableRowSelection=!1!==t.enableRowSelection,t.multiSelect=!1!==t.multiSelect,t.noUnselect=!0===t.noUnselect,t.modifierKeysToMultiSelect=!0===t.modifierKeysToMultiSelect,t.enableRowHeaderSelection=!1!==t.enableRowHeaderSelection,void 0===t.enableFullRowSelection&&(t.enableFullRowSelection=!t.enableRowHeaderSelection),t.enableSelectAll=!1!==t.enableSelectAll,t.enableSelectionBatchEvent=!1!==t.enableSelectionBatchEvent,t.selectionRowHeaderWidth=angular.isDefined(t.selectionRowHeaderWidth)?t.selectionRowHeaderWidth:30,t.enableFooterTotalSelected=!1!==t.enableFooterTotalSelected,t.isRowSelectable=angular.isDefined(t.isRowSelectable)?t.isRowSelectable:angular.noop},toggleRowSelection:function(t,e,n,r,o){var a=e.isSelected;if(!1!==e.enableSelection||a){var s;r||a?!r&&a&&(s=i.getSelectedRows(t)).length>1&&(a=!1,i.clearSelectedRows(t,n)):i.clearSelectedRows(t,n),a&&o||(e.setSelected(!a),!0===e.isSelected&&(t.selection.lastSelectedRow=e),s=i.getSelectedRows(t),t.selection.selectAll=t.rows.length===s.length,t.api.selection.raise.rowSelectionChanged(e,n))}},shiftSelect:function(t,e,n,r){if(r){var o=i.getSelectedRows(t).length>0?t.renderContainers.body.visibleRowCache.indexOf(t.selection.lastSelectedRow):0,a=t.renderContainers.body.visibleRowCache.indexOf(e);if(o>a){var s=o;o=a,a=s}for(var l=[],u=o;u<=a;u++){var c=t.renderContainers.body.visibleRowCache[u];c&&(c.isSelected||!1===c.enableSelection||(c.setSelected(!0),t.selection.lastSelectedRow=c,i.decideRaiseSelectionEvent(t,c,l,n)))}i.decideRaiseSelectionBatchEvent(t,l,n)}},getSelectedRows:function(t){return t.rows.filter(function(t){return t.isSelected})},clearSelectedRows:function(t,e){var n=[];i.getSelectedRows(t).forEach(function(r){r.isSelected&&(r.setSelected(!1),i.decideRaiseSelectionEvent(t,r,n,e))}),i.decideRaiseSelectionBatchEvent(t,n,e),t.selection.selectAll=!1,t.selection.selectedCount=0},decideRaiseSelectionEvent:function(t,e,n,r){t.options.enableSelectionBatchEvent?n.push(e):t.api.selection.raise.rowSelectionChanged(e,r)},decideRaiseSelectionBatchEvent:function(t,e,n){e.length>0&&t.api.selection.raise.rowSelectionChangedBatch(e,n)}};return i}]),t.directive("uiGridSelection",["uiGridSelectionConstants","uiGridSelectionService","$templateCache","uiGridConstants",function(t,e,n,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,i,o,a){if(e.initializeGrid(a.grid),a.grid.options.enableRowHeaderSelection){var s={name:t.selectionRowHeaderColName,displayName:"",width:a.grid.options.selectionRowHeaderWidth,minWidth:10,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};a.grid.addRowHeaderColumn(s,0)}var l=!1,u=function(t){return t.forEach(function(t){t.enableSelection=a.grid.options.isRowSelectable(t)}),t},c=function(){a.grid.options.isRowSelectable!==angular.noop&&!0!==l&&(a.grid.registerRowsProcessor(u,500),l=!0)};c();var d=a.grid.registerDataChangeCallback(c,[r.dataChange.OPTIONS]);n.$on("$destroy",d)},post:function(t,e,n,r){}}}}}]),t.directive("uiGridSelectionRowHeaderButtons",["$templateCache","uiGridSelectionService","gridUtil",function(t,e,n){return{replace:!0,restrict:"E",template:t.get("ui-grid/selectionRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(t,r,i,o){function a(t,n){n.stopPropagation(),n.shiftKey?e.shiftSelect(l,t,n,l.options.multiSelect):n.ctrlKey||n.metaKey?e.toggleRowSelection(l,t,n,l.options.multiSelect,l.options.noUnselect):e.toggleRowSelection(l,t,n,l.options.multiSelect&&!l.options.modifierKeysToMultiSelect,l.options.noUnselect)}function s(t){(t.ctrlKey||t.shiftKey)&&(t.target.onselectstart=function(){return!1},window.setTimeout(function(){t.target.onselectstart=null},0))}var l=o.grid;t.selectButtonClick=a,"ie"===n.detectBrowser()&&r.on("mousedown",s)}}}]),t.directive("uiGridSelectionSelectAllButtons",["$templateCache","uiGridSelectionService",function(t,e){return{replace:!0,restrict:"E",template:t.get("ui-grid/selectionSelectAllButtons"),scope:!1,link:function(t,n,r,i){var o=t.col.grid;t.headerButtonClick=function(t,n){o.selection.selectAll?(e.clearSelectedRows(o,n),o.options.noUnselect&&o.api.selection.selectRowByVisibleIndex(0,n),o.selection.selectAll=!1):o.options.multiSelect&&(o.api.selection.selectAllVisibleRows(n),o.selection.selectAll=!0)}}}}]),t.directive("uiGridViewport",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService",function(t,e,n,r,i,o){return{priority:-200,scope:!1,compile:function(t,e){var n=angular.element(t.children().children()[0]),r=n.attr("ng-class"),i="";return i=r?r.slice(0,-1)+",'ui-grid-row-selected': row.isSelected}":"{'ui-grid-row-selected': row.isSelected}",n.attr("ng-class",i),{pre:function(t,e,n,r){},post:function(t,e,n,r){}}}}}]),t.directive("uiGridCell",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService","$timeout",function(t,e,n,r,i,o,a){return{priority:-200,restrict:"A",require:"?^uiGrid",scope:!1,link:function(t,n,r,i){function s(){t.grid.options.enableRowSelection&&t.grid.options.enableFullRowSelection&&(n.addClass("ui-grid-disable-selection"),n.on("touchstart",d),n.on("touchend",h),n.on("click",c),t.registered=!0)}function l(){t.registered&&(n.removeClass("ui-grid-disable-selection"),n.off("touchstart",d),n.off("touchend",h),n.off("click",c),t.registered=!1)}var u=0;i.grid.api.cellNav&&i.grid.api.cellNav.on.viewPortKeyDown(t,function(e,n){null!==n&&n.row===t.row&&n.col===t.col&&32===e.keyCode&&"selectionRowHeaderCol"===t.col.colDef.name&&(o.toggleRowSelection(t.grid,t.row,e,t.grid.options.multiSelect&&!t.grid.options.modifierKeysToMultiSelect,t.grid.options.noUnselect),t.$apply())});var c=function(e){n.off("touchend",h),e.shiftKey?o.shiftSelect(t.grid,t.row,e,t.grid.options.multiSelect):e.ctrlKey||e.metaKey?o.toggleRowSelection(t.grid,t.row,e,t.grid.options.multiSelect,t.grid.options.noUnselect):o.toggleRowSelection(t.grid,t.row,e,t.grid.options.multiSelect&&!t.grid.options.modifierKeysToMultiSelect,t.grid.options.noUnselect),t.$apply(),a(function(){n.on("touchend",h)},300)},d=function(t){u=(new Date).getTime(),n.off("click",c)},h=function(t){(new Date).getTime()-u<300&&c(t),a(function(){n.on("click",c)},300)};s();var f=t.grid.registerDataChangeCallback(function(){t.grid.options.enableRowSelection&&t.grid.options.enableFullRowSelection&&!t.registered?s():t.grid.options.enableRowSelection&&t.grid.options.enableFullRowSelection||!t.registered||l()},[e.dataChange.OPTIONS]);n.on("$destroy",f)}}}]),t.directive("uiGridGridFooter",["$compile","uiGridConstants","gridUtil",function(t,e,n){return{restrict:"EA",replace:!0,priority:-1e3,require:"^uiGrid",scope:!0,compile:function(e,r){return{pre:function(e,r,i,o){o.grid.options.showGridFooter&&n.getTemplate("ui-grid/gridFooterSelectedItems").then(function(n){var i=angular.element(n),o=t(i)(e);angular.element(r[0].getElementsByClassName("ui-grid-grid-footer")[0]).append(o)})},post:function(t,e,n,r){}}}}}])}(),function(){"use strict";var t=angular.module("ui.grid.treeBase",["ui.grid"]);t.constant("uiGridTreeBaseConstants",{featureName:"treeBase",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),t.service("uiGridTreeBaseService",["$q","uiGridTreeBaseConstants","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants","rowSorter",function(t,e,n,r,i,o,a,s){var l={initializeGrid:function(t,e){t.treeBase={},t.treeBase.numberLevels=0,t.treeBase.expandAll=!1,t.treeBase.tree=[],l.defaultGridOptions(t.options),t.registerRowsProcessor(l.treeRows,410),t.registerColumnBuilder(l.treeBaseColumnBuilder),l.createRowHeader(t);var n={events:{treeBase:{rowExpanded:{},rowCollapsed:{}}},methods:{treeBase:{expandAllRows:function(){l.expandAllRows(t)},collapseAllRows:function(){l.collapseAllRows(t)},toggleRowTreeState:function(e){l.toggleRowTreeState(t,e)},expandRow:function(e){l.expandRow(t,e)},expandRowChildren:function(e){l.expandRowChildren(t,e)},collapseRow:function(e){l.collapseRow(t,e)},collapseRowChildren:function(e){l.collapseRowChildren(t,e)},getTreeExpandedState:function(){return{expandedState:l.getTreeState(t)}},setTreeState:function(e){l.setTreeState(t,e)},getRowChildren:function(t){return t.treeNode.children.map(function(t){return t.row})}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(t){t.treeRowHeaderBaseWidth=t.treeRowHeaderBaseWidth||30,t.treeIndent=t.treeIndent||10,t.showTreeRowHeader=!1!==t.showTreeRowHeader,t.showTreeExpandNoChildren=!1!==t.showTreeExpandNoChildren,t.treeRowHeaderAlwaysVisible=!1!==t.treeRowHeaderAlwaysVisible,t.treeCustomAggregations=t.treeCustomAggregations||{},t.enableExpandAll=!1!==t.enableExpandAll},treeBaseColumnBuilder:function(t,e,n){void 0!==t.customTreeAggregationFn&&(e.treeAggregationFn=t.customTreeAggregationFn),void 0!==t.treeAggregationType&&(e.treeAggregation={type:t.treeAggregationType},void 0!==n.treeCustomAggregations[t.treeAggregationType]?(e.treeAggregationFn=n.treeCustomAggregations[t.treeAggregationType].aggregationFn,e.treeAggregationFinalizerFn=n.treeCustomAggregations[t.treeAggregationType].finalizerFn,e.treeAggregation.label=n.treeCustomAggregations[t.treeAggregationType].label):void 0!==l.nativeAggregations()[t.treeAggregationType]&&(e.treeAggregationFn=l.nativeAggregations()[t.treeAggregationType].aggregationFn,e.treeAggregation.label=l.nativeAggregations()[t.treeAggregationType].label)),void 0!==t.treeAggregationLabel&&(void 0===e.treeAggregation&&(e.treeAggregation={}),e.treeAggregation.label=t.treeAggregationLabel),e.treeAggregationUpdateEntity=!1!==t.treeAggregationUpdateEntity,void 0===e.customTreeAggregationFinalizerFn&&(e.customTreeAggregationFinalizerFn=t.customTreeAggregationFinalizerFn)},createRowHeader:function(t){var n={name:e.rowHeaderColName,displayName:"",width:t.options.treeRowHeaderBaseWidth,minWidth:10,cellTemplate:"ui-grid/treeBaseRowHeader",headerCellTemplate:"ui-grid/treeBaseHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};n.visible=t.options.treeRowHeaderAlwaysVisible,t.addRowHeaderColumn(n,-100)},expandAllRows:function(t){t.treeBase.tree.forEach(function(n){l.setAllNodes(t,n,e.EXPANDED)}),t.treeBase.expandAll=!0,t.queueGridRefresh()},collapseAllRows:function(t){t.treeBase.tree.forEach(function(n){l.setAllNodes(t,n,e.COLLAPSED)}),t.treeBase.expandAll=!1,t.queueGridRefresh()},setAllNodes:function(t,n,r){void 0!==n.state&&n.state!==r&&(n.state=r,r===e.EXPANDED?t.api.treeBase.raise.rowExpanded(n.row):t.api.treeBase.raise.rowCollapsed(n.row)),n.children&&n.children.forEach(function(e){l.setAllNodes(t,e,r)})},toggleRowTreeState:function(t,n){void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0||(n.treeNode.state===e.EXPANDED?l.collapseRow(t,n):l.expandRow(t,n),t.queueGridRefresh())},expandRow:function(t,n){void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0||n.treeNode.state!==e.EXPANDED&&(n.treeNode.state=e.EXPANDED,t.api.treeBase.raise.rowExpanded(n),t.treeBase.expandAll=l.allExpanded(t.treeBase.tree),t.queueGridRefresh())},expandRowChildren:function(t,n){void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0||(l.setAllNodes(t,n.treeNode,e.EXPANDED),t.treeBase.expandAll=l.allExpanded(t.treeBase.tree),t.queueGridRefresh())},collapseRow:function(t,n){void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0||n.treeNode.state!==e.COLLAPSED&&(n.treeNode.state=e.COLLAPSED,t.treeBase.expandAll=!1,t.api.treeBase.raise.rowCollapsed(n),t.queueGridRefresh())},collapseRowChildren:function(t,n){void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0||(l.setAllNodes(t,n.treeNode,e.COLLAPSED),t.treeBase.expandAll=!1,t.queueGridRefresh())},allExpanded:function(t){var e=!0;return t.forEach(function(t){l.allExpandedInternal(t)||(e=!1)}),e},allExpandedInternal:function(t){if(t.children&&t.children.length>0){if(t.state===e.COLLAPSED)return!1;var n=!0;return t.children.forEach(function(t){l.allExpandedInternal(t)||(n=!1)}),n}return!0},treeRows:function(t){if(0===t.length)return t;var n=this;e.EXPANDED;return n.treeBase.tree=l.createTree(n,t),l.updateRowHeaderWidth(n),l.sortTree(n),l.fixFilter(n),l.renderTree(n.treeBase.tree)},updateRowHeaderWidth:function(t){var n=t.getColumn(e.rowHeaderColName),r=t.options.treeRowHeaderBaseWidth+t.options.treeIndent*Math.max(t.treeBase.numberLevels-1,0);n&&r!==n.width&&(n.width=r,t.queueRefresh());var i=!0;!1===t.options.showTreeRowHeader&&(i=!1),!1===t.options.treeRowHeaderAlwaysVisible&&t.treeBase.numberLevels<=0&&(i=!1),n.visible!==i&&(n.visible=i,n.colDef.visible=i,t.queueGridRefresh())},renderTree:function(t){var n=[];return t.forEach(function(t){t.row.visible&&n.push(t.row),t.state===e.EXPANDED&&t.children&&t.children.length>0&&(n=n.concat(l.renderTree(t.children)))}),n},createTree:function(t,n){var r,i=-1,o=[];t.treeBase.tree=[],t.treeBase.numberLevels=0;var a=l.getAggregations(t),s=function(n){if(void 0!==n.entity.$$treeLevel&&n.treeLevel!==n.entity.$$treeLevel&&(n.treeLevel=n.entity.$$treeLevel),n.treeLevel<=i){for(;n.treeLevel<=i;){var s=o.pop();l.finaliseAggregations(s),i--}r=o.length>0?l.setCurrentState(o):e.EXPANDED}(void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0)&&n.visible&&l.aggregate(t,n,o),l.addOrUseNode(t,n,o,a),void 0!==n.treeLevel&&null!==n.treeLevel&&n.treeLevel>=0&&(o.push(n),i++,r=l.setCurrentState(o)),t.treeBase.numberLevels<n.treeLevel+1&&(t.treeBase.numberLevels=n.treeLevel+1)};for(n.forEach(s);o.length>0;){var u=o.pop();l.finaliseAggregations(u)}return t.treeBase.tree},addOrUseNode:function(t,n,r,i){var o=[];i.forEach(function(t){o.push(l.buildAggregationObject(t.col))});var a={state:e.COLLAPSED,row:n,parentRow:null,aggregations:o,children:[]};n.treeNode&&(a.state=n.treeNode.state),r.length>0&&(a.parentRow=r[r.length-1]),n.treeNode=a,0===r.length?t.treeBase.tree.push(a):r[r.length-1].treeNode.children.push(a)},setCurrentState:function(t){var n=e.EXPANDED;return t.forEach(function(t){t.treeNode.state===e.COLLAPSED&&(n=e.COLLAPSED)}),n},sortTree:function(t){t.columns.forEach(function(t){t.sort&&t.sort.ignoreSort&&delete t.sort.ignoreSort}),t.treeBase.tree=l.sortInternal(t,t.treeBase.tree)},sortInternal:function(t,n){var r=n.map(function(t){return t.row}),i=(r=s.sort(t,r,t.columns)).map(function(t){return t.treeNode});return i.forEach(function(n){n.state===e.EXPANDED&&n.children&&n.children.length>0&&(n.children=l.sortInternal(t,n.children))}),i},fixFilter:function(t){var e;t.treeBase.tree.forEach(function(t){t.children&&t.children.length>0&&(e=t.row.visible,l.fixFilterInternal(t.children,e))})},fixFilterInternal:function(t,e){return t.forEach(function(t){t.row.visible&&!e&&(l.setParentsVisible(t),e=!0),t.children&&t.children.length>0&&l.fixFilterInternal(t.children,e&&t.row.visible)&&(e=!0)}),e},setParentsVisible:function(t){for(;t.parentRow;)t.parentRow.visible=!0,t=t.parentRow.treeNode},buildAggregationObject:function(t){var e={col:t};return t.treeAggregation&&t.treeAggregation.type&&(e.type=t.treeAggregation.type),t.treeAggregation&&t.treeAggregation.label&&(e.label=t.treeAggregation.label),e},getAggregations:function(t){var e=[];return t.columns.forEach(function(n){void 0!==n.treeAggregationFn&&(e.push(l.buildAggregationObject(n)),t.options.showColumnFooter&&void 0===n.colDef.aggregationType&&n.treeAggregation&&(n.treeFooterAggregation=l.buildAggregationObject(n),n.aggregationType=l.treeFooterAggregationType))}),e},aggregate:function(t,e,n){0===n.length&&e.treeNode&&e.treeNode.aggregations&&e.treeNode.aggregations.forEach(function(n){if(void 0!==n.col.treeFooterAggregation){var r=t.getCellValue(e,n.col),i=Number(r);n.col.treeAggregationFn(n.col.treeFooterAggregation,r,i,e)}}),n.forEach(function(n,r){n.treeNode.aggregations&&n.treeNode.aggregations.forEach(function(n){var i=t.getCellValue(e,n.col),o=Number(i);n.col.treeAggregationFn(n,i,o,e),0===r&&void 0!==n.col.treeFooterAggregation&&n.col.treeAggregationFn(n.col.treeFooterAggregation,i,o,e)})})},nativeAggregations:function(){return{count:{label:o.get().aggregation.count,menuTitle:o.get().grouping.aggregate_count,aggregationFn:function(t,e,n){void 0===t.value?t.value=1:t.value++}},sum:{label:o.get().aggregation.sum,menuTitle:o.get().grouping.aggregate_sum,aggregationFn:function(t,e,n){isNaN(n)||(void 0===t.value?t.value=n:t.value+=n)}},min:{label:o.get().aggregation.min,menuTitle:o.get().grouping.aggregate_min,aggregationFn:function(t,e,n){void 0===t.value?t.value=e:void 0!==e&&null!==e&&(e<t.value||null===t.value)&&(t.value=e)}},max:{label:o.get().aggregation.max,menuTitle:o.get().grouping.aggregate_max,aggregationFn:function(t,e,n){void 0===t.value?t.value=e:void 0!==e&&null!==e&&(e>t.value||null===t.value)&&(t.value=e)}},avg:{label:o.get().aggregation.avg,menuTitle:o.get().grouping.aggregate_avg,aggregationFn:function(t,e,n){void 0===t.count?t.count=1:t.count++,isNaN(n)||(void 0===t.value||void 0===t.sum?(t.value=n,t.sum=n):(t.sum+=n,t.value=t.sum/t.count))}}}},finaliseAggregation:function(t,e){e.col.treeAggregationUpdateEntity&&void 0!==t&&void 0!==t.entity["$$"+e.col.uid]&&angular.extend(e,t.entity["$$"+e.col.uid]),"function"==typeof e.col.treeAggregationFinalizerFn&&e.col.treeAggregationFinalizerFn(e),"function"==typeof e.col.customTreeAggregationFinalizerFn&&e.col.customTreeAggregationFinalizerFn(e),void 0===e.rendered&&(e.rendered=e.label?e.label+e.value:e.value)},finaliseAggregations:function(t){null!=t&&void 0!==t.treeNode.aggregations&&t.treeNode.aggregations.forEach(function(e){if(l.finaliseAggregation(t,e),e.col.treeAggregationUpdateEntity){var n={};angular.forEach(e,function(t,r){e.hasOwnProperty(r)&&"col"!==r&&(n[r]=t)}),t.entity["$$"+e.col.uid]=n}})},treeFooterAggregationType:function(t,e){return l.finaliseAggregation(void 0,e.treeFooterAggregation),void 0===e.treeFooterAggregation.value||null===e.treeFooterAggregation.rendered?"":e.treeFooterAggregation.rendered}};return l}]),t.directive("uiGridTreeBaseRowHeaderButtons",["$templateCache","uiGridTreeBaseService",function(t,e){return{replace:!0,restrict:"E",template:t.get("ui-grid/treeBaseRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(t,n,r,i){var o=i.grid;t.treeButtonClick=function(t,n){e.toggleRowTreeState(o,t,n)}}}}]),t.directive("uiGridTreeBaseExpandAllButtons",["$templateCache","uiGridTreeBaseService",function(t,e){return{replace:!0,restrict:"E",template:t.get("ui-grid/treeBaseExpandAllButtons"),scope:!1,link:function(t,n,r,i){var o=t.col.grid;t.headerButtonClick=function(t,n){o.treeBase.expandAll?e.collapseAllRows(o,n):e.expandAllRows(o,n)}}}}]),t.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(t,e,n,r){return{priority:-200,scope:!1,compile:function(t,e){var n=angular.element(t.children().children()[0]),r=n.attr("ng-class"),i="";return i=r?r.slice(0,-1)+",'ui-grid-tree-header-row': row.treeLevel > -1}":"{'ui-grid-tree-header-row': row.treeLevel > -1}",n.attr("ng-class",i),{pre:function(t,e,n,r){},post:function(t,e,n,r){}}}}}])}(),function(){"use strict";var t=angular.module("ui.grid.treeView",["ui.grid","ui.grid.treeBase"]);t.constant("uiGridTreeViewConstants",{featureName:"treeView",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),t.service("uiGridTreeViewService",["$q","uiGridTreeViewConstants","uiGridTreeBaseConstants","uiGridTreeBaseService","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants",function(t,e,n,r,i,o,a,s,l){var u={initializeGrid:function(t,e){r.initializeGrid(t,e),t.treeView={},t.registerRowsProcessor(u.adjustSorting,60);var n={events:{treeView:{}},methods:{treeView:{}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(t){t.enableTreeView=!1!==t.enableTreeView},adjustSorting:function(t){return this.columns.forEach(function(t){t.sort&&(t.sort.ignoreSort=!0)}),t}};return u}]),t.directive("uiGridTreeView",["uiGridTreeViewConstants","uiGridTreeViewService","$templateCache",function(t,e,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(t,n,r,i){!1!==i.grid.options.enableTreeView&&e.initializeGrid(i.grid,t)},post:function(t,e,n,r){}}}}}])}(),function(){"use strict";var t=angular.module("ui.grid.validate",["ui.grid"]);t.service("uiGridValidateService",["$sce","$q","$http","i18nService","uiGridConstants",function(t,e,n,r,i){var o={validatorFactories:{},setExternalFactoryFunction:function(t){o.externalFactoryFunction=t},clearExternalFactory:function(){delete o.externalFactoryFunction},getValidatorFromExternalFactory:function(t,e){return o.externalFactoryFunction(t,e).validatorFactory(e)},getMessageFromExternalFactory:function(t,e){return o.externalFactoryFunction(t,e).messageFunction(e)},setValidator:function(t,e,n){o.validatorFactories[t]={validatorFactory:e,messageFunction:n}},getValidator:function(t,e){if(o.externalFactoryFunction){var n=o.getValidatorFromExternalFactory(t,e);if(n)return n}if(!o.validatorFactories[t])throw"Invalid validator name: "+t;return o.validatorFactories[t].validatorFactory(e)},getMessage:function(t,e){if(o.externalFactoryFunction){var n=o.getMessageFromExternalFactory(t,e);if(n)return n}return o.validatorFactories[t].messageFunction(e)},isInvalid:function(t,e){return t["$$invalid"+e.name]},setInvalid:function(t,e){t["$$invalid"+e.name]=!0},setValid:function(t,e){delete t["$$invalid"+e.name]},setError:function(t,e,n){t["$$errors"+e.name]||(t["$$errors"+e.name]={}),t["$$errors"+e.name][n]=!0},clearError:function(t,e,n){t["$$errors"+e.name]&&n in t["$$errors"+e.name]&&delete t["$$errors"+e.name][n]},getErrorMessages:function(t,e){var n=[];return t["$$errors"+e.name]&&0!==Object.keys(t["$$errors"+e.name]).length?(Object.keys(t["$$errors"+e.name]).sort().forEach(function(t){n.push(o.getMessage(t,e.validators[t]))}),n):n},getFormattedErrors:function(e,n){var i="",a=o.getErrorMessages(e,n);if(a.length)return a.forEach(function(t){i+=t+"<br/>"}),t.trustAsHtml("<p><b>"+r.getSafeText("validate.error")+"</b></p>"+i)},getTitleFormattedErrors:function(e,n){var i="",a=o.getErrorMessages(e,n);if(a.length)return a.forEach(function(t){i+=t+"\n"}),t.trustAsHtml(r.getSafeText("validate.error")+"\n"+i)},runValidators:function(t,n,r,i,a){if(r!==i){if(void 0===n.name||!n.name)throw new Error("colDef.name is required to perform validation");o.setValid(t,n);var s=[];for(var l in n.validators){o.clearError(t,n,l);var u=o.getValidator(l,n.validators[l]),c=e.when(u(i,r,t,n)).then(function(t,e,n){return function(s){s||(o.setInvalid(t,e),o.setError(t,e,n),a&&a.api.validate.raise.validationFailed(t,e,r,i))}}(t,n,l));s.push(c)}return e.all(s)}},createDefaultValidators:function(){o.setValidator("minLength",function(t){return function(e,n,r,i){return void 0===n||null===n||""===n||n.length>=t}},function(t){return r.getSafeText("validate.minLength").replace("THRESHOLD",t)}),o.setValidator("maxLength",function(t){return function(e,n,r,i){return void 0===n||null===n||""===n||n.length<=t}},function(t){return r.getSafeText("validate.maxLength").replace("THRESHOLD",t)}),o.setValidator("required",function(t){return function(e,n,r,i){return!t||!(void 0===n||null===n||""===n)}},function(t){return r.getSafeText("validate.required")})},initializeGrid:function(t,e){e.validate={isInvalid:o.isInvalid,getFormattedErrors:o.getFormattedErrors,getTitleFormattedErrors:o.getTitleFormattedErrors,runValidators:o.runValidators};var n={events:{validate:{validationFailed:function(t,e,n,r){}}},methods:{validate:{isInvalid:function(t,n){return e.validate.isInvalid(t,n)},getErrorMessages:function(t,n){return e.validate.getErrorMessages(t,n)},getFormattedErrors:function(t,n){return e.validate.getFormattedErrors(t,n)},getTitleFormattedErrors:function(t,n){return e.validate.getTitleFormattedErrors(t,n)}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods),e.edit&&e.api.edit.on.afterCellEdit(t,function(t,n,r,i){e.validate.runValidators(t,n,r,i,e)}),o.createDefaultValidators()}};return o}]),t.directive("uiGridValidate",["gridUtil","uiGridValidateService",function(t,e){return{priority:0,replace:!0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(t,n,r,i){e.initializeGrid(t,i.grid)},post:function(t,e,n,r){}}}}}])}(),angular.module("ui.grid").run(["$templateCache",function(t){"use strict";t.put("ui-grid/ui-grid-filter",'<div class="ui-grid-filter-container" ng-repeat="colFilter in col.filters" ng-class="{\'ui-grid-filter-cancel-button-hidden\' : colFilter.disableCancelFilterButton === true }"><div ng-if="colFilter.type !== \'select\'"><input type="text" class="ui-grid-filter-input ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}" aria-label="{{colFilter.ariaLabel || aria.defaultFilterLabel}}"><div role="button" class="ui-grid-filter-button" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === \'\'" ng-show="colFilter.term !== undefined && colFilter.term !== null && colFilter.term !== \'\'"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div><div ng-if="colFilter.type === \'select\'"><select class="ui-grid-filter-select ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || aria.defaultFilterLabel}}" aria-label="{{colFilter.ariaLabel || \'\'}}" ng-options="option.value as option.label for option in colFilter.selectOptions"><option value=""></option></select><div role="button" class="ui-grid-filter-button-select" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === \'\'" ng-show="colFilter.term !== undefined && colFilter.term != null"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div></div>'),t.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel ui-grid-footer-aggregates-row">\x3c!-- tfooter --\x3e<div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div class="ui-grid-footer-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-footer-cell-row"><div ui-grid-footer-cell role="gridcell" ng-repeat="col in colContainer.renderedColumns track by col.uid" col="col" render-index="$index" class="ui-grid-footer-cell ui-grid-clearfix"></div></div></div></div></div></div>'),t.put("ui-grid/ui-grid-grid-footer",'<div class="ui-grid-footer-info ui-grid-grid-footer"><span>{{\'search.totalItems\' | t}} {{grid.rows.length}}</span> <span ng-if="grid.renderContainers.body.visibleRowCache.length !== grid.rows.length" class="ngLabel">({{"search.showingItems" | t}} {{grid.renderContainers.body.visibleRowCache.length}})</span></div>'),t.put("ui-grid/ui-grid-group-panel",'<div class="ui-grid-group-panel"><div ui-t="groupPanel.description" class="description" ng-show="groupings.length == 0"></div><ul ng-show="groupings.length > 0" class="ngGroupList"><li class="ngGroupItem" ng-repeat="group in configGroups"><span class="ngGroupElement"><span class="ngGroupName">{{group.displayName}} <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span></span> <span ng-hide="$last" class="ngGroupArrow"></span></span></li></ul></div>'),t.put("ui-grid/ui-grid-header",'<div role="rowgroup" class="ui-grid-header">\x3c!-- theader --\x3e<div class="ui-grid-top-panel"><div class="ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-header-cell-row"><div class="ui-grid-header-cell ui-grid-clearfix" ng-repeat="col in colContainer.renderedColumns track by col.uid" ui-grid-header-cell col="col" render-index="$index"></div></div></div></div></div></div></div>'),t.put("ui-grid/ui-grid-menu-button",'<div class="ui-grid-menu-button"><div role="button" ui-grid-one-bind-id-grid="\'grid-menu\'" class="ui-grid-icon-container" ng-click="toggleMenu()" aria-haspopup="true"><i class="ui-grid-icon-menu" ui-grid-one-bind-aria-label="i18n.aria.buttonLabel">&nbsp;</i></div><div ui-grid-menu menu-items="menuItems"></div></div>'),t.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"></div>'),t.put("ui-grid/ui-grid-row","<div ng-repeat=\"(colRenderIndex, col) in colContainer.renderedColumns track by col.uid\" ui-grid-one-bind-id-grid=\"rowRenderIndex + '-' + col.uid + '-cell'\" class=\"ui-grid-cell\" ng-class=\"{ 'ui-grid-row-header-cell': col.isRowHeader }\" role=\"{{col.isRowHeader ? 'rowheader' : 'gridcell'}}\" ui-grid-cell></div>"),t.put("ui-grid/ui-grid",'<div ui-i18n="en" class="ui-grid">\x3c!-- TODO (c0bra): add "scoped" attr here, eventually? --\x3e<style ui-grid-style>.grid{{ grid.id }} {\n      /* Styles for the grid */\n    }\n\n    .grid{{ grid.id }} .ui-grid-row, .grid{{ grid.id }} .ui-grid-cell, .grid{{ grid.id }} .ui-grid-cell .ui-grid-vertical-bar {\n      height: {{ grid.options.rowHeight }}px;\n    }\n\n    .grid{{ grid.id }} .ui-grid-row:last-child .ui-grid-cell {\n      border-bottom-width: {{ ((grid.getTotalRowHeight() < grid.getViewportHeight()) && \'1\') || \'0\' }}px;\n    }\n\n    {{ grid.verticalScrollbarStyles }}\n    {{ grid.horizontalScrollbarStyles }}\n\n    /*\n    .ui-grid[dir=rtl] .ui-grid-viewport {\n      padding-left: {{ grid.verticalScrollbarWidth }}px;\n    }\n    */\n\n    {{ grid.customStyles }}</style><div class="ui-grid-contents-wrapper"><div ui-grid-menu-button ng-if="grid.options.enableGridMenu"></div><div ng-if="grid.hasLeftContainer()" style="width: 0" ui-grid-pinned-container="\'left\'"></div><div ui-grid-render-container container-id="\'body\'" col-container-name="\'body\'" row-container-name="\'body\'" bind-scroll-horizontal="true" bind-scroll-vertical="true" enable-horizontal-scrollbar="grid.options.enableHorizontalScrollbar" enable-vertical-scrollbar="grid.options.enableVerticalScrollbar"></div><div ng-if="grid.hasRightContainer()" style="width: 0" ui-grid-pinned-container="\'right\'"></div><div ui-grid-grid-footer ng-if="grid.options.showGridFooter"></div><div ui-grid-column-menu ng-if="grid.options.enableColumnMenus"></div><div ng-transclude></div></div></div>'),t.put("ui-grid/uiGridCell",'<div class="ui-grid-cell-contents" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>'),t.put("ui-grid/uiGridColumnMenu",'<div class="ui-grid-column-menu"><div ui-grid-menu menu-items="menuItems">\x3c!-- <div class="ui-grid-column-menu">\n    <div class="inner" ng-show="menuShown">\n      <ul>\n        <div ng-show="grid.options.enableSorting">\n          <li ng-click="sortColumn($event, asc)" ng-class="{ \'selected\' : col.sort.direction == asc }"><i class="ui-grid-icon-sort-alt-up"></i> Sort Ascending</li>\n          <li ng-click="sortColumn($event, desc)" ng-class="{ \'selected\' : col.sort.direction == desc }"><i class="ui-grid-icon-sort-alt-down"></i> Sort Descending</li>\n          <li ng-show="col.sort.direction" ng-click="unsortColumn()"><i class="ui-grid-icon-cancel"></i> Remove Sort</li>\n        </div>\n      </ul>\n    </div>\n  </div> --\x3e</div></div>'),t.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationText() + ( col.getAggregationValue() CUSTOM_FILTERS ) }}</div></div>'),t.put("ui-grid/uiGridHeaderCell",'<div role="columnheader" ng-class="{ \'sortable\': sortable }" ui-grid-one-bind-aria-labelledby-grid="col.uid + \'-header-text \' + col.uid + \'-sortdir-text\'" aria-sort="{{col.sort.direction == asc ? \'ascending\' : ( col.sort.direction == desc ? \'descending\' : (!col.sort.direction ? \'none\' : \'other\'))}}"><div role="button" tabindex="0" class="ui-grid-cell-contents ui-grid-header-cell-primary-focus" col-index="renderIndex" title="TOOLTIP"><span class="ui-grid-header-cell-label" ui-grid-one-bind-id-grid="col.uid + \'-header-text\'">{{ col.displayName CUSTOM_FILTERS }}</span> <span ui-grid-one-bind-id-grid="col.uid + \'-sortdir-text\'" ui-grid-visible="col.sort.direction" aria-label="{{getSortDirectionAriaLabel()}}"><i ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }" title="{{isSortPriorityVisible() ? i18n.headerCell.priority + \' \' + ( col.sort.priority + 1 )  : null}}" aria-hidden="true"></i> <sub ui-grid-visible="isSortPriorityVisible()" class="ui-grid-sort-priority-number">{{col.sort.priority + 1}}</sub></span></div><div role="button" tabindex="0" ui-grid-one-bind-id-grid="col.uid + \'-menu-button\'" class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}" ui-grid-one-bind-aria-label="i18n.headerCell.aria.columnMenuButtonLabel" aria-haspopup="true"><i class="ui-grid-icon-angle-down" aria-hidden="true">&nbsp;</i></div><div ui-grid-filter></div></div>'),t.put("ui-grid/uiGridMenu",'<div class="ui-grid-menu" ng-if="shown"><style ui-grid-style>{{dynamicStyles}}</style><div class="ui-grid-menu-mid" ng-show="shownMid"><div class="ui-grid-menu-inner"><ul role="menu" class="ui-grid-menu-items"><li ng-repeat="item in menuItems" role="menuitem" ui-grid-menu-item ui-grid-one-bind-id="\'menuitem-\'+$index" action="item.action" name="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl" leave-open="item.leaveOpen" screen-reader-only="item.screenReaderOnly"></li></ul></div></div></div>'),t.put("ui-grid/uiGridMenuItem",'<button type="button" class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ \'ui-grid-menu-item-active\': active(), \'ui-grid-sr-only\': (!focus && screenReaderOnly) }" aria-pressed="{{active()}}" tabindex="0" ng-focus="focus=true" ng-blur="focus=false"><i ng-class="icon" aria-hidden="true">&nbsp;</i> {{ name }}</button>'),t.put("ui-grid/uiGridRenderContainer","<div role=\"grid\" ui-grid-one-bind-id-grid=\"'grid-container'\" class=\"ui-grid-render-container\" ng-style=\"{ 'margin-left': colContainer.getMargin('left') + 'px', 'margin-right': colContainer.getMargin('right') + 'px' }\">\x3c!-- All of these dom elements are replaced in place --\x3e<div ui-grid-header></div><div ui-grid-viewport></div><div ng-if=\"colContainer.needsHScrollbarPlaceholder()\" class=\"ui-grid-scrollbar-placeholder\" ng-style=\"{height:colContainer.grid.scrollbarHeight + 'px'}\"></div><ui-grid-footer ng-if=\"grid.options.showColumnFooter\"></ui-grid-footer></div>"),t.put("ui-grid/uiGridViewport",'<div role="rowgroup" class="ui-grid-viewport" ng-style="colContainer.getViewportStyle()">\x3c!-- tbody --\x3e<div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by $index" class="ui-grid-row" ng-style="Viewport.rowStyle(rowRenderIndex)"><div role="row" ui-grid-row="row" row-render-index="rowRenderIndex"></div></div></div></div>'),t.put("ui-grid/cellEditor",'<div><form name="inputForm"><input type="INPUT_TYPE" ng-class="\'colt\' + col.uid" ui-grid-editor ng-model="MODEL_COL_FIELD"></form></div>'),t.put("ui-grid/dropdownEditor",'<div><form name="inputForm"><select ng-class="\'colt\' + col.uid" ui-grid-edit-dropdown ng-model="MODEL_COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"></select></form></div>'),t.put("ui-grid/fileChooserEditor",'<div><form name="inputForm"><input ng-class="\'colt\' + col.uid" ui-grid-edit-file-chooser type="file" id="files" name="files[]" ng-model="MODEL_COL_FIELD"></form></div>'),t.put("ui-grid/expandableRow",'<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left; margin-top: 1px; margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth()) + \'px\', height: row.expandedRowHeight + \'px\'}"></div>'),t.put("ui-grid/expandableRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-if="!row.groupHeader==true" ng-class="{ \'ui-grid-icon-plus-squared\' : !row.isExpanded, \'ui-grid-icon-minus-squared\' : row.isExpanded }" ng-click="grid.api.expandable.toggleRowExpansion(row.entity)"></i></div></div>'),t.put("ui-grid/expandableScrollFiller","<div ng-if=\"expandableRow.shouldRenderFiller()\" ng-class=\"{scrollFiller:true, scrollFillerClass:(colContainer.name === 'body')}\" ng-style=\"{ width: (grid.getViewportWidth()) + 'px', height: row.expandedRowHeight + 2 + 'px', 'margin-left': grid.options.rowHeader.rowHeaderWidth + 'px' }\"><i class=\"ui-grid-icon-spin5 ui-grid-animate-spin\" ng-style=\"{'margin-top': ( row.expandedRowHeight/2 - 5) + 'px', 'margin-left' : ((grid.getViewportWidth() - grid.options.rowHeader.rowHeaderWidth)/2 - 5) + 'px'}\"></i></div>"),t.put("ui-grid/expandableTopRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !grid.expandable.expandedAll, \'ui-grid-icon-minus-squared\' : grid.expandable.expandedAll }" ng-click="grid.api.expandable.toggleAllRows()"></i></div></div>'),t.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT" download="FILE_NAME">LINK_LABEL</a></span>'),t.put("ui-grid/importerMenuItem",'<li class="ui-grid-menu-item"><form><input class="ui-grid-importer-file-chooser" type="file" id="files" name="files[]"></form></li>'),t.put("ui-grid/importerMenuItemContainer","<div ui-grid-importer-menu-item></div>"),t.put("ui-grid/pagination",'<div role="contentinfo" class="ui-grid-pager-panel" ui-grid-pager ng-show="grid.options.enablePaginationControls"><div role="navigation" class="ui-grid-pager-container"><div role="menubar" class="ui-grid-pager-control"><button type="button" role="menuitem" class="ui-grid-pager-first" ui-grid-one-bind-title="aria.pageToFirst" ui-grid-one-bind-aria-label="aria.pageToFirst" ng-click="pageFirstPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? \'last-triangle\' : \'first-triangle\'"><div ng-class="grid.isRTL() ? \'last-bar-rtl\' : \'first-bar\'"></div></div></button> <button type="button" role="menuitem" class="ui-grid-pager-previous" ui-grid-one-bind-title="aria.pageBack" ui-grid-one-bind-aria-label="aria.pageBack" ng-click="pagePreviousPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? \'last-triangle prev-triangle\' : \'first-triangle prev-triangle\'"></div></button> <input type="number" ui-grid-one-bind-title="aria.pageSelected" ui-grid-one-bind-aria-label="aria.pageSelected" class="ui-grid-pager-control-input" ng-model="grid.options.paginationCurrentPage" min="1" max="{{ paginationApi.getTotalPages() }}" required> <span class="ui-grid-pager-max-pages-number" ng-show="paginationApi.getTotalPages() > 0"><abbr ui-grid-one-bind-title="paginationOf">/</abbr> {{ paginationApi.getTotalPages() }}</span> <button type="button" role="menuitem" class="ui-grid-pager-next" ui-grid-one-bind-title="aria.pageForward" ui-grid-one-bind-aria-label="aria.pageForward" ng-click="pageNextPageClick()" ng-disabled="cantPageForward()"><div ng-class="grid.isRTL() ? \'first-triangle next-triangle\' : \'last-triangle next-triangle\'"></div></button> <button type="button" role="menuitem" class="ui-grid-pager-last" ui-grid-one-bind-title="aria.pageToLast" ui-grid-one-bind-aria-label="aria.pageToLast" ng-click="pageLastPageClick()" ng-disabled="cantPageToLast()"><div ng-class="grid.isRTL() ? \'first-triangle\' : \'last-triangle\'"><div ng-class="grid.isRTL() ? \'first-bar-rtl\' : \'last-bar\'"></div></div></button></div><div class="ui-grid-pager-row-count-picker" ng-if="grid.options.paginationPageSizes.length > 1"><select ui-grid-one-bind-aria-labelledby-grid="\'items-per-page-label\'" ng-model="grid.options.paginationPageSize" ng-options="o as o for o in grid.options.paginationPageSizes"></select><span ui-grid-one-bind-id-grid="\'items-per-page-label\'" class="ui-grid-pager-row-count-label">&nbsp;{{sizesLabel}}</span></div><span ng-if="grid.options.paginationPageSizes.length <= 1" class="ui-grid-pager-row-count-label">{{grid.options.paginationPageSize}}&nbsp;{{sizesLabel}}</span></div><div class="ui-grid-pager-count-container"><div class="ui-grid-pager-count"><span ng-show="grid.options.totalItems > 0">{{showingLow}} <abbr ui-grid-one-bind-title="paginationThrough">-</abbr> {{showingHigh}} {{paginationOf}} {{grid.options.totalItems}} {{totalItemsLabel}}</span></div></div></div>'),t.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex" unselectable="on"></div>'),t.put("ui-grid/gridFooterSelectedItems",'<span ng-if="grid.selection.selectedCount !== 0 && grid.options.enableFooterTotalSelected">({{"search.selectedItems" | t}} {{grid.selection.selectedCount}})</span>'),t.put("ui-grid/selectionHeaderCell",'<div>\x3c!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --\x3e<div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-selection-select-all-buttons ng-if="grid.options.enableSelectAll"></ui-grid-selection-select-all-buttons></div></div>'),t.put("ui-grid/selectionRowHeader",'<div class="ui-grid-disable-selection"><div class="ui-grid-cell-contents"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div></div>'),t.put("ui-grid/selectionRowHeaderButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-row-selected\': row.isSelected}" ng-click="selectButtonClick(row, $event)">&nbsp;</div>'),t.put("ui-grid/selectionSelectAllButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-all-selected\': grid.selection.selectAll}" ng-click="headerButtonClick($event)"></div>'),t.put("ui-grid/treeBaseExpandAllButtons",'<div class="ui-grid-tree-base-row-header-buttons" ng-class="{\'ui-grid-icon-minus-squared\': grid.treeBase.numberLevels > 0 && grid.treeBase.expandAll, \'ui-grid-icon-plus-squared\': grid.treeBase.numberLevels > 0 && !grid.treeBase.expandAll}" ng-click="headerButtonClick($event)"></div>'),t.put("ui-grid/treeBaseHeaderCell",'<div><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-tree-base-expand-all-buttons ng-if="grid.options.enableExpandAll"></ui-grid-tree-base-expand-all-buttons></div></div>'),t.put("ui-grid/treeBaseRowHeader",'<div class="ui-grid-cell-contents"><ui-grid-tree-base-row-header-buttons></ui-grid-tree-base-row-header-buttons></div>'),t.put("ui-grid/treeBaseRowHeaderButtons","<div class=\"ui-grid-tree-base-row-header-buttons\" ng-class=\"{'ui-grid-tree-base-header': row.treeLevel > -1 }\" ng-click=\"treeButtonClick(row, $event)\"><i ng-class=\"{'ui-grid-icon-minus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'expanded', 'ui-grid-icon-plus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'collapsed'}\" ng-style=\"{'padding-left': grid.options.treeIndent * row.treeLevel + 'px'}\"></i> &nbsp;</div>"),t.put("ui-grid/cellTitleValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" title="{{grid.validate.getTitleFormattedErrors(row.entity,col.colDef)}}">{{COL_FIELD CUSTOM_FILTERS}}</div>'),t.put("ui-grid/cellTooltipValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" tooltip-html-unsafe="{{grid.validate.getFormattedErrors(row.entity,col.colDef)}}" tooltip-enable="grid.validate.isInvalid(row.entity,col.colDef)" tooltip-append-to-body="true" tooltip-placement="top" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>')}]),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=t()}}(function(){return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n||t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){function r(t,e){for(;t&&t.nodeType!==i;){if(t.matches(e))return t;t=t.parentNode}}var i=9;if(Element&&!Element.prototype.matches){var o=Element.prototype;o.matches=o.matchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.webkitMatchesSelector}e.exports=r},{}],2:[function(t,e,n){function r(t,e,n,r,o){var a=i.apply(this,arguments);return t.addEventListener(n,a,o),{destroy:function(){t.removeEventListener(n,a,o)}}}function i(t,e,n,r){return function(n){n.delegateTarget=o(n.target,e),n.delegateTarget&&r.call(t,n)}}var o=t("./closest");e.exports=r},{"./closest":1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},{}],4:[function(t,e,n){function r(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!s.string(e))throw new TypeError("Second argument must be a String");if(!s.fn(n))throw new TypeError("Third argument must be a Function");if(s.node(t))return i(t,e,n);if(s.nodeList(t))return o(t,e,n);if(s.string(t))return a(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function o(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function a(t,e,n){return l(document.body,t,e,n)}var s=t("./is"),l=t("delegate");e.exports=r},{"./is":3,delegate:2}],5:[function(t,e,n){function r(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),r=document.createRange();r.selectNodeContents(t),n.removeAllRanges(),n.addRange(r),e=n.toString()}return e}e.exports=r},{}],6:[function(t,e,n){function r(){}r.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function r(){i.off(t,r),e.apply(n,arguments)}var i=this;return r._=e,this.on(t,r,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var o=0,a=r.length;o<a;o++)r[o].fn!==e&&r[o].fn._!==e&&i.push(r[o]);return i.length?n[t]=i:delete n[t],this}},e.exports=r},{}],7:[function(t,e,n){!function(r,i){if(void 0!==n)i(e,t("select"));else{var o={exports:{}};i(o,r.select),r.clipboardAction=o.exports}}(this,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(t){return t&&t.__esModule?t:{default:t}}(e),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(e){n(this,t),this.resolveOptions(e),this.initSelection()}return o(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.addEventListener("focus",window.scrollTo(0,n)),this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,r.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,r.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":i(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=a})},{select:5}],8:[function(t,e,n){!function(r,i){if(void 0!==n)i(e,t("./clipboard-action"),t("tiny-emitter"),t("good-listener"));else{var o={exports:{}};i(o,r.clipboardAction,r.tinyEmitter,r.goodListener),r.clipboard=o.exports}}(this,function(t,e,n,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var u=i(e),c=i(n),d=i(r),h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=function(t){function e(t,n){o(this,e);var r=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.resolveOptions(n),r.listenClick(t),r}return s(e,t),h(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,d.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new u.default({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return l("action",t)}},{key:"defaultTarget",value:function(t){var e=l("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return l("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}]),e}(c.default);t.exports=f})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)}),function(){"use strict";var t,e;"object"==typeof module&&module.exports?(t=require("angular"),e=require("clipboard"),module.exports="ngclipboard"):(t=window.angular,e=window.Clipboard),t.module("ngclipboard",[]).directive("ngclipboard",function(){return{restrict:"A",scope:{ngclipboardSuccess:"&",ngclipboardError:"&"},link:function(t,n){var r=new e(n[0]);r.on("success",function(e){t.$apply(function(){t.ngclipboardSuccess({e:e})})}),r.on("error",function(e){t.$apply(function(){t.ngclipboardError({e:e})})})}}})}(),function(t,e,n){"use strict";function r(t,e,n){i.directive(t,["$parse","$swipe",function(r,i){var o=75,a=.3,s=30;return function(l,u,c){function d(t){if(!h)return!1;var n=Math.abs(t.y-h.y);return t=(t.x-h.x)*e,f&&n<o&&0<t&&t>s&&n/t<a}var h,f,p=r(c[t]);i.bind(u,{start:function(t,e){h=t,f=!0},cancel:function(t){f=!1},end:function(t,e){d(t)&&l.$apply(function(){u.triggerHandler(n),p(l,{$event:e})})}})}}])}var i=e.module("ngTouch",[]);i.factory("$swipe",[function(){function t(t){var e=t.touches&&t.touches.length?t.touches:[t];return t=t.changedTouches&&t.changedTouches[0]||t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]||e[0].originalEvent||e[0],{x:t.clientX,y:t.clientY}}return{bind:function(e,n){var r,i,o,a,s=!1;e.on("touchstart mousedown",function(e){o=t(e),s=!0,i=r=0,a=o,n.start&&n.start(o,e)}),e.on("touchcancel",function(t){s=!1,n.cancel&&n.cancel(t)}),e.on("touchmove mousemove",function(e){if(s&&o){var l=t(e);r+=Math.abs(l.x-a.x),i+=Math.abs(l.y-a.y),a=l,10>r&&10>i||(i>r?(s=!1,n.cancel&&n.cancel(e)):(e.preventDefault(),n.move&&n.move(l,e)))}}),e.on("touchend mouseup",function(e){s&&(s=!1,n.end&&n.end(t(e),e))})}}}]),i.config(["$provide",function(t){t.decorator("ngClickDirective",["$delegate",function(t){return t.shift(),t}])}]),i.directive("ngClick",["$parse","$timeout","$rootElement",function(t,n,r){function i(t,e,n){for(var r=0;r<t.length;r+=2)if(Math.abs(t[r]-e)<c&&Math.abs(t[r+1]-n)<c)return t.splice(r,r+2),!0;return!1}function o(t){if(!(Date.now()-s>u)){var e=(n=t.touches&&t.touches.length?t.touches:[t])[0].clientX,n=n[0].clientY;1>e&&1>n||i(l,e,n)||(t.stopPropagation(),t.preventDefault(),t.target&&t.target.blur())}}function a(t){var e=(t=t.touches&&t.touches.length?t.touches:[t])[0].clientX,r=t[0].clientY;l.push(e,r),n(function(){for(var t=0;t<l.length;t+=2)if(l[t]==e&&l[t+1]==r){l.splice(t,t+2);break}},u,!1)}var s,l,u=2500,c=25,d="ng-click-active";return function(n,u,c){function h(){y=!1,u.removeClass(d)}var f,p,g,m,v=t(c.ngClick),y=!1;u.on("touchstart",function(t){y=!0,3==(f=t.target?t.target:t.srcElement).nodeType&&(f=f.parentNode),u.addClass(d),p=Date.now(),t=(t=t.touches&&t.touches.length?t.touches:[t])[0].originalEvent||t[0],g=t.clientX,m=t.clientY}),u.on("touchmove",function(t){h()}),u.on("touchcancel",function(t){h()}),u.on("touchend",function(t){var n=Date.now()-p,d=(v=(d=t.changedTouches&&t.changedTouches.length?t.changedTouches:t.touches&&t.touches.length?t.touches:[t])[0].originalEvent||d[0]).clientX,v=v.clientY,b=Math.sqrt(Math.pow(d-g,2)+Math.pow(v-m,2));y&&750>n&&12>b&&(l||(r[0].addEventListener("click",o,!0),r[0].addEventListener("touchstart",a,!0),l=[]),s=Date.now(),i(l,d,v),f&&f.blur(),e.isDefined(c.disabled)&&!1!==c.disabled||u.triggerHandler("click",[t])),h()}),u.onclick=function(t){},u.on("click",function(t,e){n.$apply(function(){v(n,{$event:e||t})})}),u.on("mousedown",function(t){u.addClass(d)}),u.on("mousemove mouseup",function(t){u.removeClass(d)})}}]),r("ngSwipeLeft",-1,"swipeleft"),r("ngSwipeRight",1,"swiperight")}(window,window.angular),angular.module("angular-carousel",["ngTouch","angular-carousel.shifty"]),angular.module("angular-carousel").directive("rnCarouselAutoSlide",["$interval",function(t){return{restrict:"A",link:function(e,n,r){var i=function(){e.autoSlider&&(t.cancel(e.autoSlider),e.autoSlider=null)},o=function(){e.autoSlide()};e.$watch("carouselIndex",o),r.hasOwnProperty("rnCarouselPauseOnHover")&&"false"!==r.rnCarouselPauseOnHover&&(n.on("mouseenter",i),n.on("mouseleave",o)),e.$on("$destroy",function(){i(),n.off("mouseenter",i),n.off("mouseleave",o)})}}}]),angular.module("angular-carousel").directive("rnCarouselIndicators",["$parse",function(t){return{restrict:"A",scope:{slides:"=",index:"=rnCarouselIndex"},templateUrl:"carousel-indicators.html",link:function(e,n,r){var i=t(r.rnCarouselIndex);e.goToSlide=function(t){i.assign(e.$parent.$parent,t)}}}}]),angular.module("angular-carousel").run(["$templateCache",function(t){t.put("carousel-indicators.html",'<div class="rn-carousel-indicator">\n<span ng-repeat="slide in slides" ng-class="{active: $index==index}" ng-click="goToSlide($index)"></span></div>')}]),function(){"use strict";angular.module("angular-carousel").service("DeviceCapabilities",function(){return{has3d:function(){var t,e=document.createElement("p"),n={webkitTransform:"-webkit-transform",msTransform:"-ms-transform",transform:"transform"};document.body.insertBefore(e,null);for(var r in n)void 0!==e.style[r]&&(e.style[r]="translate3d(1px,1px,1px)",t=window.getComputedStyle(e).getPropertyValue(n[r]));return document.body.removeChild(e),void 0!==t&&t.length>0&&"none"!==t}(),transformProperty:function(){var t="transform";return void 0!==document.body.style[t]?["webkit","moz","o","ms"].every(function(e){var n="-"+e+"-transform";return void 0===document.body.style[n]||(t=n,!1)}):t=void 0!==document.body.style.webkitTransform?"-webkit-transform":void 0,t}()}}).service("computeCarouselSlideStyle",["DeviceCapabilities",function(t){return function(e,n,r){var i,o={display:"inline-block"},a=100*e+n,s=t.has3d?"translate3d("+a+"%, 0, 0)":"translate3d("+a+"%, 0)",l=(100-Math.abs(a))/100;if(t.transformProperty)if("fadeAndSlide"==r)o[t.transformProperty]=s,i=0,Math.abs(a)<100&&(i=.3+.7*l),o.opacity=i;else if("hexagon"==r){var u=100,c=0,d=60*(l-1);u=-100*e>n?100:0,c=-100*e>n?d:-d,o[t.transformProperty]=s+" rotateY("+c+"deg)",o[t.transformProperty+"-origin"]=u+"% 50%"}else if("zoom"==r){o[t.transformProperty]=s;var h=1;Math.abs(a)<100&&(h=1+2*(1-l)),o[t.transformProperty]+=" scale("+h+")",o[t.transformProperty+"-origin"]="50% 50%",i=0,Math.abs(a)<100&&(i=.3+.7*l),o.opacity=i}else o[t.transformProperty]=s;else o["margin-left"]=a+"%";return o}}]).service("createStyleString",function(){return function(t){var e=[];return angular.forEach(t,function(t,n){e.push(n+":"+t)}),e.join(";")}}).directive("rnCarousel",["$swipe","$window","$document","$parse","$compile","$timeout","$interval","computeCarouselSlideStyle","createStyleString","Tweenable",function(t,e,n,r,i,o,a,s,l,u){function c(t,e,n){var r=n;return t.every(function(t,n){return!angular.equals(t,e)||(r=n,!1)}),r}var d=0;return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,{restrict:"A",scope:!0,compile:function(h,f){var p,g,m=h[0].querySelector("li"),v=m?m.attributes:[],y=!1,b=!1;return["ng-repeat","data-ng-repeat","ng:repeat","x-ng-repeat"].every(function(t){var e=v[t];if(angular.isDefined(e)){var n=e.value.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),r=n[3];if(p=n[1],g=n[2],p)return angular.isDefined(f.rnCarouselBuffered)&&(b=!0,e.value=p+" in "+g+"|carouselSlice:carouselBufferIndex:carouselBufferSize",r&&(e.value+=" track by "+r)),y=!0,!1}return!0}),function(h,p,m,v){function x(){for(var t=p[0].childNodes,e=[],n=0;n<t.length;n++)"LI"===t[n].tagName&&e.push(t[n]);return e}function _(t){Y=!0,E({x:t.clientX,y:t.clientY},t)}function w(t){var e=100*h.carouselBufferIndex+t;angular.forEach(x(),function(t,n){t.style.cssText=l(s(n,e,N.transitionType))})}function C(t,e){if(void 0===t&&(t=h.carouselIndex),!1===(e=e||{}).animate||"none"===N.transitionType)return W=!1,I=-100*t,h.carouselIndex=t,void L();W=!0,(new u).tween({from:{x:I},to:{x:-100*t},duration:N.transitionDuration,easing:N.transitionEasing,step:function(t){isFinite(t.x)&&w(t.x)},finish:function(){h.$apply(function(){h.carouselIndex=t,I=-100*t,L(),o(function(){W=!1},0,!1)})}})}function k(){var t=p[0].getBoundingClientRect();return t.width?t.width:t.right-t.left}function S(){j=k()}function M(){z||(z=!0,n.bind("mouseup",_))}function T(){z&&(z=!1,n.unbind("mouseup",_))}function $(t,e){return W||V.length<=1?void 0:(S(),H=p[0].querySelector("li").getBoundingClientRect().left,F=!0,P=t.x,!1)}function D(t,e){var n,r;return M(),F&&(n=t.x,(r=P-n)>2||-2>r)&&(Y=!0,w(I+100*-r/j)),!1}function E(t,e,n){if((!e||Y)&&(T(),F=!1,Y=!1,0!==(R=P-t.x)&&!W))if(I+=100*-R/j,N.isSequential){var i=N.moveTreshold*j,o=-R,a=-Math[o>=0?"ceil":"floor"](o/j),s=Math.abs(o)>i;V&&a+h.carouselIndex>=V.length&&(a=V.length-1-h.carouselIndex),a+h.carouselIndex<0&&(a=-h.carouselIndex);var l=s?a:0;C(R=h.carouselIndex+l),void 0!==m.rnCarouselOnInfiniteScrollRight&&0===a&&0!==h.carouselIndex&&(r(m.rnCarouselOnInfiniteScrollRight)(h),C(0)),void 0!==m.rnCarouselOnInfiniteScrollLeft&&0===a&&0===h.carouselIndex&&0===l&&(r(m.rnCarouselOnInfiniteScrollLeft)(h),C(V.length))}else h.$apply(function(){h.carouselIndex=parseInt(-I/100,10),L()})}function L(){var t=0,e=(h.carouselBufferSize-1)/2;b?(t=h.carouselIndex<=e?0:V&&V.length<h.carouselBufferSize?0:V&&h.carouselIndex>V.length-h.carouselBufferSize?V.length-h.carouselBufferSize:h.carouselIndex-e,h.carouselBufferIndex=t,o(function(){w(I)},0,!1)):o(function(){w(I)},0,!1)}function A(){S(),C()}d++;var F,P,R,O={transitionType:m.rnCarouselTransition||"slide",transitionEasing:m.rnCarouselEasing||"easeTo",transitionDuration:parseInt(m.rnCarouselDuration,10)||300,isSequential:!0,autoSlideDuration:3,bufferSize:5,moveTreshold:.1,defaultIndex:0},N=angular.extend({},O),I=0,Y=!1,V=[],j=null,H=null,z=!1,W=!1;"true"!==m.rnSwipeDisabled&&t.bind(p,{start:$,move:D,end:E,cancel:function(t){E({},t)}}),h.nextSlide=function(t){var e=h.carouselIndex+1;e>V.length-1&&(e=0),W||C(e,t)},h.prevSlide=function(t){var e=h.carouselIndex-1;0>e&&(e=V.length-1),C(e,t)};var B=!0;if(h.carouselIndex=0,y||(V=[],angular.forEach(x(),function(t,e){V.push({id:e})})),void 0!==m.rnCarouselControls){var U=(y?h.$eval(g.replace("::","")).length:V.length)>1&&angular.isDefined(f.rnCarouselControlsAllowLoop),G='<div class="rn-carousel-controls">\n  <span class="rn-carousel-control rn-carousel-control-prev" ng-click="prevSlide()" ng-if="carouselIndex > 0 || '+U+'"></span>\n  <span class="rn-carousel-control rn-carousel-control-next" ng-click="nextSlide()" ng-if="carouselIndex < '+(y?"("+g.replace("::","")+").length - 1":V.length-1)+" || "+U+'"></span>\n</div>';p.parent().append(i(angular.element(G))(h))}if(void 0!==m.rnCarouselAutoSlide){var q=parseInt(m.rnCarouselAutoSlide,10)||N.autoSlideDuration;h.autoSlide=function(){h.autoSlider&&(a.cancel(h.autoSlider),h.autoSlider=null),h.autoSlider=a(function(){W||F||h.nextSlide()},1e3*q)}}if(m.rnCarouselDefaultIndex){var K=r(m.rnCarouselDefaultIndex);N.defaultIndex=K(h.$parent)||0}if(m.rnCarouselIndex){var J=function(t){X.assign(h.$parent,t)},X=r(m.rnCarouselIndex);angular.isFunction(X.assign)?(h.$watch("carouselIndex",function(t){J(t)}),h.$parent.$watch(X,function(t,e){void 0!==t&&null!==t&&(V&&V.length>0&&t>=V.length?(t=V.length-1,J(t)):V&&0>t&&(t=0,J(t)),W||C(t,{animate:!B}),B=!1)}),!0,N.defaultIndex&&C(N.defaultIndex,{animate:!B})):isNaN(m.rnCarouselIndex)||C(parseInt(m.rnCarouselIndex,10),{animate:!1})}else C(N.defaultIndex,{animate:!B}),B=!1;if(m.rnCarouselLocked&&h.$watch(m.rnCarouselLocked,function(t,e){W=!0===t}),y){var Z=void 0!==m.rnCarouselDeepWatch;h[Z?"$watch":"$watchCollection"](g,function(t,e){if(V=t,!angular.isArray(V))throw Error("the slides collection must be an Array");Z&&angular.isArray(t)?C(c(t,e[h.carouselIndex],h.carouselIndex),{animate:!1}):C(h.carouselIndex,{animate:!1})},!0)}h.$on("$destroy",function(){T()}),h.carouselBufferIndex=0,h.carouselBufferSize=N.bufferSize;var Q=angular.element(e);Q.bind("orientationchange",A),Q.bind("resize",A),h.$on("$destroy",function(){T(),Q.unbind("orientationchange",A),Q.unbind("resize",A)})}}}}])}(),angular.module("angular-carousel.shifty",[]).factory("Tweenable",function(){return function(t){var e=function(){"use strict";function e(){}function n(t,e){var n;for(n in t)Object.hasOwnProperty.call(t,n)&&e(n)}function r(t,e){return n(e,function(n){t[n]=e[n]}),t}function i(t,e){n(e,function(n){void 0===t[n]&&(t[n]=e[n])})}function o(t,e,n,r,i,o,s){var l,u=(t-o)/i;for(l in e)e.hasOwnProperty(l)&&(e[l]=a(n[l],r[l],d[s[l]],u));return e}function a(t,e,n,r){return t+(e-t)*n(r)}function s(t,e){var r=c.prototype.filter,i=t._filterArgs;n(r,function(n){void 0!==r[n][e]&&r[n][e].apply(t,i)})}function l(t,e,n,r,i,a,l,u,c){v=e+n,y=Math.min(m(),v),b=y>=v,x=n-(v-y),t.isPlaying()&&!b?(t._scheduleId=c(t._timeoutHandler,p),s(t,"beforeTween"),o(y,r,i,a,n,e,l),s(t,"afterTween"),u(r,t._attachment,x)):b&&(u(a,t._attachment,x),t.stop(!0))}function u(t,e){var r={};return"string"==typeof e?n(t,function(t){r[t]=e}):n(t,function(t){r[t]||(r[t]=e[t]||f)}),r}function c(t,e){this._currentState=t||{},this._configured=!1,this._scheduleFunction=h,void 0!==e&&this.setConfig(e)}var d,h,f="linear",p=1e3/60,g=Date.now?Date.now:function(){return+new Date},m="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:g;h="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout:setTimeout;var v,y,b,x;return c.prototype.tween=function(t){return this._isTweening?this:(void 0===t&&this._configured||this.setConfig(t),this._timestamp=m(),this._start(this.get(),this._attachment),this.resume())},c.prototype.setConfig=function(t){t=t||{},this._configured=!0,this._attachment=t.attachment,this._pausedAtTime=null,this._scheduleId=null,this._start=t.start||e,this._step=t.step||e,this._finish=t.finish||e,this._duration=t.duration||500,this._currentState=t.from||this.get(),this._originalState=this.get(),this._targetState=t.to||this.get();var n=this._currentState,r=this._targetState;return i(r,n),this._easing=u(n,t.easing||f),this._filterArgs=[n,this._originalState,r,this._easing],s(this,"tweenCreated"),this},c.prototype.get=function(){return r({},this._currentState)},c.prototype.set=function(t){this._currentState=t},c.prototype.pause=function(){return this._pausedAtTime=m(),this._isPaused=!0,this},c.prototype.resume=function(){this._isPaused&&(this._timestamp+=m()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0;var t=this;return this._timeoutHandler=function(){l(t,t._timestamp,t._duration,t._currentState,t._originalState,t._targetState,t._easing,t._step,t._scheduleFunction)},this._timeoutHandler(),this},c.prototype.seek=function(t){return this._timestamp=m()-t,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,l(this,this._timestamp,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction),this._timeoutHandler(),this.pause()),this},c.prototype.stop=function(n){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=e,(t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame||t.mozCancelRequestAnimationFrame||t.clearTimeout)(this._scheduleId),n&&(r(this._currentState,this._targetState),s(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},c.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},c.prototype.setScheduleFunction=function(t){this._scheduleFunction=t},c.prototype.dispose=function(){var t;for(t in this)this.hasOwnProperty(t)&&delete this[t]},c.prototype.filter={},c.prototype.formula={linear:function(t){return t}},d=c.prototype.formula,r(c,{now:m,each:n,tweenProps:o,tweenProp:a,applyFilter:s,shallowCopy:r,defaults:i,composeEasingObject:u}),t.Tweenable=c,c}();!function(){e.shallowCopy(e.prototype.formula,{easeInQuad:function(t){return Math.pow(t,2)},easeOutQuad:function(t){return-(Math.pow(t-1,2)-1)},easeInOutQuad:function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},easeInCubic:function(t){return Math.pow(t,3)},easeOutCubic:function(t){return Math.pow(t-1,3)+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},easeInQuart:function(t){return Math.pow(t,4)},easeOutQuart:function(t){return-(Math.pow(t-1,4)-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeInQuint:function(t){return Math.pow(t,5)},easeOutQuint:function(t){return Math.pow(t-1,5)+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-Math.pow(t-1,2))},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeOutBounce:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},elastic:function(t){return-1*Math.pow(4,-8*t)*Math.sin((6*t-1)*(2*Math.PI)/2)+1},swingFromTo:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},swingFrom:function(t){var e=1.70158;return t*t*((e+1)*t-e)},swingTo:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},bounce:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bouncePast:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?2-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)},easeFromTo:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeFrom:function(t){return Math.pow(t,4)},easeTo:function(t){return Math.pow(t,.25)}})}(),function(){function t(t,e,n,r,i,o){function a(t){return((d*t+h)*t+f)*t}function s(t){return((p*t+g)*t+m)*t}function l(t){return(3*d*t+2*h)*t+f}function u(t){return t>=0?t:0-t}function c(t,e){var n,r,i,o,s,c;for(i=t,c=0;8>c;c++){if(o=a(i)-t,u(o)<e)return i;if(s=l(i),u(s)<1e-6)break;i-=o/s}if(n=0,r=1,i=t,n>i)return n;if(i>r)return r;for(;r>n;){if(o=a(i),u(o-t)<e)return i;t>o?n=i:r=i,i=.5*(r-n)+n}return i}var d=0,h=0,f=0,p=0,g=0,m=0;return f=3*e,h=3*(r-e)-f,d=1-f-h,m=3*n,g=3*(i-n)-m,p=1-m-g,function(t,e){return s(c(t,e))}(t,function(t){return 1/(200*t)}(o))}function n(e,n,r,i){return function(o){return t(o,e,n,r,i,1)}}e.setBezierFunction=function(t,r,i,o,a){var s=n(r,i,o,a);return s.x1=r,s.y1=i,s.x2=o,s.y2=a,e.prototype.formula[t]=s},e.unsetBezierFunction=function(t){delete e.prototype.formula[t]}}(),function(){function t(t,n,r,i,o){return e.tweenProps(i,n,t,r,1,0,o)}var n=new e;n._filterArgs=[],e.interpolate=function(r,i,o,a){var s=e.shallowCopy({},r),l=e.composeEasingObject(r,a||"linear");n.set({});var u=n._filterArgs;u.length=0,u[0]=s,u[1]=r,u[2]=i,u[3]=l,e.applyFilter(n,"tweenCreated"),e.applyFilter(n,"beforeTween");var c=t(r,s,i,o,l);return e.applyFilter(n,"afterTween"),c}}(),function(t){function e(t,e){T.length=0;var n,r=t.length;for(n=0;r>n;n++)T.push("_"+e+"_"+n);return T}function n(t){var e=t.match(_);return e?(1===e.length||t[0].match(x))&&e.unshift(""):e=["",""],e.join(M)}function r(e){t.each(e,function(t){var n=e[t];"string"==typeof n&&n.match(S)&&(e[t]=i(n))})}function i(t){return l(S,t,o)}function o(t){var e=a(t);return"rgb("+e[0]+","+e[1]+","+e[2]+")"}function a(t){return 3===(t=t.replace(/#/,"")).length&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),$[0]=s(t.substr(0,2)),$[1]=s(t.substr(2,2)),$[2]=s(t.substr(4,2)),$}function s(t){return parseInt(t,16)}function l(t,e,n){var r=e.match(t),i=e.replace(t,M);if(r)for(var o,a=r.length,s=0;a>s;s++)o=r.shift(),i=i.replace(M,n(o));return i}function u(t){return l(C,t,c)}function c(t){for(var e=t.match(w),n=e.length,r=t.match(k)[0],i=0;n>i;i++)r+=parseInt(e[i],10)+",";return r=r.slice(0,-1)+")"}function d(r){var i={};return t.each(r,function(t){var o=r[t];if("string"==typeof o){var a=v(o);i[t]={formatString:n(o),chunkNames:e(a,t)}}}),i}function h(e,n){t.each(n,function(t){for(var r=v(e[t]),i=r.length,o=0;i>o;o++)e[n[t].chunkNames[o]]=+r[o];delete e[t]})}function f(e,n){t.each(n,function(t){var r=e[t],i=g(p(e,n[t].chunkNames),n[t].chunkNames);r=m(n[t].formatString,i),e[t]=u(r)})}function p(t,e){for(var n,r={},i=e.length,o=0;i>o;o++)n=e[o],r[n]=t[n],delete t[n];return r}function g(t,e){D.length=0;for(var n=e.length,r=0;n>r;r++)D.push(t[e[r]]);return D}function m(t,e){for(var n=t,r=e.length,i=0;r>i;i++)n=n.replace(M,+e[i].toFixed(4));return n}function v(t){return t.match(w)}function y(e,n){t.each(n,function(t){for(var r=n[t].chunkNames,i=r.length,o=e[t].split(" "),a=o[o.length-1],s=0;i>s;s++)e[r[s]]=o[s]||a;delete e[t]})}function b(e,n){t.each(n,function(t){for(var r=n[t].chunkNames,i=r.length,o="",a=0;i>a;a++)o+=" "+e[r[a]],delete e[r[a]];e[t]=o.substr(1)})}var x=/(\d|\-|\.)/,_=/([^\-0-9\.]+)/g,w=/[0-9.\-]+/g,C=new RegExp("rgb\\("+w.source+/,\s*/.source+w.source+/,\s*/.source+w.source+"\\)","g"),k=/^.*\(/,S=/#([0-9]|[a-f]){3,6}/gi,M="VAL",T=[],$=[],D=[];t.prototype.filter.token={tweenCreated:function(t,e,n,i){r(t),r(e),r(n),this._tokenData=d(t)},beforeTween:function(t,e,n,r){y(r,this._tokenData),h(t,this._tokenData),h(e,this._tokenData),h(n,this._tokenData)},afterTween:function(t,e,n,r){f(t,this._tokenData),f(e,this._tokenData),f(n,this._tokenData),b(r,this._tokenData)}}}(e)}(window),window.Tweenable}),function(){"use strict";angular.module("angular-carousel").filter("carouselSlice",function(){return function(t,e,n){return angular.isArray(t)?t.slice(e,e+n):angular.isObject(t)?t:void 0}})}(),function(t){var e=/iPhone/i,n=/iPod/i,r=/iPad/i,i=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,o=/Android/i,a=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,s=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,l=/Windows Phone/i,u=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,c=/BlackBerry/i,d=/BB10/i,h=/Opera Mini/i,f=/(CriOS|Chrome)(?=.*\bMobile\b)/i,p=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,g=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),m=function(t,e){return t.test(e)},v=function(t){var v=t||navigator.userAgent,y=v.split("[FBAN");if(void 0!==y[1]&&(v=y[0]),void 0!==(y=v.split("Twitter"))[1]&&(v=y[0]),this.apple={phone:m(e,v),ipod:m(n,v),tablet:!m(e,v)&&m(r,v),device:m(e,v)||m(n,v)||m(r,v)},this.amazon={phone:m(a,v),tablet:!m(a,v)&&m(s,v),device:m(a,v)||m(s,v)},this.android={phone:m(a,v)||m(i,v),tablet:!m(a,v)&&!m(i,v)&&(m(s,v)||m(o,v)),device:m(a,v)||m(s,v)||m(i,v)||m(o,v)},this.windows={phone:m(l,v),tablet:m(u,v),device:m(l,v)||m(u,v)},this.other={blackberry:m(c,v),blackberry10:m(d,v),opera:m(h,v),firefox:m(p,v),chrome:m(f,v),device:m(c,v)||m(d,v)||m(h,v)||m(p,v)||m(f,v)},this.seven_inch=m(g,v),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},y=function(){var t=new v;return t.Class=v,t};"undefined"!=typeof module&&module.exports&&"undefined"==typeof window?module.exports=v:"undefined"!=typeof module&&module.exports&&"undefined"!=typeof window?module.exports=y():"function"==typeof define&&define.amd?define("isMobile",[],t.isMobile=y()):t.isMobile=y()}(this);(function(){var b=angular.module("tm1Ui",["ngDialog","acute.select","xeditable","nvd3"]);b.value("tm1UiSettings",{debug:false,frameworkLogID:"tm1.event.log",batcherRequestID:"tm1.core.data.request",batcherResponseID:"tm1.core.data.response",batcherElementRequestID:"tm1.core.element.request",batcherElementResponseID:"tm1.core.element.response",batchingElementRequestEnabled:false,batchingDbrRequestEnabled:true,windowResizeID:"app.window.resize",storeReadyID:"tm1.store.ready",storeUpdateSuccessID:"tm1.store.update.success",t:"X-CSRF-Token",tv:"Fetch",tu:"api/sec",tum:"GET",version:"1.2.201707061520",site:"https://code.cubewise.com/canvas-help/",support:"canvas@cubewise.com"});b.config(["$logProvider","$sceProvider",function(d,a){d.debugEnabled(true);a.enabled(false)}]);b.run(["AcuteSelectService","editableOptions",function(a,d){a.updateSetting("templatePath","assets/html");d.theme="bs3"}]);b.factory("authHttpResponseInterceptor",["$q","$location","$rootScope","$window","$log",function(k,g,a,h,j){return{response:function(c){return c||k.when(c)},responseError:function(o){if(o.status===401){var c=o.config.url.split("/");if(c.length>1&&(c[0]=="tm1"||c[0]=="api")){var p=c.length>2?c[2]:c[1];var d=a.$state.current.name;var e=a.$stateParams.name;if(d!="login"){var q=false;var f="";_.each(a.instances,function(l){if(l.name.toLowerCase()===p.toLowerCase()){l.isLoggedIn=false;l.cam=null;l.userName=null;q=true}});if(!q&&o.config&&o.config.data){if(angular.isArray(o.config.data)&&o.config.data.length>0){if(o.config.data[0].instance){f=o.config.data[0].instance}}else{if(o.config.data.instance){f=o.config.data.instance}}}else{f=p}a.$state.transitionTo("login",{instance:f})}return o}}if(o.status===400||o.status===404){return o}if(o.status===500){j.warn("TM1 Server Might Be Down. Please Check.");return o}return k.reject(o)}}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiAbout";d.Controller="Tm1UiAboutCtrl";d.Template="assets/html/tm1-ui-about.html";c.directive(d.Name,["$filter","tm1UiSettings","uuid2","$rootScope",function(a,g,b,h){return{restrict:"E",templateUrl:d.Template,transclude:false,replace:true,scope:{tm1Instance:"@",name:"@",id:"@",tm1Debug:"=",tm1UiClass:"@",ngModel:"="},link:function(o,e,r,p,q){o.directiveID=b.newguid();o.directiveClasses="";o.libraries=[];o.debug=false;o.log=function(j){o.logObj(j,{message:j})};o.logObj=function(k,j){if(o.debug){h.$broadcast(g.frameworkLogID,{id:o.directiveID,name:d.Name,message:k,object:j})}};if(angular.isDefined(r.tm1Debug)&&o.tm1Debug){o.debug=true}if(angular.isDefined(r.tm1UiClass)&&!_.isEmpty(o.tm1UiClass)){o.directiveClasses=o.tm1UiClass}var f={name:"Canvas",version:g.version,url:g.site,license:"Cubewise",licenseUrl:"assets/html/LICENSE.txt",site:g.site,support:g.support};var s={name:"AngularJS",version:angular.version.full,url:"https://angularjs.org/",license:"MIT",licenseUrl:"https://github.com/angular/angular.js/blob/master/LICENSE"};o.libraries.push(s);s={name:"Bootstrap",version:"3.2.0",url:"http://getbootstrap.com/",license:"MIT",licenseUrl:"https://github.com/twbs/bootstrap/blob/master/LICENSE"};o.libraries.push(s);s={name:"Angular UI Bootstrap",version:"2.5.0",url:"http://angular-ui.github.io/bootstrap/",license:"MIT",licenseUrl:"https://github.com/angular-ui/bootstrap/blob/master/LICENSE"};o.libraries.push(s);s={name:"Font Awesome",version:"4.7.0",url:"http://fontawesome.io/",license:"SIL OFL 1.1, MIT",licenseUrl:"http://fontawesome.io/license/"};o.libraries.push(s);s={name:"Angular Acute-Select",version:"0.0.0",url:"https://github.com/john-oc/acute-select",license:"MIT",licenseUrl:"https://github.com/john-oc/acute-select/blob/master/LICENSE"};o.libraries.push(s);s={name:"Angular Moment",version:"2.0.1",url:"https://github.com/urish/angular-moment",license:"MIT",licenseUrl:"https://github.com/urish/angular-moment/blob/master/LICENSE"};o.libraries.push(s);s={name:"Angular NVD3",version:"1.0.7",url:"http://krispo.github.io/angular-nvd3",license:"MIT",licenseUrl:"https://github.com/krispo/angular-nvd3/blob/master/LICENSE"};o.libraries.push(s);s={name:"Angular Sanitize",version:"1.5.3",url:"https://docs.angularjs.org/api/ngSanitize",license:"MIT",licenseUrl:"https://github.com/angular/angular.js/blob/master/LICENSE"};o.libraries.push(s);s={name:"Angular UI-Router",version:"1.0.3",url:"https://github.com/angular-ui/ui-router",license:"MIT",licenseUrl:"https://github.com/angular-ui/ui-router/blob/master/LICENSE"};o.libraries.push(s);s={name:"Angular uuid2",version:"0.0.0",url:"https://github.com/MBehtemam/angular-uuid",license:"MIT",licenseUrl:"https://github.com/MBehtemam/angular-uuid/blob/master/LICENSE.md"};o.libraries.push(s);s={name:"Angular ContextMenu",version:"0.9.0+",url:"https://github.com/Templarian/ui.bootstrap.contextMenu",license:"MIT",licenseUrl:"https://github.com/Templarian/ui.bootstrap.contextMenu/blob/master/license.txt"};o.libraries.push(s);s={name:"Angular ngStorage",version:"0.0.0",url:"https://github.com/gsklee/ngStorage",license:"MIT",licenseUrl:"https://github.com/gsklee/ngStorage/blob/master/LICENSE"};o.libraries.push(s);s={name:"Bootstrap DatePicker",version:"1.6.1",url:"https://github.com/eternicode/bootstrap-datepicker",license:"Apache License v2.0",licenseUrl:"https://github.com/eternicode/bootstrap-datepicker/blob/master/LICENSE"};o.libraries.push(s);s={name:"jQuery Menu-Aim",version:"0.0.0",url:"https://github.com/kamens/jQuery-menu-aim",license:"MIT",licenseUrl:"https://github.com/kamens/jQuery-menu-aim#faq"};o.libraries.push(s);s={name:"Modernizr",version:"2.8.3",url:"https://github.com/modernizr/modernizr",license:"MIT",licenseUrl:"https://github.com/Modernizr/Modernizr/blob/master/LICENSE"};o.libraries.push(s);s={name:"d3",version:"3.5.17",url:"https://d3js.org/",license:"BSD",licenseUrl:"https://github.com/d3/d3/blob/master/LICENSE"};o.libraries.push(s);s={name:"nvd3",version:"1.8.3",url:"https://github.com/novus/nvd3",license:"Apache License v2.0",licenseUrl:"https://github.com/novus/nvd3/blob/master/LICENSE.md"};o.libraries.push(s);s={name:"Moment",version:"2.9.0",url:"http://momentjs.com/",license:"MIT",licenseUrl:"https://github.com/moment/moment/blob/develop/LICENSE"};o.libraries.push(s);s={name:"Humanize Duration",version:"2.7.0+",url:"https://github.com/EvanHahn/HumanizeDuration.js",license:"MIT",licenseUrl:"https://github.com/EvanHahn/HumanizeDuration.js/blob/master/LICENSE.txt"};o.libraries.push(s);s={name:"Angular ngDialog",version:"0.5.8",url:"https://github.com/likeastore/ngDialog",license:"MIT",licenseUrl:"https://github.com/likeastore/ngDialog#license"};o.libraries.push(s);s={name:"Papa Parse",version:"4.1.2",url:"https://github.com/mholt/PapaParse",license:"MIT",licenseUrl:"https://github.com/mholt/PapaParse/blob/master/LICENSE"};o.libraries.push(s);s={name:"Text Angular",version:"1.5.0",url:"https://github.com/fraywing/textAngular",license:"MIT",licenseUrl:"https://github.com/fraywing/textAngular#license"};o.libraries.push(s);s={name:"jQuery Textscillate",version:"0.7.0",url:"http://textillate.js.org/",license:"MIT",licenseUrl:"https://github.com/jschr/textillate/blob/master/LICENSE"};o.libraries.push(s);s={name:"Angular xeditable",version:"0.1.8",url:"https://vitalets.github.io/angular-xeditable/",license:"MIT",licenseUrl:"https://github.com/vitalets/angular-xeditable/blob/master/LICENSE"};o.libraries.push(s);s={name:"Chart.js",version:"2.1.4",url:"http://www.chartjs.org/",license:"MIT",licenseUrl:"https://github.com/nnnick/Chart.js/blob/master/LICENSE.md"};o.libraries.push(s);s={name:"jQuery",version:$.fn.jquery,url:"https://jquery.com/",license:"MIT",licenseUrl:"https://jquery.org/license/"};o.libraries.push(s);s={name:"Lodash",version:_.VERSION,url:"https://lodash.com/",license:"jQuery License, MIT",licenseUrl:"https://github.com/lodash/lodash/blob/master/LICENSE"};o.libraries.push(s);s={name:"Dimple",version:"2.1.6",url:"http://dimplejs.org/",license:"MIT",licenseUrl:"https://github.com/PMSI-AlignAlytics/dimple/blob/master/MIT-LICENSE.txt"};o.libraries.push(s);s={name:"Angular ng-table",version:"3.0.1",url:"https://github.com/esvit/ng-table/",license:"BSD 2-Clause License",licenseUrl:"http://creativecommons.org/licenses/BSD/"};o.libraries.push(s);s={name:"XDomain",version:"0.7.5",url:"https://github.com/jpillora/xdomain",license:"MIT",licenseUrl:"https://github.com/jpillora/xdomain#mit-license"};o.libraries.push(s);s={name:"Angular File Upload",version:"12.2.12",url:"https://github.com/danialfarid/ng-file-upload",license:"MIT",licenseUrl:"https://github.com/danialfarid/ng-file-upload/blob/master/LICENSE"};o.libraries.push(s);s={name:"Angular matchMedia",version:"0.6.0",url:"https://github.com/jacopotarantino/angular-match-media",license:"Creative Commons Attribution-ShareAlike 4.0 International License",licenseUrl:"https://github.com/jacopotarantino/angular-match-media#license"};o.libraries.push(s);s={name:"SheetJS*",version:"0.10.1",url:"https://github.com/SheetJS/js-xlsx",license:"Apache License v2.0",licenseUrl:"https://github.com/SheetJS/js-xlsx/blob/master/LICENSE"};o.libraries.push(s);s={name:"Angular SheetJS*",version:"0.0.3",url:"https://github.com/brexis/angular-js-xlsx",license:"MIT",licenseUrl:"https://github.com/brexis/angular-js-xlsx/blob/master/LICENSE.txt"};o.libraries.push(s);s={name:"SheetJS - Spreadsheet Number Formater*",version:"0.9.2",url:"https://github.com/SheetJS/ssf",license:"Apache License v2.0",licenseUrl:"https://github.com/SheetJS/ssf/blob/master/LICENSE"};o.libraries.push(s);s={name:"isMobile",version:"0.4.1",url:"https://github.com/kaimallea/isMobile",license:"Public Domain Dedication",licenseUrl:"http://creativecommons.org/publicdomain/zero/1.0/"};o.libraries.push(s);if(angular.isUndefined(r.ngModel)){o.libraries.push(f)}o.libraries=_.sortBy(o.libraries,function(j){return j.name});if(angular.isDefined(r.ngModel)){o.ngModel={libs:o.libraries,canvas:f}}if(angular.isDefined(r.tm1UiClass)){o.$watch("tm1UiClass",function(j,k){o.directiveClasses=_.isEmpty(j)?"":j})}},controller:d.Controller}}]);c.controller(d.Controller,["$scope","$http","tm1UiSettings","$log",function(j,a,k,h){var b=this}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiActiveForm";d.Controller="Tm1UiActiveFormCtrl";d.Template="assets/html/tm1-ui-active-form.html";c.directive(d.Name,["$filter","tm1UiSettings","uuid2","$rootScope",function(a,g,b,h){return{restrict:"E",templateUrl:d.Template,transclude:{tm1UiRptConfig:"tm1UiRptConfig",tm1UiRptTemplate:"tm1UiRptTemplate"},replace:false,scope:{tm1Instance:"@",tm1Cube:"@",tm1SuppressZero:"@",tm1UiClass:"@",tm1Debug:"=",ngModel:"="},link:function(f,e,o,m,n){f.directiveID=b.newguid();f.directiveClasses="";f.cubeIsReady=false;f.dimensionsAttribute={};f.message="";f.NO_ACTION=0;f.DIMENSIONS_RECEIVING=1;f.DIMENSIONS_ALL_RECEIVED=2;f.DIMENSIONS_ROWS_RECEIVED_HAS_ATTRIBUTES=2.1;f.DIMENSIONS_ROWS_HAS_NO_ATTRIBUTE=2.9;f.ACTIVE_FORM_WAITING_RESPONSE=3;f.ACTIVE_FORM_RECEIVED_RESPONSE=3.1;f.status=f.NO_ACTION;f.suppressZero=false;f.rowSuppressZero=false;f.columnSuppressZero=false;f.debug=false;f.log=function(j){f.logObj(j,{message:j})};f.logObj=function(j,k){if(f.debug){h.$broadcast(g.frameworkLogID,{id:f.directiveID,name:d.Name,message:j,object:k})}};if(angular.isDefined(o.tm1Debug)&&f.tm1Debug){f.debug=true}if(angular.isUndefined(o.tm1Instance)){throw"tm1-instance is a required attribute."}else{if(_.isEmpty(f.tm1Instance)){throw"tm1-instance cannot be empty."}}if(angular.isUndefined(o.tm1Cube)){throw"tm1-cube is a required attribute."}if(angular.isUndefined(o.ngModel)){throw"ng-model is a required attribute."}if(angular.isDefined(o.tm1UiClass)&&!_.isEmpty(f.tm1UiClass)){f.directiveClasses=f.tm1UiClass}f.hasCompleteParams=function(){var j=true;if(_.isEmpty(f.tm1Cube)||_.isEmpty(f.tm1Cube)){j=false}return j};f.$on(d.Name+".event.refresh",function(j){if(f.hasCompleteParams()){f.log(d.Name+".event.refresh EVENT RECEIVED");m.refreshData()}});f.$on("tm1.event.refresh",function(j){if(f.hasCompleteParams()){f.log("tm1.event.refresh EVENT RECEIVED");m.refreshData()}});f.$watch("tm1Cube",function(k,j){if(!_.isEmpty(k)){m.getCubeDimensions()}});if(angular.isDefined(o.tm1UiClass)){f.$watch("tm1UiClass",function(k,j){f.logObj("new tm1UiClass RECEIVED",k);f.directiveClasses=_.isEmpty(k)?"":k})}if(angular.isDefined(o.tm1SuppressZero)){f.$watch("tm1SuppressZero",function(k,j){f.logObj("tm1SuppressZero Value RECEIVED",k);if(!_.isEmpty(k)){f.rowSuppressZero=false;f.columnSuppressZero=false;if(k.toLowerCase()=="both"){f.rowSuppressZero=true;f.columnSuppressZero=true}else{if(k.toLowerCase()=="row"){f.rowSuppressZero=true}else{if(k.toLowerCase()=="column"){f.columnSuppressZero=true}}}if(f.hasCompleteParams()){m.refreshData()}}})}f.$watch("status",function(k,j){f.log("status changed: "+k);switch(k){case f.DIMENSIONS_ALL_RECEIVED:m.validateRowDimensions();break;case f.DIMENSIONS_ROWS_RECEIVED_HAS_ATTRIBUTES:m.refreshData();break;case f.DIMENSIONS_ROWS_HAS_NO_ATTRIBUTE:f.log("One of the row dimensions has no attribute.");break;default:}})},controller:d.Controller}}]);c.controller(d.Controller,["$scope","$http","$tm1UiHelper","tm1UiSettings","$log",function(k,a,l,m,j){var b=this}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiAnimateChange";c.directive(d.Name,["$filter","tm1UiSettings","$log","$timeout",function(a,h,b,g){return function(e,f,k){e.$watch(k.tm1UiAnimateChange,function(j,m){if(m&&j!=m){f.addClass("tm1-ui-changed-value");g(function(){f.removeClass("tm1-ui-changed-value")},2000)}})}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiChartDbr";d.Template="assets/html/tm1-ui-chart-dbr.html";c.directive(d.Name,["$filter","tm1UiSettings","uuid2","$rootScope",function(a,j,h,k){return{restrict:"E",templateUrl:d.Template,transclude:false,replace:true,scope:{tm1Instance:"@",tm1Cube:"@",tm1Elements:"@",tm1Label:"@",tm1LabelEmpty:"=",tm1Series:"@",tm1Area:"=",tm1OrderNo:"@",tm1Color:"@",tm1ShowMovement:"=",tm1Debug:"="},require:"^tm1UiChart",bindToController:"Tm1UiChartCtrl",compile:function b(g,f,n){return{pre:function e(m,l,s,r){if(angular.isUndefined(s.tm1OrderNo)){l.attr("tm1-order-no",r.SPECIAL_ORDER_NO)}},post:function o(m,l,u,s,t){m.directiveID=h.newguid();m.message="DIRECTIVE:"+d.Name;m.requestCount=0;m.labelForceEmpty=false;m.labelId=""+_.random(1,100);m.label="D"+m.labelId;m.series="Data";m.isArea=false;m.showMovement=true;m.debug=false;m.log=function(p){m.logObj(p,{message:p})};m.logObj=function(q,p){if(m.debug){k.$broadcast(j.frameworkLogID,{id:m.directiveID,name:d.Name,message:q,object:p})}};if(angular.isDefined(u.tm1Debug)&&m.tm1Debug){m.debug=true}if(angular.isUndefined(u.tm1Instance)){throw"tm1-instance is a REQUIRED attribute of "+d.Template}if(_.isEmpty(m.tm1Instance)){throw"tm1-instance CANNOT BE EMPTY in "+d.Template}if(angular.isUndefined(u.tm1Cube)){throw"tm1-cube is a REQUIRED attribute "+d.Template}if(angular.isUndefined(u.tm1Elements)){throw"tm1-elements is a REQUIRED attribute "+d.Template}if(angular.isDefined(u.tm1Label)){m.label=m.tm1Label}if(angular.isDefined(u.tm1Series)&&!_.isEmpty(m.tm1Series)){m.series=m.tm1Series.trim()}if(angular.isUndefined(u.tm1OrderNo)){if(angular.isUndefined(l.attr("tm1-order-no"))){throw"tm1-order-no is a REQUIRED ATTRIBUTE."}else{m.tm1OrderNo=""+l.attr("tm1-order-no")}}else{if(angular.isDefined(u.tm1OrderNo)&&_.isEmpty(m.tm1OrderNo)){throw"tm1-order-no CANNOT BE EMPTY and MUST BE A NUMBER."}}if(s.SPECIAL_ORDER_NO===m.tm1OrderNo){m.tm1OrderNo=s.getSeriesOrderNo(m.series,m.directiveID)}m.labelId=m.tm1OrderNo;if(angular.isDefined(u.tm1Area)&&m.tm1Area){m.isArea=true}if(angular.isDefined(u.tm1LabelEmpty)&&m.tm1LabelEmpty){m.labelForceEmpty=true}if(angular.isDefined(u.tm1ShowMovement)&&!m.tm1ShowMovement){m.showMovement=false}m.hasCompleteParams=function(){var p=true;if(_.isEmpty(m.tm1Cube)||_.isEmpty(m.tm1Elements)){p=false}else{if(angular.isDefined(u.tm1Label)&&_.isEmpty(m.tm1Label)&&!m.labelForceEmpty){p=false}else{if(angular.isDefined(u.tm1Series)&&_.isEmpty(m.tm1Series)){p=false}else{var q=Papa.parse(m.tm1Elements);if(angular.isDefined(q.data)&&q.data.length==1&&q.data[0].length>0){angular.forEach(q.data[0],function(r){if((p&&_.isEmpty(r))||(!_.isEmpty(r)&&r.trim()=="")){p=false}})}}}}return p};m.refreshData=function(){if(m.requestCount==0){m.requestCount++;var p={id:m.directiveID,dbr:{id:m.directiveID,instance:m.tm1Instance,cube:m.tm1Cube,elements:m.tm1Elements}};k.$broadcast(j.batcherRequestID,p)}};m.$on(j.batcherResponseID,function(r,z){m.requestCount=0;if(!_.isEmpty(z)&&angular.isDefined(z[m.directiveID])&&z[m.directiveID].statusCode==201){var A=angular.isDefined(z[m.directiveID].Value)?z[m.directiveID].Value:0;try{A=parseFloat(A)}catch(y){}m.label=m.labelForceEmpty?"":m.label;var q={chartDbrId:m.directiveID,label:m.label,value:A,id:m.labelId,sortId:parseInt(m.labelId),instance:m.tm1Instance,cube:m.tm1Cube,elements:m.tm1Elements,showMovement:m.showMovement};var p={isArea:m.isArea};if(angular.isDefined(u.tm1Color)&&!_.isEmpty(m.tm1Color)){p.seriesColor=m.tm1Color.trim()}m.logObj("Sending Data [series]",m.series);m.logObj("Sending Data [seriesConfig]",p);m.logObj("Sending Data [chartValue]",q);s.updateDataDbr(m.series,p,q)}});m.$on(d.Name+".event.refresh",function(p){if(m.hasCompleteParams()){m.refreshData()}});m.$on("tm1.event.refresh",function(p){if(m.hasCompleteParams()){m.refreshData()}});m.$on("tm1.event.chart.refresh",function(p){m.log("refresh Received for cube["+m.tm1Cube+"], elements ["+m.tm1Elements+"] - tm1Series: "+m.tm1Series);if(m.hasCompleteParams()){m.refreshData()}});u.$observe("tm1Cube",function(p){if(!_.isEmpty(p)&&m.hasCompleteParams()){m.refreshData()}});u.$observe("tm1Elements",function(p){if(!_.isEmpty(p)&&m.hasCompleteParams()){m.refreshData()}});if(angular.isDefined(u.tm1Label)&&!m.labelForceEmpty){u.$observe("tm1Label",function(p){if(!_.isEmpty(p)){m.label=p;if(m.hasCompleteParams()){m.refreshData()}}})}if(angular.isDefined(u.tm1Series)){u.$observe("tm1Series",function(p){if(!_.isEmpty(p)){if(m.hasCompleteParams()){m.series=p;m.log("New Value Received for cube["+m.tm1Cube+"], elements ["+m.tm1Elements+"] - tm1Series: "+p)}}})}}}}}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiChartValue";d.Controller="Tm1UiChartValueCtrl";d.Template="assets/html/tm1-ui-chart-value.html";c.directive(d.Name,["$filter","tm1UiSettings","uuid2","$rootScope",function(a,j,h,k){return{restrict:"E",templateUrl:d.Template,transclude:false,replace:true,scope:{tm1Value:"@",tm1Label:"@",tm1LabelEmpty:"=",tm1Series:"@",tm1Area:"=",tm1OrderNo:"@",tm1Color:"@",tm1ShowMovement:"=",tm1Debug:"="},require:"^tm1UiChart",bindToController:"Tm1UiChartCtrl",compile:function b(g,f,n){return{pre:function e(m,l,s,r){if(angular.isUndefined(s.tm1OrderNo)){l.attr("tm1-order-no",r.SPECIAL_ORDER_NO)}},post:function o(m,l,u,s,t){m.directiveID=h.newguid();m.message="Value: "+m.tm1Value;m.labelForceEmpty=false;m.labelId=""+_.random(1,100);m.label="D"+m.labelId;m.series="Data";m.isArea=false;m.showMovement=true;m.debug=false;m.log=function(p){m.logObj(p,{message:p})};m.logObj=function(q,p){if(m.debug){k.$broadcast(j.frameworkLogID,{id:m.directiveID,name:d.Name,message:q,object:p})}};if(angular.isDefined(u.tm1Debug)&&m.tm1Debug){m.debug=true}if(angular.isUndefined(u.tm1Value)){throw"tm1-value is a REQUIRED attribute of <tm1-chart-value />"}if(angular.isDefined(u.tm1Label)){m.label=m.tm1Label}if(angular.isDefined(u.tm1Series)&&!_.isEmpty(m.tm1Series)){m.series=m.tm1Series.trim()}if(angular.isUndefined(u.tm1OrderNo)){if(angular.isUndefined(l.attr("tm1-order-no"))){throw"tm1-order-no is a REQUIRED ATTRIBUTE."}else{m.tm1OrderNo=""+l.attr("tm1-order-no")}}else{if(angular.isDefined(u.tm1OrderNo)&&_.isEmpty(m.tm1OrderNo)){throw"tm1-order-no CANNOT BE EMPTY and MUST BE A NUMBER."}}if(s.SPECIAL_ORDER_NO===m.tm1OrderNo){m.tm1OrderNo=s.getSeriesOrderNo(m.series,m.directiveID)}m.labelId=m.tm1OrderNo;if(angular.isDefined(u.tm1Area)&&m.tm1Area){m.isArea=true}if(angular.isDefined(u.tm1LabelEmpty)&&m.tm1LabelEmpty){m.labelForceEmpty=true}if(angular.isUndefined(u.tm1OrderNo)){m.labelId=s.getSeriesOrderNo(m.series,m.directiveID)}if(angular.isDefined(u.tm1ShowMovement)&&!m.tm1ShowMovement){m.showMovement=false}m.refreshData=function(){var w=0;try{w=parseFloat(m.tm1Value)}catch(r){}m.label=m.labelForceEmpty?"":m.label;var q={chartDbrId:m.directiveID,chartValueIsCustom:true,label:m.label,value:w,id:m.labelId,sortId:parseInt(m.labelId),showMovement:m.showMovement};var p={isArea:m.isArea};if(angular.isDefined(u.tm1Color)&&!_.isEmpty(m.tm1Color)){p.seriesColor=m.tm1Color.trim()}s.updateDataDbr(m.series,p,q)};m.$watch("tm1Value",function(p,q){m.refreshData()});m.$on(d.Name+".event.refresh",function(p){m.refreshData()});m.$on("tm1.event.refresh",function(p){m.refreshData()});m.$on("tm1.event.chart.refresh",function(p){m.refreshData()});if(angular.isDefined(u.tm1Series)){u.$observe("tm1Series",function(p){if(!_.isEmpty(p)){m.series=p;m.log("New Value Received - tm1Series: "+p)}})}}}}}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiChart";d.Controller="Tm1UiChartCtrl";d.Template="assets/html/tm1-ui-chart-template.html";c.directive(d.Name,["$filter","tm1UiSettings","uuid2","$http","$rootScope","$timeout",function(b,l,k,a,m,j){return{restrict:"E",templateUrl:d.Template,transclude:true,replace:true,scope:{tm1ChartType:"@",tm1Height:"@",tm1ShowValues:"=",tm1Margin:"=",tm1DataDecimal:"@",tm1FormatPercentage:"=",tm1MinY:"@",tm1MaxY:"@",tm1AxisLabelX:"@",tm1AxisLabelY:"@",tm1Duration:"@",tm1State:"@",tm1HideControls:"=",tm1HideLabel:"=",tm1Legend:"@",tm1ColorScheme:"=",tm1UiClass:"@",tm1RotateLabel:"@",tm1OptionsOverride:"=",tm1AccountingSettingsOverride:"=",tm1Debug:"=",tm1ShowData:"=",tm1OnChartElementSelect:"&",ngModel:"=?"},link:function(e,q,h,f,g){e.directiveID=k.newguid();e.optionOverrides={};e.dataSourceCount=0;e.dataDecimal=0;e.hasDataDecimal=false;e.formatPercentage=false;e.formatNegativeInParenthesis=false;e.customDirectiveColorScheme=false;e.isDonut=false;e.hasModel=false;e.directiveClasses="";e.displayChart=1;e.discreteBarIsCustomColors=false;e.discreteBarPalette=[];e.discreteBarDefaultColor="SteelBlue";e.minY=0;e.maxY=100;e.rotateLabel=0;e.xAxisLabels={};e.data=[];e.dataCopy=[];e.hasAccountingSettingsOverride=false;e.hasOnChartElementSelect=false;e.debug=false;e.log=function(n){e.logObj(n,{message:n})};e.logObj=function(o,n){if(e.debug){m.$broadcast(l.frameworkLogID,{id:e.directiveID,name:d.Name,message:o,object:n})}};angular.copy(f.CHART_DEFAULT,e.optionOverrides);if(angular.isDefined(h.tm1Debug)&&e.tm1Debug){e.debug=true}f.validateChartType(e.tm1ChartType);if(angular.isDefined(h.ngModel)){e.hasModel=true}if(angular.isDefined(h.tm1Margin)&&angular.isObject(e.tm1Margin)){if(e.tm1Margin.top){e.optionOverrides.margin.top=e.tm1Margin.top}if(e.tm1Margin.right){e.optionOverrides.margin.right=e.tm1Margin.right}if(e.tm1Margin.bottom){e.optionOverrides.margin.bottom=e.tm1Margin.bottom}if(e.tm1Margin.left){e.optionOverrides.margin.left=e.tm1Margin.left}}if(angular.isDefined(h.tm1DataDecimal)&&!_.isEmpty(e.tm1DataDecimal)){e.hasDataDecimal=true;e.dataDecimal=e.tm1DataDecimal}if(angular.isDefined(h.tm1Height)&&!_.isEmpty(e.tm1Height)){e.optionOverrides.height=e.tm1Height}if(h.tm1ShowValues){e.optionOverrides.showValues=e.tm1ShowValues}if(angular.isDefined(h.tm1AxisLabelX)){e.optionOverrides.axisLabelX=e.tm1AxisLabelX}if(angular.isDefined(h.tm1AxisLabelY)){e.optionOverrides.axisLabelY=e.tm1AxisLabelY}if(angular.isDefined(h.tm1MinY)&&!isNaN(e.tm1MinY)){e.minY=parseInt(e.tm1MinY)}if(angular.isDefined(h.tm1MaxY)&&!isNaN(e.tm1MaxY)){e.maxY=parseInt(e.tm1MaxY)}if(e.minY>e.maxY){e.maxY=e.minY+100}if(angular.isDefined(h.tm1Duration)&&!isNaN(e.tm1Duration)){e.optionOverrides.duration=parseInt(e.tm1Duration)}if(angular.isDefined(h.tm1HideControls)&&e.tm1HideControls){e.optionOverrides.showControls=e.tm1HideControls?false:true}if(angular.isDefined(h.tm1HideLabel)&&e.tm1HideLabel){e.optionOverrides.showLabels=e.tm1HideLabel?false:true}if(angular.isDefined(h.tm1Legend)&&!_.isEmpty(e.tm1Legend)){e.optionOverrides.showLegend=true;if(e.tm1Legend.trim().toLowerCase()=="none"){e.optionOverrides.showLegend=false}else{throw'tm1-legends value is not acceptable. Only "none" is supported for now.'}}if(angular.isDefined(h.tm1ColorScheme)){if(!angular.isArray(e.tm1ColorScheme)){throw"tm1-color-scheme must be an ARRAY of CSS colors"}else{if(angular.isArray(e.tm1ColorScheme)&&e.tm1ColorScheme.length<1){throw"tm1-color-scheme must contain at least one color"}else{e.customDirectiveColorScheme=true}}}if(h.tm1RotateLabel){try{e.rotateLabel=parseInt(e.tm1RotateLabel)}catch(p){e.rotateLabel=0}}if(angular.isDefined(h.tm1FormatPercentage)&&e.tm1FormatPercentage){e.formatPercentage=true}if(angular.isDefined(h.tm1UiClass)&&!_.isEmpty(e.tm1UiClass)){e.directiveClasses=e.tm1UiClass}if(angular.isDefined(h.tm1AccountingSettingsOverride)&&_.isObject(e.tm1AccountingSettingsOverride)){e.hasAccountingSettingsOverride=true;e.accountingSettingsOverride=angular.merge({},accounting.settings,e.tm1AccountingSettingsOverride)}if(angular.isDefined(h.tm1OnChartElementSelect)){e.hasOnChartElementSelect=true}e.updateWithOptionsOverride=function(){if(angular.isDefined(h.tm1OptionsOverride)&&angular.isObject(e.tm1OptionsOverride)){e.options=angular.merge(e.options,e.tm1OptionsOverride)}if(e.hasOnChartElementSelect&&f.supportingElementClick[e.tm1ChartType]){if(e.options.chart){var n=e.tm1ChartType;if(e.isDonut){n="pie"}else{if(n=="line"||n=="lineWithFocus"||n=="lineArea"){n="lines"}else{if(n=="multiBarHorizontal"){n="multiBar"}}}n=n.toLowerCase();e.findData=function(s,o){if(s=="lines"){if(o.point&&!o.data){o.data=o.point}}return o};e.options.chart[n]={dispatch:{}};e.options.chart[n].dispatch.elementClick=function(o){e.$apply(function(){e.tm1OnChartElementSelect({chartElement:e.findData(n,o)})})};if(isMobile.any){e.options.chart[n].dispatch.elementClick=undefined;e.options.chart[n].dispatch.elementMouseover=function(o){e.$apply(function(){e.tm1OnChartElementSelect({chartElement:e.findData(n,o)})})}}}}};e.getFormattedValue=function(n){if(angular.isUndefined(e.directiveAccountingSettings)){if(e.hasAccountingSettingsOverride){e.directiveAccountingSettings=e.accountingSettingsOverride}else{e.directiveAccountingSettings=_.cloneDeep(accounting.settings);if(e.hasDataDecimal){e.directiveAccountingSettings.currency.precision=_.toNumber(e.tm1DataDecimal)}if(e.formatPercentage){e.directiveAccountingSettings.currency.format={pos:"%v%",neg:"(%v%)",zero:"-%"}}}}return accounting.formatMoney(n,e.directiveAccountingSettings.currency)};e.options=f.getStandardOptions(e.tm1ChartType);e.options=f.applyOverrides(e.tm1ChartType,e.options,e.optionOverrides);e.updateWithOptionsOverride();angular.copy(f.CONFIG_DEFAULT,e.config);e.$on(l.windowResizeID,function(){e.api.update()});e.$watch("tm1ChartType",function(n,o){if(!_.isEmpty(n)&&f.supportedChartTypes[e.tm1ChartType]){e.options=f.getStandardOptions(n);e.options=f.applyOverrides(n,e.options,e.optionOverrides);e.updateWithOptionsOverride();j(function(){e.api.updateWithOptions(e.options)},1)}else{throw"Unsupported chart type ["+n+"]. Set something else."}});if(angular.isDefined(h.tm1UiClass)){e.$watch("tm1UiClass",function(n,o){e.directiveClasses=_.isEmpty(n)?"":n})}if(angular.isDefined(h.tm1State)){e.$watch("tm1State",function(n,o){if(n!=o){if(e.data&&angular.isArray(e.data)){e.data.length=0}else{e.data=[]}if(e.dataCopy&&angular.isArray(e.dataCopy)){e.dataCopy.length=0}else{e.dataCopy=[]}j(function(){e.$broadcast("tm1.event.chart.refresh")},500)}})}},controller:d.Controller}}]);c.controller(d.Controller,["$scope","$http","tm1UiSettings","$rootScope","$timeout",function(k,a,l,m,j){var b=this;b.count=0;b.registeredChildDirectives={};b.registeredDataSeries={};b.chartType="";b.SPECIAL_ORDER_NO="999999999999999999";b.CHART_DEFAULT={margin:{top:100,right:100,bottom:100,left:100},height:300,axisLabelX:"X-Axis",axisLabelY:"Y-Axis",showValues:false,duration:500,showControls:true,showLegend:true,showLabels:true};b.CONFIG_DEFAULT={extended:true};b.supportedChartTypes={line:true,lineArea:false,lineWithFocus:true,discreteBar:true,multiBar:true,multiBarHorizontal:true,multi:false,waterfall:true,candlestickBar:false,cumulativeLine:false,pie:true,historicalBar:false,ohlcBar:false,donut:true,scatter:false,stackedArea:false,sunburst:false};b.supportingRotateLabel={line:false,lineArea:false,discreteBar:true,multiBar:true,multiBarHorizontal:false,multi:false,waterfall:false,candlestickBar:false,cumulativeLine:false,pie:false,historicalBar:false,ohlcBar:false,donut:false,scatter:false,stackedArea:false,sunburst:false};b.supportingElementClick={line:true,lineArea:true,lineWithFocus:true,discreteBar:true,multiBar:true,multiBarHorizontal:true,multi:false,waterfall:false,candlestickBar:false,cumulativeLine:false,pie:true,historicalBar:false,ohlcBar:false,donut:true,scatter:false,stackedArea:false,sunburst:false};b.getSupportedChartTypes=function(){var e="";angular.forEach(b.supportedChartTypes,function(f,g){if(f){e=e+","+g}});e=e.substr(1);return e};b.validateChartType=function(e){if(angular.isUndefined(e)){throw"Missing Required Attributes. Please Set tm1-chart-type."}else{if(angular.isUndefined(b.supportedChartTypes[e])){throw"Chart Type ["+e+"] is not supported. Choose from "+b.getSupportedChartTypes()}else{if(!b.supportedChartTypes[e]){throw"Chart Type ["+e+"] is not enabled yet. Choose from "+b.getSupportedChartTypes()}}}};b.getSeriesOrderNo=function(g,f){k.log("Generating OrderNo through System for series: "+g+" and dbrId: "+f);if(angular.isUndefined(b.registeredChildDirectives[g])){b.registeredChildDirectives[g]=[]}var e=_.findIndex(b.registeredChildDirectives[g],function(h){return h==f});if(e==-1){b.registeredChildDirectives[g].push(f)}e=_.findIndex(b.registeredChildDirectives[g],function(h){return h==f});return e+1};b.getDbrDataLabel_LineSeriesOnly=function(g){var f=false,e=g;angular.forEach(k.data,function(h){if(!f){angular.forEach(h.values,function(o){if(!f&&o.sortId==g){e=o.label;f=true}})}});return e};b.getStandardOptions=function(e){b.chartType=e;var f={};k.isDonut=false;if(e=="donut"){k.isDonut=true}if(k.isDonut){e="pie"}switch(e){case"line":f={chart:{type:e+"Chart",height:450,margin:{top:20,right:20,bottom:50,left:55},x:function(g){return g.sortId},y:function(g){return g.value},showValues:k.showValues,valueFormat:function(g){return k.getFormattedValue(g)},transitionDuration:500,xAxis:{axisLabel:"",axisLabelDistance:1,tickFormat:function(g){k.logObj("DataPoint-xAxis",g);return b.getDbrDataLabel_LineSeriesOnly(g)}},yAxis:{axisLabel:"",axisLabelDistance:1,tickFormat:function(g){k.logObj("DataPoint-yAxis",g);return k.getFormattedValue(g)}},forceY:[k.minY,k.maxY]}};break;case"lineWithFocus":f={chart:{type:e+"Chart",height:450,margin:{top:20,right:20,bottom:60,left:40},duration:50,useInteractiveGuideline:true,x:function(g){return g.sortId},y:function(g){return g.value},xAxis:{axisLabel:"X Axis",tickFormat:function(g){return b.getDbrDataLabel_LineSeriesOnly(g)}},x2Axis:{tickFormat:function(g){return b.getDbrDataLabel_LineSeriesOnly(g)}},yAxis:{axisLabel:"Y Axis",tickFormat:function(g){return k.getFormattedValue(g)},rotateYLabel:false},y2Axis:{tickFormat:function(g){return k.getFormattedValue(g)}},forceY:[k.minY,k.maxY]}};break;case"discreteBar":f={chart:{type:e+"Chart",height:450,margin:{top:20,right:20,bottom:50,left:55},x:function(g){return g.label},y:function(g){return g.value},showValues:true,valueFormat:function(g){return k.getFormattedValue(g)},duration:500,xAxis:{axisLabel:"X Axis"},yAxis:{axisLabel:"Y Axis",axisLabelDistance:-10,tickFormat:function(g){return k.getFormattedValue(g)}}}};break;case"multiBar":f={chart:{type:e+"Chart",height:450,margin:{top:20,right:20,bottom:45,left:45},clipEdge:true,staggerLabels:true,duration:500,stacked:false,showControls:true,showLegend:true,x:function(g){return g.label},y:function(g){return g.value},xAxis:{axisLabel:"Time (ms)",showMaxMin:false,tickFormat:function(g){return g}},yAxis:{axisLabel:"Y Axis",axisLabelDistance:-10,tickFormat:function(g){return k.getFormattedValue(g)}},valueFormat:function(g){return k.getFormattedValue(g)}}};break;case"multiBarHorizontal":f={chart:{type:e+"Chart",height:450,margin:{top:20,right:20,bottom:45,left:45},clipEdge:true,staggerLabels:true,duration:500,stacked:false,showControls:true,showLegend:true,x:function(g){return g.label},y:function(g){return g.value},xAxis:{axisLabel:"Time (ms)",showMaxMin:false,tickFormat:function(g){return g}},yAxis:{axisLabel:"Y Axis",axisLabelDistance:-10,tickFormat:function(g){return k.getFormattedValue(g)}},valueFormat:function(g){return k.getFormattedValue(g)}}};break;case"pie":f={chart:{type:e+"Chart",height:500,donut:k.isDonut,x:function(g){return g.label},y:function(g){return g.value},showLabels:true,duration:500,labelThreshold:0.01,labelSunbeamLayout:true,showLegend:true,valueFormat:function(g){return k.getFormattedValue(g)},legend:{margin:{top:5,right:35,bottom:5,left:0},dispatch:{},width:400,height:20,padding:32,align:true,maxKeyLength:20,rightAlign:true,updateState:true,radioButtonMode:false,expanded:false,vers:"classic"}}};break;case"waterfall":f={chart:{type:"candlestickBarChart",height:450,margin:{top:20,right:20,bottom:50,left:55},x:function(g){return g.sortId},y:function(g){return g.close},duration:100,xAxis:{axisLabel:"Dates",tickFormat:function(g){return b.getDbrDataLabel_LineSeriesOnly(g)},showMaxMin:false},yAxis:{axisLabel:"Stock Price",tickFormat:function(g){return k.getFormattedValue(g)},showMaxMin:false},zoom:{enabled:false,scaleExtent:[1,10],useFixedDomain:false,useNiceScale:false,horizontalOff:false,verticalOff:true,unzoomEventType:"dblclick.zoom"},forceY:[k.minY,k.maxY],interactiveLayer:{tooltip:{contentGenerator:function(y,h,t,u,v){k.logObj("on tooltip generation",y);var g=y.series[0].data.close-y.series[0].data.open;var x=k.getFormattedValue(Math.abs(g));var w="";w+="<div>";w+="<h3 ";w+=g>0?' style="color: Green" ':"";w+=g<0?' style="color: Red" ':"";w+='class="text-center"';w+=">";w+=x+" ";w+=g>0?'<i class="fa fa-caret-up"></i>':"";w+=g<0?'<i class="fa fa-caret-down"></i>':"";w+=g==0?'<i class="fa fa-minus"></i>':"";w+="</h3> ";if(y.series[0].data.showMovement){w+="<p>Open: <strong>"+k.getFormattedValue(y.series[0].data.open)+"</strong></p>";w+="<p>Close: <strong>"+k.getFormattedValue(y.series[0].data.close)+"</strong></p>"}w+="</div>";return w}}}}};break}return f};b.applyOverrides=function(f,g,e){if(angular.isDefined(g.chart.margin)){g.chart.margin=e.margin}if(angular.isDefined(g.chart.height)){g.chart.height=parseInt(e.height)}if(angular.isDefined(g.chart.showValues)){g.chart.showValues=e.showValues}if(angular.isDefined(g.chart.xAxis)&&angular.isDefined(g.chart.xAxis.axisLabel)){g.chart.xAxis.axisLabel=e.axisLabelX}if(angular.isDefined(g.chart.yAxis)&&angular.isDefined(g.chart.yAxis.axisLabel)){g.chart.yAxis.axisLabel=e.axisLabelY}if(angular.isDefined(g.chart.duration)){g.chart.duration=e.duration}if(angular.isDefined(g.chart.showControls)){g.chart.showControls=e.showControls}if(angular.isDefined(g.chart.showLegend)){g.chart.showLegend=e.showLegend}if(angular.isDefined(g.chart.showLabels)){g.chart.showLabels=e.showLabels}return g};b.updateDataDbr=function(E,g,z){var e=0;var F=0;if(k.tm1ChartType=="pie"||k.tm1ChartType=="donut"){var C=_.findIndex(k.dataCopy,function(n){return n.chartDbrId==z.chartDbrId});if(C!=-1){angular.extend(k.dataCopy[C],z)}else{k.dataCopy.push(z)}}else{var D=false;angular.forEach(k.dataCopy,function(n){if(!D&&n.key==E){D=true}});if(!D){k.dataCopy.push({key:E,values:[]})}e=_.findIndex(k.dataCopy,function(n){return n.key==E});F=_.findIndex(k.dataCopy[e].values,function(n){return n.chartDbrId==z.chartDbrId});z.series=e;if(F!=-1){angular.extend(k.dataCopy[e].values[F],z)}else{k.dataCopy[e].values.push(z)}var G=0;angular.forEach(k.dataCopy,function(n){k.dataCopy[G].values=_.sortBy(k.dataCopy[G].values,function(o){return o.sortId});G++});if(k.tm1ChartType=="waterfall"){var G=F==-1?k.dataCopy[e].values.length-1:F;k.dataCopy[e].values[G].date=15854+G;if(G==0||!z.showMovement){k.dataCopy[e].values[G].open=0;k.dataCopy[e].values[G].high=0;k.dataCopy[e].values[G].close=z.value;k.dataCopy[e].values[G].low=z.value}else{k.dataCopy[e].values[G].open=k.dataCopy[e].values[G-1].close;k.dataCopy[e].values[G].high=k.dataCopy[e].values[G-1].low;k.dataCopy[e].values[G].close=z.value;k.dataCopy[e].values[G].low=z.value}G=0;_.forEach(k.dataCopy[e].values,function(n){if(G==0||!n.showMovement){n.open=0;n.high=0;n.close=n.value;n.low=n.value}else{n.open=k.dataCopy[e].values[G-1].close;n.high=k.dataCopy[e].values[G-1].low;n.close=n.value;n.low=n.value}G++})}if(k.tm1ChartType=="line"){e=_.findIndex(k.dataCopy,function(n){return n.key==E});if(g.isArea){k.dataCopy[e].area=true}if(angular.isDefined(g.seriesColor)){k.dataCopy[e].color=g.seriesColor}}k.logObj("Latest Chart Data",k.dataCopy)}if(k.customDirectiveColorScheme){var f=k.api.getScope().chart;var h=k.tm1ColorScheme;d3.scale.colorThemes=function(){return d3.scale.ordinal().range(h)};f.color(d3.scale.colorThemes().range())}else{if(angular.isDefined(m.instanceSettings[z.instance]&&angular.isDefined(m.instanceSettings[z.instance].chartColorScheme))){if(angular.isArray(m.instanceSettings[z.instance].chartColorScheme)){var f=k.api.getScope().chart;var h=m.instanceSettings[z.instance].chartColorScheme;d3.scale.colorThemes=function(){return d3.scale.ordinal().range(h)};f.color(d3.scale.colorThemes().range())}}}if(k.tm1ChartType=="discreteBar"){if(angular.isDefined(g.seriesColor)){k.discreteBarIsCustomColors=true}var A={chartDbrId:z.chartDbrId,color:k.discreteBarDefaultColor,sortId:z.sortId,isCustom:false};if(angular.isDefined(g.seriesColor)){A.color=g.seriesColor;A.isCustom=true}if(F!=-1){angular.extend(k.discreteBarPalette[F],A)}else{k.discreteBarPalette.push(A)}k.discreteBarPalette=_.sortBy(k.discreteBarPalette,function(n){return n.sortId});var y=k.dataCopy[e].values.length;var h=[];for(var I=0;I<y;I++){h.push(k.discreteBarPalette[I].color)}if(k.customDirectiveColorScheme){for(var I=0;I<y;I++){if(!k.discreteBarPalette[I].isCustom){if(I<k.tm1ColorScheme.length){k.discreteBarPalette[I].color=k.tm1ColorScheme[I]}else{var G=(k.tm1ColorScheme.length%(I+1))-1;k.discreteBarPalette[I].color=k.tm1ColorScheme[G]}}}}h.length=0;for(var I=0;I<y;I++){h.push(k.discreteBarPalette[I].color)}if(k.discreteBarIsCustomColors){d3.scale.colorThemes=function(){return d3.scale.ordinal().range(h)};k.api.getScope().chart.color(d3.scale.colorThemes().range())}}if(b.supportingRotateLabel[k.tm1ChartType]){k.api.getScope().chart.rotateLabels(k.rotateLabel)}k.data=_.cloneDeep(k.dataCopy);j(function(){k.api.getScope().chart.update()},1);if(k.hasModel){var B=[];var H={};angular.copy(k.dataCopy,B);angular.copy(k.options,H);k.ngModel={data:B,options:H}}}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiCron";d.Template="assets/html/tm1-ui-cron.html";c.directive(d.Name,["$tm1Ui","$http",function(b,a){return{restrict:"E",templateUrl:d.Template,transclude:false,replace:true,scope:{tm1UiClass:"@",tm1ApplyClipboardModalFix:"=",ngModel:"=",tm1CronDescriptionModel:"=",tm1CronSelectionModel:"=",tm1OnCronApply:"&"},link:function(p,n,s,q,r){p.directiveID=b.helperGenerateUUID();p.directiveClasses="";p.generatedCron="";p.generatedCronMessage="";p.cron={};p.CRON_DAILY="daily";p.CRON_WEEKLY="weekly";p.CRON_MONTHLY="monthly";p.CRON_CUSTOM="custom";p.CRON_MONTHLY_SPECIFIC="specific day";p.CRON_MONTHLY_LASTDAY="last day";p.CRON_MONTHLY_LASTWEEKDAY="last week day";p.CRON_MONTHLY_SPECIFICWEEKDAY="specific week day";p.CRON_MONTHLY_SPECIFICWORKINGDAY="specific working day of the month";p.CRON_DAILY_SPECIFIC="specific time";p.CRON_DAILY_STARTTIME="starting time";p.CRON_DAILY_EVERYHOUR="every hour";p.cron.type=p.CRON_DAILY;p.cron.hour="09";p.cron.minute="00";p.cron.ampm="am";p.cron.weekdays=[];p.cron.parts=["0","0","9","*","*","?","*"];p.cron.weekmonthorder=[];p.cron.weekmonthorder.push({key:"1",desc:"1st"});p.cron.weekmonthorder.push({key:"2",desc:"2nd"});p.cron.weekmonthorder.push({key:"3",desc:"3rd"});p.cron.weekmonthorder.push({key:"4",desc:"4th"});p.cron.weekmonthorder.push({key:"5",desc:"5th"});p.cron.weeknames=[];p.cron.weeknames.push({key:"2",desc:"Monday",selected:false});p.cron.weeknames.push({key:"3",desc:"Tuesday",selected:false});p.cron.weeknames.push({key:"4",desc:"Wednesday",selected:false});p.cron.weeknames.push({key:"5",desc:"Thursday",selected:false});p.cron.weeknames.push({key:"6",desc:"Friday",selected:false});p.cron.weeknames.push({key:"7",desc:"Saturday",selected:false});p.cron.weeknames.push({key:"1",desc:"Sunday",selected:false});p.cron.hours=[];for(var o=1;o<=12;o++){p.cron.hours.push(o<10?"0"+o:""+o)}p.cron.absoluteHours=[];for(var o=0;o<=23;o++){p.cron.absoluteHours.push(o<10?"0"+o:""+o)}p.minutes=[];for(var o=0;o<=59;o++){p.minutes.push(o<10?"0"+o:""+o)}p.cron.days=[];for(var o=1;o<=31;o++){p.cron.days.push({key:o,selected:false})}p.dayNo=[];var m=null;for(var o=1;o<=20;o++){m=o===1?"1st":m;m=o===2?"2nd":m;m=o===3?"3rd":m;m=o>3?o+"th":m;p.dayNo.push({key:o,display:m})}p.cron.monthlyOption=p.CRON_MONTHLY_SPECIFIC;p.cron.monthlyOptionsUpdated=false;p.cron.dailyOption=p.CRON_DAILY_SPECIFIC;p.cron.dailyOptionIncrement="5";p.cron.nextRuns=[];p.cron.nextRunFlagError=false;p.cron.nextRunErrorMessage="";p.cron.monthlyOccurence="1";p.cron.monthlyWeekday="2";if(p.tm1ApplyClipboardModalFix){if($.fn.modal.Constructor.prototype.enforceFocus!=undefined){$.fn.modal.Constructor.prototype.enforceFocus=function(){}}if($.fn.modal.Constructor.prototype._enforceFocus!=undefined){$.fn.modal.Constructor.prototype._enforceFocus=function(){}}}if(angular.isDefined(s.tm1UiClass)&&!_.isEmpty(p.tm1UiClass)){p.directiveClasses=p.tm1UiClass}p.updateCronMessage=function(){p.generatedCronMessage="";var k="",G="Everyday";for(var f=0;f<p.cron.parts.length;f++){if(f==2){var h=0;var C=undefined;if(angular.isString(p.cron.parts[2])&&p.cron.parts[2].indexOf("-")!=-1){h=parseInt(p.cron.parts[2].split("-")[0]);C=parseInt(p.cron.parts[2].split("-")[1])}else{h=parseInt(p.cron.parts[2])}var A="am";if(h>12){A="pm";h-=12}else{if(h==0){h=12}}var j=undefined,l=undefined;if(angular.isString(p.cron.parts[1])&&p.cron.parts[1].indexOf("/")!=-1){var F=p.cron.parts[1].split("/");j=F[0];l=F[1]}j=parseInt(p.cron.parts[1]);j=j<10?"0"+j:j;k="At "+h+":"+j+A;if(l){k+=" and every "+l+" minute(s) thereafter for an hour."}else{if(C){k+=" and every hour thereafter until "+p.cron.dailyOptionIntervalHourDesciption+"."}}}if(f==3&&p.cron.monthlyOptionsUpdated){if(p.cron.monthlyOption==p.CRON_MONTHLY_LASTWEEKDAY){G="Every Last Weekday of the Month"}else{if(p.cron.monthlyOption==p.CRON_MONTHLY_LASTDAY){G="Every Last Day of the Month"}else{if(p.cron.monthlyOption==p.CRON_MONTHLY_SPECIFIC){var B=[];_.forEach(p.cron.days,function(t){if(t.selected){B.push(t.key)}});if(B.length>0){G="Every Day ";_.forEach(B,function(t){G+=t+", "});G=G.substring(0,G.length-2);G+=" of the Month"}else{G="Everyday"}}else{if(p.cron.monthlyOption==p.CRON_MONTHLY_SPECIFICWEEKDAY){var E=_.find(p.cron.weekmonthorder,function(t){return t.key==p.cron.monthlyOccurence});var e=_.find(p.cron.weeknames,function(t){return t.key==p.cron.monthlyWeekday});G="Every "+E.desc+" "+e.desc+" of the Month"}else{if(p.cron.monthlyOption==p.CRON_MONTHLY_SPECIFICWORKINGDAY){var g=_.find(p.dayNo,function(t){return t.key==p.cron.monthlyWorkingDay});G="Every Nth working day of the Month";if(g){G="Every "+g.display+" working day of the Month"}}else{G="Unknown day format"}}}}}}else{if(f==5&&!p.cron.monthlyOptionsUpdated){if(p.cron.parts[5]!="*"&&p.cron.parts[5]!="?"){var D=p.cron.parts[5].split(",");if(D.length>0){G="Every ";_.forEach(D,function(t){G+=t=="1"?"Sunday, ":"";G+=t=="2"?"Monday, ":"";G+=t=="3"?"Tuesday, ":"";G+=t=="4"?"Wednesday, ":"";G+=t=="5"?"Thursday, ":"";G+=t=="6"?"Friday, ":"";G+=t=="7"?"Saturday, ":""});G=G.substring(0,G.length-2)}}}}}p.generatedCronMessage=G+" "+k};p.applyCron=function(){p.ngModel.cron=p.generatedCron;p.ngModel.customCron=p.generatedCron;p.ngModel.properCron=p.generatedCron;p.ngModel.customCronTargetWeekdayCount=0;if(p.ngModel.properCron.indexOf("[[")!=-1){p.ngModel.properCron=p.generatedCron.split("[[")[0]+p.generatedCron.split("]]")[1];p.temp=p.generatedCron.split("[[W")[1];p.ngModel.customCronTargetWorkdayCount=parseInt(p.temp.substring(0,p.temp.indexOf("]]")))}if(s.tm1CronDescriptionModel){p.tm1CronDescriptionModel=p.generatedCronMessage}if(s.tm1CronSelectionModel){p.tm1CronSelectionModel=angular.toJson(p.cron)}if(angular.isDefined(s.tm1OnCronApply)){p.tm1OnCronApply()}};p.clearWeekdaysSelection=function(){_.forEach(p.cron.weeknames,function(e){if(e.selected){e.selected=false}})};p.recalculateCron=function(){p.cron.monthlyOptionsUpdated=false;var w=false;var h="";if(p.cron.monthlyOption==p.CRON_MONTHLY_SPECIFIC){_.forEach(p.cron.days,function(t){if(t.selected){h+=","+t.key;w=true}});h=h.substr(1);if(w){p.clearWeekdaysSelection();p.cron.monthlyOptionsUpdated=true;p.cron.parts[3]=h;p.cron.parts[5]="?"}}else{if(p.cron.monthlyOption==p.CRON_MONTHLY_LASTDAY){w=true;p.cron.parts[3]="L";p.cron.parts[5]="?";p.cron.monthlyOptionsUpdated=true}else{if(p.cron.monthlyOption==p.CRON_MONTHLY_LASTWEEKDAY){w=true;p.cron.parts[3]="LW";p.cron.parts[5]="?";p.cron.monthlyOptionsUpdated=true}else{if(p.cron.monthlyOption==p.CRON_MONTHLY_SPECIFICWEEKDAY){w=true;p.clearWeekdaysSelection();p.cron.parts[3]="?";var x=_.findIndex(p.cron.weeknames,function(t){return t.key==p.cron.monthlyWeekday});var k=_.findIndex(p.cron.weekmonthorder,function(t){return t.key==p.cron.monthlyOccurence});p.cron.parts[5]=p.cron.weeknames[x].key+"#"+p.cron.weekmonthorder[k].key;p.cron.monthlyOptionsUpdated=true}else{if(p.cron.monthlyOption==p.CRON_MONTHLY_SPECIFICWORKINGDAY){w=true;p.cron.parts[3]="1[[W"+(p.cron.monthlyWorkingDay?p.cron.monthlyWorkingDay:"")+"]]";p.cron.parts[5]="?";p.cron.monthlyOptionsUpdated=true}}}}}var j=false;var f="";_.forEach(p.cron.weeknames,function(t){if(t.selected){f+=","+t.key;j=true}});f=f.substr(1);if(j){p.cron.parts[5]=f;p.cron.parts[3]="?"}if(!w&&!j){p.cron.parts[3]="*";p.cron.parts[5]="?"}var e=parseInt(p.cron.hour);var g=parseInt(p.cron.minute);if(p.cron.ampm=="pm"){e+=12}if(e==12||e==24){e=p.cron.ampm=="am"?0:12}p.cron.parts[1]=g;p.cron.parts[2]=e;if(p.cron.dailyOption==p.CRON_DAILY_STARTTIME&&!_.isEmpty(p.cron.dailyOptionIncrement)){p.cron.parts[1]+="/"+p.cron.dailyOptionIncrement;p.cron.dailyOptionEndTime=(e)+":59"+p.cron.ampm}else{if(p.cron.dailyOption==p.CRON_DAILY_EVERYHOUR){if(angular.isUndefined(p.cron.dailyOptionIntervalHour)){p.cron.dailyOptionIntervalHour="23"}if(angular.isUndefined(p.cron.absoluteHours)){p.cron.absoluteHours=[]}p.cron.dailyOptionIntervalHourDesciption=moment("2000-01-01 "+p.cron.dailyOptionIntervalHour+":"+p.cron.minute).format("hh:mm a");var l=parseInt(p.cron.dailyOptionIntervalHour);p.cron.parts[2]=p.cron.parts[2]+"-"+l;p.cron.absoluteHours.length=0;if(e<23){for(var y=e+1;y<=23;y++){p.cron.absoluteHours.push(y<10?"0"+y:""+y)}}else{p.cron.absoluteHours.push("23")}if(_.isEmpty(p.cron.dailyOptionIntervalHour)){p.cron.dailyOptionIntervalHour="23"}}}p.cron.nextRuns.length=0;p.cron.nextRunFlagError=false;p.updateCron();p.updateCronMessage()};p.updateCron=function(){p.generatedCron="";_.forEach(p.cron.parts,function(e){p.generatedCron+=" "+e});p.generatedCron=p.generatedCron.substr(1)};p.checkCron=function(){p.cron.nextRunFlagError=false;var e={cron:p.generatedCron,count:5};a.post("api/admin/scheduler/next",e).then(function(f,g){if(b.helperIsSuccessful(f)){p.cron.nextRuns=f.data}else{p.cron.nextRunFlagError=true;if(f.status==400){p.cron.nextRunErrorMessage=f.data.message?f.data.message:"Unsupported CRON Format"}else{p.cron.nextRunErrorMessage="Unknown Error. Check Logs."}}})};if(angular.isDefined(s.tm1UiClass)){p.$watch("tm1UiClass",function(f,e){p.directiveClasses=_.isEmpty(f)?"":f})}if(angular.isDefined(s.tm1CronSelectionModel)&&!_.isEmpty(p.tm1CronSelectionModel)){p.cron=angular.fromJson(p.tm1CronSelectionModel)}p.recalculateCron()}}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiDbrCmComment";d.Controller="Tm1UiDbrCmCommentCtrl";d.Template="assets/html/tm1-ui-dbr-cm-comment.html";c.directive(d.Name,["tm1UiSettings","$tm1Ui","$rootScope",function(b,a,f){return{restrict:"E",templateUrl:d.Template,transclude:false,replace:true,scope:{tm1Instance:"@",tm1Cube:"=",tm1Elements:"=",tm1CommentCube:"=",tm1CommentElements:"=",tm1FormatHtmlButtons:"=",tm1ReadOnly:"=",tm1HasAnnotations:"=",tm1ParentDirective:"@",tm1Debug:"=",tm1UiClass:"@"},link:function(l,e,o,m,n){l.directiveID=a.helperGenerateUUID();l.readOnly=false;l.useAnnotations=true;l.annotations=[];l.annotationSelected="";l.showAnnotationViewer=true;l.comment=l.tm1CommentValue;l.debug=false;l.log=function(g){l.logObj(g,{message:g})};l.logObj=function(h,g){if(l.debug){f.$broadcast(b.frameworkLogID,{id:l.directiveID,name:d.Name,message:h,object:g})}};if(angular.isDefined(o.tm1Debug)&&l.tm1Debug){l.debug=true}if(angular.isDefined(o.tm1ReadOnly)&&l.tm1ReadOnly){l.readOnly=true}if(angular.isDefined(o.tm1CommentElements)&&!_.isEmpty(l.tm1CommentElements)){l.useAnnotations=false}l.setAnnotationView=function(g){l.annotationSelected=g.commentValue;l.showAnnotationViewer=true};l.hideViewer=function(){l.showAnnotationViewer=false};l.updateCommentBox=function(){if(angular.isUndefined(l.comment)){l.comment=""}l.comment+=l.annotationSelected};if(l.useAnnotations){m.refreshCubeAnnotations()}else{m.refreshCubeComment()}l.saveComments=function(){if(!_.isEqual(l.comment,l.tm1CommentValue)){if(!l.useAnnotations){m.saveCubeComment()}else{m.saveCubeAnnotations()}}}},controller:d.Controller}}]);c.controller(d.Controller,["$scope","$tm1Ui","tm1UiSettings","$log","$rootScope",function(k,j,l,b,m){var a=this;a.refreshParent=function(){m.$broadcast(k.tm1ParentDirective+".event.refresh")};a.refreshCubeComment=function(){k.comment="";j.cellGets([{instance:k.tm1Instance,cube:k.tm1CommentCube,cubeElements:j.helperConvertElementsToArray(k.tm1CommentElements)}]).then(function(e){k.comment=e[0].Value})};a.refreshCubeAnnotations=function(){j.cellAnnotationGet(k.tm1Instance,k.tm1Cube,j.helperConvertElementsToArray(k.tm1Elements)).then(function(e){k.annotations=e})};a.saveCubeComment=function(){var e={id:k.directiveID,instance:k.tm1Instance,cube:k.tm1CommentCube,cubeElements:j.helperConvertElementsToArray(k.tm1CommentElements),value:k.comment};j.cellPuts([e]).then(function(f){if(f.success){a.refreshParent()}else{k.logObj("comment update error",success.data);b.error("Error Saving Comment");b.error(success)}})};a.saveCubeAnnotations=function(){k.log("Saving Comment: "+k.annotatedMessage);j.cellAnnotationPut(k.comment,k.tm1Instance,k.tm1Cube,j.helperConvertElementsToArray(k.tm1Elements)).then(function(e){if(e.success){k.isAnnotated=true;a.refreshParent()}else{b.error("Error Saving Annotations");b.error(success)}})}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiDbrCmDrill";d.Controller="Tm1UiDbrCmDrillCtrl";d.Template="assets/html/tm1-ui-dbr-cm-drill.html";c.directive(d.Name,["tm1UiSettings","$rootScope","$tm1Ui","screenSize",function(g,h,b,a){return{restrict:"E",templateUrl:d.Template,transclude:false,replace:true,scope:{tm1Instance:"@",tm1Cube:"=",tm1Elements:"=",tm1Value:"=",tm1DrillData:"=",tm1Debug:"=",tm1UiClass:"@"},link:function(f,e,o,m,n){f.directiveID=b.helperGenerateUUID();f.directiveClasses="";f.drills=[];f.hasDrillModel=false;f.debug=false;f.screenSize=a;f.pageArray=[];f.maxRowsTotal=0;f.searchValue="";f.activePage=0;f.currentPage=0;f.pageSize=5;f.hasDrillsSelected=false;f.pageSizeOptions=[5,10,20,50];f.log=function(j){f.logObj(j,{message:j})};f.logObj=function(j,k){if(f.debug){h.$broadcast(g.frameworkLogID,{id:f.directiveID,name:d.Name,message:j,object:k})}};if(angular.isDefined(o.tm1Debug)&&f.tm1Debug){f.debug=true}if(angular.isDefined(o.tm1UiClass)&&!_.isEmpty(f.tm1UiClass)){f.directiveClasses=f.tm1UiClass}if(angular.isDefined(o.tm1DrillData)){f.hasDrillModel=true}f.setPageSize=function(j){f.pageSize=j;f.updatePageArray()};f.getNextPage=function(){f.activePage++;return f.currentPage+=f.pageSize};f.getPreviousPage=function(){f.activePage--;return f.currentPage-=f.pageSize};f.getCurrentPage=function(){return f.currentPage};f.gotoPage=function(j){f.activePage=j;f.currentPage=(f.pageSize*j)-f.pageSize};f.updatePageArray=function(){if(f.maxRowsTotal>0){f.pageArray.length=0;for(var j=1;j<=f.maxRowsTotal;j++){if(j==1){f.pageArray.push(j)}else{if((j%f.pageSize)==0){f.pageArray.push((j/f.pageSize)+1)}}}}};f.updateSearchValue=function(j){f.searchValue=j};f.updateDrillTransactions=function(j){if(j.isSelected){_.forEach(f.drills,function(k){if(k.name!=j.name){k.isSelected=false}});b.cellGetDrillNameTransactions(f.tm1Instance,f.tm1Cube,b.helperConvertElementsToArray(f.tm1Elements),j.name).then(function(k){if(j.type=="RelationalDrillthrough"){j.transactions=k;if(angular.isDefined(k.value)){j.rowsTotal=k.value.length}}else{if(j.type=="CubeDrillthrough"){b.addTableData(k);j.transactions=k;if(k.Axes&&k.Axes.length>1&&angular.isDefined(k.Axes[1].Cardinality)){j.rowsTotal=k.Axes[1].Cardinality}}}if(f.hasDrillModel){f.tm1DrillData[j.name].transactions=k}f.maxRowsTotal=j.rowsTotal>f.maxRowsTotal?j.rowsTotal:f.maxRowsTotal;f.updatePageArray();if(f.activePage==0){f.activePage=1}})}else{j.transactions=undefined}f.hasDrillsSelected=false;_.forEach(f.drills,function(k){if(k.isSelected){f.hasDrillsSelected=true}})};if(angular.isDefined(o.tm1UiClass)){f.$watch("tm1UiClass",function(k,j){f.directiveClasses=_.isEmpty(k)?"":k})}m.refreshData()},controller:d.Controller}}]);c.controller(d.Controller,["$scope","$tm1Ui","$log",function(h,g,b){var a=this;a.refreshData=function(){g.cellGetDrillNames(h.tm1Instance,h.tm1Cube,g.helperConvertElementsToArray(h.tm1Elements)).then(function(e){h.drills.length=0;if(h.hasDrillModel){h.tm1DrillData={}}if(e&&e.length>0){_.forEach(e,function(f){h.drills.push({name:f.name,type:f.type,isSelected:false});if(h.hasDrillModel){h.tm1DrillData[f.name]={type:f.type}}})}})}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiDbrCmReference";d.Controller="Tm1UiDbrCmReferenceCtrl";d.Template="assets/html/tm1-ui-dbr-cm-reference.html";c.directive(d.Name,["tm1UiSettings","$rootScope","$tm1Ui",function(b,f,a){return{restrict:"E",templateUrl:d.Template,transclude:false,replace:true,scope:{tm1Instance:"@",tm1Cube:"=",tm1Elements:"=",tm1Value:"=",tm1PickList:"=",tm1CommentCube:"=",tm1CommentElements:"=",tm1CommentValue:"=",tm1Debug:"=",tm1UiClass:"@"},link:function(l,e,o,m,n){l.directiveID=a.helperGenerateUUID();l.directiveClasses="";l.dimensionElements=[];l.commentDimensionElements=[];l.debug=false;l.log=function(g){l.logObj(g,{message:g})};l.logObj=function(h,g){if(l.debug){f.$broadcast(b.frameworkLogID,{id:l.directiveID,name:d.Name,message:h,object:g})}};if(angular.isDefined(o.tm1Debug)&&l.tm1Debug){l.debug=true}if(angular.isDefined(o.tm1UiClass)&&!_.isEmpty(l.tm1UiClass)){l.directiveClasses=l.tm1UiClass}if(angular.isDefined(o.tm1UiClass)){l.$watch("tm1UiClass",function(g,h){l.directiveClasses=_.isEmpty(g)?"":g})}m.refreshData()},controller:d.Controller}}]);c.controller(d.Controller,["$scope","$tm1Ui","$log",function(h,g,b){var a=this;a.refreshData=function(){if(h.tm1Cube){g.cubeDimensions(h.tm1Instance,h.tm1Cube).then(function(e){h.dimensionElements=[];var l=0;var m={};var f=g.helperConvertElementsToArray(h.tm1Elements);_.forEach(e,function(j){m={dimension:j};if(f&&l<f.length){m.element=f[l]}h.dimensionElements.push(m);l++})})}if(h.tm1CommentCube){g.cubeDimensions(h.tm1Instance,h.tm1CommentCube).then(function(e){h.commentDimensionElements=[];var l=0;var m={};var f=g.helperConvertElementsToArray(h.tm1CommentElements);_.forEach(e,function(j){m={dimension:j};if(f&&l<f.length){m.element=f[l]}h.commentDimensionElements.push(m);l++})})}}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiDbrCmSpread";d.Controller="Tm1UiDbrCmSpreadCtrl";d.Template="assets/html/tm1-ui-dbr-cm-spread.html";c.directive(d.Name,["$filter","tm1UiSettings","$tm1Ui","$rootScope",function(a,g,b,h){return{restrict:"E",templateUrl:d.Template,transclude:false,replace:true,scope:{tm1SpreadAction:"=",tm1Debug:"=",tm1UiClass:"@"},link:function(f,e,o,m,n){f.directiveID=b.helperGenerateUUID();f.directiveClasses="";f.tm1SpreadAction.customSpreadCommand="";f.debug=false;f.log=function(j){f.logObj(j,{message:j})};f.logObj=function(j,k){if(f.debug){h.$broadcast(g.frameworkLogID,{id:f.directiveID,name:d.Name,message:j,object:k})}};if(angular.isDefined(o.tm1Debug)&&f.tm1Debug){f.debug=true}if(angular.isDefined(o.tm1UiClass)&&!_.isEmpty(f.tm1UiClass)){f.directiveClasses=f.tm1UiClass}f.apply=function(){if(!_.isEmpty(f.tm1SpreadAction.action)){var j="";switch(f.tm1SpreadAction.action){case"clear":f.confirmClear=true;break;case"proportional":f.$parent.entry.spreadValue="p > "+f.tm1SpreadAction.spreadValue;f.$parent.updateData();break;case"custom":f.$parent.entry.spreadValue=f.tm1SpreadAction.customSpreadCommand;f.$parent.updateData();break;default:$log.error("Unsupported spread command: "+f.tm1SpreadAction.action)}}};f.confirm=function(){f.$parent.entry.spreadValue="c";f.$parent.updateData()};if(angular.isDefined(o.tm1UiClass)){f.$watch("tm1UiClass",function(k,j){f.directiveClasses=_.isEmpty(k)?"":k})}},controller:d.Controller}}]);c.controller(d.Controller,["$scope","$http","tm1UiSettings","$log",function(j,a,k,h){var b=this}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiDbrDate";d.Controller="Tm1UiDbrDateCtrl";d.Template="assets/html/tm1-ui-dbr-date.html";c.directive(d.Name,["$filter","$tm1Ui","$tm1UiDbr",function(a,f,b){return{restrict:"EA",templateUrl:d.Template,transclude:false,replace:true,scope:{name:"@",id:"@",tm1UiClass:"@",tm1Instance:"@",tm1ReadOnly:"=",tm1CommentReadOnly:"=",tm1Cube:"@",tm1Elements:"@",tm1CommentCube:"@",tm1CommentElements:"@",tm1CommentFormatHtmlButtons:"=",tm1Placeholder:"@",tm1DateOption:"=",tm1HideReference:"=",tm1HideComment:"=",tm1HideSpread:"=",tm1HideDrill:"=",tm1BeforeUpdate:"&",tm1Api:"=",tm1Debug:"=",tm1DrillModel:"=",ngModel:"="},link:function(l,e,o,m,n){b.init(l);b.validate(l,o);l.isDateFormatted=true;if(angular.isUndefined(l.dateOption)){l.dateOption={format:"yyyy-mm-dd"}}b.initializeHelpers(l);b.initializeApi(l);l.updateData=function(){b.eventUpdateData(l,e)};l.onChange=function(){l.validationMessage=""};l.showStatus=function(){var g=a("filter")(l.entry.picklist,{value:l.entry.value});return(l.entry.value&&g.length)?g[0].text:"Not set"};l.showContext=function(g){b.eventOnClickForContext(l,g)};l.showReference=function(){b.showContextReference(l)};l.showSpread=function(){b.showContextSpread(l)};l.showDrill=function(){b.showContextDrill(l)};l.showComment=function(){b.showContextComment(l)};b.initializeEventReceivers(l);b.initializeWatchers(l,o);if(b.hasCompleteParams(l)){b.refreshData(l)}}}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiDbrHidden";c.directive(d.Name,["$tm1UiDbr",function(a){return{restrict:"E",template:'<span ng-hide="true"></span>',transclude:false,replace:true,scope:{tm1Instance:"@",tm1Cube:"@",tm1Elements:"@",tm1DataDecimal:"@",tm1Debug:"=",ngModel:"="},link:function(j,b,m,k,l){a.init(j);a.validate(j,m);j.tm1UiDbrHiddenOptions={isValueOnly:true};a.initializeEventReceivers(j);a.initializeWatchers(j,m);if(a.hasCompleteParams(j)){a.refreshData(j)}}}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiDbrImage";d.Template="assets/html/tm1-ui-dbr-image.html";c.directive(d.Name,["$filter","$tm1Ui","$tm1UiDbr",function(a,f,b){return{restrict:"EA",templateUrl:d.Template,transclude:false,replace:true,scope:{name:"@",id:"@",tm1UiClass:"@",tm1Instance:"@",tm1Cube:"@",tm1Elements:"@",tm1Debug:"=",tm1Alt:"@",ngModel:"="},link:function(l,e,o,m,n){b.init(l);l.imageAlt="Image Uploaded...";if(angular.isDefined(o.tm1Alt)){l.imageAlt=l.tm1Alt}b.validate(l,o);b.initializeHelpers(l);b.initializeEventReceivers(l);b.initializeWatchers(l,o);if(b.hasCompleteParams(l)){b.refreshData(l)}}}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiDbrReadOnly";d.Template="assets/html/tm1-ui-dbr-read-only.html";c.directive(d.Name,["$tm1UiDbr",function(a){return{restrict:"E",templateUrl:d.Template,transclude:false,replace:true,scope:{name:"@",id:"@",tm1UiClass:"@",tm1Instance:"@",tm1CommentReadOnly:"=",tm1Cube:"@",tm1Elements:"@",tm1CommentCube:"@",tm1CommentElements:"@",tm1CommentFormatHtmlButtons:"=",tm1HideReference:"=",tm1HideComment:"=",tm1HideSpread:"=",tm1HideDrill:"=",tm1HideContextMenu:"=",tm1AddContextMenu:"=",tm1DataDecimal:"@",tm1FormatPercentage:"=",tm1FormatParenthesis:"=",tm1Debug:"=",tm1AccountingSettingsOverride:"=",tm1DrillModel:"=",ngModel:"="},link:function(j,b,m,k,l){a.init(j);a.validate(j,m);j.tm1UiDbrReadOnlyOptions={isValueOnly:true};a.initializeHelpers(j);j.showContext=function(e){a.eventOnClickForContext(j,e)};j.showReference=function(){a.showContextReference(j)};j.showSpread=function(){a.showContextSpread(j)};j.showDrill=function(){a.showContextDrill(j)};j.showComment=function(){a.showContextComment(j)};a.initializeEventReceivers(j);a.initializeWatchers(j,m);if(a.hasCompleteParams(j)){a.refreshData(j)}}}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiDbr";d.Controller="Tm1UiDbrCtrl";d.Template="assets/html/tm1-ui-dbr.html";c.directive(d.Name,["$filter","$tm1Ui","$tm1UiDbr",function(a,f,b){return{restrict:"EA",templateUrl:d.Template,transclude:false,replace:true,scope:{name:"@",id:"@",tm1UiClass:"@",tm1Instance:"@",tm1ReadOnly:"=",tm1CommentReadOnly:"=",tm1DataDecimal:"@",tm1PicklistDisableSearch:"=",tm1PicklistRadio:"@",tm1MultiLine:"@",tm1RptViewModel:"=",tm1RptRowCell:"=",tm1Cube:"@",tm1Elements:"@",tm1CommentCube:"@",tm1CommentElements:"@",tm1CommentFormatHtmlButtons:"=",tm1DefaultEmpty:"@",tm1Placeholder:"@",tm1FormatPercentage:"=",tm1FormatParenthesis:"=",tm1DateOption:"=",tm1EnableRtf:"=",tm1FormatHtml:"=",tm1FormatHtmlPopup:"=",tm1FormatHtmlButtons:"=",tm1FormatHtmlButtonEnabled:"=",tm1FormatHtmlButtonText:"@",tm1FormatHtmlButtonClass:"@",tm1Validate:"@",tm1ValidateMessage:"@",tm1HideReference:"=",tm1HideComment:"=",tm1HideSpread:"=",tm1HideDrill:"=",tm1HideContextMenu:"=",tm1AddContextMenu:"=",tm1BeforeUpdate:"&",tm1ConsolInput:"=",tm1ConsolInputSpreadMethod:"@",tm1Change:"&",tm1Api:"=",tm1AccountingSettingsOverride:"=",tm1Debug:"=",tm1DrillModel:"=",ngModel:"="},link:function(l,e,o,m,n){b.init(l);b.initWithRptView(l,o);b.validate(l,o);b.initializeHelpers(l);b.initializeApi(l);l.onInputFocus=function(){l.isInputActive=true;l.updateTimestamp=_.now();l.checkDatePicker()};l.onInputBlur=function(){l.isInputActive=false;b.eventUpdateData(l,e)};l.updateData=function(){b.eventUpdateData(l,e)};l.paste=function(g){b.eventPaste(l,g)};l.onChange=function(){l.validationMessage=""};l.onKeyDown=function(g){b.eventKeyDown(l,g)};l.showStatus=function(){var g=a("filter")(l.entry.picklist,{value:l.entry.value});return(l.entry.value&&g.length)?g[0].text:"Not set"};l.showContext=function(g){if(g==9){b.updatePicklistValues(l)}b.eventOnClickForContext(l,g)};l.showReference=function(){b.showContextReference(l)};l.showSpread=function(){b.showContextSpread(l)};l.showDrill=function(){b.showContextDrill(l)};l.showComment=function(){b.showContextComment(l)};b.initializeEventReceivers(l);b.initializeWatchers(l,o);if(b.hasCompleteParams(l)){b.refreshData(l)}}}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiDbra";d.Controller="Tm1UiDbraCtrl";d.Template="assets/html/tm1-ui-dbra.html";c.directive(d.Name,["$filter","tm1UiSettings","$log","$tm1Ui","$rootScope","$timeout","$ngBootbox",function(b,n,k,m,o,l,a){return{restrict:"E",templateUrl:d.Template,transclude:false,priority:10,replace:true,scope:{name:"@",id:"@","class":"@",tm1Instance:"@",tm1ReadOnly:"=",tm1DataDecimal:"@",tm1Dimension:"@",tm1Element:"@",tm1Attribute:"@",tm1UiClass:"@",tm1Placeholder:"@",tm1Validate:"@",tm1ValidateMessage:"@",tm1HideReference:"=",tm1Change:"&",tm1Api:"=",tm1Debug:"=",ngModel:"=?"},link:function(q,h,g,e,f){q.formatNumberFlag=false;q.entry={value:"-"};q.DEFAULT_ERROR_DISPLAY="#VALUE!";q.isReadOnly=false;q.currentEntryValue="";q.directiveID=m.helperGenerateUUID();q.tm1Cube="";q.tm1Elements="";q.emptyDisplay="";q.directiveClasses="";q.hasModel=false;q.hasValidation=false;q.hasValidationMessage=false;q.validate="";q.validateMessage="Not a valid entry. Please Check.";q.KEY_VALUE="@Value";q.KEY_REGEX="@RegEx";q.errorMessage="";q.hideReference=false;q.contextTimeout=5;q.hasApi=false;q.hasOnChangeFunction=false;q.debug=false;q.log=function(p){q.logObj(p,{message:p})};q.logObj=function(s,p){if(q.debug){o.$broadcast(n.frameworkLogID,{id:q.directiveID,name:d.Name,message:s,object:p})}};if(angular.isDefined(g.tm1Debug)&&q.tm1Debug){q.debug=true}if(angular.isDefined(g.tm1DataDecimal)){q.formatNumberFlag=true}if(angular.isUndefined(g.tm1Instance)){throw"tm1-instance is a required attribute."}if(angular.isUndefined(g.tm1Dimension)){throw"tm1-dimension is a required attribute."}if(angular.isUndefined(g.tm1Element)){throw"tm1-element is a required attribute."}if(angular.isUndefined(g.tm1Attribute)){throw"tm1-attribute is a required attribute."}if(angular.isDefined(g.ngModel)){q.hasModel=true}if((_.isEmpty(q.tm1Dimension)||_.isEmpty(q.tm1Element)||_.isEmpty(q.tm1Attribute))){q.isReadOnly=true}q.tm1Dimension=_.isEmpty(q.tm1Dimension)?"":q.tm1Dimension;q.tm1Element=_.isEmpty(q.tm1Element)?"":q.tm1Element;q.tm1Attribute=_.isEmpty(q.tm1Attribute)?"":q.tm1Attribute;if(angular.isDefined(g.tm1Placeholder)&&!_.isEmpty(q.tm1Placeholder)){q.emptyDisplay=q.tm1Placeholder}if(angular.isDefined(g.tm1UiClass)&&!_.isEmpty(q.tm1UiClass)){q.directiveClasses=q.tm1UiClass}if(angular.isDefined(g.tm1Validate)){q.hasValidation=true}if(angular.isDefined(g.tm1HideReference)&&q.tm1HideReference){q.hideReference=true}if(angular.isDefined(g.tm1Api)){q.hasApi=true}if(angular.isDefined(g.tm1Change)){q.hasOnChangeFunction=true}if(q.hasApi){var j={setContextTimeout:function(p){try{q.contextTimeout=parseInt(p)}catch(s){}}};q.tm1Api=angular.merge({},q.tm1Api,j)}q.evaluateIfReadOnly=function(){q.isReadOnly=false;if(q.tm1ReadOnly!=undefined){q.isReadOnly=q.tm1ReadOnly}};q.formatData=function(p){if(q.formatNumberFlag){p=b("number")(p,q.tm1DataDecimal)}return p};q.getReadonlyData=function(p){return q.isReadOnly?q.formatData(p):""};q.hasCompleteParams=function(){if(_.isEmpty(q.tm1Dimension)||_.isEmpty(q.tm1Element)||_.isEmpty(q.tm1Attribute)){e.dbraParams="";return false}q.evaluateIfReadOnly();q.tm1Cube="}ElementAttributes_"+q.tm1Dimension;q.tm1Elements=q.tm1Element+","+q.tm1Attribute;return true};q.isContextApplicable=function(){var p=false;if(!q.hideReference){p=true}return p};q.showContext=function(p){q.log("showContext("+p+")");if(q.isContextApplicable()){q.hasContext=true;if(q.timer){l.cancel(q.timer);q.timer=null}q.log("showContext() contextTimeout: "+q.contextTimeout);q.timer=l(function(){q.hasContext=false},q.contextTimeout*1000)}};q.showReference=function(){var p="<h4><label>Dimension</label>: "+q.tm1Dimension+"</h4><div><label>Element</label>: "+q.tm1Element+"</div><div><label>Attribute</label>: "+q.tm1Attribute+"</div><div><label>Value</label>: "+q.currentEntryValue+"</div>";a.alert(p)};q.updateData=function(){if(q.currentEntryValue!=q.entry.value){e.updateData(q.entry.value)}};q.$on(d.Name+".event.refresh",function(p,s){if(angular.isDefined(s)&&angular.isDefined(s.source)&&s.source==q.directiveID){}else{e.refreshData()}});q.$on("tm1.event.refresh",function(p){e.refreshData()});q.$on(n.batcherResponseID,function(p,s){if(!_.isEmpty(s)){if(s[q.directiveID]){e.updateDirectiveState(s[q.directiveID])}}});q.$watch("tm1Dimension",function(p,s){if(p!=s){if(q.hasCompleteParams()){e.refreshData()}}});q.$watch("tm1Element",function(p,s){if(p!=s){if(q.hasCompleteParams()){e.refreshData()}}});q.$watch("tm1Attribute",function(p,s){if(p!=s){if(q.hasCompleteParams()){e.refreshData()}}});if(q.tm1ReadOnly!=undefined){q.$watch("tm1ReadOnly",function(p,s){if(p!=s){if(q.hasCompleteParams()){e.refreshData()}}})}if(angular.isDefined(g.tm1UiClass)){q.$watch("tm1UiClass",function(p,s){q.directiveClasses=_.isEmpty(p)?"":p})}if(angular.isDefined(g.tm1Validate)){q.$watch("tm1Validate",function(p,s){if(!_.isEmpty(p)){if(p.indexOf(q.KEY_VALUE)!=-1&&p.indexOf(q.KEY_REGEX)!=-1){q.validationMessage=q.KEY_VALUE+" or "+q.KEY_REGEX+" must be defined, but not BOTH. Please Check tm1-validate: "+p}else{if(p.indexOf(q.KEY_VALUE)==-1&&p.indexOf(q.KEY_REGEX)==-1){q.validationMessage="Either "+q.KEY_VALUE+" or "+q.KEY_REGEX+" must be defined. Please Check tm1-validate: "+p}}}});if(angular.isDefined(g.tm1ValidateMessage)){q.hasValidationMessage=true;q.$watch("tm1ValidateMessage",function(p,s){q.validateMessage=_.isEmpty(p)?"Not a valid entry. Please Check.":p})}}if(q.hasCompleteParams()){e.refreshData()}},controller:d.Controller}}]);c.controller(d.Controller,["$scope","tm1UiSettings","$log","$rootScope","$timeout","$tm1Ui",function(m,n,b,o,k,l){var a=this;a.dbraParams="";a.odata_cell={};a.refreshData=function(){var e={id:m.id,dbr:{id:m.directiveID,instance:m.tm1Instance,cube:m.tm1Cube,cubeElements:l.helperConvertElementsToArray(m.tm1Elements),isValueOnly:false}};m.$emit(n.batcherRequestID,e)};a.updateDirectiveState=function(g){m.logObj("Received Response ["+m.tm1Dimension+"]["+m.tm1Element+"]["+m.tm1Attribute+"]",g);m.validationMessage="";if(l.helperIsStatusSuccessful(g.statusCode)){a.odata_cell=g;a.odata_cell.ID=g.odataId;m.entry.value=a.odata_cell.Value;if(angular.isDefined(a.odata_cell.isReadOnly)&&a.odata_cell.isReadOnly){m.isReadOnly=true}if(m.hasModel){if(!_.isEmpty(a.odata_cell.Value)){m.ngModel=a.odata_cell.Value}else{m.ngModel=""}}if(m.hasOnChangeFunction){m.tm1Change({data:angular.isDefined(m.ngModel)?m.ngModel:m.entry.value})}}else{m.entry.value=m.DEFAULT_ERROR_DISPLAY;b.error("dbra(ERROR) - instance: "+m.tm1Instance+", dimension: "+m.tm1Dimension+", element: "+m.tm1Element+", attribute: "+m.tm1Attribute);b.error(g);m.errorMessage="(StatusCode: "+g.statusCode+")";if(angular.isDefined(g.errorMessage)){try{var f=angular.fromJson(g.errorMessage);b.debug(f);m.errorMessage=f.error.message+" "+m.errorMessage;m.validationMessage=m.errorMessage}catch(e){}}}m.currentEntryValue=m.entry.value};a.updateData=function(e){m.validationMessage=null;if(m.hasValidation){var f=false;if(m.tm1Validate.indexOf(m.KEY_REGEX)!=-1){m.validate=m.tm1Validate.split(m.KEY_REGEX).join("").trim();m.log("evaluating regex "+m.validate);var g=new RegExp(m.validate);f=g.test(e);m.logObj("evaluated regular expression",f)}else{m.validate=m.tm1Validate.split(m.KEY_VALUE).join(e);f=m.$eval(m.validate);m.log("evaluating "+m.validate);m.logObj("evaluated validation expression",f)}if(!f){if(m.hasValidationMessage&&m.tm1ValidateMessage.indexOf(m.KEY_VALUE)!=-1){m.validateMessage=m.tm1ValidateMessage.split(m.KEY_VALUE).join(e)}m.validationMessage=m.validateMessage;return}}l.attributePut(e,m.tm1Instance,m.tm1Dimension,m.tm1Element,m.tm1Attribute).then(function(h){if(m.hasApi&&m.tm1Api.onUpdate){m.tm1Api.onUpdate(h,{instance:m.tm1Instance,dimension:m.tm1Dimension,element:m.tm1Element,attribute:m.tm1Attribute,value:e})}if(h.success){if(m.hasModel){m.ngModel=e}if(m.hasOnChangeFunction){m.tm1Change({data:angular.isDefined(m.ngModel)?m.ngModel:e})}m.currentEntryValue=e;o.$broadcast(d.Name+".event.refresh",{source:m.directiveID})}else{b.error(h.message)}})}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiElementListItem";d.Controller="Tm1UiElementListItemCtrl";d.Template="assets/html/tm1-ui-element-list-item.html";c.directive(d.Name,["$filter","tm1UiSettings","uuid2","$rootScope",function(a,g,b,h){return{restrict:"E",templateUrl:d.Template,transclude:false,replace:true,scope:{tm1Item:"=",tm1ItemDisplay:"@",tm1Indent:"=",tm1UiClass:"@",tm1UiClassLeaf:"@",tm1UiClassConsolidated:"@",tm1Debug:"="},link:function(f,e,o,m,n){f.directiveID=b.newguid();f.directiveClasses=[];f.itemDisplay="";f.indent=true;f.indentArray=[];f.debug=false;f.log=function(j){f.logObj(j,{message:j})};f.logObj=function(j,k){if(f.debug){h.$broadcast(g.frameworkLogID,{id:f.directiveID,name:d.Name,message:j,object:k})}};if(angular.isDefined(o.tm1Debug)&&f.tm1Debug){f.debug=true}if(o.tm1Indent&&!f.tm1Indent){f.indent=false}if(!o.tm1Item){throw"tm1-item is a REQUIRED attribute."}f.itemDisplay=f.tm1Item.key;if(o.tm1ItemDisplay){f.itemDisplay=f.tm1ItemDisplay}f.isLeaf=f.tm1Item.isLeaf;if(angular.isDefined(o.tm1UiClass)&&!_.isEmpty(f.tm1UiClass)){f.directiveClasses.push(f.tm1UiClass)}if(f.indent&&f.tm1Item.topLevel){f.indentArray=new Array(f.tm1Item.topLevel)}f.updateDirectiveClass=function(){f.directiveClasses.length=0;if(!_.isEmpty(f.tm1UiClass)){f.directiveClasses.push(f.tm1UiClass)}if(!_.isEmpty(f.tm1UiClassLeaf)&&f.tm1Item.isLeaf){f.directiveClasses.push(f.tm1UiClassLeaf)}if(!_.isEmpty(f.tm1UiClassConsolidated)&&!f.tm1Item.isLeaf){f.directiveClasses.push(f.tm1UiClassConsolidated)}};if(angular.isDefined(o.tm1UiClass)){f.$watch("tm1UiClass",function(k,j){f.updateDirectiveClass()})}if(angular.isDefined(o.tm1UiClassLeaf)){f.$watch("tm1UiClassLeaf",function(k,j){f.updateDirectiveClass()})}if(angular.isDefined(o.tm1UiClassConsolidated)){f.$watch("tm1UiClassConsolidated",function(k,j){f.updateDirectiveClass()})}},controller:d.Controller}}]);c.controller(d.Controller,["$scope","$http","tm1UiSettings","$log",function(j,a,k,h){var b=this}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiElementList";d.Controller="Tm1UiElementListCtrl";d.ControllerAs="tm1UiElementListCtrl";c.directive(d.Name,["$filter","tm1UiSettings","$log","uuid2","$rootScope",function(a,j,b,h,k){return{restrict:"E",template:"<span></span>",transclude:true,replace:true,scope:{name:"@",id:"@","class":"@",tm1Instance:"@",tm1Dimension:"@",tm1Subset:"@",tm1Attributes:"@",tm1Mdx:"@",tm1CalculateTopLevel:"=",tm1OnDataReady:"&",tm1Api:"=",tm1Debug:"=",ngModel:"="},link:function(f,e,o,g,n){if(f.ngModel&&angular.isArray(f.ngModel)){f.ngModel.length=0}else{f.ngModel=[]}f._elements=[];f.directiveID=h.newguid();f.subsetMdxFlagCount=0;f.hasCallBackPassed=false;f.batchRequestEnabled=j.batchingElementRequestEnabled;f.calculateLevel=false;f.debug=false;f.log=function(l){f.logObj(l,{message:l})};f.logObj=function(m,l){if(f.debug){k.$broadcast(j.frameworkLogID,{id:f.directiveID,name:d.Name,message:m,object:l})}};if(angular.isDefined(o.tm1Debug)&&f.tm1Debug){f.debug=true}if(angular.isUndefined(o.tm1Instance)){throw"Missing Required Attributes. Please Set tm1-instance."}if(angular.isUndefined(o.tm1Dimension)){throw"Missing Required Attributes. Please Set tm1-dimension."}if(angular.isDefined(o.tm1OnDataReady)){f.hasCallBackPassed=true}if(o.tm1Subset){f.subsetMdxFlagCount++}if(o.tm1Mdx){f.subsetMdxFlagCount++}if(f.subsetMdxFlagCount>1){throw"Please Set either tm1-subset OR tm1-mdx ONLY."}f.isByMdxFlag=angular.isDefined(o.tm1Mdx)?true:false;f.isBySubsetFlag=angular.isDefined(o.tm1Subset)?true:false;if(angular.isDefined(o.tm1Api)){f.log("Directive API requested");f.tm1Api={refreshData:function(){f.log("refreshed through api call!");g.refreshData()}}}if(angular.isDefined(o.tm1CalculateTopLevel)&&f.tm1CalculateTopLevel){f.calculateLevel=true}f.hasCompleteParams=function(){var l=true;if(_.isEmpty(f.tm1Instance)){l=false}else{if(f.isByMdxFlag&&_.isEmpty(f.tm1Mdx)){l=false}else{if(f.isByMdxFlag&&f.tm1Mdx.match(/\[\s*\]/g)!=null&&f.tm1Mdx.match(/\[\s*\]/g).length>0){l=false}else{if(_.isEmpty(f.tm1Dimension)){l=false}else{if(!_.isEmpty(f.tm1Dimension)&&o.tm1Subset!=undefined&&_.isEmpty(f.tm1Subset)){l=false}else{if(angular.isDefined(o.tm1Attributes)){var m=Papa.parse(f.tm1Attributes);if(angular.isDefined(m.data)&&m.data.length==1&&m.data[0].length>0){_.forEach(m.data[0],function(q){if((l&&_.isEmpty(q))||(!_.isEmpty(q)&&q.trim()=="")){l=false}})}}}}}}}return l};f.resetModel=function(){f.ngModel.length=0};f.$on(d.Name+".event.refresh",function(l){});f.$on("tm1.event.refresh",function(l){if(f.hasCompleteParams()){g.refreshData()}});if(f.batchRequestEnabled){f.$on(j.batcherElementResponseID,function(l,m){if(!_.isEmpty(m)&&m[f.directiveID]){g.updateDirectiveState(m[f.directiveID])}})}f.$watch("tm1Dimension",function(l,m){if(l!=m){if(f.hasCompleteParams()){g.refreshData()}}});f.$watch("tm1Subset",function(l,m){if(l!=m){if(f.hasCompleteParams()){g.refreshData()}}});f.$watch("tm1Mdx",function(l,m){if(l!=m){if(f.hasCompleteParams()){f.resetModel();g.refreshData()}}});f.$watch("tm1Attributes",function(l,m){if(l!=m){if(f.hasCompleteParams()){g.refreshData()}}});if(f.hasCompleteParams()){g.refreshData()}},controller:d.Controller}}]);c.controller(d.Controller,["$scope","$http","tm1UiSettings","$rootScope",function(h,a,j,k){var b=this;b.updateDirectiveState=function(e){h._elements=e;if(h.ngModel&&angular.isArray(h.ngModel)){h.ngModel.length=0}else{h.ngModel=[]}angular.forEach(h._elements,function(g){var f=angular.isDefined(g.Level)?g.Level:0;var o=angular.isDefined(g.TopLevel)?g.TopLevel:0;var p={key:g.Name,level:f,topLevel:o,index:g.Index,indent:function(){return new Array(o)}};if(g.Type){p.type=g.Type.substring(0,1)}if(p.level<=0){p.isLeaf=true}else{p.isLeaf=false}if(p.isLeaf){p.topLevelClass="tm1-ui-level-N"}else{if(angular.isDefined(g.TopLevel)){p.topLevelClass="tm1-ui-level-"+g.TopLevel}else{p.topLevelClass="tm1-ui-level-C"}}var q=true;angular.forEach(g.Attributes,function(l,n){p[n]=l;var m=n.replace(/\W+/g,"");p[m]=l;if(q){q=false;p.alias=l;p.value=l}});h.ngModel.push(p)});if(h.hasCallBackPassed){h.tm1OnDataReady({data:h.ngModel})}};b.refreshData=function(){if(h.batchRequestEnabled){var e={id:h.directiveID,element:{id:h.directiveID,instance:h.tm1Instance,dimension:h.tm1Dimension,subset:h.tm1Subset,attribute:h.tm1Attributes,elementsOnly:!h.calculateLevel,mdx:h.tm1Mdx}};k.$broadcast(j.batcherElementRequestID,e)}else{var f={method:"POST",url:"api/dimensions",data:[{id:h.directiveID,instance:h.tm1Instance,dimension:h.tm1Dimension,subset:h.tm1Subset,attribute:h.tm1Attributes,elementsOnly:!h.calculateLevel,mdx:h.tm1Mdx}]};a(f).then(function(g,m){if(h.ngModel&&angular.isArray(h.ngModel)){h.ngModel.length=0}else{h.ngModel=[]}if(g.data[h.directiveID]){b.updateDirectiveState(g.data[h.directiveID])}})}}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiElement";d.Controller="Tm1UiElementCtrl";d.Template="assets/html/tm1-ui-element.html";c.directive(d.Name,["$filter","tm1UiSettings","uuid2","$rootScope",function(a,g,b,h){return{restrict:"E",template:"<span></span>",transclude:false,replace:true,scope:{tm1Instance:"@",tm1Dimension:"@",tm1Element:"@",tm1Attributes:"@",ngModel:"=",tm1Debug:"="},link:function(f,e,o,m,n){f.directiveID=b.newguid();f.directiveClasses="";f.batchRequestEnabled=g.batchingElementRequestEnabled;f.debug=false;f.log=function(j){f.logObj(j,{message:j})};f.logObj=function(j,k){if(f.debug){h.$broadcast(g.frameworkLogID,{id:f.directiveID,name:d.Name,message:j,object:k})}};if(angular.isDefined(o.tm1Debug)&&f.tm1Debug){f.debug=true}if(angular.isUndefined(!o.tm1Instance)){throw"tm1-instance is a required attribute."}if(angular.isUndefined(!o.tm1Dimension)){throw"tm1-dimension is a required attribute."}if(angular.isUndefined(!o.tm1Element)){throw"tm1-element is a required attribute."}if(angular.isUndefined(!o.ngModel)){throw"ng-model is a required attribute."}f.hasCompleteParams=function(){var k=true;if(_.isEmpty(f.tm1Dimension)||_.isEmpty(f.tm1Element)){k=false}else{if(angular.isDefined(o.tm1Attributes)){var j=Papa.parse(f.tm1Attributes);if(angular.isDefined(j.data)&&j.data.length==1&&j.data[0].length>0){_.forEach(j.data[0],function(l){if((k&&_.isEmpty(l))||(!_.isEmpty(l)&&l.trim()=="")){k=false}})}}}return k};f.$on("tm1.event.refresh",function(j){});f.$watch("tm1Dimension",function(k,j){if(k!=j){if(f.hasCompleteParams()){m.refreshData()}}});f.$watch("tm1Element",function(k,j){if(k!=j){if(f.hasCompleteParams()){m.refreshData()}}});f.$watch("tm1Attributes",function(k,j){if(k!=j){if(f.hasCompleteParams()){m.refreshData()}}});if(f.hasCompleteParams()){m.refreshData()}},controller:d.Controller}}]);c.controller(d.Controller,["$scope","$http","$tm1UiHelper","tm1UiSettings","$log",function(k,a,l,m,j){var b=this;b.updateDirectiveState=function(e){if(e&&e.length==1){k.element=e[0];k.ngModel={};k.ngModel.key=k.element.Name;k.ngModel.level=k.element.Level;k.ngModel.type=k.element.Type.substr(0,1);k.ngModel.index=k.element.Index;if(k.element.Attributes){_.forEach(k.element.Attributes,function(f,g){k.ngModel[g]=f})}}};b.refreshData=function(){if(k.batchRequestEnabled){var e={id:k.directiveID,element:{id:k.directiveID,instance:k.tm1Instance,dimension:k.tm1Dimension,element:encodeURIComponent(k.tm1Element.trim()),attribute:k.tm1Attributes}};$rootScope.$broadcast(m.batcherElementRequestID,e)}else{var f={method:"POST",url:"api/dimensions",data:[{id:k.directiveID,instance:k.tm1Instance,dimension:k.tm1Dimension,element:encodeURIComponent(k.tm1Element.trim()),attribute:k.tm1Attributes}]};a(f).then(function(g,h){if(g.data[k.directiveID]){b.updateDirectiveState(g.data[k.directiveID])}})}}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiExport";d.Controller="Tm1UiExportCtrl";d.Template="assets/html/tm1-ui-export.html";c.directive(d.Name,["$filter","tm1UiSettings","$http","uuid2","$timeout","$window","$sanitize","$rootScope",function(l,p,a,n,m,b,o,q){return{restrict:"E",templateUrl:d.Template,transclude:false,replace:false,scope:{tm1TargetId:"@",tm1UiClass:"@",tm1OutputName:"@",tm1FieldSeparator:"@",tm1Debug:"="},link:function(h,g,f,j,e){h.directiveID=n.newguid();h.outputFile="exported";h.outputFieldSeparator=",";h.directiveClasses="";h.debug=false;h.log=function(k){h.logObj(k,{message:k})};h.logObj=function(s,k){if(h.debug){q.$broadcast(p.frameworkLogID,{id:h.directiveID,name:d.Name,message:s,object:k})}};if(angular.isDefined(f.tm1Debug)&&h.tm1Debug){h.debug=true}if(f.tm1OutputName){h.outputFile=h.tm1OutputName}if(f.tm1FieldSeparator){h.outputFieldSeparator=h.tm1FieldSeparator}if(angular.isDefined(f.tm1UiClass)&&!_.isEmpty(h.tm1UiClass)){h.directiveClasses=h.tm1UiClass}h.exportTable=function(t){var k=$("#"+h.tm1TargetId).prop("tagName");if(k.toLowerCase()=="table"){var u=$("#"+h.tm1TargetId).clone(true,true);h.contentExport="";h.contentExport=$("<div />").append(u).html();h.$watch("contentExport",function(r,s){if(!_.isEmpty(r)){var w={method:"POST",url:"api/export",data:{file:h.outputFile,output:t,html:r,fieldSeparator:h.outputFieldSeparator}};a(w).then(function(v,y){b.open("export.jsp","_blank")})}})}else{alert("Target ID is not supported ["+k+"]. Must be a table.")}};h.$on(d.Name+".event.refresh",function(k){});h.$on("tm1.event.refresh",function(k){});if(angular.isDefined(f.tm1UiClass)){h.$watch("tm1UiClass",function(k,s){h.directiveClasses=_.isEmpty(k)?"":k})}},controller:d.Controller}}]);c.controller(d.Controller,["$scope","$http","tm1UiSettings","$log",function(j,a,k,h){var b=this}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiFormatNumber";c.directive(d.Name,["$filter","$browser",function(a,b){return{require:"ngModel",link:function(n,o,q,m){var p=0;if(!_.isEmpty(q.tm1UiFormatNumber)){p=accounting.unformat(q.tm1UiFormatNumber)}var l=function(){var e=o.val().replace(/,/g,"");o.val(accounting.formatNumber(e,p))};m.$parsers.push(function(e){return e.replace(/,/g,"")});m.$render=function(){o.val(accounting.formatNumber(m.$viewValue,p))};o.bind("change",l);o.bind("keydown",function(e){var f=e.keyCode;if(f==91||(15<f&&f<19)||(37<=f&&f<=40)){return}b.defer(l)});o.bind("paste cut",function(){b.defer(l)})}}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiLog";d.Controller="Tm1UiLogCtrl";d.Template="assets/html/tm1-ui-log.html";c.directive(d.Name,["$filter","tm1UiSettings","uuid2",function(a,f,b){return{restrict:"E",templateUrl:d.Template,transclude:false,priority:1000,replace:false,scope:{id:"@","class":"@",tm1LogLimit:"@"},link:function(n,e,q,o,p){n.directiveID=b.newguid();n.tableClass="table";n.logs=[];n.logLimit=10;var m={time:a("date")((new Date()),"yyyyMMdd.HH:mm:ss.sss"),id:n.directiveID,name:d.Name,message:"Awaiting Log.."};n.logs.push(m);if(angular.isDefined(q["class"])&&!_.isEmpty(n["class"])){n.tableClass=n["class"].trim()}if(angular.isDefined(q.tm1LogLimit)&&!_.isEmpty(n.tm1LogLimit)){n.logLimit=parseInt(n.tm1LogLimit.trim())}n.clearLogs=function(){n.logs.length=0};n.$on(f.frameworkLogID,function(h,g){if(g){if(angular.isUndefined(g.time)){g.time=a("date")((new Date()),"yyyyMMdd.HH:mm:ss.sss")}if(angular.isUndefined(g.id)){g.id="No ID"}if(angular.isUndefined(g.name)){g.name="Unknown Directive"}n.logs=_.reverse(n.logs);n.logs.push(g);n.logs=_.takeRight(n.logs,n.logLimit);n.logs=_.reverse(n.logs)}});n.$on(d.Name+".event.refresh",function(g){});n.$on("tm1.event.refresh",function(g){})},controller:d.Controller}}]);c.controller(d.Controller,["$scope","$http","tm1UiSettings","$log",function(j,a,k,h){var b=this}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiLogin";d.Controller="Tm1UiLoginCtrl";d.Template="assets/html/tm1-ui-login.html";c.directive(d.Name,["$filter","$http","$rootScope","$base64","tm1UiSettings","$state","$rootScope","$window","$stateParams","$location","$tm1Ui","$timeout","$log",function(s,r,q,x,t,y,q,w,p,u,b,v,a){return{restrict:"E",templateUrl:d.Template,transclude:false,replace:true,scope:{name:"@",id:"@",tm1UiClass:"@",tm1AfterLogin:"&",tm1Debug:"="},link:function(g,f,k,h,j){g.directiveID=b.helperGenerateUUID();g.directiveClasses="";g.instances=[];g.instance="";g.credentials={cam:"",userName:"",password:""};g.NO_ACTION=1;g.AUTHENTICATION_START=2;g.UNAUTHORIZED=2.1;g.UNABLE_TO_GET_INSTANCE_DETAILS=2.2;g.UNABLE_TO_SAVE_SESSION=2.3;g.AUTHENTICATION_ERROR=2.9;g.AUTHENTICATION_SUCCESS=5;g.CAM_ERROR_GETTING_PASSPORT=10;g.loginStatus=g.NO_ACTION;g.loginButtonClass="btn-primary";g.loginButtonText="LOGIN";g.loginEnabled=true;g.errorMessage="";g.useCAMwithSSO=false;g.useCAM=false;g.camNamespaces=[];if(p&&p.instance){g.instance=p.instance}g.debug=false;var e={name:g.instance,cam:"",userName:""};g.log=function(m,l){if(g.debug){q.$broadcast(t.frameworkLogID,{id:g.directiveID,name:d.Name,message:m,object:l})}};if(angular.isDefined(k.tm1Debug)&&g.tm1Debug){g.debug=true}if(angular.isDefined(k.tm1UiClass)&&!_.isEmpty(g.tm1UiClass)){g.directiveClasses=g.tm1UiClass}g.log("Debugging of Login START");if(g.debug){b.setDebug(g.debug)}g.log("Current $stateParams",p);g.updateCamSelection=function(){g.log("updateCamSelection()");if(g.instanceTarget&&g.instanceTarget.camNamespaces&&g.instanceTarget.camNamespaces.length>0){g.log("updateCamSelection(1)");g.useCAM=true;g.camNamespaces=g.instanceTarget.camNamespaces;if(g.camNamespaces.length>0){g.credentials.cam=g.camNamespaces[0]}}else{g.log("updateCamSelection(2) No target instance found.");if(g.instances&&g.instances.length>0&&g.instances[0].camNamespaces&&g.instances[0].camNamespaces.length>0){g.camNamespaces=g.instances[0].camNamespaces;g.credentials.cam=g.camNamespaces[0];g.log("updateCamSelection(2) Choosing First Instance and its Namespaces",g.camNamespaces);g.log("updateCamSelection(2) Choosing First Namespace",g.credentials.cam)}}};g.resetLoginState=function(){v(function(){g.loginStatus=g.NO_ACTION},3*1000)};g.getLoginInstance=function(){var l={};_.each(q.instances,function(m){if(m.name.toLowerCase()===g.instance.toLowerCase()){m.isLoggedIn=true;m.cam=g.credentials.cam;m.userName=g.credentials.userName;l=m;l.status=200}});return l};g.executeAfterSuccessfulLogin=function(){g.log("executeAfterSuccessfulLogin()");var l=g.getLoginInstance();g.log("executeAfterSuccessfulLogin() - Login Instance",l);q.$broadcast("login.success",l);if(k.tm1AfterLogin!=undefined){g.log("executeAfterSuccessfulLogin() - Custom Function Found");g.tm1AfterLogin({instance:l})}else{if(!_.isEmpty(q.priorState)&&!_.isEmpty(q.priorState.state)&&!_.isEmpty(q.priorState.state.name)){g.log("executeAfterSuccessfulLogin() - Prior State Found");y.transitionTo(q.priorState.state.name,{instance:q.priorState.param.instance})}else{g.log("executeAfterSuccessfulLogin() - Going to Browser History");w.history.back(-1)}}b.dataRefresh();g.loginStatus=g.AUTHENTICATION_SUCCESS};g.checkCam=function(){_.forEach(g.instances,function(l){if(l.name==g.login.instance){g.instanceTarget=l}});g.log("checkCam() instance target",g.instanceTarget);if(g.instanceTarget&&g.instanceTarget.camNamespaces&&g.instanceTarget.camNamespaces.length>0){g.updateCamSelection()}else{g.log("checkCam() No CAM Namespace found for on this target.");g.useCAM=false;g.credentials.cam=""}};g.login=function(){g.loginStatus=g.AUTHENTICATION_START;g.instance=g.login.instance;g.log("login() Setting Instance to - "+g.instance);g.log("login() Refreshing CAM Info");g.checkCam();g.log("login() instance: "+g.login.instance+", user: "+g.credentials.userName+", cam: "+g.credentials.cam);b.applicationLogin(g.login.instance,g.credentials.userName,g.credentials.password,g.credentials.cam).then(function(l){if(l.success){g.executeAfterSuccessfulLogin()}else{g.loginStatus=g.UNAUTHORIZED}})};g.$on(d.Name+".event.refresh",function(l){h.refreshInstances()});g.onUpdate=function(){g.errorMessage=""};g.login.instance=g.instance;h.refreshInstances();if(angular.isDefined(k.tm1UiClass)){g.$watch("tm1UiClass",function(l,m){g.directiveClasses=_.isEmpty(l)?"":l})}g.$watch("loginStatus",function(l,m){switch(l){case g.AUTHENTICATION_SUCCESS:case g.NO_ACTION:g.loginButtonClass="btn-primary";g.loginButtonText="LOGIN";g.loginEnabled=true;break;case g.AUTHENTICATION_START:g.loginEnabled=false;g.loginButtonText="Please Wait...";g.loginButtonClass="btn-default";break;case g.UNABLE_TO_GET_INSTANCE_DETAILS:g.loginButtonText="Authentication Failed";g.loginButtonClass="btn-danger";g.errorMessage="Unable to get TM1 instance details. Please check if REST API is running.";g.resetLoginState();break;case g.AUTHENTICATION_ERROR:case g.UNAUTHORIZED:g.loginButtonText="Authentication Failed";g.loginButtonClass="btn-danger";g.errorMessage="Invalid credentials. Please check username and/or password.";g.resetLoginState();break;case g.UNABLE_TO_SAVE_SESSION:g.loginButtonText="Authentication Failed";g.loginButtonClass="btn-danger";g.errorMessage="Unable to save session. Server maybe down. Please check.";g.resetLoginState();break;case g.CAM_ERROR_GETTING_PASSPORT:g.useCAMwithSSO=false;g.loginButtonText="Authentication Failed";g.loginButtonClass="btn-danger";g.errorMessage="Unable to login automatically via CAM and SSO. Login manually.";g.resetLoginState();break;default:g.loginButtonText="Please Wait...";g.loginButtonClass="btn-default"}});g.log("Current instance to be check for: "+g.instance);b.applicationInstances().then(function(l){g.instances=l;g.log("Instances Found",g.instances);g.instanceTarget=undefined;_.forEach(g.instances,function(m){if(m.name==g.instance){g.instanceTarget=m}});g.updateCamSelection();g.log("Target Instance Found",g.instanceTarget);if(g.instanceTarget&&g.instanceTarget.useSSOWithCAM){g.log("CAM for SSO Found",g.instanceTarget);if(!(g.instanceTarget.camNamespaces&&angular.isArray(g.instanceTarget.camNamespaces)&&g.instanceTarget.camNamespaces.length>0)){throw'No "camNamespaces" defined in intances.json file. Contact your administrator.'}if(!(g.instanceTarget.clientCAMURI&&g.instanceTarget.clientCAMURI.length>0)){throw'No "clientCAMURI" defined in intances.json file. Contact your administrator.'}g.useCAMwithSSO=true;g.log("Getting Passport for Instance... ",g.instanceTarget);b.applicationGetCAMPassport(g.instanceTarget.name,g.instanceTarget.camNamespaces[0]).then(function(m){g.log("Passport Retrieved... ",m);if(!_.isEmpty(m)){g.log("Logging In with CAM Passport Found...");b.applicationLoginWithCAMPassport(g.instanceTarget.name,g.instanceTarget.camNamespaces[0],m).then(function(n){if(n.success){g.log("Successfully Logged in with CAM Passport!");g.executeAfterSuccessfulLogin()}else{g.log("ERROR logging in with CAM Passport!");a.error(n);g.loginStatus=g.CAM_ERROR_GETTING_PASSPORT}})}else{a.error(success);g.log("ERROR getting CAM Passport",success);g.loginStatus=g.CAM_ERROR_GETTING_PASSPORT}})}})},controller:d.Controller}}]);c.controller(d.Controller,["$scope","$tm1Ui","tm1UiSettings",function(g,b,h){var a=this;a.instances=[];a.refreshInstances=function(){b.applicationInstances().then(function(f){a.instances=f;if(a.instances.length>0){if(g.login.instance==undefined||g.login.instance==""){g.login.instance=a.instances[0].name}else{var e=false;_.forEach(a.instances,function(k){if(k.name&&k.name==g.login.instance){e=true}});if(!e){g.login.instance=a.instances[0].name}}}})}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiProcess";d.Controller="Tm1UiProcessCtrl";d.Template="assets/html/tm1-ui-process.html";c.directive(d.Name,["$filter","tm1UiSettings","uuid2","$http","$timeout","$rootScope","$tm1UiHelper","$log","$tm1Ui",function(o,q,s,n,r,m,p,a,b){return{restrict:"E",templateUrl:d.Template,transclude:true,replace:true,scope:{name:"@",id:"@","class":"@",tm1Instance:"@",tm1Name:"@",tm1Parameters:"@",tm1DisplayName:"@",tm1MessageRunning:"@",tm1MessageSuccess:"@",tm1MessageError:"@",tm1UiClass:"@",tm1UiButtonClass:"@",tm1AfterRun:"&",tm1ShowDialog:"=",tm1RefreshPage:"=",tm1Disabled:"=",tm1Debug:"="},link:function(g,f,e,h,j){g.directiveID=s.newguid();g.process={name:g.tm1Name,parameters:[]};g.directiveClasses="";g.buttonClasses="";g.parameters={Parameters:[]};g.isExistingProcess=false;g.displayName="Run "+g.tm1Name;g.displayNameCurrent=g.displayName;g.messageRunning="[Running Process...]";g.messageSuccess="Successfully Ran "+g.tm1Name+".";g.messageError="There was a problem running "+g.tm1Name+". Please Check Logs.";g.messageParamError="Error in one of the parameters. Please Check.";g.showDialog=false;g.refreshPage=false;g.NO_ACTION=0;g.INIT_PROCESS=1;g.PROCESS_NOT_AVAILABLE=1.1;g.READY_FOR_RUN=2;g.REVALUATING_PARAMS_BEFORE_RUN=2.1;g.REVALUATED_PARAMS_HAS_ERROR=2.2;g.PROCESS_RUNNING=3;g.COMPLETED_WITH_ERRORS=3.1;g.COMPLETED_SUCCESSFULLY=4;g.CHECK_LOGS=99;g.processStatus=g.NO_ACTION;g.silentModeClasses=[];g.debug=false;g.log=function(k){g.logObj(k,{message:k})};g.logObj=function(l,k){if(g.debug){m.$broadcast(q.frameworkLogID,{id:g.directiveID,name:d.Name,message:l,object:k})}};if(angular.isDefined(e.tm1Debug)&&g.tm1Debug){g.debug=true}if(angular.isUndefined(e.tm1Name)){throw"tm1-name is a required attribute. Please check."}if(_.isEmpty(g.tm1Name)){throw"tm1-name cannot be empty. Please check."}if(angular.isDefined(e.tm1ShowDialog)&&g.tm1ShowDialog){g.showDialog=true}if(angular.isDefined(e.tm1UiClass)&&!_.isEmpty(g.tm1UiClass)){g.directiveClasses=g.tm1UiClass}if(angular.isDefined(e.tm1UiButtonClass)&&!_.isEmpty(g.tm1UiButtonClass)){g.buttonClasses=g.tm1UiButtonClass}if(angular.isDefined(e.tm1RefreshPage)&&g.tm1RefreshPage){g.refreshPage=true}g.extractParameterName=function(l){var k=undefined;if(l&&l.length>0){k=l.substring("tm1-parameter-".length)}return k};g.delayResetStatus=function(){r(function(){g.processStatus=g.NO_ACTION},3*1000)};g.afterProcessRun=function(k){if(angular.isDefined(e.tm1AfterRun)){g.tm1AfterRun({success:k})}};g.prepareProcessInfo=function(){g.processStatus=g.INIT_PROCESS;n.get("api/processes/"+g.tm1Instance+"/"+g.process.name).then(function(k,l){if(p.isSuccessful(k)){g.isExistingProcess=true;g.parameters={Parameters:[]};angular.forEach(k.data.Parameters,function(v){var w={Name:v.Name,Value:v.Value,Type:"String",hasError:false};if(angular.isNumber(v.Value)){w.Type="Numeric"}g.parameters.Parameters.push(w)});angular.forEach(g.process.parameters,function(u){angular.forEach(u,function(t,x){for(var y=0;y<g.parameters.Parameters.length;y++){if(g.parameters.Parameters[y].Name.toLowerCase()==x.toLowerCase()){g.parameters.Parameters[y].Value=angular.isNumber(g.parameters.Parameters[y].Value)?parseFloat(t):t;break}}})});g.processStatus=g.READY_FOR_RUN}else{g.processStatus=g.PROCESS_NOT_AVAILABLE;a.error("Error Executing "+g.tm1Name);a.error(k.data)}})};g.runProcess=function(){g.processStatus=g.REVALUATING_PARAMS_BEFORE_RUN;var l={Parameters:[]};var k=true;angular.forEach(g.parameters.Parameters,function(w){var v={Name:w.Name};v.Value=w.Type=="Numeric"?parseFloat(w.Value):(""+w.Value);if(w.Type=="Numeric"&&!isFinite(v.Value)){k=false;w.hasError=true}l.Parameters.push(v)});if(k){g.processStatus=g.PROCESS_RUNNING;g.processExecuteRequest={};g.processExecuteRequest.instance=g.tm1Instance;g.processExecuteRequest.processName=g.process.name;g.processExecuteRequest.processExecuteBody=l;b.processExecuteWithObject(g.processExecuteRequest).then(function(u){if(u.success){g.processStatus=g.COMPLETED_SUCCESSFULLY;g.delayResetStatus();g.afterProcessRun(true)}else{g.processStatus=g.COMPLETED_WITH_ERRORS;g.delayResetStatus();g.afterProcessRun(false)}})}else{g.processStatus=g.REVALUATED_PARAMS_HAS_ERROR;r(function(){angular.forEach(g.parameters.Parameters,function(u){u.hasError=false});g.processStatus=g.NO_ACTION},3*1000)}if(g.refreshPage){m.$broadcast("tm1.event.refresh")}};g.runProcessDirect=function(){g.processStatus=g.NO_ACTION;g.prepareProcessInfo();var k=g.$watch("processStatus",function(l,u){g.silentModeClasses.length=0;if(!_.isEmpty(g.buttonClasses)){g.silentModeClasses.push(g.buttonClasses)}g.isDisabled=true;switch(l){case g.INIT_PROCESS:g.silentModeClasses.push("btn-default");g.displayName="[Preparing...]";break;case g.READY_FOR_RUN:g.silentModeClasses.push("btn-default");g.displayName="[Ready To Run...]";g.runProcess();break;case g.REVALUATING_PARAMS_BEFORE_RUN:g.silentModeClasses.push("btn-default");g.displayName="[Revaluating Parameters...]";break;case g.REVALUATED_PARAMS_HAS_ERROR:g.silentModeClasses.push("btn-danger");g.displayName=g.messageParamError;break;case g.PROCESS_RUNNING:g.silentModeClasses.push("btn-default");g.displayName=g.messageRunning;break;case g.COMPLETED_SUCCESSFULLY:g.silentModeClasses.push("btn-success");g.displayName=g.messageSuccess;break;case g.COMPLETED_WITH_ERRORS:g.silentModeClasses.push("btn-danger");g.displayName=g.messageError;break;case g.PROCESS_NOT_AVAILABLE:g.silentModeClasses.push("btn-danger");g.displayName=g.messageError;g.delayResetStatus();break;case g.NO_ACTION:k();g.displayName=g.displayNameCurrent;g.isDisabled=false;break;default:}})};g.$on(d.Name+".event.refresh",function(k){});g.$on("tm1.event.refresh",function(k){});if(!_.isEmpty(g.tm1Parameters)){g.$watch("tm1Parameters",function(k,w){if(!_.isEmpty(k)){var l=k.split("&");var v=0;angular.forEach(l,function(t){var y=t.split("=");var u={};u[y[0]]=y[1];if(!_.isEmpty(y[1])){g.process.parameters.push(u);v++}})}})}if(angular.isDefined(e.tm1MessageSuccess)){g.$watch("tm1MessageSuccess",function(k,l){g.messageSuccess=k})}if(angular.isDefined(e.tm1MessageError)){g.$watch("tm1MessageError",function(k,l){g.messageError=k})}if(angular.isDefined(e.tm1MessageRunning)){g.$watch("tm1MessageRunning",function(k,l){g.messageRunning=k})}if(angular.isDefined(e.tm1DisplayName)){e.$observe("tm1DisplayName",function(k){g.displayNameCurrent=k;g.displayName=k})}if(angular.isDefined(e.tm1ShowDialog)){g.$watch("tm1ShowDialog",function(k,l){g.showDialog=k?true:false})}if(angular.isDefined(e.tm1UiClass)){g.$watch("tm1UiClass",function(k,l){g.directiveClasses=_.isEmpty(k)?"":k})}if(angular.isDefined(e.tm1UiButtonClass)){g.$watch("tm1UiButtonClass",function(k,l){g.buttonClasses=_.isEmpty(k)?"":k})}if(angular.isDefined(e.tm1Disabled)){g.$watch("tm1Disabled",function(k,l){g.isDisabled=k})}_.forEach(e.$attr,function(l,w){if(l&&l.indexOf("tm1-parameter-")!=-1){var v=g.extractParameterName(l);var k={};k[v]="";g.process.parameters.push(k);e.$observe(w,function(t){var u=_.findIndex(g.process.parameters,function(y){return y[v]!=undefined});g.process.parameters[u][v]=t})}})},controller:d.Controller}}]);c.controller(d.Controller,["$scope","$http","tm1UiSettings","$log",function(j,a,k,h){var b=this}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiProgress";d.Controller="Tm1UiProgressCtrl";d.Template="assets/html/tm1-ui-progress.html";c.directive(d.Name,["$filter","tm1UiSettings","uuid2","$rootScope",function(a,g,b,h){return{restrict:"E",templateUrl:d.Template,transclude:{tm1UiProgressPending:"?tm1UiProgressPending",tm1UiProgressReady:"?tm1UiProgressReady"},replace:true,scope:{tm1Debug:"=",tm1UiClass:"@",tm1UiTrigger:"="},link:function(f,e,p,n,o){f.directiveID=b.newguid();f.directiveClasses="";f.hasTrigger=angular.isDefined(f.tm1UiTrigger);f.triggered=false;f.debug=false;f.log=function(j){f.logObj(j,{message:j})};f.logObj=function(k,j){if(f.debug){h.$broadcast(g.frameworkLogID,{id:f.directiveID,name:d.Name,message:k,object:j})}};if(angular.isDefined(p.tm1Debug)&&f.tm1Debug){f.debug=true}if(angular.isDefined(p.tm1UiClass)&&!_.isEmpty(f.tm1UiClass)){f.directiveClasses=f.tm1UiClass}if(angular.isDefined(p.tm1UiClass)){f.$watch("tm1UiClass",function(j,k){f.directiveClasses=_.isEmpty(j)?"":j})}f.$watch("tm1UiTrigger",function(j){if(j){f.hasTrigger=true;f.triggered=true}},true);var q=h.$watch("isLoading",function(){if(h.isLoading==false){f.isReady=true}else{if(f.hasTrigger&&h.isLoading){if(f.triggered){f.isReady=false}}else{f.isReady=false}}f.triggered=false});f.$on("$destroy",function(){q()})},controller:d.Controller}}]);c.controller(d.Controller,["$scope","$http","tm1UiSettings","$log",function(j,a,k,h){var b=this}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiRepeat";d.Controller="Tm1UiRepeatCtrl";d.ControllerAs="tm1UiRepeatCtrl";d.Template="assets/html/tm1-ui-repeat.html";c.directive(d.Name,["$filter","tm1UiSettings","$log","uuid2","$rootScope",function(a,j,b,h,k){return{restrict:"E",templateUrl:d.Template,transclude:true,replace:true,scope:{name:"@",id:"@","class":"@",tm1Instance:"@",tm1Dimension:"@",tm1Subset:"@",tm1Mdx:"@",tm1OnDataReady:"&",tm1Debug:"=",ngModel:"="},link:function(f,e,o,g,n){f._elements=[];f.directiveID=h.newguid();f.subsetMdxFlagCount=0;f.hasCallBackPassed=false;f.batchRequestEnabled=j.batchingElementRequestEnabled;f.debug=false;f.log=function(l){f.logObj(l,{message:l})};f.logObj=function(m,l){if(f.debug){k.$broadcast(j.frameworkLogID,{id:f.directiveID,name:d.Name,message:m,object:l})}};if(angular.isDefined(o.tm1Debug)&&f.tm1Debug){f.debug=true}if(angular.isUndefined(o.tm1Instance)){throw"Missing Required Attributes. Please Set tm1-instance."}if(angular.isUndefined(o.tm1Dimension)){throw"Missing Required Attributes. Please Set tm1-dimension."}if(angular.isDefined(o.tm1OnDataReady)){f.hasCallBackPassed=true}if(o.tm1Subset){f.subsetMdxFlagCount++}if(o.tm1Mdx){f.subsetMdxFlagCount++}if(f.subsetMdxFlagCount>1){throw"Please Set either tm1-subset OR tm1-mdx ONLY."}f.isByMdxFlag=angular.isDefined(o.tm1Mdx)?true:false;f.isBySubsetFlag=angular.isDefined(o.tm1Subset)?true:false;f.hasCompleteParams=function(){var l=true;if(_.isEmpty(f.tm1Instance)){l=false}else{if(f.isByMdxFlag&&_.isEmpty(f.tm1Mdx)){l=false}else{if(_.isEmpty(f.tm1Dimension)){l=false}else{if(!_.isEmpty(f.tm1Dimension)&&o.tm1Subset!=undefined&&_.isEmpty(f.tm1Subset)){l=false}}}}return l};f.$on(d.Name+".event.refresh",function(l){});f.$on("tm1.event.refresh",function(l){if(f.hasCompleteParams()){g.refreshData()}});if(f.batchRequestEnabled){f.$on(j.batcherElementResponseID,function(l,m){if(!_.isEmpty(m)&&m[f.directiveID]){g.updateDirectiveState(m[f.directiveID])}})}f.$watch("tm1Dimension",function(l,m){if(l!=m){if(f.hasCompleteParams()){g.refreshData()}}});f.$watch("tm1Subset",function(l,m){if(l!=m){if(f.hasCompleteParams()){g.refreshData()}}});f.$watch("tm1Mdx",function(l,m){if(l!=m){if(f.hasCompleteParams()){g.refreshData()}}});if(f.hasCompleteParams()){g.refreshData()}},controller:d.Controller}}]);c.controller(d.Controller,["$scope","$http","tm1UiSettings","$rootScope",function(h,a,j,k){var b=this;b.updateDirectiveState=function(e){h._elements=e;if(h.ngModel&&angular.isArray(h.ngModel)){h.ngModel.length=0}else{h.ngModel=[]}angular.forEach(h._elements,function(n){var f=angular.isDefined(n.Level)?n.Level:0;var o={element:n.Name,description:n.Name,level:f};var g=0;angular.forEach(n.Attributes,function(l,m){g++});if(g==1&&h.isBySubsetFlag&&!_.isEmpty(h.tm1Subset)){angular.forEach(n.Attributes,function(l,m){o.description=l})}h.ngModel.push(o)});if(h.hasCallBackPassed){h.tm1OnDataReady({data:h.ngModel})}};b.refreshData=function(){if(h.batchRequestEnabled){var e={id:h.directiveID,element:{id:h.directiveID,instance:h.tm1Instance,dimension:h.tm1Dimension,subset:h.tm1Subset,mdx:h.tm1Mdx}};k.$broadcast(j.batcherElementRequestID,e)}else{var f={method:"POST",url:"api/dimensions",data:[{id:h.directiveID,instance:h.tm1Instance,dimension:h.tm1Dimension,subset:h.tm1Subset,mdx:h.tm1Mdx}]};a(f).then(function(g,m){if(h.ngModel&&angular.isArray(h.ngModel)){h.ngModel.length=0}else{h.ngModel=[]}if(g.data[h.directiveID]){b.updateDirectiveState(g.data[h.directiveID])}})}}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiRptColumn";c.directive(d.Name,["$filter","tm1UiSettings","uuid2","$rootScope",function(a,g,b,h){return{restrict:"E",transclude:false,replace:true,scope:{tm1Dimension:"@",tm1Element:"@",tm1Subset:"@",tm1Mdx:"@",tm1Debug:"="},link:function(f,e,o,m,n){f.directiveID=b.newguid();f.elementDefinitions=0;f.debug=false;f.log=function(j){f.logObj(j,{message:j})};f.logObj=function(j,k){if(f.debug){h.$broadcast(g.frameworkLogID,{id:f.directiveID,name:d.Name,message:j,object:k})}};if(angular.isDefined(o.tm1Debug)&&f.tm1Debug){f.debug=true}if(angular.isUndefined(o.tm1Dimension)){throw"tm1-dimension is a required attribute."}if(angular.isDefined(o.tm1Element)){f.elementDefinitions++}if(angular.isDefined(o.tm1Subset)){f.elementDefinitions++}if(angular.isDefined(o.tm1Mdx)){f.elementDefinitions++}if(f.elementDefinitions>1){throw"ONLY ONE of these must be defined: tm1-element, tm1-subset or tm1-mdx"}f.hasCompleteParams=function(){var j=true;if(_.isEmpty(f.tm1Dimension)){j=false}else{if(f.elementDefinitions==1&&angular.isDefined(o.tm1Element)&&_.isEmpty(f.tm1Element)){j=false}else{if(f.elementDefinitions==1&&angular.isDefined(o.tm1Subset)&&_.isEmpty(f.tm1Subset)){j=false}else{if(f.elementDefinitions==1&&angular.isDefined(o.tm1Mdx)&&_.isEmpty(f.tm1Mdx)){j=false}}}}return j};f.getDimConfig=function(){var j={dimension:f.tm1Dimension,mdx:""};if(angular.isDefined(o.tm1Element)){j.mdx="{["+j.dimension.trim()+"].["+f.tm1Element.trim()+"]}"}else{if(angular.isDefined(o.tm1Subset)){j.mdx="{["+j.dimension.trim()+"].["+f.tm1Subset.trim()+"]}";j.subset=f.tm1Subset.trim()}else{if(angular.isDefined(o.tm1Mdx)){j.mdx=f.tm1Mdx.trim()}else{j.mdx="{["+j.dimension.trim()+"].AllMembers}"}}}f.logObj("registering this dimension",j);return j};f.$on(d.Name+".event.refresh",function(j){});f.$on("tm1.event.refresh",function(j){});f.$watch("tm1Dimension",function(k,j){if(!_.isEmpty(k)){if(f.hasCompleteParams()){m.registerDimension("columns",f.getDimConfig())}}});f.$watch("tm1Element",function(k,j){if(!_.isEmpty(k)){if(f.hasCompleteParams()){m.registerDimension("columns",f.getDimConfig())}}});f.$watch("tm1Subset",function(k,j){if(!_.isEmpty(k)){if(f.hasCompleteParams()){m.registerDimension("columns",f.getDimConfig())}}});f.$watch("tm1Mdx",function(k,j){if(!_.isEmpty(k)){if(f.hasCompleteParams()){m.registerDimension("columns",f.getDimConfig())}}})},require:"^tm1UiRptView",bindToController:"Tm1UiRptViewCtrl"}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiRptData";d.Template="assets/html/tm1-ui-rpt-data.html";c.directive(d.Name,["$filter","tm1UiSettings","uuid2","$interval","$rootScope",function(b,j,h,a,k){return{restrict:"E",templateUrl:d.Template,transclude:false,replace:true,scope:{tm1RowData:"=",tm1ColumnNo:"@",tm1ColumnNos:"=",tm1Debug:"=",tm1DataDecimal:"@"},link:function(e,q,o,f,g){e.directiveID=h.newguid();e.cube="";e.instance="";e.dimensionElements=[];e.cubeElements=[];e.customSingleColumn=false;e.customSingleTargetColumn=-1;e.customMultiColumn=false;e.customMutilTargetColumn=[];e.columnCount=0;e.bootstrapColumnSize=18;e.bootstrapColumn="";e.bootstrapExcessSpace=0;e.bootstrapExcessColumn="";e.dataDecimal="2";e.debug=false;e.log=function(l){e.logObj(l,{message:l})};e.logObj=function(m,l){if(e.debug){k.$broadcast(j.frameworkLogID,{id:e.directiveID,name:d.Name,message:m,object:l})}};if(angular.isDefined(o.tm1Debug)&&e.tm1Debug){e.debug=true}if(!o.tm1RowData){throw"tm1-row-data is a required field."}if(o.tm1ColumnNo&&o.tm1ColumnNos){throw"Define either tm1-column-no or tm1-column-nos only. Not BOTH."}if(o.tm1ColumnNo){e.customSingleColumn=true;e.customSingleTargetColumn=e.tm1ColumnNo-1}else{if(o.tm1ColumnNos){if(angular.isArray(e.tm1ColumnNos)){e.customMultiColumn=true;e.customMutilTargetColumn=e.tm1ColumnNos}else{throw"tm1-column-nos must be passed with an ARRAY of COLUMN NOs"}}else{}}if(angular.isDefined(o.tm1DataDecimal)&&!_.isEmpty(e.tm1DataDecimal)){if(isNaN(e.tm1DataDecimal)){throw"tm1-data-decimal should be set with a number. Please check."}e.dataDecimal=e.tm1DataDecimal}var p=a(function(){if(f.activeFormIsReady){a.cancel(p);p=undefined;e.cube=f.cubeInfo.name;e.instance=f.instance;if(e.cubeElements&&angular.isArray(e.cubeElements)){e.cubeElements.length=0}else{e.cubeElements=[]}if(e.dimensionElements&&angular.isArray(e.dimensionElements)){e.dimensionElements.length=0}else{e.dimensionElements=[]}if(e.customSingleColumn){e.customMutilTargetColumn.push(e.customSingleTargetColumn)}else{if(!e.customSingleColumn&&!e.customMultiColumn){for(var m=0;m<f.activeForm.columns.length;m++){e.customMutilTargetColumn.push(m)}}}var l=0;angular.forEach(e.customMutilTargetColumn,function(t){if(angular.isUndefined(e.cubeElements[l])){if(e.cubeElements[l]&&angular.isArray(e.cubeElements[l])){e.cubeElements[l].length=0}else{e.cubeElements[l]=[]}}angular.forEach(f.cubeInfo.dimensions,function(r){var s={};s.dimension=r.Name;if(f.activeForm.titles[0][r.Name]){s.axis="titles"}else{if(e.tm1RowData[r.Name]){s.axis="rows"}else{s.axis="columns"}}if(s.axis=="titles"){s.element=f.activeForm.titles[0][r.Name]}else{if(s.axis=="rows"){s.element=e.tm1RowData[r.Name]}else{s.element=f.activeForm.columns[t-1][r.Name]}}e.dimensionElements.push(s)});var n="";var u=0;angular.forEach(e.dimensionElements,function(r){n=n+(u==0?"":",")+r.element;u++});e.cubeElements[l].push(n);l++;if(e.dimensionElements&&angular.isArray(e.dimensionElements)){e.dimensionElements.length=0}else{e.dimensionElements=[]}});e.columnCount=e.cubeElements.length;if(18%e.columnCount==0){e.bootstrapColumnSize=e.bootstrapColumnSize/e.columnCount;e.bootstrapColumn="col-xs-"+e.bootstrapColumnSize;e.bootstrapExcessColumn=""}else{e.bootstrapExcessSpace=e.bootstrapColumnSize%e.columnCount;e.bootstrapColumnSize=(e.bootstrapColumnSize-e.bootstrapExcessSpace)/e.columnCount;e.bootstrapColumn="col-xs-"+e.bootstrapColumnSize;e.bootstrapExcessColumn="col-xs-"+e.bootstrapExcessSpace}}},1*100,100)},require:"^tm1UiRptView",bindToController:"Tm1UiRptViewCtrl"}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiRptRowCell";d.Template="assets/html/tm1-ui-rpt-row-cell.html";d.ParentDirective="tm1UiRptView";d.ParentController="Tm1UiRptViewCtrl";c.directive(d.Name,["$filter","tm1UiSettings","$tm1Ui","$rootScope","$timeout",function(a,j,h,k,b){return{restrict:"E",templateUrl:d.Template,transclude:false,replace:true,scope:{tm1RowData:"=",tm1ColumnNo:"@",tm1ColumnElements:"@",tm1PicklistDisableSearch:"=",tm1Debug:"=",tm1UiClass:"@"},link:function(f,e,o,g,n){f.directiveID=h.helperGenerateUUID();f.rowIndex=-1;f.columnIndex=-1;f.cell={};f.items=[];f.isCellByElements=false;f.columnElements="";f.directiveClasses="";f.picklistDisableSearch=false;f.debug=false;f.log=function(m,l){if(f.debug){k.$broadcast(j.frameworkLogID,{id:f.directiveID,name:d.Name,message:m,object:l})}};if(angular.isDefined(o.tm1Debug)&&f.tm1Debug){f.debug=true}if(angular.isDefined(o.tm1UiClass)&&!_.isEmpty(f.tm1UiClass)){f.directiveClasses=f.tm1UiClass}if(angular.isUndefined(o.tm1RowData)){throw"tm1-row-data is a required attribute."}if(angular.isDefined(o.tm1ColumnNo)&&angular.isDefined(o.tm1ColumnElements)){throw"Use either 'tm1-column' or 'tm1-column-elements' BUT NOT BOTH."}if(angular.isDefined(o.tm1ColumnElements)){if(!_.isEmpty(f.tm1ColumnElements)){f.isCellByElements=true}else{throw"tm1-column-elements CANNOT BE EMPTY."}}if(angular.isDefined(o.tm1PicklistDisableSearch)){if(f.tm1PicklistDisableSearch===true){f.picklistDisableSearch=true}}f.updateFormattedColumnElements=function(){if(f.isCellByElements){f.columnElements=f.tm1ColumnElements.trim().split(" ").join("").toLowerCase()}};f.updateDirective=function(){f.updateFormattedColumnElements();f.rowIndex=f.tm1RowData.index-1;f.tm1RowData=g.activeForm.rows[f.rowIndex];if(f.tm1RowData!=undefined){if(f.isCellByElements){f.cell=f.tm1RowData.getCell(f.tm1ColumnElements);if(angular.isUndefined(f.cell)){throw"Cannot find "+f.columnElements+"|"+f.tm1ColumnElements+" from the columns. Please check."}}else{if(f.tm1RowData.cells&&(f.tm1ColumnNo<=f.tm1RowData.cells.length)){f.columnIndex=parseInt(f.tm1ColumnNo)-1;f.cell=f.tm1RowData.cells[f.columnIndex]}}if(f.cell){if(f.cell.HasPicklist){f.items.length=0;f.items=[f.cell.value," ","  ","   ","   "]}else{f.value=accounting.formatMoney(f.cell.value)}}}};f.onUpdate=function(){g.refreshData()};f.updateList=function(){h.cellGetPicklistValues(g.activeForm.instance,g.activeForm.cube,f.cell.reference()).then(function(l){f.items.length=0;f.items=l})};f.onSelectChange=function(l){b(function(){l.update(f.onUpdate,false)},1)};f.$on(g.eventRefreshCellDisplayRequest,function(l){f.log(g.eventRefreshCellDisplayRequest+" EVENT RECEIVED");f.updateDirective()});if(angular.isDefined(o.tm1UiClass)){f.$watch("tm1UiClass",function(l,m){f.directiveClasses=_.isEmpty(l)?"":l})}if(f.isCellByElements){o.$observe("tm1ColumnElements",function(l){f.updateDirective()})}else{o.$observe("tm1ColumnNo",function(l){f.updateDirective()})}f.$watch("tm1RowData",function(l,m){f.updateDirective()});f.updateDirective()},require:"^"+d.ParentDirective,bindToController:d.ParentController}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiRptRowElement";d.Controller="Tm1UiRptRowElementCtrl";c.directive(d.Name,["tm1UiSettings",function(a){return{restrict:"A",template:function(b,g){var h="<td";h+=' class="tm1-ui-rpt-row-element"';h+=' rowspan="{{'+g.tm1UiRptRowElement+"['"+g.tm1Dimension+"'].rowspan}}\"";h+=' colspan="{{'+g.tm1UiRptRowElement+"['"+g.tm1Dimension+"'].colspan}}\"";h+=' ng-if="$index == tm1AfData.metadata._page.firstRowIndex || '+g.tm1UiRptRowElement+"['"+g.tm1Dimension+"'].visible\"";h+=">";h+="<tm1-ui-rpt-row-label";h+=' tm1-row-data="'+g.tm1UiRptRowElement+'"';h+=' tm1-dimension="'+g.tm1Dimension+'"';if(g.tm1FreezeElement!=undefined&&g.tm1FreezeElement.trim().toLowerCase()=="true"){h+=' tm1-freeze-element="true"'}if(g.tm1UiClass!=undefined){h+=' tm1-ui-class="'+g.tm1UiClass+'"'}h+=">";h+="</tm1-ui-rpt-row-label>";h+="</td>";return h},replace:true,scope:false,link:function(j,b,m,k,l){j.tm1AfData=k.activeForm;j.$on(k.eventRefreshActiveFormDataRequest,function(e,f){j.tm1AfData=k.activeForm})},require:"^tm1UiRptView",bindToController:"Tm1UiRptViewCtrl"}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiRptRowHeader";d.Template="assets/html/tm1-ui-rpt-row-header.html";c.directive(d.Name,["$filter","tm1UiSettings","uuid2","$rootScope","$timeout",function(a,j,h,k,b){return{restrict:"E",templateUrl:d.Template,transclude:true,replace:true,scope:{tm1Instance:"@",name:"@",id:"@",tm1Debug:"=",tm1UiClass:"@"},link:function(f,e,o,g,n){f.directiveID=h.newguid();f.directiveClasses="";f.titles="";f.hasTranscludedContent=false;f.debug=false;f.log=function(l){f.logObj(l,{message:l})};f.logObj=function(m,l){if(f.debug){k.$broadcast(j.frameworkLogID,{id:f.directiveID,name:d.Name,message:m,object:l})}};if(angular.isDefined(o.tm1Debug)&&f.tm1Debug){f.debug=true}n(f.$parent,function(l,m){if(l!=undefined&&l.length>0){g.hasTransclude()}});if(angular.isDefined(o.tm1UiClass)&&!_.isEmpty(f.tm1UiClass)){f.directiveClasses=f.tm1UiClass}b(function(){f.hasTranscludedContent=g.headerDirectiveHasTransclude;if(!f.hasTranscludedContent){_.forEach(g.rows,function(l){f.titles=f.titles+","+l.dimension});f.titles=f.titles.substr(1)}},100);if(angular.isDefined(o.tm1UiClass)){f.$watch("tm1UiClass",function(l,m){f.directiveClasses=_.isEmpty(l)?"":l})}},require:"^tm1UiRptView",bindToController:"Tm1UiRptViewCtrl"}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiRptRowLabel";d.Controller="Tm1UiRptRowLabelCtrl";d.Template="assets/html/tm1-ui-rpt-row-label.html";c.directive(d.Name,["$filter","tm1UiSettings","uuid2","$interval","$timeout",function(b,k,j,a,h){return{restrict:"E",templateUrl:d.Template,transclude:false,replace:true,scope:{tm1RowData:"=",tm1Dimension:"@",tm1FreezeElement:"=",tm1Debug:"=",tm1UiClass:"@"},link:function(f,q,p,g,o){f.directiveID=j.newguid();f.rowData=[];var e=[];f.rowIndex=-1;f.directiveClasses="";f.freezeElement=false;f.debug=false;f.log=function(l){f.logObj(l,{message:l})};f.logObj=function(m,l){if(f.debug){$rootScope.$broadcast(k.frameworkLogID,{id:f.directiveID,name:d.Name,message:m,object:l})}};if(angular.isDefined(p.tm1Debug)&&f.tm1Debug){f.debug=true}if(angular.isDefined(p.tm1UiClass)&&!_.isEmpty(f.tm1UiClass)){f.directiveClasses=f.tm1UiClass}if(angular.isUndefined(p.tm1RowData)){throw"tm1-row-data is a REQUIRED attribute. Please check."}if(angular.isUndefined(p.tm1Dimension)){throw"tm1-dimension is a REQUIRED attribute. Please check."}if(_.isEmpty(f.tm1RowData)){throw"tm1-row-data CANNOT BE EMPTY. Please check."}if(_.isEmpty(f.tm1Dimension)){throw"tm1-dimension CANNOT BE EMPTY. Please check."}if(angular.isDefined(p.tm1FreezeElement)&&f.tm1FreezeElement){f.freezeElement=true}f.updateDirective=function(){f.rowIndex=f.tm1RowData.index-1;f.tm1RowData=g.activeForm.rows[f.rowIndex]};f.expandOrCollapse=function(l){if(!f.freezeElement){g.activeForm.pageReset();g.activeForm.rows[f.rowIndex][f.tm1Dimension].element.toggle();g.activeForm.recalculate();g.activeForm.pageUpdate();g.refreshDimensionElements();f.logObj("expandOrCollapse() rowData",l)}else{f.log("expandOrCollapse() is frozen.")}};f.indent=function(){return new Array(g.activeForm.rows[f.rowIndex][f.tm1Dimension].element.topLevel)};f.updateDirective()},require:"^tm1UiRptView",bindToController:"Tm1UiRptViewCtrl"}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiRptRow";c.directive(d.Name,["$filter","tm1UiSettings","uuid2","$rootScope","$tm1Ui",function(a,j,b,k,h){return{restrict:"E",transclude:false,replace:true,scope:{tm1Dimension:"@",tm1Element:"@",tm1Subset:"@",tm1Mdx:"@",tm1ExpandElements:"@",tm1CollapseElements:"@",tm1Attribute:"@",tm1Debug:"="},link:function(f,e,o,g,n){f.directiveID=b.newguid();f.elementDefinitions=0;f.debug=false;f.log=function(l){f.logObj(l,{message:l})};f.logObj=function(m,l){if(f.debug){k.$broadcast(j.frameworkLogID,{id:f.directiveID,name:d.Name,message:m,object:l})}};if(angular.isDefined(o.tm1Debug)&&f.tm1Debug){f.debug=true}if(angular.isUndefined(o.tm1Dimension)){throw"tm1-dimension is a required attribute."}if(angular.isDefined(o.tm1Element)){f.elementDefinitions++}if(angular.isDefined(o.tm1Subset)){f.elementDefinitions++}if(angular.isDefined(o.tm1Mdx)){f.elementDefinitions++}if(f.elementDefinitions>1){throw"ONLY ONE of these must be defined: tm1-element, tm1-subset or tm1-mdx"}f.hasCompleteParams=function(){var l=true;if(_.isEmpty(f.tm1Dimension)){l=false}else{if(f.elementDefinitions==1&&angular.isDefined(o.tm1Element)&&_.isEmpty(f.tm1Element)){l=false}else{if(f.elementDefinitions==1&&angular.isDefined(o.tm1Subset)&&_.isEmpty(f.tm1Subset)){l=false}else{if(f.elementDefinitions==1&&angular.isDefined(o.tm1Mdx)&&_.isEmpty(f.tm1Mdx)){l=false}else{if(angular.isDefined(o.tm1Attribute)&&_.isEmpty(f.tm1Attribute)){l=false}}}}}return l};f.getDimConfig=function(){var l={dimension:f.tm1Dimension,mdx:"",expanded:[],collapsed:[]};if(angular.isDefined(o.tm1Element)){l.mdx="{["+l.dimension.trim()+"].["+f.tm1Element.trim()+"]}"}else{if(angular.isDefined(o.tm1Subset)){l.mdx="{["+l.dimension.trim()+"].["+f.tm1Subset.trim()+"]}";l.subset=f.tm1Subset.trim()}else{if(angular.isDefined(o.tm1Mdx)){l.mdx=f.tm1Mdx.trim()}else{l.mdx="{["+l.dimension.trim()+"].AllMembers}"}}}if(angular.isDefined(o.tm1Attribute)){l.attribute=f.tm1Attribute}if(angular.isDefined(o.tm1ExpandElements)&&!_.isEmpty(f.tm1ExpandElements)){l.expanded=h.helperConvertElementsToArray(f.tm1ExpandElements)}if(angular.isDefined(o.tm1CollapseElements)&&!_.isEmpty(f.tm1CollapseElements)){l.collapsed=h.helperConvertElementsToArray(f.tm1CollapseElements)}f.logObj("registering this dimension",l);return l};f.$on(d.Name+".event.refresh",function(l){});f.$on("tm1.event.refresh",function(l){});f.$watch("tm1Dimension",function(l,m){if(!_.isEmpty(l)){if(f.hasCompleteParams()){g.registerDimension("rows",f.getDimConfig())}}});f.$watch("tm1Element",function(l,m){if(!_.isEmpty(l)){if(f.hasCompleteParams()){g.registerDimension("rows",f.getDimConfig())}}});f.$watch("tm1Subset",function(l,m){if(!_.isEmpty(l)){if(f.hasCompleteParams()){g.registerDimension("rows",f.getDimConfig())}}});f.$watch("tm1Mdx",function(l,m){if(!_.isEmpty(l)){if(f.hasCompleteParams()){g.registerDimension("rows",f.getDimConfig())}}});f.$watch("tm1Attribute",function(l,m){if(!_.isEmpty(l)){if(f.hasCompleteParams()){g.registerDimension("rows",f.getDimConfig())}}})},require:"^tm1UiRptView",bindToController:"Tm1UiRptViewCtrl"}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiRptTitle";c.directive(d.Name,["$filter","tm1UiSettings","uuid2","$rootScope",function(a,g,b,h){return{restrict:"E",transclude:false,replace:true,scope:{tm1Dimension:"@",tm1Element:"@",tm1Debug:"="},link:function(f,e,o,m,n){f.directiveID=b.newguid();f.isElementDefined=false;f.debug=false;f.log=function(j){f.logObj(j,{message:j})};f.logObj=function(j,k){if(f.debug){h.$broadcast(g.frameworkLogID,{id:f.directiveID,name:d.Name,message:j,object:k})}};if(angular.isDefined(o.tm1Debug)&&f.tm1Debug){f.debug=true}if(angular.isUndefined(o.tm1Dimension)){throw"tm1-dimension is a required attribute."}if(angular.isDefined(o.tm1Element)){f.isElementDefined=true}f.hasCompleteParams=function(){var j=true;if(_.isEmpty(f.tm1Dimension)){j=false}else{if(f.isElementDefined&&_.isEmpty(f.tm1Element)){j=false}}return j};f.getDimConfig=function(){var j={};j.dimension=f.tm1Dimension;j.element="DefaultMember";if(f.isElementDefined){j.element=f.tm1Element.trim()}return j};f.$watch("tm1Dimension",function(k,j){if(!_.isEmpty(k)){if(f.hasCompleteParams()){m.registerDimension("titles",f.getDimConfig())}}});if(f.isElementDefined){f.$watch("tm1Element",function(k,j){if(!_.isEmpty(k)){if(f.hasCompleteParams()){m.registerDimension("titles",f.getDimConfig())}}})}},require:"^tm1UiRptView",bindToController:"Tm1UiRptViewCtrl"}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiRptTr";c.directive(d.Name,["tm1UiSettings",function(a){return{restrict:"A",template:function(b,g){var h="<tr";h+=' ng-repeat="rowData in tm1AfData.rows track by $index';h+=">";h+="<ng-transclude />";h+="</tr>";return h},replace:true,scope:false,link:function(j,b,m,k,l){j.tm1AfData=k.activeForm},require:"^tm1UiRptView",bindToController:"Tm1UiRptViewCtrl"}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiRptView";d.Controller="Tm1UiRptViewCtrl";d.ControllerAs="tm1UiRptViewCtrl";d.Template="assets/html/tm1-ui-rpt-view.html";c.directive(d.Name,["$filter","tm1UiSettings","uuid2","$rootScope",function(a,g,b,h){return{restrict:"E",templateUrl:d.Template,transclude:{tm1UiRptConfig:"tm1UiRptConfig",tm1UiRptTemplate:"tm1UiRptTemplate"},replace:false,scope:{tm1Instance:"@",tm1Cube:"@",tm1SuppressZero:"@",tm1ShowMessage:"=",tm1PageSize:"@",tm1UiClass:"@",tm1Debug:"=",ngModel:"="},link:function(n,e,p,o,q){n.directiveID=b.newguid();n.directiveClasses="";n.cubeIsReady=false;n.dimensionsAttribute={};n.message="";n.NO_ACTION=0;n.DIMENSIONS_RECEIVING=1;n.DIMENSIONS_ALL_RECEIVED=2;n.DIMENSIONS_ROWS_RECEIVED_HAS_ATTRIBUTES=2.1;n.DIMENSIONS_ROWS_HAS_NO_ATTRIBUTE=2.9;n.DIMENSIONS_SUBSET_ALIAS_PROCESSED=4.1;n.ACTIVE_FORM_WAITING_RESPONSE=3;n.ACTIVE_FORM_RECEIVED_RESPONSE=3.1;n.status=n.NO_ACTION;n.suppressZero=false;n.rowSuppressZero=false;n.columnSuppressZero=false;n.showMessage=false;n.pageSize=0;n.debug=false;n.log=function(j){n.logObj(j,{message:j})};n.logObj=function(k,j){if(n.debug){h.$broadcast(g.frameworkLogID,{id:n.directiveID,name:d.Name,message:k,object:j})}};if(angular.isDefined(p.tm1Debug)&&n.tm1Debug){n.debug=true}if(angular.isUndefined(p.tm1Instance)){throw"tm1-instance is a required attribute."}else{if(_.isEmpty(n.tm1Instance)){throw"tm1-instance cannot be empty."}}if(angular.isUndefined(p.tm1Cube)){throw"tm1-cube is a required attribute."}if(angular.isUndefined(p.ngModel)){throw"ng-model is a required attribute."}if(angular.isDefined(p.tm1ShowMessage)&&n.tm1ShowMessage){n.showMessage=true}if(angular.isDefined(p.tm1UiClass)&&!_.isEmpty(n.tm1UiClass)){n.directiveClasses=n.tm1UiClass}if(angular.isDefined(p.tm1PageSize)&&!_.isEmpty(n.tm1PageSize)){var f=_.toInteger(n.tm1PageSize);if(f>n.pageSize){n.pageSize=f}}n.hasCompleteParams=function(){var j=true;if(_.isEmpty(n.tm1Cube)||_.isEmpty(n.tm1Cube)){j=false}return j};n.$on(d.Name+".event.refresh",function(j){if(n.hasCompleteParams()){n.log(d.Name+".event.refresh EVENT RECEIVED");o.refreshData()}});n.$on("tm1.event.refresh",function(j){if(n.hasCompleteParams()){n.log("tm1.event.refresh EVENT RECEIVED");o.refreshData()}});n.$watch("tm1Cube",function(j,k){if(!_.isEmpty(j)){o.getCubeDimensions()}});if(angular.isDefined(p.tm1UiClass)){n.$watch("tm1UiClass",function(j,k){n.logObj("new tm1UiClass RECEIVED",j);n.directiveClasses=_.isEmpty(j)?"":j})}if(angular.isDefined(p.tm1PageSize)){p.$observe("tm1PageSize",function(j){var k=_.toInteger(j);if(isFinite(k)){n.pageSize=k;o.refreshData()}})}if(angular.isDefined(p.tm1SuppressZero)){n.$watch("tm1SuppressZero",function(j,k){n.logObj("tm1SuppressZero Value RECEIVED",j);if(!_.isEmpty(j)){n.rowSuppressZero=false;n.columnSuppressZero=false;if(j.toLowerCase()=="both"){n.rowSuppressZero=true;n.columnSuppressZero=true}else{if(j.toLowerCase()=="row"){n.rowSuppressZero=true}else{if(j.toLowerCase()=="column"){n.columnSuppressZero=true}}}if(n.hasCompleteParams()){o.refreshData()}}})}n.$watch("status",function(j,k){n.log("status changed: "+j);switch(j){case n.DIMENSIONS_ALL_RECEIVED:o.validateRowDimensions();break;case n.DIMENSIONS_ROWS_RECEIVED_HAS_ATTRIBUTES:o.processAllSubsetAlias();break;case n.DIMENSIONS_SUBSET_ALIAS_PROCESSED:o.refreshData();break;case n.DIMENSIONS_ROWS_HAS_NO_ATTRIBUTE:n.log("One of the row dimensions has no attribute.");break;default:}})},controllerAs:d.ControllerAs,controller:d.Controller}}]);c.controller(d.Controller,["$scope","$http","$tm1Ui","tm1UiSettings","$log",function(l,a,k,m,j){var b=this;b.eventRefreshCellDisplayRequest=d.Name+".event.cell.refresh";b.eventRefreshDimensionElementsRequest=d.Name+".event.dimension.elements.refresh";b.eventRefreshActiveFormDataRequest=d.Name+".event.active-form.refresh";b.dimensionsRemaining=[];b.dimensionsReceived=[];b.dimensions=[];b.titles=[];b.columns=[];b.rows=[];b.cubeInfo={};b.instance=l.tm1Instance;b.activeFormIsReady=false;b.activeForm={};b.alias=[];b.refreshDimensionElements=function(){l.$broadcast(b.eventRefreshDimensionElementsRequest)};b.getCubeDimensions=function(){a.get("api/cubes/"+l.tm1Instance+"/"+l.tm1Cube).then(function(e,f){l.logObj("Cube Dimensions Response for "+l.tm1Cube,e);if(k.helperIsSuccessful(e)){if(e.data.dimensions.length>0){b.dimensions.length=0;b.dimensionsRemaining.length=0;angular.forEach(e.data.dimensions,function(g){b.dimensions.push(g.Name);b.dimensionsRemaining.push(g.Name)});l.cubeIsReady=true}}})};b.getDimensionDifference=function(){var f="";try{if(b.dimensionsRemaining&&b.dimensionsRemaining.length>0){_.forEach(b.dimensionsRemaining,function(g){f+=","+g});f=f.substring(1)}}catch(e){}return f};b.getDimensionsReceived=function(){var e="";try{_.forEach(b.dimensionsReceived,function(g){e+=","+g});e=e.substring(1)}catch(f){}return e};b.isDimensionsComplete=function(){var e=false;var f=b.rows.length+b.columns.length+b.titles.length;if(f==b.dimensions.length){e=true;l.log("Rows - "+b.rows.length+", Columns - "+b.columns.length+", Titles - "+b.titles.length+". COMPLETED!")}else{l.log("Rows - "+b.rows.length+", Columns - "+b.columns.length+", Titles - "+b.titles.length);l.logObj("Waiting for other dimensions ["+f+"] vs ["+b.dimensions.length+"]",{rows:b.rows,columns:b.columns,titles:b.titles});try{l.message="Waiting for other dimension configurations of ["+l.tm1Cube+"].";l.message+=" Dimension configurations received: ["+b.getDimensionsReceived()+"].";l.message+=" Dimension configurations waiting for: ["+b.getDimensionDifference()+"]."}catch(g){}}return e};b.registerDimension=function(e,g){l.logObj("registerDimension",g);var f=false;angular.forEach(b[e],function(o){if(!f&&o.dimension==g.dimension){f=true}});if(f){var h=_.findIndex(b[e],function(o){return o.dimension==g.dimension});b[e][h]=g}else{b[e].push(g)}if(angular.isDefined(g.attribute)){l.dimensionsAttribute[g.dimension]=g.attribute}_.remove(b.dimensionsRemaining,function(n){return n==g.dimension});var h=_.findIndex(b.dimensionsReceived,function(o){return o==g.dimension});if(h==-1){b.dimensionsReceived.push(g.dimension)}if(b.isDimensionsComplete()){l.status=l.DIMENSIONS_ALL_RECEIVED}};b.validateRowDimensions=function(){l.check={};l.check.MAX_ROW=b.rows.length;l.check.rowCount=0;l.check.isValid=true;angular.forEach(b.rows,function(e){l.message="Checking if ["+e.dimension+"] has attributes.";k.dimensionAttributes(l.tm1Instance,e.dimension).then(function(f){l.check.rowCount++;if(f.length==0){l.check.isValid=false;l.message="Dimension ["+e.dimension+"] must have at least one attribute in order to be used on the row of this active form."}if(l.check.rowCount==l.check.MAX_ROW){if(l.check.isValid){l.status=l.DIMENSIONS_ROWS_RECEIVED_HAS_ATTRIBUTES}else{l.status=l.DIMENSIONS_ROWS_HAS_NO_ATTRIBUTE}}else{l.message="Checking if all dimension in rows have attributes."}})})};b.processAllSubsetAlias=function(){b.alias=[];if(l.updateAliasList==undefined){l.updateAliasList=function(e){if(b[e].length>0){_.forEach(b[e],function(f){if(f.subset!=undefined&&f.subset.length>0){b.alias.push({dimension:f.dimension.trim(),subset:f.subset.trim()})}})}}}l.updateAliasList("rows");l.updateAliasList("columns");l.updateAliasList("titles");if(b.alias.length>0){l.tempAliasCountRequest=0;_.forEach(b.alias,function(e){k.dimensionSubsetAlias(l.tm1Instance,e.dimension,e.subset).then(function(f){l.tempAliasCountRequest++;if(!_.isEmpty(f)){e.alias=f}if(l.tempAliasCountRequest==b.alias.length){l.status=l.DIMENSIONS_SUBSET_ALIAS_PROCESSED}})})}else{l.status=l.DIMENSIONS_SUBSET_ALIAS_PROCESSED}};b.refreshData=function(){l.log("refreshData request");l.status=l.ACTIVE_FORM_WAITING_RESPONSE;l.message="All dimension configuration received! Now processing active form..";var e={cube:l.tm1Cube,title:{},row:{},column:{},rowSuppressZero:l.rowSuppressZero,columnSuppressZero:l.columnSuppressZero};if(b.titles.length>0){angular.forEach(b.titles,function(f){e.title[f.dimension]=f.element})}if(b.rows.length>0){angular.forEach(b.rows,function(f){e.row[f.dimension]=f.mdx})}if(b.columns.length>0){angular.forEach(b.columns,function(f){e.column[f.dimension]=f.mdx})}if(b.rows.length>0&&b.columns.length>0){if(e.dimensionConfigurations==undefined){e.dimensionConfigurations=[]}e.dimensionConfigurations.length=0;l.addDimensionConfiguration=function(f){if(b[f].length>0){_.forEach(b[f],function(g){e.dimensionConfigurations.push(g)})}};l.addDimensionConfiguration("rows");l.addDimensionConfiguration("columns");l.addDimensionConfiguration("titles");l.logObj("Sending Data",e);l.message="Getting Active Form Data...";a.post("api/mdx/"+l.tm1Instance+"/activeform-v2",e).then(function(p,f){l.message="Getting Active Form Data... RECEIVED.";if(k.helperIsSuccessful(p)){l.message="Processing and formatting...";var g=false;var h={alias:{},expand:[],collapse:[]};if(e.row){_.forEach(e.row,function(n,o){if(l.dimensionsAttribute[o]){h.alias[o]=l.dimensionsAttribute[o]}})}if(b.alias.length>0){_.forEach(b.alias,function(n){if(n.alias){h.alias[n.dimension]=n.alias}})}if(l.activeFormData){h.expand=l.activeFormData.expanded();g=true}if(b.rows.length>0){_.forEach(b.rows,function(n){if(n.expanded.length>0){_.forEach(n.expanded,function(o){h.expand.push(o)})}if(n.collapsed.length>0){_.forEach(n.collapsed,function(o){h.collapse.push(o)})}})}l.currentPage=undefined;try{if(l.activeFormData.metadata._page.current){l.currentPage=l.activeFormData.metadata._page.current}}catch(q){}l.activeFormData=k.resultsetTransform(l.tm1Instance,l.tm1Cube,p.data,h);l.activeFormData.recalculate();if(l.activeFormData._rows&&l.activeFormData._rows.length>0){l.activeFormData.metadata.updateDimensionOrder(b.dimensions)}if(l.pageSize>=0){l.activeFormData.metadata._page={current:1,size:l.pageSize};if(l.currentPage){if(l.currentPage>l.activeFormData.pages()){l.activeFormData.pageLast()}else{l.activeFormData.pageGoto(l.currentPage)}}else{l.activeFormData.pageFirst()}}l.ngModel=l.activeFormData;b.activeForm=l.ngModel;l.$broadcast(b.eventRefreshActiveFormDataRequest);l.message="Processing and formatting... DONE!";b.activeFormIsReady=true;l.status=l.NO_ACTION;l.log("ACTIVE FORM IS READY");if(g){l.message="Sending Request for Update of Active Form Data...";l.$broadcast(b.eventRefreshCellDisplayRequest)}l.message="";if(!(l.activeFormData.rows&&l.activeFormData.rows.length>0)){l.message="No Data"}}else{throw"Unable to retrieve MDX result."}})}else{l.log("Refresh Directive Recieved but there should be dimensions defined on BOTH ROW and COLUMN. Please Check.")}}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiSelect";d.Controller="Tm1UiSelectCtrl";d.Template="assets/html/tm1-ui-select.html";c.directive(d.Name,["$rootScope","tm1UiSettings",function(a,b){return{restrict:"E",templateUrl:d.Template,transclude:false,replace:true,scope:{tm1List:"=",tm1ListDisplay:"@",tm1ListSelected:"@",tm1EnableSearch:"=",tm1OnDropdownOpen:"&",tm1OnItemSelect:"&",tm1IncludeEmpty:"=",ngModel:"=",tm1Debug:"=",tm1UiClass:"@"},link:function(l,k,o,m,n){l.showDropdown=false;l.directiveClasses="";l.value="";l.items=[];l.itemsCopy=[];l.debug=false;l.log=function(f,e){if(l.debug){a.$broadcast(b.frameworkLogID,{id:l.directiveID,name:d.Name,message:f,object:e})}};if(angular.isDefined(o.tm1Debug)&&l.tm1Debug){l.debug=true}if(angular.isUndefined(o.ngModel)){throw"ng-model is a required attribute."}else{if(_.isEmpty(o.ngModel)){throw"ng-model CANNOT be EMPTY."}}if(angular.isUndefined(o.tm1List)){throw"tm1-list is a required attribute."}else{if(_.isEmpty(o.tm1List)){throw"tm1-list CANNOT be EMPTY."}}if(angular.isDefined(o.tm1UiClass)&&!_.isEmpty(l.tm1UiClass)){l.directiveClasses=l.tm1UiClass}l.toggleDropDown=function(e){if(e){l.showDropdown=true}else{l.showDropdown=!l.showDropdown}if(l.showDropdown){if(!_.isEmpty(o.tm1OnDropdownOpen)){l.tm1OnDropdownOpen()}k.find("input").select()}l.dropdownWidth=k[0].offsetWidth+"px"};l.addEmptyItem=function(){if(l.tm1IncludeEmpty){return true}else{if(l.tm1List){_.forEach(l.tm1List,function(e){if(_.isEmpty(e)){return true}})}}return false};l.initItems=function(){l.items.length=0;if(l.addEmptyItem()){l.items.push({isSelected:false,data:"empty",isEmpty:true,style:{color:"transparent"}})}_.forEach(l.tm1List,function(e){l.items.push({isSelected:false,data:e})});l.itemsCopy=_.cloneDeep(l.items)};l.updateItems=function(){_.forEach(l.items,function(e){e.isSelected=false;if(e.data===l.value){e.isSelected=true}})};l.updateValue=function(e){l.ngModel=e.isEmpty?"":e.data;l.value=l.ngModel};l.textChange=function(){if(_.isEmpty(l.value)){l.items=_.cloneDeep(l.itemsCopy)}else{l.items.length=0;_.forEach(l.itemsCopy,function(e){if(e.data){if(e.data.indexOf(l.value)!=-1){l.items.push(e)}}})}};l.onCaret=function(){l.toggleDropDown()};l.onItemSelect=function(e){l.updateValue(e);l.updateItems();l.toggleDropDown();if(!_.isEmpty(o.tm1OnItemSelect)){l.tm1OnItemSelect()}};if(angular.isDefined(o.tm1UiClass)){o.$observe("tm1UiClass",function(e){l.directiveClasses=_.isEmpty(e)?"":e})}if(angular.isDefined(o.tm1ListSelected)){o.$observe("tm1ListSelected",function(e){l.updateValue({data:e});l.updateItems()})}l.$watchCollection("tm1List",function(e,f){l.initItems();l.updateItems()});l.initItems()}}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiSession";d.Template="assets/html/tm1-ui-session.html";c.directive(d.Name,["$rootScope","tm1UiSettings","$log","$tm1Ui","$ngBootbox","$compile","$templateCache",function(m,n,b,l,a,k,o){return{restrict:"E",templateUrl:d.Template,transclude:false,replace:true,scope:{name:"@",id:"@",tm1UiClass:"@",tm1Debug:"="},link:function(j,h,g,e,f){j.directiveClasses="";j.debug=false;j.sessions=[];j.sessionError=false;j.log=function(q){j.logObj(q,{message:q})};j.logObj=function(s,r){if(j.debug){m.$broadcast(n.frameworkLogID,{id:j.directiveID,name:d.Name,message:s,object:r})}};if(angular.isDefined(g.tm1Debug)&&j.tm1Debug){j.debug=true}if(angular.isDefined(g.tm1UiClass)&&!_.isEmpty(j.tm1UiClass)){j.directiveClasses=j.tm1UiClass}j.showSessions=function(){a.setDefaults({size:"large"});j.sessions.length=0;l.applicationInstances().then(function(s){_.forEach(s,function(p){j.sessions.push({name:p.name})});_.forEach(j.sessions,function(p){l.applicationUser(p.name).then(function(q){if(angular.isDefined(q.defaultDisplay)&&!_.isEmpty(q.defaultDisplay)){p.user=q.defaultDisplay}else{if(angular.isDefined(q.Name)&&!_.isEmpty(q.Name)){p.user=q.Name}else{p.user=""}}})});l.applicationSessions().then(function(p){_.forEach(j.sessions,function(q){if(p[q.name]&&p[q.name].isLoggedIn){q.active=true}else{q.active=false}})});var u=k(o.get("session-management"));var t={message:u(j),title:"<h1>Instances</h1>"};a.customDialog(t)})};j.logout=function(q){l.applicationLogout(q).then(function(p){if(p.success){_.forEach(j.sessions,function(s){if(s.name==q){s.active=false}})}else{j.sessionError=true;j.sessionErrorInfo=p;b.error(p)}})};if(angular.isDefined(g.tm1UiClass)){j.$watch("tm1UiClass",function(r,s){j.directiveClasses=_.isEmpty(r)?"":r})}}}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiStore";d.Controller="Tm1UiStoreCtrl";d.Template="assets/html/tm1-ui-store.html";c.directive(d.Name,["$filter","tm1UiSettings","$rootScope","$tm1Ui","$log","$timeout","$interval",function(b,n,o,m,k,l,a){return{restrict:"E",templateUrl:d.Template,transclude:false,replace:true,require:"ngModel",scope:{tm1Instance:"@",tm1Cube:"@",tm1Elements:"@",tm1SaveValue:"=",tm1SaveDelay:"=",tm1Debug:"=",ngModel:"="},link:function(e,h,g,f){e.directiveID=m.helperGenerateUUID();e.isReady=false;e.message="Initializing...";e.evaluateSpecialWords=false;e.cubeElements=[];e.saveDelay=500;e.refreshDataRequests=[];e.saveValue=false;e.savePending=false;e.tm1Data=undefined;e.ngModelCurrent=undefined;e.debug=false;e.log=function(q){e.logObj(q,{message:q})};e.logObj=function(s,r){if(e.debug){o.$broadcast(n.frameworkLogID,{id:e.directiveID,name:d.Name,message:s,object:r})}};if(angular.isDefined(g.tm1Debug)&&e.tm1Debug){e.debug=true}if(angular.isUndefined(g.tm1Instance)){throw"tm1-instance is a required attribute."}if(_.isEmpty(e.tm1Instance)){throw"tm1-instance is a required attribute and CANNOT BE EMPTY."}if(angular.isUndefined(g.tm1Cube)){throw"tm1-cube is a required attribute."}if(angular.isUndefined(g.tm1Elements)){throw"tm1-elements is a required attribute."}if(angular.isUndefined(g.ngModel)){throw"ng-model is a required attribute."}if(angular.isDefined(g.tm1SaveDelay)&&isFinite(e.tm1SaveDelay)){var j=parseInt(e.tm1SaveDelay);if(isFinite(j)){e.saveDelay=j}}if(angular.isDefined(g.tm1SaveValue)&&_.isBoolean(e.tm1SaveValue)){e.saveValue=e.tm1SaveValue}e.log("instance: "+e.tm1Instance+", cube: "+e.tm1Cube+", elements: "+e.tm1Elements);e.hasCompleteParams=function(){var r=true;if(_.isEmpty(e.tm1Cube)||_.isEmpty(e.tm1Elements)){r=false}else{var s=Papa.parse(e.tm1Elements);if(angular.isDefined(s.data)&&s.data.length==1&&s.data[0].length>0){angular.forEach(s.data[0],function(p){if((r&&_.isEmpty(p))||(!_.isEmpty(p)&&p.trim()=="")){r=false}else{if(r&&!_.isEmpty(p)&&p.trim()=="@UserName"){r=false;e.evaluateSpecialWords=true}}})}}e.log("hasCompleteParams() instance: "+e.tm1Instance+", cube: "+e.tm1Cube+", elements: "+e.tm1Elements+", isComplete: "+r);return r};e.getInitializedValue=function(s){var u=undefined;try{u=angular.fromJson(s)}catch(t){u={_previousCellValue:s}}return u};e.populateCubeElements=function(){e.cubeElements.length=0;e.cubeElements=Papa.parse(e.tm1Elements).data[0]};e.refreshData=function(){e.populateCubeElements();e.refreshDataRequests.push({id:e.directiveID,instance:e.tm1Instance,cube:e.tm1Cube,cubeElements:e.cubeElements});l(function(){if(e.refreshDataRequests.length>0){var s=undefined;if(e.refreshDataRequests.length==1){s=e.refreshDataRequests[0]}else{s=_.last(e.refreshDataRequests)}e.refreshDataRequests.length=0;var r={};r.id=e.directiveID;r.instance=s.instance;r.cube=s.cube;r.cubeElements=s.cubeElements;m.cellGets([r]).then(function(p){e.tm1Data=e.getInitializedValue(p[0].Value);_.forEach(e.ngModel,function(q,u){if(angular.isUndefined(e.tm1Data[u])){e.tm1Data[u]=q}});e.ngModel=_.cloneDeep(e.tm1Data);e.saveThread=a(function(){if(!_.isEqual(e.ngModelCurrent,e.ngModel)){var u=angular.toJson(e.ngModel);e.populateCubeElements();var q={value:u,instance:e.tm1Instance,cube:e.tm1Cube,cubeElements:e.cubeElements};if(!e.savePending){e.savePending=true;m.cellPuts([q]).then(function(t){if(!t.success){k.error("Unable to save data");k.error(u);e.saveThread()}else{e.ngModelCurrent=_.cloneDeep(e.ngModel)}e.savePending=false})}}},e.saveDelay)})}},50)};e.$on("tm1.event.refresh",function(r,s){if(angular.isDefined(s)&&angular.isDefined(s.source)&&s.source==e.directiveID){}if(angular.isDefined(s)&&angular.isDefined(s.directiveName)&&s.directiveName==d.Name){}else{if(e.hasCompleteParams()){e.log("refresh: tm1.event.refresh");e.refreshData()}}});g.$observe("tm1Cube",function(q){if(e.hasCompleteParams()){e.log("refresh: tm1Cube");e.refreshData()}});g.$observe("tm1Elements",function(q){if(e.hasCompleteParams()){e.log("refresh: tm1Elements");e.refreshData()}});e.$watch("evaluateSpecialWords",function(r,s){if(r){m.applicationUser(e.tm1Instance).then(function(p){e.tm1Elements=e.tm1Elements.split("@UserName").join(p.Name);if(e.hasCompleteParams()){e.log("refresh: evaluateSpecialWords");e.refreshData()}})}});if(e.hasCompleteParams()){e.refreshData()}}}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiSubnm";d.Controller="Tm1UiSubnmCtrl";d.ControllerAs="tm1UiSubnmCtrl";d.Template="assets/html/tm1-ui-subnm.html";c.directive(d.Name,["$filter","tm1UiSettings","uuid2","$filter","$timeout","$rootScope",function(a,j,h,a,b,k){return{restrict:"E",templateUrl:d.Template,transclude:true,replace:true,scope:{id:"@","class":"@",tm1Instance:"@",tm1Dimension:"@",tm1Subset:"@",tm1Attribute:"@",tm1DefaultElement:"@",tm1InputSize:"@",tm1Mdx:"@",tm1MultiSelect:"=",tm1ShowHierarchy:"=",tm1Style:"@",tm1ServerMode:"=",tm1BatchSize:"@",tm1UiClass:"@",tm1SelectOnly:"=",tm1RadioOnly:"@",tm1Change:"&",tm1Api:"=",tm1Debug:"=",ngModel:"="},link:function(f,e,o,g,n){f.input={text:""};f.selectedElement={};f.batchRequestEnabled=j.batchingElementRequestEnabled;f.tm1DefaultElement=(f.tm1DefaultElement==undefined)?"":f.tm1DefaultElement;f.directiveID=h.newguid();f.activeIndex=-1;f.mouseOverIndex=-1;f.dataLoadComplete=false;f.requestingData=false;f.subelementIsSelected=false;f.isMultiSelect=false;f.pressedKeyCode=-1;f.showHierarchy=true;f.showDropdown=false;f.selectOnlyMode=false;f.radioOnlyMode=false;f.entry={radio:""};f.customClass="";f.selectClasses=["form-control"];f.ngModel="";f.priorKeyCode=-1;f.debug=false;f.directiveClasses="";f.batchSize=15;f.isTextInputChange=false;f.isModelInitialized=false;f.hasOnChangeFunction=false;f.log=function(l){f.logObj(l,{message:l})};f.logObj=function(m,l){if(f.debug){k.$broadcast(j.frameworkLogID,{id:f.directiveID,name:d.Name,message:m,object:l})}};if(!_.isEmpty(o.tm1ShowHierarchy)){f.showHierarchy=f.tm1ShowHierarchy}if(angular.isUndefined(o.ngModel)){throw"ng-model is a required attribute."}else{if(!_.isEmpty(o.ngModel)&&o.ngModel.indexOf("=")!=-1){f.isModelInitialized=true}}if(angular.isUndefined(o.tm1Instance)){throw"tm1-instance is a required attribute."}if(angular.isDefined(o.tm1Instance)&&_.isEmpty(f.tm1Instance)){throw"tm1-instance cannot be empty."}if(angular.isDefined(o.tm1SelectOnly)&&f.tm1SelectOnly){f.selectOnlyMode=true}if(angular.isDefined(o.tm1RadioOnly)){if(!(f.tm1RadioOnly.trim().toLowerCase()=="vertical"||f.tm1RadioOnly.trim().toLowerCase()=="horizontal")){throw'tm1-radio-only can only be "vertical" or "horizontal". Please check.'}f.radioOnlyMode=true;if(f.selectClasses&&angular.isArray(f.selectClasses)){f.selectClasses.length=0}else{f.selectClasses=[]}if(f.tm1RadioOnly.trim()=="horizontal"){f.selectClasses.push("radio-inline")}else{f.selectClasses.push("radio")}}if(angular.isDefined(o.tm1ShowHierarchy)&&f.selectOnlyMode){throw'Please remove tm1-show-hierarchy attribute. This will defaulted to "false" since tm1-select-only is "true"'}else{if(f.selectOnlyMode){f.showHierarchy=false}}if(angular.isDefined(o.tm1ShowHierarchy)&&f.radioOnlyMode){throw'Please remove tm1-show-hierarchy attribute. This will defaulted to "false" since tm1-radio-only is "true"'}else{if(f.radioOnlyMode){f.showHierarchy=false}}if(f.selectOnlyMode&&f.radioOnlyMode){throw"Please choose between tm1-select-only or tm1-radio-only. It CANNOT be BOTH."}if(angular.isDefined(o["class"])&&!_.isEmpty(f["class"])){f.customClass=f["class"];f.selectClasses.push(f["class"])}if(!_.isEmpty(f.tm1InputSize)){e.find("input").attr("size",f.tm1InputSize)}if(angular.isDefined(o.tm1Debug)&&f.tm1Debug){f.debug=true}if(angular.isDefined(o.tm1UiClass)&&!_.isEmpty(f.tm1UiClass)){f.directiveClasses=f.tm1UiClass}if(angular.isDefined(o.tm1ServerMode)&&f.tm1ServerMode){if(angular.isDefined(o.tm1SelectOnly)){throw"tm1-select-only CANNOT BE COMBINED with tm1-server-mode"}if(angular.isDefined(o.tm1RadioOnly)){throw"tm1-radio-only CANNOT BE COMBINED with tm1-server-mode"}if(angular.isDefined(o.tm1ShowHierarchy)){throw"tm1-show-hierarchy CANNOT BE COMBINED with tm1-server-mode"}if(angular.isDefined(o.tm1BatchSize)&&!_.isEmpty(f.tm1BatchSize)){f.batchSize=parseInt(f.tm1BatchSize);if(f.batchSize<1){throw"tm1-batch-size value CANNOT BE LESS than 1."}}f.showHierarchy=false}else{f.batchSize=0}if(angular.isDefined(o.tm1Api)){f.log("Directive API requested");f.tm1Api={refreshData:function(){f.log("Directive API requested - Refreshing Data");if(arguments.length==1){f.log("refreshed through api call with String parameter: "+arguments[0]);f.input.text=arguments[0]}else{f.log("refreshed through api call!");g.refreshData(null)}},getElements:function(){f.log("Directive API requested - Retrieving Elements");var m=function(r){var s={};s.key=r.Name;s.alias=r.Name;if(r.Attributes){_.forEach(r.Attributes,function(p,q){s.alias=p})}s.level=r.Level;s.index=r.Index;s.type=r.Type[0];return s};var l=function(t){var s=[];var u={};_.forEach(t,function(p){u={};u=m(p);if(p.Components&&p.Components.length>0){u.children=l(p.Components)}s.push(u)});return s};return l(f.elements)}}}f.isByMdxFlag=angular.isDefined(o.tm1Mdx)?true:false;if(angular.isDefined(o.tm1Change)){f.hasOnChangeFunction=true}f.onSelectionChange=function(l){g.updateDirectiveStateModel(l)};f.textChange=function(){f.isTextInputChange=true;if(f.debug){var l=f.input.text;k.$broadcast(j.frameworkLogID,{id:f.directiveID,name:d.Name,message:"On textChange ["+l+"]"})}g.refreshData(f.input.text)};if(f.debug){f.$watch("input.text",function(l,m){k.$broadcast(j.frameworkLogID,{id:f.directiveID,name:d.Name,message:"new Value of text is ["+l+"], from ["+m+"]"})})}f.onCaret=function(){f.toggleDropDown()};f.onBlur=function(){if(!f.showHierarchy){f.showDropdown=false}};f.onFocus=function(){f.toggleDropDown(true)};f.toggleDropDown=function(l){if(l){f.showDropdown=true}else{f.showDropdown=!f.showDropdown}if(f.showDropdown){e.find("input").select()}f.dropdownWidth=e[0].offsetWidth+"px";if(f.showHierarchy){setTimeout(function(){var m=e.find(".tm1-subnm-hierarchy-style")[0];if(m){m.scrollTop=0}},0)}};if(!f.showHierarchy){f.mouseOver=function(l){f.mouseOverIndex=l};f.mouseLeave=function(l){f.mouseOverIndex=-1};f.mouseMove=function(){g.showDropdown()}}else{if(f.showHierarchy){f.activeIdIndex=-1}}f.hasCompleteParams=function(){var l=true;if(_.isEmpty(f.tm1Dimension)){l=false}else{if(f.tm1Subset!=undefined&&_.isEmpty(f.tm1Subset)){l=false}else{if(f.tm1Attribute!=undefined&&_.isEmpty(f.tm1Attribute)){l=false}else{if(o.tm1MultiSelect!=undefined&&_.isEmpty(f.tm1Attribute)){l=false}else{if(f.isByMdxFlag&&_.isEmpty(f.tm1Mdx)){l=false}else{if(f.isByMdxFlag&&f.tm1Mdx.match(/\[\s*\]/g)!=null&&f.tm1Mdx.match(/\[\s*\]/g).length>0){l=false}}}}}}if(l&&f.isMultiSelect){if(f.ngModel&&angular.isArray(f.ngModel)){f.ngModel.length=0}else{f.ngModel=[]}}return l};if(!f.showHierarchy){f.selectElement=function(m,l){l.preventDefault();if(!f.subelementIsSelected){f.setSelectedElement(m);f.showDropdown=false}else{f.subelementIsSelected=false}};f.selectSubElement=function(l,r,m){f.subelementIsSelected=true;var s=_.findIndex(f.elements,function(p){return p.Name==m});if(s!=-1){f.setSelectedElement(s);f.showDropdown=false}else{g.refreshData(m);if(f.dataLoadComplete){s=_.findIndex(f.elements,function(p){return p.Name==m});f.setSelectedElement(s);f.showDropdown=false}}l.preventDefault()};f.setSelectedElement=function(l){f.activeIndex=l;g.updateDirectiveStateModel(f.elements[l])}}f.$on(d.Name+".event.refresh",function(l){});f.$on("tm1.event.refresh",function(l){});if(f.batchRequestEnabled){f.$on(j.batcherElementResponseID,function(l,m){if(!_.isEmpty(m&&m[f.directiveID])){if(g.indexes&&angular.isArray(g.indexes)){g.indexes.length=0}else{g.indexes=[]}g.elements=m[f.directiveID];f.elements=m[f.directiveID];f.dataLoadComplete=true;f.requestingData=false;if(_.isEmpty(g.searchFilter)&&!f.isTextInputChange){g.updateDirectiveState()}}})}f.$watch("tm1Dimension",function(l,m){if(l!=m){if(f.hasCompleteParams()){g.refreshData(null)}}});if(angular.isDefined(o.tm1Subset)){f.$watch("tm1Subset",function(l,m){if(l!=m){if(f.hasCompleteParams()){g.refreshData(null)}}})}if(angular.isDefined(o.tm1Attribute)){f.$watch("tm1Attribute",function(l,m){if(l!=m){if(f.hasCompleteParams()){g.refreshData(null)}}})}if(angular.isDefined(o.tm1MultiSelect)){f.isMultiSelect=f.tm1MultiSelect;f.$watch("tm1MultiSelect",function(l,m){if(l!=m&&f.hasCompleteParams()){f.isMultiSelect=l}})}if(angular.isDefined(o.tm1ShowHierarchy)){f.$watch("tm1ShowHierarchy",function(l,m){if(l!=m){f.showHierarchy=l}})}if(angular.isDefined(o.tm1DefaultElement)){f.$watch("tm1DefaultElement",function(l,m){if(!_.isEmpty(l)&&f.hasCompleteParams()){g.refreshData(null)}})}if(angular.isDefined(o.tm1UiClass)){f.$watch("tm1UiClass",function(l,m){f.directiveClasses=_.isEmpty(l)?"":l})}if(angular.isDefined(o.tm1Mdx)){o.$observe("tm1Mdx",function(l){if(f.hasCompleteParams()){g.refreshData(null)}})}if(f.hasCompleteParams()){g.refreshData(null)}},controller:d.Controller,controllerAs:d.ControllerAs}}]);c.controller(d.Controller,["$scope","$http","tm1UiSettings","$rootScope","$timeout","$parse",function(m,a,n,o,l,k){var b=this;b.loopCount=0;b.loopLIMIT=10000;b.searchedElement={};b.tm1DefaultElement=m.tm1DefaultElement;b.searchFilter="";b.elements=[];b.indexes=[];b.keys={"8":"backspace","9":"tab","16":"shift","13":"enter","27":"escape","33":"pageUp","34":"pageDown","37":"leftArrow","38":"upArrow","39":"rightArrow","40":"downArrow","35":"end","36":"home","46":"del",backspace:8,tab:9,shift:16,enter:13,escape:27,pageUp:33,pageDown:34,end:35,home:36,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40,del:46};b.showDropdown=function(){m.showDropdown=true};b.closeDropdown=function(){m.showDropdown=false};b.updateDirectiveStateModel=function(e){m.selectedElement=e;if(m.isMultiSelect){b.updateDirectiveStateModel_AddSelectedElement(e)}else{m.ngModel=m.selectedElement.Name;m.input.text=b.getDisplay(m.selectedElement,m.tm1Attribute);m.entry.radio=e;if(m.hasOnChangeFunction){l(function(){m.tm1Change({data:m.ngModel})},1)}}};b.updateDirectiveStateModel_AddSelectedElement=function(e){var f=_.find(m.ngModel,function(g){return g==e.Name});if(!f){m.ngModel.push(e.Name)}m.input.text="";angular.forEach(m.ngModel,function(g){m.input.text=m.input.text+g+","});if(!_.isEmpty(m.input.text)){m.input.text=m.input.text.substr(0,m.input.text.length-1)}};b.updateDirectiveStateModel_RemoveSelectedElement=function(e){m.ngModel=_.remove(m.ngModel,function(f){return f!=e.Name});m.input.text="";angular.forEach(m.ngModel,function(f){m.input.text=m.input.text+f+","});if(!_.isEmpty(m.input.text)){m.input.text=m.input.text.substr(0,m.input.text.length-1)}};b.updateDirectiveState=function(){if(m.elements!=undefined&&m.elements.length>0){m.logObj("$scope.elements",m.elements);var e=false;if(!_.isEmpty(m.tm1DefaultElement)){b.loopCount=0;b.searchedElement={};angular.forEach(m.elements,function(f){if(!e){if(m.selectOnlyMode||m.radioOnlyMode){var g=b.findElementInList(m.tm1DefaultElement,m.elements);if(g){b.updateDirectiveStateModel(g);e=true}}else{b.findElement(m.tm1DefaultElement,f);if(!_.isEmpty(b.searchedElement)){b.updateDirectiveStateModel(b.searchedElement);e=true}}}})}if(!e){b.updateDirectiveStateModel(m.elements[0])}}else{m.ngModel=""}m.input.text=b.getDisplay(m.selectedElement,m.tm1Attribute)};b.getDisplay=function(g,e){if(!_.isEmpty(e)&&!_.isEmpty(g.Attributes)&&!_.isEmpty(g.Attributes[e])){return g.Attributes[e]}else{if(angular.isDefined(m.tm1Subset)&&!_.isEmpty(g.Attributes)){var h=g.Name;var f=false;angular.forEach(g.Attributes,function(j,q){if(!f&&j.length>0){h=j;f=true}});return h}else{return g.Name}}};b.getSelectedElement=function(){return m.selectedElement};b.findElementInList=function(g,h){var f={};var e=false;angular.forEach(h,function(j){if(!e&&j.Name==g){f=j;e=true}});return f};b.findElement=function(f,e){b.loopCount++;if(!_.isEmpty(b.searchedElement)){return}if(e.Name==f){b.searchedElement=e}else{if(!_.isEmpty(e.Components)){angular.forEach(e.Components,function(g){b.findElement(f,g)})}}if(b.loopCount>b.loopLIMIT){throw"Exceeded loop limit of "+m.loopLimit+", breaking out now."}};b.refreshData=function(f){if(!_.isEmpty(f)){b.showDropdown()}b.searchFilter=f;m.dataLoadComplete=false;m.requestingData=true;if(m.batchRequestEnabled){var e={id:m.directiveID,element:{id:m.directiveID,instance:m.tm1Instance,dimension:m.tm1Dimension,attribute:m.tm1Attribute,subset:m.tm1Subset,mdx:m.tm1Mdx,filter:f,showHierarchy:m.showHierarchy,batchSize:m.batchSize,elementsOnly:!m.showHierarchy,defaultElement:m.tm1DefaultElement}};o.$broadcast(n.batcherElementRequestID,e)}else{var g={method:"POST",url:"api/dimensions",data:[{id:m.directiveID,instance:m.tm1Instance,dimension:m.tm1Dimension,attribute:m.tm1Attribute,subset:m.tm1Subset,mdx:m.tm1Mdx,filter:f,showHierarchy:m.showHierarchy,batchSize:m.batchSize,elementsOnly:!m.showHierarchy,defaultElement:m.tm1DefaultElement}]};a(g).then(function(h,j){if(h.status==200){if(b.indexes&&angular.isArray(b.indexes)){b.indexes.length=0}else{if(b.indexes&&angular.isArray(b.indexes)){b.indexes.length=0}else{b.indexes=[]}}b.elements=h.data[m.directiveID];m.elements=h.data[m.directiveID];m.dataLoadComplete=true;m.requestingData=false;if(_.isEmpty(f)&&!m.isTextInputChange){b.updateDirectiveState()}}})}};m.getDisplay=function(e){return b.getDisplay(e,m.tm1Attribute)};m.toggle=function(e){e.collapse=!e.collapse;return e.collapse};m.selectNode=function(e){b.updateDirectiveStateModel(e);m.showDropdown=false}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiTableMdx";d.Controller="Tm1UiTableMdxCtrl";d.Template="assets/html/tm1-ui-table-mdx.html";c.directive(d.Name,["$filter","tm1UiSettings","$tm1Ui","$rootScope",function(a,g,b,h){return{restrict:"E",templateUrl:d.Template,transclude:true,replace:true,scope:{id:"@",tm1Instance:"@",tm1Cube:"@",tm1MdxId:"@",tm1MdxParameters:"=",tm1DimensionAttribute:"=",tm1Debug:"=",tm1UiClass:"@"},link:function(f,e,o,m,n){f.directiveID=b.helperGenerateUUID();f.directiveClasses="";f.hasPending=false;f.mdxId="";f.hasMdxParameters=false;f.hasDimensionAttributes=false;f.debug=false;f.log=function(j){f.logObj(j,{message:j})};f.logObj=function(j,k){if(f.debug){h.$broadcast(g.frameworkLogID,{id:f.directiveID,name:d.Name,message:j,object:k})}};if(angular.isDefined(o.tm1Debug)&&f.tm1Debug){f.debug=true}if(angular.isDefined(o.tm1UiClass)&&!_.isEmpty(f.tm1UiClass)){f.directiveClasses=f.tm1UiClass}if(angular.isUndefined(o.tm1Instance)){throw"tm1-instance is a required attribute."}else{if(_.isEmpty(f.tm1Instance)){throw"tm1-instance cannot be empty."}}if(angular.isUndefined(o.tm1Cube)){throw"tm1-cube is a required attribute."}if(angular.isUndefined(o.tm1MdxId)){throw"tm1-mdx-id is a required attribute."}if(angular.isDefined(o.tm1MdxParameters)){f.hasMdxParameters=true}if(angular.isDefined(o.tm1DimensionAttribute)){f.hasDimensionAttributes=true}f.hasCompleteParams=function(){var j=true;if(_.isEmpty(f.tm1MdxId)){j=false}else{if(_.isEmpty(f.tm1Cube)){j=false}else{if(f.hasMdxParameters){if(!_.isEmpty(f.tm1MdxParameters)){_.forEach(f.tm1MdxParameters,function(k,l){if(_.isEmpty(k)){j=false}})}}else{if(f.hasDimensionAttributes){if(!_.isEmpty(f.tm1DimensionAttribute)){_.forEach(f.tm1DimensionAttribute,function(k,l){if(_.isEmpty(k)){j=false}})}}}}}return j};f.refreshData=function(){m.refreshData({showLoading:false})};f.$on("tm1.event.refresh",function(j){if(f.hasCompleteParams()){m.refreshData()}});if(angular.isDefined(o.tm1UiClass)){o.$observe("tm1UiClass",function(j){f.directiveClasses=_.isEmpty(j)?"":j})}o.$observe("tm1Cube",function(j){if(!_.isEmpty(j)&&f.hasCompleteParams()){m.refreshData()}});o.$observe("tm1MdxId",function(j){f.mdxId=_.isEmpty(j)?"":j;if(f.hasCompleteParams()){m.refreshData()}});if(f.hasMdxParameters){f.$watch("tm1MdxParameters",function(k,j){if(f.hasCompleteParams()){m.refreshData()}})}if(f.hasDimensionAttributes){f.$watch("tm1DimensionAttribute",function(k,j){if(f.hasCompleteParams()){m.refreshData()}})}},controller:d.Controller}}]);c.controller(d.Controller,["$scope","$tm1Ui","$log",function(h,g,b){var a=this;a.refreshData=function(e){if(h.hasPending){return}else{h.hasPending=true}if(!e){e={showLoading:true}}if(e.showLoading){h.loading=true}g.cubeExecuteNamedMdx(h.tm1Instance,h.tm1MdxId,{parameters:h.tm1MdxParameters}).then(function(f){if(h.hasDimensionAttributes){h.dataset=g.resultsetTransform(h.tm1Instance,h.tm1Cube,f,{alias:h.tm1DimensionAttribute})}else{h.dataset=g.resultsetTransform(h.tm1Instance,h.tm1Cube,f)}var k={preload:false,watch:false};if(h.table){k.index=h.table.options.index;k.pageSize=h.table.options.pageSize}h.table=g.tableCreate(h,h.dataset.rows,k);h.hasPending=false;if(e.showLoading){h.loading=false}})}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiTable";d.Controller="Tm1UiTableCtrl";d.Template="assets/html/tm1-ui-table.html";d.Charts={line:true,bar:true};c.directive(d.Name,["$filter","tm1UiSettings","uuid2","$rootScope","$log",function(a,j,h,k,b){return{restrict:"E",templateUrl:d.Template,transclude:false,replace:true,scope:{tm1Instance:"@",tm1Id:"@id",tm1Mdx:"@",tm1Cube:"@",tm1View:"@",tm1ShowChart:"=",tm1ChartType:"@",tm1ChartHeight:"@",tm1UiClass:"@",tm1DataDecimal:"@",tm1Debug:"=",ngModel:"="},link:function(f,e,o,g,n){f.directiveID=h.newguid();f.tableId=f.directiveID;f.isCustomTableClass=false;f.mdxError=true;f.mdxData={};f.columnsIndex=[];f.rowsIndex=[];f.rowDimensionColumns=-1;f.mdxErrorMessage="Preparing MDX...";f.hasModel=false;f.mdxByView=false;f.NO_ACTION=0;f.PREPARING=1;f.WAITING_RESPONSE=2;f.FINISHED=3;f.requestStatus=f.NO_ACTION;f.showChart=false;f.chartType="bar";f.chartHeight=50;f.directiveClasses="";f.debug=false;f.log=function(l){f.logObj(l,{message:l})};f.logObj=function(m,l){if(f.debug){k.$broadcast(j.frameworkLogID,{id:f.directiveID,name:d.Name,message:m,object:l})}};if(angular.isDefined(o.tm1Debug)&&f.tm1Debug){f.debug=true}if(!o.tm1Instance){throw"tm1-instance is a REQUIRED attribute."}if((angular.isUndefined(o.tm1Mdx)&&angular.isUndefined(o.tm1View))||(angular.isDefined(o.tm1Mdx)&&angular.isDefined(o.tm1View))){throw"Please set either tm1-mdx OR tm1-view"}if(angular.isDefined(o.tm1View)){if(angular.isUndefined(o.tm1Cube)){throw"tm1-cube is a REQUIRED attribute when using tm1-view"}}if(angular.isDefined(o.tm1Cube)){if(angular.isUndefined(o.tm1View)){throw"tm1-view is a REQUIRED attribute when using tm1-cube"}}if(angular.isDefined(o.tm1Cube)||angular.isDefined(o.tm1View)){f.mdxByView=true}if(angular.isDefined(f.tm1Class)){f.tableClass=f.tm1Class;f.isCustomTableClass=true}if(angular.isDefined(f.tm1Id)){f.tableId=f.tm1Id}if(angular.isDefined(o.ngModel)){f.hasModel=true}if(angular.isDefined(f.tm1ShowChart)){f.showChart=f.tm1ShowChart}if(angular.isDefined(o.tm1UiClass)&&!_.isEmpty(f.tm1UiClass)){f.directiveClasses=f.tm1UiClass}f.getColumnTitle=function(m){var l="";if(m>=f.rowDimensionColumns){angular.forEach(f.mdxData.Axes[0].Tuples[m-f.rowDimensionColumns].Members,function(q){l=l+","+q.Name});if(l.length>0){l=l.substr(1)}}else{l=f.mdxData.Axes[1].Hierarchies[m].Name}return l};f.getColumnData=function(A,B,y){var m="";if(B>=f.rowDimensionColumns){var z=1,x=1,C=B-f.rowDimensionColumns;for(var l=0;l<f.mdxData.Cells.length;l++){if((l!=0)&&l%f.mdxData.Axes[0].Tuples.length==0){z++;x=1}if(z==(A+1)&&(x==(C+1))){m=f.mdxData.Cells[l].Value;if(y&&angular.isDefined(o.tm1DataDecimal)&&!isNaN(f.tm1DataDecimal)){var w=parseInt(f.tm1DataDecimal);m=a("number")(m,w)}}x++}}else{m=f.mdxData.Axes[1].Tuples[A].Members[B].Name}return m};f.getRowData=function(l){var v=[];var u=1,x=1;var m="";var y="";for(var w=0;w<f.mdxData.Cells.length;w++){if((w!=0)&&w%f.mdxData.Axes[0].Tuples.length==0){u++;x=1}if(u==(l+1)){m="";angular.forEach(f.mdxData.Axes[0].Tuples[x-1].Members,function(p){m=m+"|"+p.Name});m=(m.length>0)?m.substr(1):m;if(angular.isNumber(f.mdxData.Cells[w].Value)){v.push({label:m,value:f.mdxData.Cells[w].Value});y=y+","+m+":"+f.mdxData.Cells[w].Value}else{v.push({label:m,value:0});y=y+","+m+":0"}}x++}if(y.length>0){y=y.substr(1)}return y};f.hasCompleteParams=function(){if(_.isEmpty(f.tm1Cube)||_.isEmpty(f.tm1View)){f.log("Still Awaiting for View or Cube");return false}f.log("Ready for retrieving cube data");return true};if(angular.isDefined(o.tm1Mdx)){o.$observe("tm1Mdx",function(l){if(!_.isEmpty(l)){f.log("MDX: "+l);g.refreshData()}})}if(angular.isDefined(o.tm1ShowChart)){f.$watch("tm1ShowChart",function(l,m){f.showChart=l})}if(angular.isDefined(o.tm1ChartType)){o.$observe("tm1ChartType",function(l){if(!_.isEmpty(l)){l=l.toLowerCase().trim();if(!d.Charts[l]){throw"Chart Type ["+l+"] Not Supported."}}})}if(angular.isDefined(o.tm1ChartHeight)){o.$observe("tm1ChartHeight",function(l){if(l>0){f.chartHeight=l}})}if(angular.isDefined(o.tm1UiClass)){f.$watch("tm1UiClass",function(l,m){f.directiveClasses=_.isEmpty(l)?"":l})}if(angular.isDefined(o.tm1Cube)){f.$watch("tm1Cube",function(l,m){f.log("Cube: "+l);if(!_.isEmpty(l)){if(f.hasCompleteParams()&&f.requestStatus==f.NO_ACTION){g.refreshData()}}})}if(angular.isDefined(o.tm1View)){f.$watch("tm1View",function(l,m){f.log("View: "+l);if(!_.isEmpty(l)){if(f.hasCompleteParams()&&f.requestStatus==f.NO_ACTION){g.refreshData()}}})}},controller:d.Controller}}]);c.controller(d.Controller,["$scope","$http","tm1UiSettings","$timeout","$tm1Ui",function(l,a,m,j,k){var b=this;b.refreshData=function(){l.mdxError=true;if(l.columnsIndex&&angular.isArray(l.columnsIndex)){l.columnsIndex.length=0}else{l.columnsIndex=[]}if(l.rowsIndex&&angular.isArray(l.rowsIndex)){l.rowsIndex.length=0}else{l.rowsIndex=[]}l.logObj("Sending Request...");l.requestStatus=l.WAITING_RESPONSE;var e=undefined;if(l.mdxByView){e=k.cubeExecuteView(l.tm1Instance,l.tm1Cube,l.tm1View)}else{e=k.cubeExecuteMdx(l.tm1Instance,l.tm1Mdx)}e.then(function(f){l.log("Response Received ["+f+"]");l.mdxError=false;l.mdxData=f;b.prepareTableMetaData(l.mdxData);l.mdxData=b.addFormattedData(l.mdxData);if(l.hasModel&&angular.isDefined(l.mdxData.table)){if(l.ngModel&&angular.isArray(l.ngModel)){l.ngModel.length=0}else{l.ngModel=[]}angular.copy(l.mdxData.table,l.ngModel)}l.logObj("After Formatting Received Data",l.mdxData);l.requestStatus=l.NO_ACTION})};b.addFormattedData=function(f){if(f!=undefined){if(f.table&&angular.isArray(f.table)){f.table.length=0}else{f.table=[]}var B={};var x=f.Cells.length;var A=f.Axes[0].Cardinality;var z=f.Axes[1].Cardinality;var C=f.Axes[1].Hierarchies.length;var E=z*(A+C);f.table_column_count=A+C;if(l.dataColumns&&angular.isArray(l.dataColumns)){l.dataColumns.length=0}else{l.dataColumns=[]}for(var t=C;t<f.table_column_count;t++){l.dataColumns.push(t)}var g="";for(var D=0;D<(A+C);D++){g="col_"+(D+1);if(D<C){B[g]=f.Axes[1].Hierarchies[D].Name}else{B[g]=f.Axes[0].Tuples[D-C].Members[0].Name}}f.table.push(B);B={};var e=0;var y=1;for(var t=0;t<x;t++){if(y==1){B={};for(var h=1;h<=C;h++){g="col_"+h;B[g]=f.Axes[1].Tuples[e].Members[0].Name;e++}}g="col_"+(C+y);B[g]=f.Cells[t].Value;y++;if(y==(A+C)){f.table.push(B);y=1;B={}}}}return f};b.prepareTableMetaData=function(e){var f=-1,h=-1;l.rowDimensionColumns=e.Axes[1].Hierarchies.length;f=e.Axes[0].Tuples.length;f=f+l.rowDimensionColumns;for(var g=0;g<f;g++){l.columnsIndex.push(g)}h=e.Cells.length/e.Axes[0].Tuples.length;for(var g=0;g<h;g++){l.rowsIndex.push(g)}}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiUpload";d.Controller="Tm1UiUploadCtrl";d.Template="assets/html/tm1-ui-upload.html";c.directive(d.Name,["Upload","tm1UiSettings","$tm1Ui","$rootScope","$translate","$filter","$http",function(m,n,l,o,k,b,a){return{restrict:"E",templateUrl:d.Template,transclude:false,replace:true,scope:{tm1Instance:"@",tm1MaxSize:"@",tm1DisplayName:"@",tm1ImageOptions:"=",tm1Debug:"=",tm1UiClass:"@",tm1Path:"@",tm1AfterUpload:"&",ngModel:"="},link:function(j,h,g,e,f){j.directiveID=l.helperGenerateUUID();j.directiveClasses="";j.hasModel=false;j.maxSize="5";j.errorMessage="";j.displayMessage="";j.TRANSLATE_ON_READY="UPLOADFILE";j.TRANSLATE_ON_UPLOADING="UPLOADINGFILE";j.MESSAGE_ON_READY=j.TRANSLATE_ON_READY;j.MESSAGE_ON_UPLOADING=j.TRANSLATE_ON_UPLOADING;j.STATUS_ON_READY=1;j.STATUS_ON_UPLOADING=2;j.status=j.STATUS_ON_READY;j.internalFilePath="";j.debug=false;j.log=function(q){j.logObj(q,{message:q})};j.logObj=function(s,r){if(j.debug){o.$broadcast(n.frameworkLogID,{id:j.directiveID,name:d.Name,message:s,object:r})}};if(angular.isDefined(g.tm1Debug)&&j.tm1Debug){j.debug=true}if(angular.isDefined(g.tm1UiClass)&&!_.isEmpty(j.tm1UiClass)){j.directiveClasses=j.tm1UiClass}if(angular.isUndefined(g.tm1Instance)){throw"tm1-instance is a required attribute."}else{if(_.isEmpty(j.tm1Instance)){throw"tm1-instance cannot be empty."}}if(angular.isDefined(g.ngModel)){j.hasModel=true}if(angular.isDefined(g.tm1MaxSize)&&!_.isEmpty(j.tm1MaxSize)){j.maxSize=j.tm1MaxSize}k(j.TRANSLATE_ON_READY).then(function(q){if(angular.isDefined(g.tm1DisplayName)){j.MESSAGE_ON_READY=j.tm1DisplayName}else{j.MESSAGE_ON_READY=q}});k(j.TRANSLATE_ON_UPLOADING).then(function(q){j.MESSAGE_ON_UPLOADING=q});l.applicationInstance(j.tm1Instance).then(function(q){});j.upload=function(){j.status=j.STATUS_ON_UPLOADING;j.logObj("upload.file",j.upload.file);a.post("api/files/"+j.tm1Instance+"/upload-parameter/save",{internalInstancePath:j.internalFilePath}).then(function(r,s){if(l.helperIsSuccessful(r)){m.upload({url:"api/file/upload/"+j.tm1Instance,data:{file:j.upload.file}}).then(function(p){j.logObj("upload.files status",p);if(l.helperIsSuccessful(p)){if(j.hasModel){j.ngModel=p.data[0]}if(angular.isDefined(g.tm1AfterUpload)){j.log("executeAfterSuccessfulUpload() - Custom Function Found");j.tm1AfterUpload({file:p.data[0]})}l.dataRefresh();j.upload.file=undefined}j.status=j.STATUS_ON_READY},function(p){j.logObj("upload failed",p)},function(q){j.logObj("upload status",q);var p=parseInt(100*q.loaded/q.total);j.progress=p+"% "+q.config.data.file.name;j.logObj("upload status progressPercentage",p)})}else{$log.error(r)}})};j.onReceivedFile=function(A,C,y,z,w,B){j.errorMessage="";if(w&&w.length>0){j.errorMessage="Error ["+w[0].$error+"]. Limit is ["+w[0].$errorParam+"]";try{j.errorMessage+=". Size: "+b("number")(y[0].size/1000000,2)+" MB"}catch(x){}}};if(angular.isDefined(g.tm1UiClass)){j.$watch("tm1UiClass",function(r,s){j.directiveClasses=_.isEmpty(r)?"":r})}if(angular.isDefined(g.tm1Path)){g.$observe("tm1Path",function(q){j.internalFilePath=q.split(" ").join("")})}j.$watch("status",function(r,s){switch(r){case j.STATUS_ON_READY:j.displayMessage=j.MESSAGE_ON_READY;break;case j.STATUS_ON_UPLOADING:j.displayMessage=j.MESSAGE_ON_UPLOADING;break;default:j.displayMessage=j.MESSAGE_ON_READY}});j.status=j.STATUS_ON_READY},controller:d.Controller}}]);c.controller(d.Controller,["$scope","$tm1Ui","tm1UiSettings","$log",function(j,h,k,b){var a=this}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiUser";d.Controller="Tm1UiUserCtrl";d.Template="assets/html/tm1-ui-user.html";c.directive(d.Name,["$filter","tm1UiSettings","uuid2","$rootScope",function(a,g,b,h){return{restrict:"E",templateUrl:d.Template,transclude:false,replace:true,scope:{tm1Instance:"@",tm1Debug:"=",tm1UiClass:"@",ngModel:"="},link:function(f,e,o,m,n){f.directiveID=b.newguid();f.directiveClasses="";f.hasInstance=false;f.hasModel=false;f.usersInfo=undefined;f.debug=false;f.log=function(j){f.logObj(j,{message:j})};f.logObj=function(j,k){if(f.debug){h.$broadcast(g.frameworkLogID,{id:f.directiveID,name:d.Name,message:j,object:k})}};if(angular.isDefined(o.tm1Debug)&&f.tm1Debug){f.debug=true}if(angular.isDefined(o.tm1UiClass)&&!_.isEmpty(f.tm1UiClass)){f.directiveClasses=f.tm1UiClass}if(angular.isDefined(o.tm1Instance)){f.hasInstance=true}if(angular.isDefined(o.ngModel)){f.hasModel=true}f.$on(d.Name+".event.refresh",function(j){m.refreshData()});f.$on("tm1.event.refresh",function(j){m.refreshData()});if(f.hasInstance){o.$observe("tm1Instance",function(j){f.log("Instance Receveid "+j);if(!_.isEmpty(j)){m.refreshData()}})}else{m.refreshData()}if(angular.isDefined(o.tm1UiClass)){o.$observe("tm1UiClass",function(j){f.directiveClasses=_.isEmpty(j)?"":j})}},controller:d.Controller}}]);c.controller(d.Controller,["$scope","$http","$tm1UiHelper","tm1UiSettings","$log","$tm1Ui",function(m,a,n,o,k,l){var b=this;b.updateModel=function(e){m.log("ng-model was defined: "+m.hasModel);if(m.hasModel){var f={};angular.copy(e,f);m.ngModel=f}};b.refreshData=function(){if(m.hasInstance){l.applicationUser(m.tm1Instance).then(function(e){m.logObj("User Info Received",e);m.usersInfo=e;b.updateModel(e)})}else{l.applicationUsers().then(function(e){m.logObj("Users Info Received",e);m.usersInfo=e;b.updateModel(e)})}}}])})();(function(){var c=angular.module("tm1Ui");var d={};d.Name="tm1UiWeb";d.Controller="Tm1UiWebCtrl";d.Template="assets/html/tm1-ui-web.html";c.directive(d.Name,["$filter","tm1UiSettings","uuid2","$window","$timeout","$rootScope",function(b,l,k,a,j,m){return{restrict:"E",templateUrl:d.Template,transclude:true,replace:true,scope:{name:"@",id:"@","class":"@",tm1Instance:"@",tm1Application:"@",tm1Cube:"@",tm1CubeView:"@",tm1Titles:"@",tm1ShowUrl:"=",tm1ShowToolBar:"=",tm1Height:"@tm1Height",tm1Width:"@tm1Width",tm1UiClass:"@",tm1Debug:"="},link:function(e,o,h,f,g){e.directiveID=k.newguid();e.urlApi="UrlApi.jsp#";e.url="";e.urlWeb="";e.credentials="";e.error=false;e.errorMessage="";e.message="Loading...";e.isEmptySessionToken=false;e.isCubeViewer=true;e.hideToolBar=true;e.sessionToken="";e.hasTitles=false;e.hasCubeView=false;e.initPage=false;e.iframeStyle={height:"100%",width:"100%","border-style":"none"};e.containerStyle={height:"400px",width:"100%"};e.DEFAULT_CUBE_VIEW="Default";e.retryCount=0;e.tm1WebUri="";e.adminHost="";e.tm1Server="";e.user="";e.pass="";e.camPassport="";e.directiveClasses="";e.debug=false;e.log=function(q,n){if(e.debug){m.$broadcast(l.frameworkLogID,{id:e.directiveID,name:d.Name,message:q,object:n})}};if(angular.isDefined(h.tm1Debug)&&e.tm1Debug){e.debug=true}if(angular.isUndefined(h.tm1Instance)){throw"tm1-instance is a required attribute."}if(angular.isUndefined(h.tm1Application)&&angular.isUndefined(h.tm1Cube)){throw"tm1-application OR tm1-cube is a required attribute."}if(angular.isDefined(h.tm1Application)&&angular.isDefined(h.tm1Cube)){throw"Please choose EITHER tm1-application OR tm1-cube BUT NOT BOTH."}if(angular.isDefined(h.tm1Application)){e.isCubeViewer=false}if(angular.isDefined(h.tm1Titles)){e.hasTitles=true}if(angular.isDefined(h.tm1CubeView)){e.hasCubeView=true}if(angular.isDefined(h.tm1Height)&&!_.isEmpty(e.tm1Height)){e.containerStyle.height=e.tm1Height}if(angular.isDefined(h.tm1Width)&&!_.isEmpty(e.tm1Width)){e.containerStyle.width=e.tm1Width}e.hideToolBar=(angular.isDefined(h.tm1ShowToolBar)&&e.tm1ShowToolBar)?false:true;if(angular.isDefined(h.tm1UiClass)&&!_.isEmpty(e.tm1UiClass)){e.directiveClasses=e.tm1UiClass}e.hasCompleteParams=function(){var n=true;if(angular.isDefined(h.tm1Application)&&_.isEmpty(e.tm1Application)){n=false}else{if(angular.isDefined(h.tm1Titles)){var q=Papa.parse(e.tm1Titles);if(angular.isDefined(q.data)&&q.data.length==1&&q.data[0].length>0){angular.forEach(q.data[0],function(p){if((n&&_.isEmpty(p))||(!_.isEmpty(p)&&p.trim()=="")){n=false}else{if(n){var s=p.split("=");if(_.isEmpty(s[1])){n=false}}}})}}else{if(angular.isDefined(h.tm1Cube)&&_.isEmpty(e.tm1Cube)){n=false}else{if(angular.isDefined(h.tm1CubeView)&&_.isEmpty(e.tm1CubeView)){n=false}}}}return n};e.getUrlBase=function(){return e.isCubeViewer?e.urlApi+"HideToolbar="+e.hideToolBar+"&Action=Open&Type=CubeViewer&Cube=":e.urlApi+"HideToolbar="+e.hideToolBar+"&Action=Open&Type=WebSheet&Workbook="};e.getFormattedTitles=function(s){var n=Papa.parse(e.tm1Titles);var r="";angular.forEach(n.data[0],function(p){var q=p.split("=");r=r+"&Title_"+encodeURIComponent(q[0].trim())+"="+encodeURIComponent(q[1].trim())});r=r.substr(1);e.log("getFormattedTitles() titles: "+r);return r};e.getFormattedCube=function(){return encodeURIComponent(e.tm1Cube.trim())};e.getFormattedCubeView=function(){return encodeURIComponent(e.tm1CubeView.trim())};e.getFormattedApplication=function(){return encodeURIComponent(e.tm1Application.trim())};e.getWebViewerUrl=function(){var n="";if(e.isCubeViewer){n=e.getUrlBase()+e.getFormattedCube()+"&View="+e.DEFAULT_CUBE_VIEW;if(e.hasCubeView){n=e.getUrlBase()+e.getFormattedCube()+"&View="+e.getFormattedCubeView()}}else{n=e.getUrlBase()+e.getFormattedApplication()}if(e.hasTitles){n=n+"&"+e.getFormattedTitles(e.tm1Titles)}return n};e.$on(d.Name+".event.refresh",function(n){});if(angular.isDefined(h.tm1Application)){e.$watch("tm1Application",function(n,q){if(!_.isEmpty(n)&&e.hasCompleteParams()){e.initPage=false;e.url=e.getWebViewerUrl();e.log("tm1Application changed url: "+e.url);f.updateSessionToken(e.tm1Instance)}})}if(angular.isDefined(h.tm1Titles)){e.$watch("tm1Titles",function(n,q){if(!_.isEmpty(n)&&e.hasCompleteParams()){e.initPage=false;e.url=e.getWebViewerUrl();e.log("tm1Titles changed url: "+e.url);f.updateSessionToken(e.tm1Instance)}})}if(angular.isDefined(h.tm1Cube)){e.$watch("tm1Cube",function(n,q){if(!_.isEmpty(n)&&e.hasCompleteParams()){e.initPage=false;e.url=e.getWebViewerUrl();e.log("tm1Cube changed url: "+e.url);f.updateSessionToken(e.tm1Instance)}})}if(angular.isDefined(h.tm1CubeView)){e.$watch("tm1CubeView",function(n,q){if(!_.isEmpty(n)&&e.hasCompleteParams()){e.initPage=false;e.url=e.getWebViewerUrl();e.log("tm1CubeView changed url: "+e.url);f.updateSessionToken(e.tm1Instance)}})}if(angular.isDefined(h.tm1ShowToolBar)){e.$watch("tm1ShowToolBar",function(n,q){if(e.hasCompleteParams()){e.hideToolBar=!n;e.initPage=false;e.url=e.getWebViewerUrl();e.log("tm1ShowToolBar changed url: "+e.url);f.updateSessionToken(e.tm1Instance)}})}if(angular.isDefined(h.tm1UiClass)){e.$watch("tm1UiClass",function(n,q){e.directiveClasses=_.isEmpty(n)?"":n})}e.$on("tm1.event.refresh",function(n){});if(e.hasCompleteParams()){e.initPage=false;e.url=e.getWebViewerUrl();e.log("complete params url: "+e.url);f.updateSessionToken(e.tm1Instance)}},controller:d.Controller}}]);c.controller(d.Controller,["$scope","$http","$tm1UiHelper","tm1UiSettings","$rootScope","$timeout",function(l,a,m,n,o,k){var b=this;b.requestInProgress=false;b.updateSessionToken=function(e){a.get("api/tokens/"+e).then(function(f,g){b.requestInProgress=true;l.retryCount++;l.log("getting session with status: "+f.status);if(m.isSuccessful(f)){if(!_.isEmpty(f.data.tm1WebUri)){l.sessionToken=f.data.sessionToken;l.tm1WebUri=f.data.tm1WebUri;l.adminHost=f.data.tm1AdminServer;l.tm1Server=f.data.tm1Server;l.user=f.data.username;l.pass=f.data.password;l.camPassport=f.data.camPassport;var h="Web Parts - ";h+="$scope.sessionToken: "+l.sessionToken;h+=", $scope.tm1WebUri: "+l.tm1WebUri;h+=", $scope.adminHost: "+l.adminHost;h+=", $scope.tm1Server: "+l.tm1Server;l.log(h);b.updateDirectiveState()}else{if(l.retryCount==1){k(function(){b.updateSessionToken(e)},3*1000)}}}else{if(f.status==404){l.isEmptySessionToken=true}else{l.error=true;l.errorMessage="Error retrieving session info."}}b.requestInProgress=false})};b.updateDirectiveState=function(){l.credentials="&SessionToken="+l.sessionToken+"&AccessType=PUBLIC";if(!_.isEmpty(l.camPassport)){l.credentials="&CAMPassport="+l.camPassport+"&AccessType=PUBLIC"}l.credentials+="&AdminHost="+l.adminHost+"&TM1Server="+l.tm1Server;if(!_.isEmpty(l.sessionToken)||!_.isEmpty(l.camPassport)){l.urlWeb=l.tm1WebUri+"/"+l.url+l.credentials;l.log("updateDirectiveState() URL: "+l.urlWeb);l.initPage=true}else{l.isEmptySessionToken=true}}}])})();(function(){var b=angular.module("tm1Ui");b.filter("formatNumber",function(){var a=_.cloneDeep(accounting.settings);var d=accounting.settings.precision;return function(g,h,c){if(angular.isDefined(h)){a.currency.precision=h}else{a.currency.precision=d}return accounting.formatMoney(g,a.currency)}});b.filter("formatPercentage",function(){var a=_.cloneDeep(accounting.settings);var d=accounting.settings.precision;a.currency.format={pos:"%v%",neg:"(%v%)",zero:"-%"};return function(g,h,c){if(angular.isDefined(h)){a.currency.precision=h}else{a.currency.precision=d}g*=100;return accounting.formatMoney(g,a.currency)}});b.filter("gridNumber",function(){return function(a,d){return accounting.formatNumber(a.value,d)}})})();(function(){var b=angular.module("tm1Ui.provider",["ui.router"])})();(function(){var b=angular.module("tm1Ui.provider");b.provider("tm1UiLogin",["$stateProvider",function(d){var a;this.$get=["$http","$state","$injector",function(c,h,g){return{setUpRoutes:function(){var e=g.get("$rootScope");c.get(a).then(function(f){var l=l.data;for(var m in l){if(!h.get(m)){d.state(m,l[m])}}if(!_.isEmpty(e)){e.$broadcast("tm1.event.states.loaded")}})}}}];this.setCollectionUrl=function(c){a=c}}])})();(function(){var b=angular.module("tm1Ui.provider");b.provider("tm1UiRouter",["$stateProvider",function(d){var a;this.$get=["$http","$state","$injector",function(c,h,g){return{setUpRoutes:function(){var e=g.get("$rootScope");c.get(a).then(function(f){for(var k in f.data){if(!h.get(k)){d.state(k,f.data[k])}}if(!_.isEmpty(e)){e.$broadcast("tm1.event.states.loaded")}})}}}];this.setCollectionUrl=function(c){a=c}}])})();(function(){var b=angular.module("tm1Ui");b.service("$tm1UiApp",["$rootScope","$http","$q","tm1UiSettings","$base64","$tm1UiHelper","$log","$tm1UiInstance","$location",function(n,o,r,s,u,q,a,m,t){var p=this;p.debug=false;p.serviceID=q.generateUUID();p.log=function(d,c){a.debug("$tm1Ui - "+d);a.debug(c);if(p.debug){n.$broadcast(s.frameworkLogID,{id:p.serviceID,name:"$tm1UiApp",message:d,object:c})}};p.info=function(){var d=o.get("api/app/info");var c=c||r.defer();d.then(function(e){c.resolve(e.data)},function(e){c.reject(e)});return c.promise};p.users=function(){var d=o.get("api/users");var c=c||r.defer();d.then(function(e){c.resolve(e.data)},function(e){c.reject(e)});return c.promise};p.menus=function(){var d=o.get("api/app/menus");var c=c||r.defer();d.then(function(e){c.resolve(e.data)},function(e){c.reject(e)});return c.promise};p.userMenus=function(){var d=o.get("api/app/menus-user");var c=c||r.defer();d.then(function(e){c.resolve(e.data)},function(e){c.reject(e)});return c.promise};p.saveUserMenus=function(d){var e=o.post("api/app/menus-user",d);var c=c||r.defer();e.then(function(f){c.resolve({success:q.isSuccessful(f),message:f.data})},function(f){c.reject(f)});return c.promise};p.states=function(){var d=o.get("api/app/states");var c=c||r.defer();d.then(function(e){c.resolve(e.data)},function(e){c.reject(e)});return c.promise};p.userStates=function(){var d=o.get("api/app/states-user");var c=c||r.defer();d.then(function(e){c.resolve(e.data)},function(e){c.reject(e)});return c.promise};p.saveUserStates=function(c){var d=o.post("api/app/states-user",c);var e=e||r.defer();d.then(function(f){e.resolve({success:q.isSuccessful(f),message:f.data})},function(f){e.reject(f)});return e.promise};p.user=function(c){var d=o.get("api/users/"+c);var e=e||r.defer();d.then(function(f){e.resolve(f.data)},function(f){e.reject(f)});return e.promise};p.login=function(c,d,k,h){if(angular.isUndefined(c)||angular.isUndefined(d)){throw"instance and username are required fields."}if(angular.isUndefined(k)){k=""}var g=undefined;var j=1;if(angular.isDefined(h)&&!_.isEmpty(h)){j=5;g="CAMNamespace "+q.encode(d.trim()+":"+k+":"+h.trim())}else{g="Basic "+q.encode(d.trim()+":"+k)}var e=o.post("api/sessions/"+c+"/login",{authorizationHeader:g,integratedSecurityMode:j});var f=f||r.defer();e.then(function(l){if(q.isSuccessful(l)){p.log("Successfully logged in!");p.log("Now preparing session to save...");m.instances().then(function(y){var x=undefined;_.forEach(y,function(v){if(v.name==c){x=v}});x.isLoggedIn=true;x.userName=d;x.cam=h;p.log("Session object to save...",x);o.post("api/sessions/save",x).then(function(v,w){p.log("Session object is saved too!",l.data);if(angular.isDefined(x.tm1WebUri)&&!_.isEmpty(x.tm1WebUri)){m.configuration(c).then(function(E){var C=E.AdminHost;var D=E.ServerName;o({method:"POST",url:x.tm1WebUri+"/dwrx/jsonp/TM1Service/login",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(A){var z=[];for(var B in A){z.push(encodeURIComponent(B)+"="+encodeURIComponent(A[B]))}return z.join("&")},data:{param0:C,param1:D,param2:d,param3:k}}).then(function(z,B){var G=z.data;if(angular.isDefined(G)&&angular.isDefined(G.reply)&&angular.isDefined(G.reply.sessionToken)){var A={};angular.copy(x,A);A.cam=h;A.username=d;A.tm1AdminServer=C;A.tm1Server=D;A.instance=c;A.sessionToken=G.reply.sessionToken;o.post("api/tokens/save",A).then(function(F,I){if(!q.isSuccessful(F)){a.error("unable to save tokens")}})}else{a.error("framework is not ready for UrlApi");a.error(G)}})})}else{a.warn("URL API is not configured. tm1-ui-web directive is not supported.")}f.resolve({success:q.isSuccessful(l),message:l.data})})})}else{p.log("Unable to login. Check credentials passed.");f.resolve({success:false,message:l.data})}},function(l){f.reject(l)});return f.promise};p._retrieveCamPassport=function(d){var c="";var e=$.parseHTML(d);$.each(e,function(){var g="cam_passport=";var h="&CAMNamespace";if($(this).attr("content")&&$(this).attr("content").toLowerCase().indexOf(g)!=-1){var f=$(this).attr("content").substring($(this).attr("content").toLowerCase().indexOf(g));f=f.substring(g.length);if(f.indexOf(h)!=-1){f=f.slice(0,f.indexOf(h))}c=f}});return c};p.loginWithCAMPassport=function(h,c,g){var d=d||r.defer();var f={authorizationHeader:"CAMPassport "+g,integratedSecurityMode:5};var e=o.post("api/sessions/"+h+"/login",f);e.then(function(j){if(q.isSuccessful(j)){m.instances().then(function(l){var k=undefined;_.forEach(l,function(w){if(w.name==h){k=w}});k.isLoggedIn=true;k.cam=c;k.camPassport=g;o.post("api/sessions/save",k).then(function(x,y){if(q.isSuccessful(x)){if(angular.isDefined(k.tm1WebUri)&&!_.isEmpty(k.tm1WebUri)){m.configuration(h).then(function(w){var C=w.AdminHost;var v=w.ServerName;var B={};angular.copy(k,B);B.cam=c;B.tm1AdminServer=C;B.tm1Server=v;B.instance=h;B.camPassport=g;o.post("api/tokens/save",B).then(function(z,A){if(!q.isSuccessful(z)){d.resolve({success:false,message:"unable to save SSO tokens"})}else{d.resolve({success:true,message:"TM1Web with SSO is Ready!"})}})})}else{d.resolve({success:true,message:"No TM1Web URL Found."})}}else{a.error("UNABLE TO SAVE SSO SESSION");a.error(x);d.resolve({success:false,message:x.data})}})})}else{d.resolve({success:false,message:j.data})}},function(j){d.reject(j)});return d.promise};p.getCamPassport=function(e,c){p.log("getCamPassport() Retrieving Passport for instance ["+e+"] with Namespace ["+c+"]");if(_.isEmpty(e)||_.isEmpty(c)){throw"getCamPassport() instance and camNamespace are required fields"}var d=r.defer();m.instances().then(function(f){var g=undefined;_.forEach(f,function(j){if(j.name==e){g=j}});p.log("getCamPassport() Target Instance Found...",g);if(g&&g.useSSOWithCAM&&!_.isEmpty(g.clientCAMURI)){var h=g.clientCAMURI;h+="?b_action=xts.run&m=portal/bridge.xts&CAMNamespace="+c;h+="&c_env=portal/variables_TM1.xml&c_mode=get&c_cmd=";h+=t.protocol()+"://";h+=t.host()+":"+t.port();h+=g.baseApp+"/";p.log("getCamPassport() Preparing URL for CAM Passport Request: "+h);o.get(h).then(function(j){p.log("getCamPassport() CAM Passport Response: "+j.data);if(q.isSuccessful(j)){var k=p._retrieveCamPassport(j.data);p.log("getCamPassport() CAM Passport Retrieved: "+k);if(_.isEmpty(k)){p.log("getCamPassport() UNABLE TO IDENTIFY PASSPORT. Please Check Response",j.data);return d.reject(j)}else{return d.resolve(p._retrieveCamPassport(j.data))}}else{a.error(j);throw"Unable to get cam passport via "+h}})}else{throw"Instance ["+e+"] is not configured/supported for CAM with SSO. Check help documentation for this."}});return d.promise};p.logout=function(c){if(angular.isUndefined(c)){throw"instance is a required field."}var d=o.get("api/sessions/"+c+"/delete");var e=e||r.defer();d.then(function(f){o.get("api/tokens/"+c+"/delete").then(function(g,h){p.log("logged out of UrlApi too",g)});e.resolve({success:q.isSuccessful(f),message:f.data})},function(f){e.reject(f)});return e.promise};p.sessions=function(){var d=o.get("api/sessions");var c=c||r.defer();d.then(function(e){c.resolve(e.data)},function(e){c.reject(e)});return c.promise};p.session=function(c){var d=o.get("api/sessions/"+c);var e=e||r.defer();d.then(function(f){e.resolve(f.data)},function(f){e.reject(f)});return e.promise};p.fileDelete=function(c,f){if(angular.isUndefined(c)||angular.isUndefined(f)){throw"instance and relativeFilePath are required fields."}var g={id:q.generateUUID(),instance:c,relativeFilePath:f};var d=o.post("api/files/"+c+"/delete",g);var e=e||r.defer();d.then(function(h){e.resolve({success:q.isSuccessful(h),message:h.data})},function(h){e.reject(h)});return e.promise}}])})();(function(){var b=angular.module("tm1Ui");b.service("$tm1UiCore",["$rootScope","$http","$q","$tm1UiHelper","tm1UiSettings","$log",function(o,j,m,n,a,l){var k=this;k.requestIDs=[];k.escape=function(c){if(c){c=c.split("/").join("|>");c=c.split("\\").join("<|");c=c.split("%").join("%25");c=c.split("#").join("%23")}return c};k.getToken=function(){var c=c||m.defer();var d={};d.url=a.tu;d.method=a.tum;d.headers={};d.headers[a.t]=a.tv;j(d).then(function(e){c.resolve(e.headers(a.t))},function(e){c.reject(e)});return c.promise};k.dbrBatched=function(f,g,h){var c={};if(h.length>=5){c=angular.isUndefined(h[4])?c:h[4]}var d=angular.isDefined(h[3])?h[3]:n.generateUUID();if(a.batchingDbrRequestEnabled){var q={id:d,dbr:{id:d,instance:f,cube:g,cubeElements:h[2],isValueOnly:c.isValueOnly}};if(!(angular.isArray(q.dbr.cubeElements)&&q.dbr.cubeElements.length>1)){throw"$tm1Ui: There must be at least 2 elements. "}var e=m.defer();o.$broadcast(a.batcherRequestID,q);o.$on(a.batcherResponseID,function(p,s){if(!_.isEmpty(s)){if(s[d]){e.resolve(s[d])}}else{e.reject({success:false,message:"No response received."})}});return e.promise}else{return k.multipleDbr([{id:d,instance:f,cube:g,cubeElements:h[2],isValueOnly:c.isValueOnly}])}};k.dbr=function(d,e,h){if(h.length<4){throw"$tm1Ui: Minimum number of arguments not met (instance, cube, element1, element2)."}var t="";var f=0;_.forEach(h,function(p){if(f>=2&&angular.isDefined(p)){t+=","+p}f++});t=t.substring(1);var s=n.generateUUID();var g={method:"POST",url:"api/dbr/batch",data:[{id:s,instance:d,cube:e,elements:t}]};var c=j(g);var u=u||m.defer();c.then(function(p){u.resolve(p.data[s])},function(p){u.reject(p)});return u.promise};k.dbrPicklistValues=function(d,e,h){if(h.length<3){throw"$tm1Ui: Minimum number of arguments not met (instance, cube, [element1, element2] | element1, element2)."}var s=n.generateUUID();var g={method:"POST",url:"api/dbr/picklist-values",data:{id:s,instance:d,cube:e}};if(h.length>3){var t="";var f=0;_.forEach(h,function(p){if(f>=2&&angular.isDefined(p)){t+=","+p}f++});t=t.substring(1);g.data.elements=t}else{if(angular.isArray(h[2])){g.data.cubeElements=h[2]}else{throw"$tm1Ui() Unknown CellGetPicklistValues Request."}}var c=j(g);var u=u||m.defer();c.then(function(p){u.resolve(p.data)},function(p){u.reject(p)});return u.promise};k.multipleDbr=function(e){if(!angular.isArray(e)){l.error(e);throw"$tm1Ui: Parameter passed must be an array!"}_.forEach(e,function(g){if(angular.isUndefined(g.id)){g.id=n.generateUUID()}if(_.indexOf(k.requestIDs,g.id)==-1){k.requestIDs.push(g.id)}});var f={method:"POST",url:"api/dbr/batch",data:e};var c=j(f);var d=d||m.defer();c.then(function(g){var h=[];var q=_.clone(k.requestIDs);_.forEach(q,function(p){k.requestIDs=_.remove(k.requestIDs,function(s){return s!=p});if(g.data[p]){h.push(g.data[p])}});k.requestIDs=q;d.resolve(h)},function(g){d.reject(g)});return d.promise};k.dbra=function(f,c,e,d){if(angular.isUndefined(f)||angular.isUndefined(c)||angular.isUndefined(e)||angular.isUndefined(d)){throw"$tm1Ui: instance, cube, element and attribute are required fields."}return k.dbr(f,"}ElementAttributes_"+c.trim(),arguments)};k.cellPut=function(g,e,f,c,d){return k.dbs(g,e,f,arguments)};k.dbs=function(e,f,g,q){if(q.length<5){throw"$tm1Ui: Minimum number of arguments not met (value, instance, cube, element1, element2)."}var c="";var d=0;_.forEach(q,function(p){if(d>=3&&angular.isDefined(p)){c+=","+k.escape(p)}d++});c=c.substring(1);var h=h||m.defer();k.getToken().then(function(p){var s={method:"POST",url:"api/dbs/"+encodeURIComponent(f)+"/"+encodeURIComponent(g)+"/"+c,data:{value:e}};s.headers={};s.headers[a.t]=p;j(s).then(function(r){h.resolve({success:n.isSuccessful(r),message:r.data})},function(r){h.reject(r)})});return h.promise};k.multipleDbs=function(d){_.forEach(d,function(e){if(angular.isUndefined(e.id)){e.id=n.generateUUID()}});var c=c||m.defer();k.getToken().then(function(e){var f={method:"POST",url:"api/dbs/batch",data:d};f.headers={};f.headers[a.t]=e;j(f).then(function(g){c.resolve({success:n.isSuccessful(g),message:g.data})},function(g){c.reject(g)})});return c.promise};k.dbsa=function(c,f,h,e,d){var g=g||m.defer();k.getToken().then(function(s){var u={};u.instance=f;u.dimension=h;u.element=e;u.attribute=d;u.value=c;var t={method:"POST",url:"api/dbra",data:u};t.headers={};t.headers[a.t]=s;j(t).then(function(p){g.resolve({success:n.isSuccessful(p),message:p.data})},function(p){g.reject(p)})});return g.promise};k.annotations=function(e,g,d){var f={id:n.generateUUID(),instance:e,cube:g,cubeElements:d};var h=j.post("api/dbr/comments",f);var c=c||m.defer();h.then(function(q){c.resolve(q.data)},function(q){c.reject(q)});return c.promise};k.saveAnnotation=function(e,f,g,c){var d={id:n.generateUUID(),instance:f,cube:g,cubeElements:c,comment:e};var h=h||m.defer();k.getToken().then(function(r){var s={method:"POST",url:"api/dbr/comments/save",data:d};s.headers={};s.headers[a.t]=r;j(s).then(function(p){h.resolve({success:n.isSuccessful(p),message:p.data})},function(p){h.reject(p)})});return h.promise};k.drillNames=function(f,g,d){var e={id:n.generateUUID(),instance:f,cube:g,cubeElements:d};var h=j.post("api/dbr/"+f+"/drills",e);var c=c||m.defer();h.then(function(q){c.resolve(q.data)},function(q){c.reject(q)});return c.promise};k.drillTransactions=function(f,g,c,e){var d={id:n.generateUUID(),instance:f,cube:g,cubeElements:c,drillName:e};var h=j.post("api/dbr/"+f+"/drills/"+e+"/transactions",d);var q=q||m.defer();h.then(function(p){q.resolve(p.data)},function(p){q.reject(p)});return q.promise};k.refresh=function(){o.$broadcast("tm1.event.refresh")}}])})();(function(){var b=angular.module("tm1Ui");b.service("$tm1UiCube",["$http","$q","$tm1UiHelper","tm1UiSettings","$tm1UiCore",function(h,l,m,a,k){var j=this;j.executeMdx=function(f,d,e){var c=c||l.defer();k.getToken().then(function(o){var g={method:"POST",url:"api/mdx",data:{instance:f,mdx:d,restPath:e}};g.headers={};g.headers[a.t]=o;h(g).then(function(n){c.resolve(n.data)},function(n){c.reject(n)})});return c.promise};j.executeView=function(f,g,e){var c=h.get("api/cubes/"+f+"/"+g+"/"+e);var d=d||l.defer();c.then(function(o){d.resolve(o.data)},function(o){d.reject(o)});return d.promise};j.executeNamedMdx=function(g,d,f){var p="";if(f&&f.showEmpty){p="?show-empty=true"}if(f&&angular.isObject(f)){var e="";if(f.parameters&&angular.isObject(f.parameters)){_.forEach(f.parameters,function(n,o){e+="&"+encodeURIComponent(o)+"="+encodeURIComponent(n)})}if(_.isEmpty(p)){e=e.substring(1);p+="?"+e}else{p+=e}}var q=h.get("api/mdx/"+g+"/"+d+p);var c=c||l.defer();q.then(function(n){c.resolve(n.data)},function(n){c.reject(n)});return c.promise};j.cubes=function(e){var c=h.get("api/cubes/"+e);var d=d||l.defer();c.then(function(f){d.resolve(f.data.value)},function(f){d.reject(f)});return d.promise};j.views=function(e,f){var c=h.get("api/cubes/"+e+"/"+f+"/views");var d=d||l.defer();c.then(function(g){d.resolve(g.data.value)},function(g){d.reject(g)});return d.promise};j.view=function(f,g,e){var c=h.get("api/cubes/"+f+"/"+g+"/"+e);var d=d||l.defer();c.then(function(s){var v=s.data;var w={cube:g,name:e,suppressEmptyColumns:v.SuppressEmptyColumns,suppressEmptyRows:v.SuppressEmptyRows,titles:[],columns:[],rows:[]};for(var u=0;u<v.Titles.length;u++){var t=v.Titles[u];w.titles.push({index:u,subset:t.Subset.Name,hierarchy:t.Subset.Hierarchy.Name,dimension:t.Subset.Hierarchy.Dimension.Name,alias:t.Subset.Alias,elementCount:t.Subset["Elements@odata.count"],selected:t.Selected.Name})}for(var u=0;u<v.Columns.length;u++){var t=v.Columns[u];w.columns.push({index:u,subset:t.Subset.Name,hierarchy:t.Subset.Hierarchy.Name,dimension:t.Subset.Hierarchy.Dimension.Name,alias:t.Subset.Alias,elementCount:t.Subset["Elements@odata.count"]})}for(var u=0;u<v.Rows.length;u++){var t=v.Rows[u];w.rows.push({index:u,subset:t.Subset.Name,hierarchy:t.Subset.Hierarchy.Name,dimension:t.Subset.Hierarchy.Dimension.Name,alias:t.Subset.Alias,elementCount:t.Subset["Elements@odata.count"]})}d.resolve(w)},function(o){d.reject(o)});return d.promise};j.dimensions=function(e,f){var c=h.get("api/cubes/"+encodeURIComponent(e)+"/"+encodeURIComponent(f));var d=d||l.defer();c.then(function(o){var g=[];if(m.isSuccessful(o)){_.forEach(o.data.dimensions,function(n){g.push(n.Name)})}else{$log.error(o)}d.resolve(g)},function(g){d.reject(g)});return d.promise}}])})();(function(){var b=angular.module("tm1Ui");b.service("$tm1UiDbr",["$rootScope","$log","$tm1Ui","tm1UiSettings","$timeout","$ngBootbox","$compile","$filter","textAngularManager",function(n,a,m,q,u,t,s,p,r){var o=this;o.NAME="tm1UiDbr";o.PARENT_NAME="tm1UiDbr";o.ALLOWED_BUTTONS={h1:true,h2:true,h3:true,h4:true,h5:true,h6:true,p:true,pre:true,quote:true,bold:true,italics:true,underline:true,strikeThrough:true,ul:true,ol:true,undo:true,redo:true,clear:true,justifyLeft:true,justifyCenter:true,justifyRight:true,justifyFull:true,indent:true,outdent:true,html:true,insertImage:true,insertLink:true,insertVideo:true,wordcount:true,charcount:true};o.emptyDisplay="-";o.initWithRptView=function(d,c){if(c.tm1RptViewModel!=undefined){d.tm1Instance=d.tm1RptViewModel.instance;d.tm1Cube=d.tm1RptViewModel.cube;d.tm1Elements="";_.forEach(d.tm1RptRowCell.reference(),function(e){d.tm1Elements+=","+e});d.tm1Elements=d.tm1Elements.substr(1);d.isNormalMode=false}};o.init=function(c){c.formatNumberFlag=false;c.isReadOnly=false;c.isCommentReadOnly=false;c.entry={value:c.emptyDisplay,picklist:[],isList:false,isUpdateable:false,valueText:""};c.dimensions=[];c.elements=[];c.currentEntryValue="";c.cubeDimensionsRequests=0;c.directiveID=m.helperGenerateUUID();c.directiveCommentID=m.helperGenerateUUID();c.directiveClasses="";c.picklistRadio=false;c.picklistRadioClasses=[];c.isMultiLine=false;c.multiLine=0;c.emptyDisplay="";c.errorDisplay="#VALUE!";c.isDateFormatted=false;c.formatHtml=false;c.editMode=false;c.TA_TOOLBAR_DEFAULT=[["h1","h2","h3"],["bold","italics","underline","justifyLeft","justifyCenter","justifyRight","justifyFull"],["indent","outdent","ul","ol"]];c.taToolbarButtons=c.TA_TOOLBAR_DEFAULT;c.taCommentToolbarButtons=c.TA_TOOLBAR_DEFAULT;c.comment={};c.hasValidation=false;c.hasValidationMessage=false;c.validate="";c.validateMessage="Not a valid entry. Please Check.";c.KEY_VALUE="@Value";c.KEY_REGEX="@RegEx";c.formatPercentage=false;c.formatNegativeInParenthesis=false;c.hasModel=false;c.rawValue="";if(c.tm1DataDecimal!=undefined){c.formatNumberFlag=true}c.isConsolidated=false;c.isNumeric=false;c.isAnnotated=false;c.hasDrillThrough=false;c.errorMessage=null;c.validationMessage=null;c.hasFunctionToCallBeforeUpdate=false;c.formatHtmlButtonEnabled=false;c.formatHtmlButtonText="Save";c.formatHtmlButtonClass="btn btn-primary";c.formatHtmlPopup=false;c.hideReference=false;c.hideComment=false;c.hideSpread=false;c.hideDrill=false;c.hasDrillModel=false;c.hasApi=false;c.hideContextMenu=false;c.customContextMenus=[];c.contextTimeout=5;c.clickID=0;c.isInputActive=false;c.updateTimestamp=_.now();c.hasPending=false;c.hasOnChangeFunction=false;c.consolInput=false;c.consolInputSpreadMethod="p";c.hasAccountingSettingsOverride=false;c.isNormalMode=true;c.picklistDisableSearch=false;c.debug=false};o.validate=function(e,c){if(angular.isDefined(c.tm1Debug)&&e.tm1Debug){e.debug=true}if(angular.isDefined(c.ngModel)){e.hasModel=true}if(c.tm1RptViewModel!=undefined){e.isNormalMode=false}if(e.isNormalMode){if(angular.isUndefined(c.tm1Instance)){throw"tm1-instance is a required attribute."}else{if(_.isEmpty(e.tm1Instance)){throw"tm1-instance cannot be empty."}}if(angular.isUndefined(c.tm1Cube)){throw"tm1-cube is a required attribute."}if(angular.isUndefined(c.tm1Elements)){throw"tm1-elements is a required attribute."}}if(angular.isDefined(c.tm1EnableRtf)&&angular.isDefined(c.tm1FormatHtml)){throw"Do not use tm1-enable-rtf. Use tm1-format-html moving forward."}if(angular.isDefined(c.tm1FormatHtml)&&angular.isDefined(c.tm1MultiLine)){throw"tm1-multi-line CANNOT BE COMBINED with tm1-format-html"}if(angular.isDefined(c.tm1EnableRtf)&&angular.isDefined(c.tm1MultiLine)){throw"tm1-multi-line CANNOT BE COMBINED with tm1-enable-rtf"}if(angular.isDefined(c.tm1DateOption)&&angular.isDefined(c.tm1MultiLine)){throw"tm1-multi-line CANNOT BE COMBINED with tm1-date-option"}if(angular.isDefined(c.tm1PicklistRadio)&&angular.isDefined(c.tm1MultiLine)){throw"tm1-multi-line CANNOT BE COMBINED with tm1-picklist-radio"}if(angular.isDefined(c.tm1Validate)){e.hasValidation=true}if(e.isNormalMode&&(_.isEmpty(e.tm1Cube)||_.isEmpty(e.tm1Dimensions))){e.isReadOnly=true}if(angular.isDefined(c.tm1PicklistRadio)){if(!(e.tm1PicklistRadio.trim().toLowerCase()=="vertical"||e.tm1PicklistRadio.trim().toLowerCase()=="horizontal")){throw'tm1-picklist-radio can only be "vertical" or "horizontal". Please check.'}e.picklistRadio=true;if(e.tm1PicklistRadio.trim()=="horizontal"){e.picklistRadioClasses.push("radio-inline")}else{e.picklistRadioClasses.push("radio")}}if(e.isNormalMode){e.tm1Cube=_.isEmpty(e.tm1Cube)?"":e.tm1Cube;e.tm1Elements=_.isEmpty(e.tm1Elements)?"":e.tm1Elements}e.tm1CommentCube=_.isEmpty(e.tm1CommentCube)?e.tm1Cube:e.tm1CommentCube;e.tm1CommentElements=_.isEmpty(e.tm1CommentElements)?"":e.tm1CommentElements;if(angular.isDefined(c.tm1FormatPercentage)&&e.tm1FormatPercentage){e.formatPercentage=true}if(angular.isDefined(c.tm1FormatParenthesis)&&e.tm1FormatParenthesis){e.formatNegativeInParenthesis=true}if(!e.formatNegativeInParenthesis&&angular.isDefined(n.instanceSettings)&&angular.isDefined(n.instanceSettings[e.tm1Instance])&&angular.isDefined(n.instanceSettings[e.tm1Instance]["applyParenthesisFormatting"])&&n.instanceSettings[e.tm1Instance]["applyParenthesisFormatting"]){e.formatNegativeInParenthesis=true}if(angular.isDefined(c.tm1FormatParenthesis)&&!e.tm1FormatParenthesis){e.formatNegativeInParenthesis=false}if(angular.isDefined(c.tm1CommentReadOnly)&&e.tm1CommentReadOnly){e.isCommentReadOnly=true}if(angular.isDefined(c.tm1MultiLine)){try{e.multiLine=parseInt(e.tm1MultiLine);if(e.multiLine>1){e.isMultiLine=true}}catch(d){throw"Value of tm1-multi-line is not a valid integer!"}}if(angular.isDefined(c.tm1Placeholder)&&!_.isEmpty(e.tm1Placeholder)){e.emptyDisplay=e.tm1Placeholder}if(angular.isDefined(c.tm1DateOption)&&!angular.isObject(e.tm1DateOption)){throw"tm1-date-option must be an OBJECT."}if(angular.isDefined(c.tm1DateOption)&&angular.isObject(e.tm1DateOption)){e.isDateFormatted=true;e.dateOption=e.tm1DateOption}if(angular.isDefined(c.tm1UiClass)&&!_.isEmpty(e.tm1UiClass)){e.directiveClasses=e.tm1UiClass}if(angular.isDefined(c.tm1EnableRtf)&&e.tm1EnableRtf){e.formatHtml=true}if(angular.isDefined(c.tm1FormatHtml)&&e.tm1FormatHtml){e.formatHtml=true}if(e.formatHtml){if(angular.isDefined(c.tm1FormatHtmlButtons)){o.validateToolbarButtons(e.tm1FormatHtmlButtons,"tm1-format-html-buttons");e.taToolbarButtons=e.tm1FormatHtmlButtons}if(angular.isDefined(c.tm1FormatHtmlPopup)&&e.tm1FormatHtmlPopup){e.formatHtmlPopup=true;e.showEditor=function(){e.entry.valueText=e.entry.value;$("#tm1-ui-dbr-popup-"+e.directiveID).modal("show")};e.saveValue=function(){e.entry.value=e.entry.valueText;e.updateData();$("#tm1-ui-dbr-popup-"+e.directiveID).modal("hide")}}}else{if(angular.isDefined(c.tm1FormatHtmlButtons)){throw"tm1-format-html-buttons is to be combined with tm1-format-html. REMOVED THIS."}}if(angular.isDefined(c.tm1CommentFormatHtmlButtons)){o.validateToolbarButtons(e.tm1CommentFormatHtmlButtons,"tm1-comment-format-html-buttons");e.taCommentToolbarButtons=e.tm1CommentFormatHtmlButtons}if(angular.isDefined(c.tm1BeforeUpdate)){e.hasFunctionToCallBeforeUpdate=true}if(angular.isDefined(c.tm1FormatHtmlButtonEnabled)&&e.tm1FormatHtmlButtonEnabled){e.formatHtmlButtonEnabled=true}if(angular.isDefined(c.tm1FormatHtmlButtonText)&&!_.isEmpty(e.tm1FormatHtmlButtonText)){e.formatHtmlButtonText=e.tm1FormatHtmlButtonText}if(angular.isDefined(c.tm1FormatHtmlButtonClass)&&!_.isEmpty(e.tm1FormatHtmlButtonClass)){e.formatHtmlButtonClass=e.tm1FormatHtmlButtonClass}if(angular.isDefined(c.tm1HideReference)&&e.tm1HideReference){e.hideReference=true}if(angular.isDefined(c.tm1HideComment)&&e.tm1HideComment){e.hideComment=true}if(angular.isDefined(c.tm1HideSpread)&&e.tm1HideSpread){e.hideSpread=true}if(angular.isDefined(c.tm1HideDrill)&&e.tm1HideDrill){e.hideDrill=true}if(angular.isDefined(c.tm1HideContextMenu)&&e.tm1HideContextMenu){e.hideContextMenu=true}if(angular.isDefined(c.tm1DrillModel)&&!_.isEmpty(c.tm1DrillModel)){e.hasDrillModel=true}if(angular.isDefined(c.tm1Api)){e.hasApi=true}if(angular.isDefined(c.tm1Change)){e.hasOnChangeFunction=true}if(angular.isDefined(c.tm1ConsolInput)&&e.tm1ConsolInput){e.consolInput=true;if(angular.isDefined(c.tm1ConsolInputSpreadMethod)&&!_.isEmpty(e.tm1ConsolInputSpreadMethod)){e.consolInputSpreadMethod=e.tm1ConsolInputSpreadMethod.trim()}}if(angular.isDefined(c.tm1AccountingSettingsOverride)&&_.isObject(e.tm1AccountingSettingsOverride)){e.hasAccountingSettingsOverride=true;e.accountingSettingsOverride=angular.merge({},accounting.settings,e.tm1AccountingSettingsOverride)}if(angular.isDefined(c.tm1AddContextMenu)&&angular.isArray(e.tm1AddContextMenu)){e.customContextMenus=[];_.forEach(e.tm1AddContextMenu,function(f){if(angular.isUndefined(f.display)||angular.isUndefined(f.action)){throw"Required context menu properties (display and/or action) missing. Please check."}e.customContextMenus.push({display:f.display,action:f.action})})}if(angular.isDefined(c.tm1PicklistDisableSearch)){if(e.tm1PicklistDisableSearch===true){e.picklistDisableSearch=true}}};o.validateToolbarButtons=function(d,c){if(!angular.isArray(d)){throw c+" MUST BE AN ARRAY."}if(d.length==0){throw c+" CANNOT BE EMPTY"}_.forEach(d,function(e){if(!angular.isArray(e)){throw angular.toJson(e)+" must be an ARRAY of BUTTON Strings"}_.forEach(e,function(f){if(!angular.isString(f)){throw angular.toJson(f)+" MUST BE A STRING."}if(!o.ALLOWED_BUTTONS[f]){throw f+" is NOT A VALID BUTTON STRING."}})})};o.initializeHelpers=function(c){c.isContextApplicable=function(){var d=false;if(!c.hideContextMenu){if(!c.hideReference||!c.hideComment){d=true}else{if(!c.hideSpread&&c.isConsolidated&&c.isNumeric){d=true}else{if(!c.hideDrill&&c.hasDrillThrough){d=true}}}}return d};c.checkDatePicker=function(){if(c.isDateFormatted&&!c.isReadOnly){if(angular.isUndefined(c.dateOption.autoclose)){c.dateOption.autoclose=true}if(angular.isUndefined(c.dateOption.format)){c.dateOption.format="yyyy-mm-dd"}if(angular.isUndefined(c.dateOption.todayHighlight)){c.dateOption.todayHighlight=true}c.dateOption.zIndexOffset=10000;$("#"+c.directiveID).datepicker(c.dateOption);$("#"+c.directiveID).datepicker("show")}};c.hasComments=function(){if((c.comment&&c.comment.value&&c.comment.value.length>0)||c.isAnnotated){return true}return false};if(c.formatHtml){c.activateTextAngular=function(){if(c.formatHtmlPopup){c.showEditor()}else{c.editMode=true;var d=r.retrieveEditor("ta-"+c.directiveID).scope;u(function(){d.displayElements.text.trigger("focus")})}}}if(c.customContextMenus.length>0){c.executeCustomMenu=function(d){_.forEach(c.customContextMenus,function(e){if(e.display==d){e.action.apply(this,[{instance:c.tm1Instance,cube:c.tm1Cube,cubeElements:m.helperConvertElementsToArray(c.tm1Elements),value:c.rawValue}])}})}}};o.initializeApi=function(c){if(c.hasApi){var d={setContextTimeout:function(e){try{c.contextTimeout=parseInt(e)}catch(f){}}};c.tm1Api=angular.merge({},c.tm1Api,d)}};o.initializeWatchers=function(d,c){if(!d.isNormalMode){d.$watch("tm1RptRowCell",function(e,f){if(o.hasCompleteParams(d)){o.refreshData(d)}})}c.$observe("tm1Cube",function(e){if(!_.isEmpty(e)){if(o.hasCompleteParams(d)){o.refreshData(d)}}});c.$observe("tm1Elements",function(e){if(!_.isEmpty(e)){if(o.hasCompleteParams(d)){o.refreshData(d)}}});if(angular.isDefined(d.tm1CommentCube)){c.$observe("tm1CommentCube",function(e){if(!_.isEmpty(e)){if(o.hasCompleteParams(d)){o.refreshData(d)}}})}if(angular.isDefined(d.tm1CommentElements)){c.$observe("tm1CommentElements",function(e){if(!_.isEmpty(e)){if(o.hasCompleteParams(d)){o.refreshData(d)}}})}if(angular.isDefined(d.tm1ReadOnly)){c.$observe("tm1ReadOnly",function(e){if(o.hasCompleteParams(d)){o.refreshData(d)}})}if(angular.isDefined(d.tm1DefaultEmpty)){c.$observe("tm1DefaultEmpty",function(e){if(o.hasCompleteParams(d)){o.refreshData(d)}})}if(angular.isDefined(c.tm1UiClass)){c.$observe("tm1UiClass",function(e){d.directiveClasses=_.isEmpty(e)?"":e})}if(angular.isDefined(c.tm1Validate)){c.$observe("tm1Validate",function(e){if(!_.isEmpty(e)){if(e.indexOf(d.KEY_VALUE)!=-1&&e.indexOf(d.KEY_REGEX)!=-1){d.validationMessage=d.KEY_VALUE+" or "+d.KEY_REGEX+" must be defined, but not BOTH. Please Check tm1-validate: "+e}else{if(e.indexOf(d.KEY_VALUE)==-1&&e.indexOf(d.KEY_REGEX)==-1){d.validationMessage="Either "+d.KEY_VALUE+" or "+d.KEY_REGEX+" must be defined. Please Check tm1-validate: "+e}}}});if(angular.isDefined(c.tm1ValidateMessage)){d.hasValidationMessage=true;c.$observe("tm1ValidateMessage",function(e){d.validateMessage=_.isEmpty(e)?"Not a valid entry. Please Check.":e})}}};o.initializeEventReceivers=function(c){c.$on(o.NAME+".event.refresh",function(d,e){if(o.hasCompleteParams(c)&&(!e||(e&&e.updateTimestamp>=c.updateTimestamp))){if(!c.isInputActive||(c.isInputActive&&o.isSpreadingAction(c,c.entry.value))||(c.isInputActive&&c.onInputEnterKey)){o.refreshData(c)}}});c.$on("tm1.event.refresh",function(d){if(o.hasCompleteParams(c)){o.refreshData(c)}});c.$on(q.batcherResponseID,function(d,e){if(!_.isEmpty(e)){if(e[c.directiveID]){o.updateDirectiveState(c,e[c.directiveID]);c.hasPending=false}if(e[c.directiveCommentID]){o.updateDirectiveState(c,e[c.directiveCommentID]);c.hasPending=false}}})};o.log=function(c,e,d){if(c&&c.debug){n.$broadcast(q.frameworkLogID,{id:c.directiveID,name:"tm1UiDbr",message:e,object:d})}};o.getTableTdIndex=function(c){if($(c).parents("td")){return $(c).parents("td").index()}return -1};o.getTableRowIndex=function(c){if($(c).parents("tr")){return $(c).parents("tr").index()}return -1};o.getTableTdInRowTotal=function(c){if($(c).parents("tr")&&$(c).parents("tr").children()){return $(c).parents("tr").children().length}return -1};o.getTableRowsTotal=function(c){if($(c).parents("tr")){return $(c).parents("tr").parent().children().length}return -1};o.getTableTdElement=function(c){if($(c).parents("td")){return $(c).parents("td")}return undefined};o.getTableParentOfRow=function(c){return $(c).parents("tr").parent()};o.evaluateIfReadOnly=function(c){c.isReadOnly=false;if(c.tm1ReadOnly!=undefined){c.isReadOnly=c.tm1ReadOnly}};o.refreshData=function(c,f){if(c.hasPending){return}else{c.hasPending=true}if(c.tm1UiDbrHiddenOptions&&c.tm1UiDbrHiddenOptions.isValueOnly){f=c.tm1UiDbrHiddenOptions}if(c.tm1UiDbrReadOnlyOptions&&c.tm1UiDbrReadOnlyOptions.isValueOnly){f=c.tm1UiDbrReadOnlyOptions}if(f==undefined){f={isValueOnly:false}}if(c.isNormalMode){var e={id:c.id,dbr:{id:c.directiveID,instance:c.tm1Instance,cube:c.tm1Cube,cubeElements:m.helperConvertElementsToArray(c.tm1Elements),isValueOnly:f.isValueOnly}};c.$emit(q.batcherRequestID,e)}else{o.updateDirectiveStateViaRptView(c);c.hasPending=false}c.tm1CommentCube=_.isEmpty(c.tm1CommentCube)?c.tm1Cube:c.tm1CommentCube;if(!_.isEmpty(c.tm1CommentElements)){var d={id:c.id,dbr:{id:c.directiveCommentID,instance:c.tm1Instance,cube:c.tm1CommentCube,cubeElements:m.helperConvertElementsToArray(c.tm1CommentElements),isValueOnly:f.isValueOnly}};c.$emit(q.batcherRequestID,d)}};o.cancel=function(c,d){c.isValid=false;if(d){c.validationMessage=d}else{c.validationMessage="The update was cancelled"}};o.isSpreadingAction=function(c,d){var e=false;if(d&&d.length>0&&d.trim().toLowerCase().indexOf("r")==0){e=true}if(c.entry&&c.entry.isList){e=false}if(c.rawValueCopy&&angular.isString(c.rawValueCopy)){e=false}o.log(c,"This is a spread: "+e+" via expression "+d);return e};o.prepareDbsRequest=function(h,e){var f=undefined;var c=h.find("input[type=text],input[type=number],textarea");if(c.length){try{var g=angular.element(c).scope().$parent;if(g&&g.entry&&g.entry.value){f={id:g.directiveID,instance:g.tm1Instance,cube:g.tm1Cube,elements:g.tm1Elements,value:e}}}catch(d){o.log($scope,"Unable to repeat cell value",d);a.error("Unable to repeat cell value %o",d)}}return f};o.isConsolUpdateable=function(c){if(c.isConsolidated&&c.isNumeric&&c.consolInput&&!c.tm1ReadOnly){return true}return false};o.updateData=function(j,g,c,d){o.log(j,"saving value",d);j.isValid=true;if(j.hasFunctionToCallBeforeUpdate){var h={value:d,cancel:o.cancel};j.tm1BeforeUpdate({$event:h});if(!j.isValid){return}}if(j.hasPendingValue){return}var k=j.isNumeric?accounting.unformat(d):d;if(j.formatPercentage){k/=100}j.validationMessage=null;if(j.hasValidation){j.isValid=false;if(j.tm1Validate.indexOf(j.KEY_REGEX)!=-1){j.validate=j.tm1Validate.split(j.KEY_REGEX).join("").trim();o.log(j,"evaluating regex "+j.validate);var f=new RegExp(j.validate);j.isValid=f.test(k);o.log(j,"evaluated regular expression",j.isValid)}else{j.validate=j.tm1Validate.split(j.KEY_VALUE).join(k);j.isValid=j.$eval(j.validate);o.log(j,"evaluating "+j.validate);o.log(j,"evaluated validation expression",j.isValid)}if(!j.isValid){if(j.hasValidationMessage&&j.tm1ValidateMessage.indexOf(j.KEY_VALUE)!=-1){j.validateMessage=j.tm1ValidateMessage.split(j.KEY_VALUE).join(k)}j.validationMessage=j.validateMessage;return}}if(!c.isComment&&o.isSpreadingAction(j,d)){k=o.spreadRepeatDbrValue(j,g,d)}j.hasPendingValue=true;o.log(j,"final value being sent for saving",k);if(!c.isComment&&o.isConsolUpdateable(j)){k=j.consolInputSpreadMethod+k}if(j.isNormalMode){var e={};e.instance=j.tm1Instance;e.value=k;e.cube=j.tm1Cube;e.cubeElements=m.helperConvertElementsToArray(j.tm1Elements);if(c.isComment){e.cube=j.tm1CommentCube;e.cubeElements=m.helperConvertElementsToArray(j.tm1CommentElements)}m.cellPuts([e]).then(function(l){if(j.hasApi&&j.tm1Api.onUpdate){j.tm1Api.onUpdate(l,e)}if(l.success){n.$broadcast(o.NAME+".event.refresh",{source:j.directiveID,updateTimestamp:j.updateTimestamp});n.$broadcast("tm1UiRptView.event.refresh")}else{o.log(j,"cell update error",l.message);j.validationMessage="There was an error updating cube. Please check your input.";if(l.message&&l.message.error&&l.message.error.message){j.validationMessage=l.message.error.message}}j.hasPendingValue=false})}else{if(j.onAfterCellUpdate==undefined){j.onAfterCellUpdate=function(){if(j.hasApi&&j.tm1Api.onUpdate){j.tm1Api.onUpdate(k,{cube:j.tm1RptRowCell.cube,elements:j.tm1RptRowCell.reference()})}n.$broadcast(o.NAME+".event.refresh",{source:j.directiveID,updateTimestamp:j.updateTimestamp});j.hasPendingValue=false}}j.tm1RptRowCell.value=k;j.tm1RptRowCell.update(j.onAfterCellUpdate,false)}};o.updateListEntries=function(c,e){if(!c.picklistRadio&&!_.isEmpty(c.rawValueForPickListUsageOnly)){var d=false;_.forEach(c.entry.picklist,function(f){if(f==c.rawValue){d=true}});if(!d){c.entry.picklist.unshift(c.rawValue)}}};o.updateDirectiveState=function(f,g){if(f.hasPendingValue){return}if(g.id==f.directiveID){o.log(f,"Received Response ["+f.tm1Cube+"]:["+f.tm1Elements+"]",g);f.errorMessage=null;f.rawValueForPickListUsageOnly=g.Value;f.rawValueCopy=g.Value;if(!g.Value){if(f.tm1DefaultEmpty!=undefined){g.Value=f.tm1DefaultEmpty}else{if(angular.isUndefined(g.Value)){g.Value=0}}}f.entry.value=g.Value;f.rawValue=g.Value;if(g.HasPicklist!=undefined&&g.HasPicklist){f.entry.isList=true;if(f.entry.picklist==undefined||f.entry.picklist.length==0){f.entry.picklist=[f.rawValue]}if(f.picklistRadio){o.updatePicklistValues(f)}else{o.updateListEntries(f,true)}f.entry.value=(f.entry.value=="")?o.emptyDisplay:f.entry.value}f.isConsolidated=g.isConsolidated?true:false;f.isNumeric=angular.isNumber(g.Value);f.isAnnotated=g.isAnnotated;f.hasDrillThrough=g.HasDrillthrough?true:false;f.entry.isUpdateable=!g.isReadOnly&&!f.tm1ReadOnly;if(o.isConsolUpdateable(f)){f.entry.isUpdateable=true}f.valueCell={directiveID:f.directiveID,oDataId:g.odataId,oDataPatch:{Ordinal:g.Ordinal,Value:g.Value}};if(f.hasModel){f.ngModel=g.Value}if(f.hasOnChangeFunction){u(function(){f.tm1Change({data:angular.isDefined(f.ngModel)?f.ngModel:g.Value})},1)}f.currentEntryValue=g.Value;if(!f.entry.isList){f.entry.value=f.entry.value.toString();if(f.isNumeric&&isFinite(f.rawValue)){var c=f.formatPercentage?f.rawValue*100:f.rawValue;if(angular.isUndefined(f.directiveAccountingSettings)){if(f.hasAccountingSettingsOverride){f.directiveAccountingSettings=f.accountingSettingsOverride}else{f.directiveAccountingSettings=_.cloneDeep(accounting.settings);if(f.formatNumberFlag){f.directiveAccountingSettings.currency.precision=_.toNumber(f.tm1DataDecimal)}if(f.formatPercentage){f.directiveAccountingSettings.currency.format={pos:"%v%",neg:"(%v%)",zero:"-%"}}if(!f.formatNegativeInParenthesis){f.directiveAccountingSettings.currency.format="%v"}}}f.entry.value=accounting.formatMoney(c,f.directiveAccountingSettings.currency);f.currentEntryValue=f.entry.value;o.log(f,"after applying accoungint.formatMoney()",f.entry.value)}}if(!(m.helperIsStatusSuccessful(g.statusCode))){f.entry.value=f.errorDisplay;f.currentEntryValue=f.errorDisplay;a.error("dbr(ERROR) - instance: "+f.tm1Instance+", cube: "+f.tm1Cube+", elements: "+f.tm1Elements);a.error(g);if(angular.isDefined(g.errorMessage)){try{var e=angular.fromJson(g.errorMessage);a.debug(e);f.errorMessage=e.error.message}catch(d){f.errorMessage=g.errorMessage}}}}else{if(g.id==f.directiveCommentID){f.commentCell={directiveID:f.directiveCommentID,isComment:true,oDataId:g.odataId,oDataPatch:{Ordinal:g.Ordinal,Value:g.Value}};o.log(f,"Received Response For Comment ["+f.tm1CommentCube+"]:["+f.tm1CommentElements+"]",g);f.comment.isUpdateable=!g.isReadOnly&&!f.isCommentReadOnly;f.comment.value=g.Value}}};o.updateDirectiveStateViaRptView=function(d){if(d.hasPendingValue){return}o.log(d,"Received Response via Rpt View ["+d.tm1Cube+"]:["+d.tm1Elements+"]");d.errorMessage=null;d.rawValueForPickListUsageOnly=d.tm1RptRowCell.value;d.entry.value=d.tm1RptRowCell.value;d.rawValue=d.tm1RptRowCell.value;if(!d.tm1RptRowCell.value&&d.tm1DefaultEmpty!=undefined){d.entry.value=d.tm1DefaultEmpty}if(d.tm1RptRowCell.HasPicklist!=undefined&&d.tm1RptRowCell.HasPicklist){d.entry.isList=true;if(d.entry.picklist==undefined||d.entry.picklist.length==0){d.entry.picklist=[d.rawValue]}if(d.picklistRadio){o.updatePicklistValues(d)}else{o.updateListEntries(d,true)}d.entry.value=(d.entry.value=="")?o.emptyDisplay:d.entry.value}d.isConsolidated=d.tm1RptRowCell.isConsolidated?true:false;d.isNumeric=angular.isNumber(d.rawValue);d.isAnnotated=d.tm1RptRowCell.isAnnotated;d.hasDrillThrough=d.tm1RptRowCell.HasDrillthrough;d.entry.isUpdateable=!d.tm1RptRowCell.isReadOnly&&!d.tm1ReadOnly;if(o.isConsolUpdateable(d)){d.entry.isUpdateable=true}if(d.hasModel){d.ngModel=d.rawValue}if(d.hasOnChangeFunction){u(function(){d.tm1Change({data:angular.isDefined(d.ngModel)?d.ngModel:d.rawValue})},1)}d.currentEntryValue=d.rawValue;d.valueCell={directiveID:d.directiveID,oDataPatch:{Value:d.rawValue}};if(!d.entry.isList){d.entry.value=d.entry.value.toString();if(d.isNumeric&&isFinite(d.rawValue)){var c=d.formatPercentage?d.rawValue*100:d.rawValue;if(angular.isUndefined(d.directiveAccountingSettings)){if(d.hasAccountingSettingsOverride){d.directiveAccountingSettings=d.accountingSettingsOverride}else{d.directiveAccountingSettings=_.cloneDeep(accounting.settings);if(d.formatNumberFlag){d.directiveAccountingSettings.currency.precision=_.toNumber(d.tm1DataDecimal)}if(d.formatPercentage){d.directiveAccountingSettings.currency.format={pos:"%v%",neg:"(%v%)",zero:"-%"}}if(!d.formatNegativeInParenthesis){d.directiveAccountingSettings.currency.format="%v"}}}d.entry.value=accounting.formatMoney(c,d.directiveAccountingSettings.currency);d.currentEntryValue=d.entry.value;o.log(d,"after applying accoungint.formatMoney()",d.entry.value)}}};o.spreadRepeatDbrValue=function(g,c,f){var j=f.trim().split(" ").join("");var L=[];var K=null;for(var d=1;d<j.length;d++){var F=j.charAt(d);if(F=="^"||F=="<"||F==">"||F=="|"){L.push(F)}else{K=j.substr(d);if(isNaN(K)){return f}else{break}}}if(!K){o.log(g,"No value provided: "+j);return g.currentEntryValue}o.log(g,"value to repeat: "+K+", direction is "+L);var h=o.getTableRowIndex(c);var e=o.getTableTdIndex(c);var M=o.getTableTdInRowTotal(c);var N=o.getTableRowsTotal(c);var I=o.getTableTdElement(c);var J=I.parents("tr");var H=[];var k=undefined;for(var d=0;d<L.length;d++){var F=L[d];switch(F){case"^":o.log(g,"repeat up");if(J&&I){var l=0;var G=0;o.getTableParentOfRow(c).children().each(function(){if(l<h){J=$(this);G=0;J.children().each(function(){if(G==e){I=$(this);k=o.prepareDbsRequest(I,K);if(k){H.push(k)}else{o.log(g,"Not allowed to update. Error Setting DBR Value on Row Index "+l)}}G++})}l++})}break;case"|":o.log(g,"repeat down");if(J&&I){var l=0;var G=0;o.getTableParentOfRow(c).children().each(function(){if(l>h){J=$(this);G=0;J.children().each(function(){if(G==e){I=$(this);k=o.prepareDbsRequest(I,K);if(k){H.push(k)}else{o.log(g,"Not allowed to update. Error Setting DBR Value on Row Index "+l)}}G++})}l++})}break;case">":o.log(g,"repeat right");if(J&&I){var G=0;J.children().each(function(){if(G>e){I=$(this);k=o.prepareDbsRequest(I,K);if(k){H.push(k)}else{o.log(g,"Not allowed to update. Error Setting DBR Value on Column Index "+G)}}G++})}break;case"<":o.log(g,"repeat left");if(J&&I){var G=0;J.children().each(function(){if(G<e){I=$(this);k=o.prepareDbsRequest(I,K);if(k){H.push(k)}else{o.log(g,"Not allowed to update. Error Setting DBR Value on Column Index "+G)}}G++})}break}}o.log(g,"dbsRequests",H);if(H.length>0){m.cellPuts(H).then(function(v){if(v.success){n.$broadcast(o.NAME+".event.refresh",{source:g.directiveID,updateTimestamp:g.updateTimestamp})}else{a.error("Spreading Error. Check Server Logs.")}})}return K};o.hasCompleteParams=function(c){var d=true;if(_.isEmpty(c.tm1Cube)||_.isEmpty(c.tm1Elements)){d=false}else{o.evaluateIfReadOnly(c);var e=Papa.parse(c.tm1Elements);if(angular.isDefined(e.data)&&e.data.length==1&&e.data[0].length>0){angular.forEach(e.data[0],function(g){if((d&&_.isEmpty(g))||(!_.isEmpty(g)&&g.trim()=="")){d=false}})}var f=Papa.parse(c.tm1CommentElements);if(angular.isDefined(f.data)&&f.data.length==1&&f.data[0].length>0){angular.forEach(f.data[0],function(g){if((d&&_.isEmpty(g))||(!_.isEmpty(g)&&g.trim()=="")){d=false}})}}return d};o.showContextReference=function(e){t.setDefaults({size:null});e.tm1CommentCube=_.isEmpty(e.tm1CommentCube)?e.tm1Cube:e.tm1CommentCube;var d="<tm1-ui-dbr-cm-reference";d+=' tm1-instance="'+e.tm1Instance+'"';d+=' tm1-cube="tm1Cube"';d+=' tm1-elements="tm1Elements"';d+=' tm1-value="entry.value"';if(!_.isEmpty(e.tm1CommentElements)){d+=' tm1-comment-cube="tm1CommentCube"';d+=' tm1-comment-elements="tm1CommentElements"';d+=' tm1-comment-value="comment.value"'}if(e.entry.picklist&&e.entry.picklist.length){d+=' tm1-pick-list="entry.picklist"'}d+="></tm1-ui-dbr-cm-reference>";var c=s(d);t.alert(c(e))};o.showContextSpread=function(e){t.setDefaults({size:null});e.spreadAction={action:""};e.spreadConfirmClear=false;e.spreadAction={spreadValue:e.rawValue};var d='<tm1-ui-dbr-cm-spread tm1-spread-action="spreadAction" tm1-dbr-entry="entry"></tm1-ui-dbr-cm-spread>';var c=s(d);e.spreadDialog=t.customDialog({title:"Spread",message:c(e)})};o.showContextComment=function(e){t.setDefaults({size:null});e.comment={value:"",isUpdateable:!e.isCommentReadOnly};e.newCommentValue=e.comment.value;var d="<tm1-ui-dbr-cm-comment";d+=' tm1-instance="'+e.tm1Instance+'"';d+=' tm1-cube="tm1Cube"';d+=' tm1-elements="tm1Elements"';d+=' tm1-comment-cube="tm1CommentCube"';d+=' tm1-comment-elements="tm1CommentElements"';d+=' tm1-format-html-buttons="taCommentToolbarButtons"';d+=' tm1-has-annotations="false"';d+=' tm1-read-only="'+(e.comment.isUpdateable?false:true)+'"';d+=' tm1-parent-directive="tm1UiDbr"';d+="></tm1-ui-dbr-cm-comment>";var c=s(d);t.customDialog({message:c(e)})};o.showContextDrill=function(e){t.setDefaults({size:"large"});var d="<tm1-ui-dbr-cm-drill";d+=' tm1-instance="'+e.tm1Instance+'"';d+=' tm1-cube="tm1Cube"';d+=' tm1-elements="tm1Elements"';d+=' tm1-value="entry.value"';if(e.hasDrillModel){d+=' tm1-drill-data="tm1DrillModel"'}d+="></tm1-ui-dbr-cm-drill>";var c=s(d);t.alert(c(e))};o.eventOnClickForContext=function(d,c){d.clickID=c;o.log(d,"showContext("+c+")");if(d.isContextApplicable()&&c!=9){d.hasContext=true;if(d.timer){u.cancel(d.timer);d.timer=null}o.log(d,"showContext() contextTimeout: "+d.contextTimeout);d.timer=u(function(){d.hasContext=false},d.contextTimeout*1000)}};o.eventKeyDown=function(k,h){k.onInputEnterKey=false;if(!k.isMultiLine&&h.keyCode==13){k.onInputEnterKey=true;k.updateData()}var w=$(h.target).parents("td");while(true){var e=null;if(h.keyCode==38){if(w&&w.length){var j=w.closest("tr").prev();if(j&&j.length){e=j.children().eq(w.index())}}}else{if(h.keyCode==39){if(w&&w.length){e=w.next()}}else{if(h.keyCode==40){if(w&&w.length){var l=w.closest("tr").next();if(l&&l.length){e=l.children().eq(w.index())}}}else{if(h.keyCode==37){if(w&&w.length){e=w.prev()}}}}}if(e&&e.length){var c=e.find("input[type=text],input[type=number],textarea");var f=$(h.target).val();if(f.length>1&&isNaN(f)){var g=h.target.selectionStart;var d=h.target.selectionEnd;if(g===0&&d===f.length-1){}else{if(h.keyCode==37&&g!==0){return}else{if(h.keyCode==39&&g!==f.length){return}}}}if(c&&c.length){c.focus();c.select();h.stopPropagation();h.preventDefault();return}else{w=e}}else{return}}};o.eventPaste=function(J,h){var k=h.originalEvent.clipboardData||window.clipboardData;if(k){var L=k.getData("Text");if(L&&(L.indexOf("\t")>-1||L.indexOf("\n")>-1)){h.stopPropagation();h.preventDefault();var N=L.split(/\r?\n/);var g=[];angular.forEach(N,function(w){if(w.length>0){var v=w.split(/\t/);g.push(v)}});var K=$(h.target).parents("td");if(K.length){var M=K.index();var d=K;for(var c=0;c<g.length;c++){var l=g[c];for(var F=0;F<l.length;F++){var I=l[F];var f=d.find("input[type=text],input[type=number],textarea");if(f.length){try{var j=angular.element(f).scope().$parent;if(j&&j.entry&&angular.isDefined(j.entry.value)){j.entry.value=I;j.updateData()}}catch(G){o.log(J,"Unable to paste cell value",G)}}var e=$(d).next();if(!e.length){break}else{d=e}}var H=d.closest("tr").next();if(!H.length){break}d=H.children().eq(M);if(!d.length){break}}$(h.target).focus()}}}};o.eventUpdateData=function(c,d){c.updateTimestamp=_.now();c.editMode=false;u(function(){if(c.currentEntryValue!=c.entry.value){o.updateData(c,d,c.valueCell,c.entry.value)}else{if(c.entry.spreadValue){o.updateData(c,d,c.valueCell,c.entry.spreadValue);c.entry.spreadValue=null}}},1000)};o.updatePicklistValues=function(c){m.cellGetPicklistValues(c.tm1Instance,c.tm1Cube,m.helperConvertElementsToArray(c.tm1Elements)).then(function(d){c.entry.picklist=d;o.updateListEntries(c)})}}])})();(function(){var b=angular.module("tm1Ui");b.service("$tm1UiDimension",["$http","$q","uuid2",function(f,a,h){var g=this;g.elements=function(c,x,w,y,t,A,v,e,z){if(angular.isUndefined(c)||angular.isUndefined(x)){throw"instance and dimension are required fields. Please check."}if(angular.isUndefined(v)||!angular.isNumber(v)){v=0}var d=h.newguid();var u={id:d,instance:c,dimension:x,attribute:w,subset:y,mdx:t,filter:A,batchSize:v,showHierarchy:e?true:false,elementsOnly:true};if(angular.isDefined(z)&&!z){u.elementsOnly=false}var C=f.post("api/dimensions",[u]);var B=B||a.defer();C.then(function(j){B.resolve(j.data[d])},function(j){B.reject(j)});return B.promise};g.element=function(r,d,p,q){if(angular.isUndefined(r)||angular.isUndefined(d)){throw"instance and dimension are required fields. Please check."}var o=h.newguid();var e={id:o,instance:r,dimension:d,attribute:q,element:p,showHierarchy:true,elementsOnly:false};var s=f.post("api/dimensions",[e]);var c=c||a.defer();s.then(function(j){c.resolve(j.data[o])},function(j){c.reject(j)});return c.promise};g.attributes=function(k,e){var c=f.get("api/dimensions/"+k+"/"+e+"/attributes");var d=d||a.defer();c.then(function(j){d.resolve(j.data)},function(j){d.reject(j)});return d.promise};g.subsetAlias=function(m,e,l){var c=f.get("api/dimensions/"+m+"/"+encodeURIComponent(e)+"/"+encodeURIComponent(l)+"/alias");var d=d||a.defer();c.then(function(j){d.resolve(j.data)},function(j){d.reject(j)});return d.promise}}])})();(function(){var b=angular.module("tm1Ui");b.service("$tm1UiHelper",["$rootScope","$timeout","$http","$q","uuid2","$filter",function(a,n,k,p,o,m){this.version=function(){return 1};var l=this;l.batchRequestID="tm1.core.data.request";l.batchResponseID="tm1.core.data.response";l.batchElementRequestID="tm1.core.element.request";l.batchElementResponseID="tm1.core.element.response";var q=a;l.formatNumber=function(c,d){return m("formatNumber")(c,d)};l.formatPercentage=function(c,d){return m("formatPercentage")(c,d)};l.generateUUID=function(){return o.newguid()};l.encode=function(c){return btoa(encodeURIComponent(c).replace(/%([0-9A-F]{2})/g,function(e,d){return String.fromCharCode("0x"+d)}))};l.convertElementsToArray=function(u,j){if(j){return l.papaparseConvertElementsToArray(u,j)}else{var h=[];if(_.isEmpty(u)){return h}else{var f=[];var g=u.split('"');var d=u.split(",");if(g<2){var c=[];for(var e=0;e<d.length;e++){f.push(d[e].trim())}}else{var f=[];var v;for(var e=0;e<d.length;e++){v=d[e];if(_.startsWith(v.trim(),'"')&&!_.endsWith(v.trim(),'"')){for(var w=e+1;w<d.length;w++){v+=","+d[w];e++;if(_.endsWith(v.trim(),'"')){break}}}if(_.startsWith(v.trim(),'"')&&_.endsWith(v.trim(),'"')){v=v.trim();v=v.substr(1,v.length-2)}f.push(v.trim())}}d.length=0;d=null;g.length=0;g=null;return f}}};l.papaparseConvertElementsToArray=function(c,d){var f=angular.isDefined(d)?Papa.parse(c,d):Papa.parse(c);if(angular.isDefined(f.data)&&f.data.length==1&&f.data[0].length>0){var e=[];_.forEach(f.data[0],function(g){e.push(g.trim())});return e}else{throw"Unable to parse elements ["+c+"] into an array. Please check."}};l.isSuccessful=function(c){var e=false;try{if((l.isStatusSuccessful(c.status))){e=true}}catch(d){}return e};l.isStatusSuccessful=function(d){var e=false;try{if(d>=200&&d<400){e=true}}catch(c){}return e};l.doesPageExists=function(e){var c=k.get(e);var d=d||p.defer();c.then(function(f){d.resolve({success:l.isSuccessful(f),message:f.data})},function(f){d.reject(f)});return d.promise};l.buildTable=function(x,J){var G=J.Axes[0].Tuples.length;var L=J.Axes[1].Tuples.length;var I=0;for(var K=0;K<G;K++){var r=J.Axes[0].Tuples[K];if(I<r.Members.length){I=r.Members.length}}var j=0;for(var K=0;K<L;K++){var r=J.Axes[1].Tuples[K];if(j<r.Members.length){j=r.Members.length}}$(x).append("<thead></thead>");for(var H=0;H<I;H++){$(x).find("thead").append("<tr></tr>");var P=$(x).find("tr:last");if(H==0){for(var h=0;h<j;h++){$(P).append("<th rowspan='"+I+"'>&nbsp;</th>")}}var d="";var f=1;for(var K=0;K<G;K++){var c=J.Axes[0].Tuples[K].Members[H].Name;if(d!=c||K==G-1){$(P).append("<th colspan='"+f+"'>"+c+"</th>");f=0}f++;d=c}}var e=[];$(x).append("<tbody></tbody>");var Q=$(x).find("tbody");var N=0;for(var h=0;h<L;h++){$(Q).append("<tr></tr>");var P=$(Q).find("tr:last");for(var K=0;K<J.Axes[1].Tuples[h].Members.length;K++){var c=J.Axes[1].Tuples[h].Members[K].Name;if(e[K]==null){e[K]=""}var O=1;for(var M=h+1;M<J.Axes[1].Tuples.length;M++){if(J.Axes[1].Tuples[M].Members[K].Name==c){O++}else{break}}if(e[K]!=c){$(P).append("<th rowspan='"+O+"'>"+c+"</th>")}e[K]=c}for(var H=0;H<G;H++){var g=parseFloat(J.Cells[N].Value);$(P).append("<td>"+g+"</td>");N++}}};l.initBatcher=function(c){l.dbrList=[];l.elementList=[];q.batchRequestCount=0;q.isPollerRunning=false;q.batchElementRequestCount=0;q.isElementPollerRunning=false;l.tm1MaxElementRequest=c.maxRequestElementCount;l.tm1MaxRequest=c.maxRequestCount;l.tm1MaxTime=c.maxTime;q.$on(l.batchRequestID,function(d,e){if(!_.isEmpty(e)){l.dbrList.push(e.dbr);q.batchRequestCount++}});q.$on(l.batchElementRequestID,function(d,e){if(!_.isEmpty(e)){l.elementList.push(e.element);q.batchElementRequestCount++}});setInterval(function(){if(!q.isPollerRunning&&q.batchRequestCount>0){q.isPollerRunning=true;l.fetchData()}if(!q.isElementPollerRunning&&q.batchElementRequestCount>0){q.isElementPollerRunning=true;l.fetchElements()}},c.maxTime);l.fetchData=function(){if(l.dbrList.length>0){var d=_.clone(l.dbrList);d=_.slice(d,0,l.tm1MaxRequest);l.dbrList=_.difference(l.dbrList,d);var e={method:"POST",url:"api/dbr/batch",data:d};k(e).then(function(f,g){q.$broadcast(l.batchResponseID,f.data);q.isPollerRunning=false;q.batchRequestCount=l.dbrList.length})}};l.fetchElements=function(){if(l.elementList.length>0){var d=_.clone(l.elementList);d=_.slice(d,0,l.tm1MaxElementRequest);l.elementList=_.difference(l.elementList,d);var e={method:"POST",url:"api/dimensions",data:d};k(e).then(function(f,g){q.$broadcast(l.batchElementResponseID,f.data);q.isElementPollerRunning=false;q.batchElementRequestCount=l.elementList.length})}}}}])})();(function(){var b=angular.module("tm1Ui");b.service("$tm1UiInstance",["$rootScope","$http","$q",function(a,f,h){var g=this;g.instances=function(){var c=c||h.defer();if(a.instances){c.resolve(a.instances)}else{f.get("api/instances").then(function(d){a.instances=d.data;c.resolve(d.data)},function(d){c.reject(d)})}return c.promise};g.configuration=function(e){if(_.isEmpty(e)){throw"$tm1Ui: instance is a required parameter."}var c=f.get("api/instances/"+encodeURIComponent(e));var d=d||h.defer();c.then(function(k){d.resolve(k.data)},function(k){d.reject(k)});return d.promise}}])})();(function(){var b=angular.module("tm1Ui");b.service("$tm1UiJob",["$rootScope","$http","$q","tm1UiSettings","$base64","$tm1UiHelper","$log","$tm1UiInstance",function(m,n,q,r,s,p,a,l){var o=this;o.debug=false;o.serviceID=p.generateUUID();o.log=function(c,d){a.debug("$tm1Ui - "+c);a.debug(d);if(o.debug){m.$broadcast(r.frameworkLogID,{id:o.serviceID,name:"$tm1UiJob",message:c,object:d})}};o.jobs=function(){var c=n.get("api/admin/scheduler");var d=d||q.defer();c.then(function(e){d.resolve(e.data)},function(e){d.reject(e)});return d.promise};o.job=function(d){if(_.isEmpty(d)){throw"$tm1UiJob: ID is EMPTY"}var e=n.get("api/admin/scheduler/"+encodeURIComponent(d.trim()));var c=c||q.defer();e.then(function(f){c.resolve(f.data)},function(f){c.reject(f)});return c.promise};o.saveOrUpdateJob=function(d){if(_.isEmpty(d)){throw"$tm1UiJob: Nothing to save"}var e=n.post("api/admin/scheduler",d);var c=c||q.defer();e.then(function(f){c.resolve({success:p.isSuccessful(f),message:f.data})},function(f){c.reject(f)});return c.promise};o.deleteJob=function(d){if(_.isEmpty(d)){throw"$tm1UiJob: ID is EMPTY"}var e=n({method:"POST",url:"api/admin/scheduler/"+encodeURIComponent(d.trim())+"/delete"});var c=c||q.defer();e.then(function(f){c.resolve({success:p.isSuccessful(f),message:f.data})},function(f){c.reject(f)});return c.promise}}])})();(function(){var b=angular.module("tm1Ui");b.service("$tm1UiOdataHelper",["$log","$tm1UiCube","$tm1UiCore",function(h,a,g){this.version=function(){return"0.0.1"};var f=this;f.isCellUpdateable=function(c){var d=false;if(c!=undefined&&c.RuleDerived!=undefined&&c.Consolidated!=undefined){d=(!c.RuleDerived&&!c.Consolidated)?true:false}return d};f.getMDXSelectQuery=function(e){var c="";if(e!=undefined&&e.length>0){var r=e.split("|");if(r.length>2){var q=[];var d=false;var s="",o="";q=r[1].split(":");s=q[0].trim();o=q[1].trim();c="SELECT {["+s+"].["+o+"]} ON COLUMNS";q=r[2].split(":");s=q[0].trim();o=q[1].trim();c=c+", {["+s+"].["+o+"]} ON ROWS";c=c+" FROM ["+r[0].trim()+"]";if(r.length>3){c=c+" WHERE (";for(var p=3;p<r.length;p++){q=r[p].split(":");s=q[0].trim();o=q[1].trim();c=c+"["+s+"].&["+o+"]"+((p==r.length-1)?"":",")}c=c+")"}}}return c};f.getMDXSelectQueryWithDBRA=function(m){var d="";if(m!=undefined&&m.length>0){var n=m.split("|");if(n.length==3){var c="",e="",o="";c=n[0].trim();e=n[1].trim();o=n[2].trim();d="SELECT {["+c+"].["+e+"]} ON COLUMNS, {[}ElementAttributes_"+c+"].["+o+"]} ON ROWS FROM [}ElementAttributes_"+c+"]"}}return d};f.parseMDXParams=function(c){var d={};return d};f.getChartJSLineLabel=function(l){var c=[];var m=l.Axes[0].Cardinality;var d=l.Axes[1].Cardinality;if(m>0&&d>0){for(var e=0;e<m;e++){c.push(l.Axes[0].Tuples[e].Members[0].Name)}}return c};f.getChartJSLineDataSet=function(e,y){var v=[];var x=e.Cells.length;var r=e.Axes[0].Cardinality;var d=e.Axes[1].Cardinality;var w=e.Axes[1].Hierarchies.length;var s=d*(r+w);var u=true;if(e.table==undefined){e=f.addFormattedData(e);u=false}var c=1;angular.forEach(e.table[y],function(j,k){c++},v);var t=1;angular.forEach(e.table[y],function(j,k){if(t>=(c-r)){this.push(j)}t++},v);if(!u){e.table=undefined}return v};f.getChartJSLineDataSetv2=function(m,c){var e=[];var l=m.Axes[1].Hierarchies.length;var d=1;angular.forEach(c,function(j){if(d>l){this.push(j)}d++},e);return e};f.addFormattedChartJSData=function(e,c){if(e!=undefined){var w=e.Cells.length;var q=e.Axes[0].Cardinality;var d=e.Axes[1].Cardinality;var v=e.Axes[1].Hierarchies.length;var r=d*(q+v);var s=e["data-chartjs-line"]={};s.labels=[];s.datasets=[];var t=true;if(e.table==undefined){e=f.addFormattedData(e);t=false}var u="";for(i=0;i<q;i++){u="col_"+(i+1);s.labels.push(e.table[0][u])}if(!t){e.table=undefined}}return e};f.addTableData=function(H,d){H.table={};if(H!=undefined&&H.Cells!=undefined&&H.Cells.length>0){var L=0,F=0,G=0,O=0;var C=0,K=0,e=0;L=H.Cells.length;F=H.Axes[0].Cardinality;if(H.Axes.length>1&&H.Axes[1].Cardinality){G=H.Axes[1].Cardinality;C=H.Axes[0].Hierarchies.length}if(H.Axes.length>1&&H.Axes[1].Hierarchies){O=H.Axes[1].Hierarchies.length;K=H.Axes[1].Hierarchies.length}if(H.Axes.length>2&&H.Axes[2].Hierarchies){e=H.Axes[2].Hierarchies.length}var J=G*F;if(J!=L){throw"addTableData() Check odata response. Calculated table size is not the same as Cell size. Cannot proceed."}var M=function(j){return j.UniqueName.split("].[")[0].substr(1).split("^").join("")};var E=function(j){return j.Name};H.table.rows=[];var c=0,A=0;axis=0;var N=-1;for(var z=1;z<=L;z++){var D={};if(z==1||(z%F==1)){H.table.rows.push([]);N++}D.CubeValue=H.Cells[z-1].Value;D.CubeFormattedValue=H.Cells[z-1].FormattedValue;c=c==F?0:c;_.forEach(H.Axes[0].Tuples[c].Members,function(j){D[M(j)]=E(j)});if(H.Axes.length>1){_.forEach(H.Axes[1].Tuples[N].Members,function(j){D[M(j)]=E(j)})}if(H.Axes.length>2){_.forEach(H.Axes[2].Tuples[0].Members,function(j){D[M(j)]=E(j)})}H.table.rows[N].push(D);c++}H.table.metadata={elements:{column:[],row:[],title:[]},dimensions:{column:[],row:[],title:[]},cellCount:L,dimensionCount:{column:C,row:K,title:e}};var I=function(j,m,k){if(m<j.Axes.length){for(var n=0;n<j.Axes[m].Tuples.length;n++){if(j.Axes[m].Tuples[n].Members&&j.Axes[m].Tuples[n].Members.length>0){var l={};_.forEach(j.Axes[m].Tuples[n].Members,function(o){l[M(o)]=E(o)});j.table.metadata.elements[k].push(l)}}}};var B=function(l,j,k){if(j<l.Axes.length){for(var m=0;m<l.Axes[j].Hierarchies.length;m++){l.table.metadata.dimensions[k].push(l.Axes[j].Hierarchies[m].Name)}}};I(H,0,"column");I(H,1,"row");I(H,2,"title");B(H,0,"column");B(H,1,"row");B(H,2,"title")}return H};f.addFormattedData=function(u){if(u!=undefined&&u.Cells!=undefined&&u.Cells.length>0){u.table=[];u.info={dimensionCount:{row:0,column:0,title:0}};var C={};var y=u.Cells.length;var B=u.Axes[0].Cardinality;var A=u.Axes[1].Cardinality;var c=u.Axes[1].Hierarchies.length;var e=A*(B+c);u.table_column_count=B+c;u.info.dimensionCount.row=c;u.info.dimensionCount.column=B;if(u.Axes.length>2){u.info.dimensionCount.title=u.Axes[2].Hierarchies.length}var v="";for(var d=0;d<(B+c);d++){v="col_"+(d+1);if(d<c){C[v]=u.Axes[1].Hierarchies[d].Name}else{C[v]=u.Axes[0].Tuples[d-c].Members[0].Name}}u.table.push(C);C={};var t=0;var z=1;for(var x=0;x<y;x++){if(z==1){C={};for(var w=1;w<=c;w++){v="col_"+w;C[v]=u.Axes[1].Tuples[t].Members[0].Name;t++}}v="col_"+(c+z);C[v]=u.Cells[x].Value;z++;if(z==(B+c)){u.table.push(C);z=1;C={}}}}return u};f.addFormattedData_WithConfig=function(d,B){if(d!=undefined){d.table=[];var F={};var z=d.Cells.length;var D=d.Axes[0].Cardinality;var C=d.Axes[1].Cardinality;var G=d.Axes[1].Hierarchies.length;var I=C*(D+G);var E=f.findMaximumLevel(d);d.table_column_count=D+G;var e="";for(var H=0;H<(D+G);H++){e="col_"+(H+1);if(H<G){F[e]=d.Axes[1].Hierarchies[H].Name}else{if(B.col.attribute!=undefined&&B.col.attribute!=""){F[e]=d.Axes[0].Tuples[H-G].Members[0].Attributes[B.col.attribute]}else{F[e]=d.Axes[0].Tuples[H-G].Members[0].Name}}}d.table.push(F);F={};var c=0;var A=1;var t=0;for(var y=0;y<z;y++){if(A==1){F={};for(var x=1;x<=G;x++){e="col_"+x;t=parseFloat(d.Axes[1].Tuples[c].Members[0].Element.Level);t=E-t;if(B.row.attribute!=undefined&&B.row.attribute!=""){F[e]=f.utility_padders(t,"-")+d.Axes[1].Tuples[c].Members[0].Attributes[B.row.attribute]}else{F[e]=f.utility_padders(t,"-")+d.Axes[1].Tuples[c].Members[0].Name}c++}}e="col_"+(G+A);F[e]=d.Cells[y].Value;A++;if(A==(D+G)){d.table.push(F);A=1;F={}}}}return d};f.utility_padders=function(e,c){var d="";for(var k=0;k<e;k++){d=d+c}return d};f.findMaximumLevel=function(d){var c=d.Axes[1].Hierarchies.length;var e=0,m=0;for(var l=0;l<c;l++){m=parseFloat(d.Axes[1].Tuples[l].Members[0].Element.Level);if(m>e){e=m}}return e};f.extractMember=function(k){var d="";try{var e=k.indexOf("Member")+9;d=k.substr(e,k.length-e+6);d=d.substr(0,d.length-2);d=decodeURIComponent(d)}catch(c){h.error("extractMember(ERROR): "+k);h.error(c.message);d=k}return d};f.extractDimension=function(m){var l="";var e="Dimensions";var c=e.length;try{l=m.substr(c+2,m.length);c=l.indexOf(")");l=l.substr(0,c-1);l=decodeURIComponent(l)}catch(d){h.error("extractDimension(ERROR): "+m);h.error(d.message);l=m}return l}}])})();(function(){var b=angular.module("tm1Ui");b.service("$tm1UiOdataResultHelper",["$tm1UiCube","$tm1UiCore","$log","$timeout",function(j,h,k,a){var g=this;g.resultsetTransform=function(f,W,V,aj){var ak={alias:null,collapseAll:false,collapse:[],expand:[]};var X={instance:f,cube:W,dimensions:{order:[],titles:[],columns:[],rows:[]},metadata:{},elements:[],headers:[],rows:[],_rows:[],collapseAll:function(){for(var l=0;l<this.dimensions.rows.length;l++){var n=this.metadata[this.dimensions.rows[l]];if(n){for(var o in n){if(!n.hasOwnProperty(o)){continue}var p=n[o];if(p&&p.topLevel==0){p.toggle(true)}}}}this.filter()},expandAll:function(){for(var l=0;l<this.dimensions.rows.length;l++){var n=this.metadata[this.dimensions.rows[l]];if(n){for(var o in n){if(!n.hasOwnProperty(o)){continue}var p=n[o];if(p&&p.topLevel==0){p.toggle(false)}}}}this.filter()},collapse:function(q){for(var p=0;p<this.dimensions.rows.length;p++){var n=this.metadata[this.dimensions.rows[p]];if(n){for(var o=0;o<q.length;o++){var l=n[q[o]];if(l){l.toggle(true)}}}}this.filter()},expand:function(s){for(var q=0;q<this.dimensions.rows.length;q++){var n=this.metadata[this.dimensions.rows[q]];if(n){for(var o=0;o<s.length;o++){var l=n[s[o]];if(l){l.toggle(false);while(l&&l.parent){l.parent.hidden=false;l.parent.collapsed=false;if(l.parent.children){for(var p=0;p<l.parent.children.length;p++){l.parent.children[p].hidden=false}}l=l.parent}}}}}this.filter()},collapsed:function(){var p=[];for(var q=0;q<this.dimensions.rows.length;q++){var n=X.metadata[this.dimensions.rows[q]];if(n){for(var l in n){if(!n.hasOwnProperty(l)){continue}var o=n[l];if(o&&o.collapsed){p.push(o.key)}}}}return p},expanded:function(){var p=[];for(var q=0;q<this.dimensions.rows.length;q++){var n=X.metadata[this.dimensions.rows[q]];if(n){for(var l in n){if(!n.hasOwnProperty(l)){continue}var o=n[l];if(o&&!o.collapsed){p.push(o.key)}}}}return p},filter:function(){this.rows.length=0;for(var n=0;n<this._rows.length;n++){var l=this._rows[n];if(!l.isHidden()){this.rows.push(l)}}},recalculate:function(){for(var l=0;l<this.rows.length;l++){this.rows[l].index=l+1}if(this.rows.length>0){for(var n=0;n<this.rows[0].elements.length;n++){for(var l=0;l<this.rows.length;l++){this.rows[l].elements[n].visible=true;this.rows[l].elements[n].visible=l==0?true:false;this.rows[l].elements[n].rowspan=1;for(var o=l+1;o<this.rows.length;o++){if(this.rows[l].elements[n].key==this.rows[o].elements[n].key){this.rows[l].elements[n].rowspan++}else{break}}if(n==this.rows[0].length-1){this.rows[l].elements[n].visible=true}else{if(l-1>=0){if(this.rows[l].elements[n].key==this.rows[l-1].elements[n].key){this.rows[l].elements[n].visible=false}else{this.rows[l].elements[n].visible=true}}}}}}},page:function(){return this.metadata._page?this.metadata._page.current:1},pages:function(){if(this.metadata._page&&this.rows.length>0){if(this.metadata._page.size==0){return 1}else{var l=parseInt(this.rows.length/this.metadata._page.size);return(this.rows.length%this.metadata._page.size>0)?l+1:l}}return 1},isPageSize:function(l){if(this.metadata._page){return this.metadata._page.size==l?true:false}return false},pageReset:function(){if(this.metadata._page){if(this.metadata._page.size&&this.metadata._page.size>0){for(var l=0;l<this._rows.length;l++){this._rows[l].inPage=true}}}},pageUpdate:function(){if(this.metadata._page&&this.metadata._page.size&&this.metadata._page.size>0){var n=this.metadata._page.current*this.metadata._page.size;var o=n-this.metadata._page.size;var p=false;for(var l=0;l<this.rows.length;l++){this.rows[l].inPage=false;if(l>=o&&l<n){this.rows[l].inPage=true;if(!p){p=true;this.metadata._page.firstRowIndex=l}}}}},pageFirst:function(){if(this.metadata._page){this.metadata._page.current=1;this.pageUpdate()}},pageNext:function(){if(this.metadata._page){if((this.metadata._page.current+1)<=this.pages()){this.metadata._page.current++;this.pageUpdate()}}},pagePrevious:function(){if(this.metadata._page){this.metadata._page.current--;if(this.metadata._page.current*this.metadata._page.size<=0){this.metadata._page.current=1}this.pageUpdate()}},pageLast:function(){if(this.metadata._page){this.metadata._page.current=this.pages();this.pageUpdate()}},pageGoto:function(n){if(this.metadata._page){var l=this.metadata._page.current;this.metadata._page.current=parseInt(n);if(this.metadata._page.current<=0){k.error("Target Page No is not allowed ["+n+"]")}else{if((this.metadata._page.current*this.metadata._page.size)>this.rows.length){if((this.rows.length%this.metadata._page.size)!=0&&(((this.metadata._page.current-1)*this.metadata._page.size)<this.rows.length)){}else{k.error("Target Page No is not allowed ["+n+"]")}}}if(isFinite(this.metadata._page.current)){this.pageUpdate()}else{this.metadata._page.current=l}}},sortValues:function(n){this.metadata.sort=this.metadata.sort==undefined?{}:this.metadata.sort;var o=n.split(" ").join("").toLowerCase();if(this.metadata.sort[o]==undefined){this.metadata.sort[o]={ascending:false}}this.metadata.sort[o].ascending=!this.metadata.sort[o].ascending;if(this.metadata.sort[o].ascending){this.rows=_.sortBy(this.rows,[function(q){return q[o].value}])}else{this.rows=_.reverse(this.rows)}for(var l=0;l<this.rows[0].elements.length;l++){for(var p=0;p<this.rows.length;p++){this.rows[p].elements[l].visible=true;this.rows[p].elements[l].rowspan=1;this.rows[p].index=p+1}}},filterDimension:function(q,o){if(!_.isEmpty(o)){var n=_.filter(this.rows,function(s){return(s[q].key.toLowerCase().indexOf(o.trim().toLowerCase())!=-1)||(s[q].alias.toLowerCase().indexOf(o.trim().toLowerCase())!=-1)});this.rows.length=0;this.rows=n;for(var l=0;l<this.rows[0].elements.length;l++){for(var p=0;p<this.rows.length;p++){this.rows[p].elements[l].visible=true;this.rows[p].elements[l].rowspan=1;this.rows[p].index=p+1}}}},getAttribute:function(q,s,p){if(_.isEmpty(p)){return s}else{var n=this.metadata[q];if(n){var o=n[s];if(o){var l=o.attributes[p];if(!_.isEmpty(l)){return l}}}return s}}};if(aj){angular.extend(ak,aj)}if(V==null){return X}X.metadata.updateDimensionOrder=function(l){if(!(X.dimensions.order&&X.dimensions.order.length>0)){X.dimensions.order=l}};j.dimensions(f,W).then(function(l){X.dimensions.order=l});function ac(p,n){var l=X.metadata[p][n.Name];if(l){return l}l={key:n.Name,name:n.Name,alias:n.Name,type:n.Element.Type.substring(0,1),level:n.Element.Level,attributes:n.Attributes};if(n.Parent){l.parent=n.Parent.Name}if(ak.alias&&ak.alias[p]){var o=l.attributes[ak.alias[p]];if(!_.isEmpty(o)){l.name=o;l.alias=o}}X.metadata[p][l.key]=l;return l}var ad=V.Axes[0].Tuples.length;var Z=V.Axes[1].Tuples.length;for(var x=0;x<V.Axes[0].Hierarchies.length;x++){X.dimensions.columns.push(V.Axes[0].Hierarchies[x].Name)}for(var x=0;x<V.Axes[1].Hierarchies.length;x++){X.dimensions.rows.push(V.Axes[1].Hierarchies[x].Name)}if(V.Axes.length>2){for(var x=0;x<V.Axes[2].Hierarchies.length;x++){X.dimensions.titles.push(V.Axes[2].Hierarchies[x].Name)}for(var x=0;x<V.Axes[2].Tuples.length;x++){for(var Y=0;Y<V.Axes[2].Tuples[x].Members.length;Y++){var e=V.Axes[2].Hierarchies[Y].Name;var am=V.Axes[2].Tuples[x].Members[Y];if(X.metadata[e]==null){X.metadata[e]={}}var al={dataset:X,dimension:e,element:ac(e,am)};al.name=al.element.name;X.elements.push(al)}}}for(var af=0;af<V.Axes[0].Hierarchies.length;af++){var ah={rows:[],columns:[]};X.headers.push(ah);for(var d=0;d<V.Axes[1].Hierarchies.length;d++){if(af==0){ah.rows.push({dimension:V.Axes[1].Hierarchies[d].Name,colspan:1,rowspan:V.Axes[0].Hierarchies.length,visible:true})}else{ah.rows.push({dimension:V.Axes[1].Hierarchies[d].Name,colspan:0,rowspan:0,visible:false})}}}for(var x=0;x<V.Axes[0].Hierarchies.length;x++){var ah=X.headers[x];for(var t=0;t<V.Axes[0].Tuples.length;t++){var e=V.Axes[0].Hierarchies[x].Name;var am=V.Axes[0].Tuples[t].Members[x];if(X.metadata[e]==null){X.metadata[e]={}}var al={dataset:X,dimension:V.Axes[0].Hierarchies[x].Name,element:ac(e,am),colspan:1,rowspan:1,visible:true,index:x};al.key=al.element.key;al.name=al.element.name;al.alias=al.element.alias;ah.columns.push(al)}}for(var af=0;af<X.headers.length;af++){var ah=X.headers[af];var aa=null;for(var d=0;d<ah.columns.length;d++){if(d>0&&ah.columns[d-1].element===ah.columns[d].element){if(aa==null){aa=ah.columns[d-1]}aa.colspan++;ah.columns[d].colspan=0;ah.columns[d].rowspan=0;ah.columns[d].visible=false}else{aa=null}}}for(var af=0;af<V.Axes[1].Tuples.length;af++){var U=V.Axes[1].Tuples[af];var ah={index:af+1,elements:[],cells:[],isHidden:function(){for(var l=0;l<this.elements.length;l++){if(this.elements[l].element.hidden){return true}}return false},getCell:function(l){return this[l.split(" ").join("").toLowerCase()]},inPage:true};X.rows.push(ah);for(var Y=0;Y<U.Members.length;Y++){var e=V.Axes[1].Hierarchies[Y].Name;if(X.metadata[e]==null){X.metadata[e]={}}var am=U.Members[Y];var al={dataset:X,dimension:V.Axes[1].Hierarchies[Y].Name,element:ac(e,am),colspan:1,rowspan:1,visible:true,index:Y};al.key=al.element.key;al.name=al.element.name;al.alias=al.element.alias;ah.elements.push(al);ah[al.dimension]=al;if(!al.element.rows){al.element.rows=[];al.element.toggle=function(l){if((this.collapsed&&l==undefined)||(l!=undefined&&!l)){if(this.children){for(var n=0;n<this.children.length;n++){this.children[n].hidden=false;this.children[n].toggle(true)}}}else{if(this.children){for(var n=0;n<this.children.length;n++){this.children[n].hidden=true;this.children[n].toggle(true)}}}if(l==undefined){this.collapsed=!this.collapsed}else{this.collapsed=l}X.filter()}}al.element.rows.push(ah);if(af>0&&X.rows[af-1].elements[Y].element.key==ah.elements[Y].element.key){for(var ab=1;af-ab>=0;ab++){var S=X.rows[af-ab].elements[Y];if(S.element.key===ah.elements[Y].element.key){S.rowspan=ab+1}else{break}}al.visible=false}}for(var d=0;d<ad;d++){var m=V.Axes[0].Tuples[d];var R=[];var c="";for(var x=0;x<m.Members.length;x++){var al={dimension:V.Axes[0].Hierarchies[x].Name,name:m.Members[x].Name};R.push(al);if(x>0){c+=","}c+=al.name.split(" ").join("").toLowerCase()}var ai=af*ad+d;var an={dataset:X,row:ah,elements:R,key:c,isConsolidated:V.Cells[ai].Consolidated,isRuleDerived:V.Cells[ai].RuleDerived,isAnnotated:V.Cells[ai].Annotated,isReadOnly:false,isNumeric:angular.isNumber(V.Cells[ai].Value),HasPicklist:V.Cells[ai].HasPicklist,HasDrillthrough:V.Cells[ai].HasDrillthrough,value:V.Cells[ai].Value,lastValue:V.Cells[ai].Value,reference:function(){var p=[];for(var n=0;n<this.dataset.dimensions.order.length;n++){var o=this.dataset.dimensions.order[n].toLowerCase();var q=false;for(var l=0;l<this.dataset.elements.length;l++){if(this.dataset.elements[l].dimension.toLowerCase()===o){p.push(this.dataset.elements[l].name);q=true;break}}if(!q){for(var l=0;l<this.row.elements.length;l++){if(this.row.elements[l].dimension.toLowerCase()===o){p.push(this.row.elements[l].name);q=true;break}}}if(!q){for(var l=0;l<this.elements.length;l++){if(this.elements[l].dimension.toLowerCase()===o){p.push(this.elements[l].name);q=true;break}}}}return p},update:function(n,o){if(this.lastValue==this.value){return}var q=this.reference();if(this.dataset.dimensions.order.length==q.length){var l=this.value;if(!this.isConsolidated){l=this.isNumeric?accounting.unformat(this.value):this.value}q.unshift(l,this.dataset.instance,this.dataset.cube);this.message=null;var p=this;h.cellPut.apply(this,q).then(function(s){if(s.success){p.lastValue=p.value;if(n){if(o){n.apply(this,o)}else{n()}}}else{p.value=p.lastValue;if(s.message.error){if(s.message.error.message){p.message=s.message.error.message}else{p.message=s.message.error}}else{p.message=s.message}}})}}};if(an.isConsolidated||an.isRuleDerived||V.Cells[ai].Updateable==268435713){an.isReadOnly=true}if(an.value==null){an.value=0;an.isNumeric=true}ah.cells.push(an);ah[c]=an}}for(var x=0;x<V.Axes[1].Hierarchies.length;x++){var r=V.Axes[1].Hierarchies[x];var T=X.metadata[r.Name];if(T){for(var c in T){if(!T.hasOwnProperty(c)){continue}var al=T[c];if(al&&(al.parent==undefined||T[al.parent]==undefined)){delete al.parent;al.topLevel=0}}var ag=false;for(var ab=0;ab<100&&!ag;ab++){ag=true;for(var c in T){var al=T[c];if(al.topLevel!=undefined){continue}var ae=T[al.parent];if(ae.topLevel==undefined){ag=false}else{al.topLevel=ae.topLevel+1;al.indent=[];for(var ab=1;ab<=al.topLevel;ab++){al.indent.push(ab)}al.parent=ae;if(ae.children==undefined){ae.children=[]}ae.children.push(al)}}}}}X._rows=X.rows.slice();if(ak.collapseAll){X.collapseAll()}if(ak.expand&&ak.expand.length){X.collapseAll();X.expand(ak.expand)}if(ak.collapse&&ak.collapse.length){X.collapse(ak.collapse)}return X}}])})();(function(){var b=angular.module("tm1Ui");b.service("$tm1UiProcess",["$rootScope","$http","$q","$tm1UiHelper","tm1UiSettings","$tm1UiCore",function(o,j,m,n,a,l){var k=this;k.process=function(e,f){var c=j.get("api/processes/"+encodeURIComponent(e)+"/"+encodeURIComponent(f));var d=d||m.defer();c.then(function(g){d.resolve(g.data)},function(g){d.reject(g)});return d.promise};k.processExecuteWithObject=function(d){var c=c||m.defer();l.getToken().then(function(e){var f={method:"POST",url:"api/processes",data:d};f.headers={};f.headers[a.t]=e;j(f).then(function(g){c.resolve({success:n.isSuccessful(g),message:g.data})},function(g){c.reject(g)})});return c.promise};k.processExecute=function(e,f,d){var g=g||m.defer();var c=j.get("api/processes/"+encodeURIComponent(e)+"/"+encodeURIComponent(f));c.then(function(h){var x=false;var v={Parameters:[]};if(h.data&&h.data.Parameters&&h.data.Parameters.length>0){x=true;v.Parameters=h.data.Parameters}var y={};try{var A=undefined;if(d.length==3){A=d[2];if(angular.isDefined(A)){_.forEach(A,function(p){y[p.Name]={Value:p.Value}})}}else{if(d.length>3){for(var z=2;z<d.length;z=z+2){y[d[z]]={Value:d[z+1]}}}}}catch(w){throw'parameters passed on must be an ARRAY of OBJECTS with "Name" and "Value" properties!'}if(v.Parameters.length>0){_.forEach(v.Parameters,function(p){_.forEach(y,function(q,r){if(r.toLowerCase()==p.Name.toLowerCase()){p.Value=q.Value}});p.Prompt=undefined})}k.processExecuteWithObject({instance:e,processName:f,processExecuteBody:v}).then(function(p){g.resolve({success:p.success,message:p.message})})},function(h){g.reject(h)});return g.promise}}])})();(function(){var b=angular.module("tm1Ui");b.service("$tm1Ui",["$tm1UiSetting","$tm1UiCube","$tm1UiApp","$tm1UiHelper","$tm1UiInstance","$tm1UiTable","$tm1UiDimension","$tm1UiCore","$tm1UiProcess","$tm1UiOdataHelper","$tm1UiOdataResultHelper","$tm1UiJob",function(q,z,x,t,p,u,v,w,a,r,y,A){var s=this;s.setDebug=function(c){x.debug=c};s.cellAnnotationGet=function(d,e,c){return w.annotations(d,e,c)};s.cellAnnotationPut=function(c,e,f,d){return w.saveAnnotation(c,e,f,d)};s.cellGet=function(e,f,c,d){return w.dbr(e,f,arguments)};s.cellGetBatch=function(c,d){return w.dbrBatched(c,d,arguments)};s.cellsetGet=function(c){return w.multipleDbr(c)};s.cellSetGet=function(c){return w.multipleDbr(c)};s.cellGets=function(c){return w.multipleDbr(c)};s.cellGetPicklistValues=function(d,e,c){return w.dbrPicklistValues(d,e,arguments)};s.cellPut=function(c,f,g,d,e){return w.dbs(c,f,g,arguments)};s.cellsetPut=function(c){return w.multipleDbs(c)};s.cellSetPut=function(c){return w.multipleDbs(c)};s.cellPuts=function(c){return w.multipleDbs(c)};s.attributeGet=function(f,c,e,d){return w.dbra(f,c,e,d)};s.attributePut=function(d,g,c,f,e){return w.dbsa(d,g,c,f,e)};s.cellGetDrillNames=function(d,e,c){return w.drillNames(d,e,c)};s.cellGetDrillNameTransactions=function(e,f,c,d){return w.drillTransactions(e,f,c,d)};s.dataRefresh=function(){w.refresh()};s.getToken=function(){return w.getToken()};s.helperIsStatusSuccessful=function(c){return t.isStatusSuccessful(c)};s.helperIsSuccessful=function(c){return t.isSuccessful(c)};s.helperDoesPageExists=function(c){return t.doesPageExists(c)};s.helperGenerateUUID=function(){return t.generateUUID()};s.helperConvertElementsToArray=function(c,d){return t.convertElementsToArray(c,d)};s.helperBase64Encode=function(c){return t.encode(c)};s.cubeDimensions=function(c,d){return z.dimensions(c,d)};s.cubeExecuteMdx=function(e,c,d){return z.executeMdx(e,c,d)};s.cubeExecuteNamedMdx=function(e,c,d){return z.executeNamedMdx(e,c,d)};s.cubeExecuteView=function(d,e,c){return z.executeView(d,e,c)};s.cubes=function(c){return z.cubes(c)};s.cubeViews=function(c,d){return z.views(c,d)};s.cubeView=function(d,e,c){return z.view(d,e,c)};s.dimensionElements=function(f,l,k,c,h,e,j,g,d){return v.elements(f,l,k,c,h,e,j,g,d)};s.dimensionElement=function(f,c,d,e){return v.element(f,c,d,e)};s.dimensionAttributes=function(d,c){return v.attributes(d,c)};s.dimensionSubsetAlias=function(e,c,d){return v.subsetAlias(e,c,d)};s.applicationLogin=function(f,c,e,d){return x.login(f,c,e,d)};s.applicationGetCAMPassport=function(c,d){return x.getCamPassport(c,d)};s.applicationLoginWithCAMPassport=function(d,e,c){return x.loginWithCAMPassport(d,e,c)};s.applicationLogout=function(c){return x.logout(c)};s.applicationUser=function(c){return x.user(c)};s.applicationUsers=function(){return x.users()};s.applicationInfo=function(){return x.info()};s.applicationMenus=function(){return x.menus()};s.applicationUserMenus=function(){return x.userMenus()};s.applicationSaveUserMenus=function(c){return x.saveUserMenus(c)};s.applicationStates=function(){return x.states()};s.applicationUserStates=function(){return x.userStates()};s.applicationSaveUserStates=function(c){return x.saveUserStates(c)};s.applicationDeleteFile=function(d,c){return x.fileDelete(d,c)};s.applicationSessions=function(){return x.sessions()};s.applicationSession=function(c){return x.session(c)};s.applicationInstances=function(){return p.instances()};s.applicationInstance=function(c){return p.configuration(c)};s.applicationName=function(){return q.applicationName()};s.applicationAdminLogout=function(){return q.logout()};s.applicationAdminLogin=function(c,d){return q.login(c,d)};s.applicationSettings=function(){return q.get()};s.applicationSettingsSave=function(c){return q.save(c)};s.process=function(d,c){return a.process(d,c)};s.processExecute=function(d,c){return a.processExecute(d,c,arguments)};s.processExecuteWithObject=function(c){return a.processExecuteWithObject(c)};s.tableCreate=function(d,c,e){return u.create(d,c,e)};s.addTableData=function(d,c){return r.addTableData(d,c)};s.resultsetTransform=function(d,e,f,c){return y.resultsetTransform(d,e,f,c)};s.formatNumber=function(c,d){return t.formatNumber(c,d)};s.formatPercentage=function(c,d){return t.formatPercentage(c,d)};s.scheduledJobs=function(){return A.jobs()};s.scheduledJob=function(c){return A.job(c)};s.saveOrUpdateScheduledJob=function(c){return A.saveOrUpdateJob(c)};s.deleteScheduledJob=function(c){return A.deleteJob(c)}}])})();(function(){var b=angular.module("tm1Ui");b.service("$tm1UiSetting",["$rootScope","$http","$q","$tm1UiHelper","$base64",function(a,h,l,m,k){var j=this;j.applicationName=function(){var c=h.get("api/app/name");var d=d||l.defer();c.then(function(e){d.resolve(e.data)},function(e){d.reject(e)});return d.promise};j.logout=function(){var c=h.get("api/admin/sessions/logout");var d=d||l.defer();c.then(function(e){d.resolve({success:m.isSuccessful(e),message:e.data})},function(e){d.reject(e)});return d.promise};j.login=function(c,f){if(angular.isUndefined(c)){throw"username is a required field"}if(angular.isUndefined(f)){f=""}var g={};g.username=c;g.encryptedPassword=k.encode(f);var d=h.post("api/admin/sessions/login",g);var e=e||l.defer();d.then(function(o){e.resolve({success:m.isSuccessful(o),message:o.data})},function(o){e.reject(o)});return e.promise};j.get=function(){var c=h.get("api/admin/settings");var d=d||l.defer();c.then(function(e){d.resolve(e.data)},function(e){d.reject(e)});return d.promise};j.save=function(e){var c=h.post("api/admin/settings/save",e);var d=d||l.defer();c.then(function(f){d.resolve({success:m.isSuccessful(f),message:f.data})},function(f){d.reject(f)});return d.promise}}])})();(function(){var b=angular.module("tm1Ui");b.service("$tm1UiTable",["uuid2","$filter",function(a,d){this.create=function(k,c,j){if(!(k&&k.$evalAsync&&k.$watch)){throw"The page's Angular Scope (i.e. $scope) must be the FIRST PARAMETER passed to this TABLE CREATE function. "}if(!c){c=[]}var h=a.newguid();if(k.tm1Table==undefined){k.tm1Table={}}k.tm1Table[h]={dataSource:c,options:{index:0,pageSize:10,sortType:null,sortReverse:false,filter:null,preload:true,watch:true},_data:null,_sortType:null,_sortReverse:false,_filter:null,_index:0,_pageSize:0};if(j){angular.extend(k.tm1Table[h].options,j)}if(k.tm1Table[h].options.watch){k.$watch(function(){return k.tm1Table[h].dataSource},function(e){k.tm1Table[h]._data=null},true)}k.tm1Table[h].data=function(){if(this._data&&(!angular.equals(this._sortType,this.options.sortType)||!angular.equals(this._sortReverse,this.options.sortReverse))){this._data=null}if(this._data&&!this.options.preload&&(!angular.equals(this._filter,this.options.filter)||!angular.equals(this._index,this.options.index)||!angular.equals(this._pageSize,this.options.pageSize))){this._data=null}if(this._data){return this._data}var e=d("orderBy")(this.dataSource.slice(0),this.options.sortType,this.options.sortReverse);if(!this.options.preload){if(this.options.filter){e=d("filter")(e,this.options.filter)}this._data=[];this._pages=e.length;for(var f=0;f<e.length;f++){if(f<this.options.index){continue}if(f>=(this.options.index+this.options.pageSize)){break}this._data.push(e[f])}}else{this._data=e}e=undefined;this._sortType=this.options.sortType;this._sortReverse=this.options.sortReverse;this._filter=this.options.filter;this._index=this.options.index;this._pageSize=this.options.pageSize;return this._data};k.tm1Table[h].size=function(){return this.dataSource.length};k.tm1Table[h].next=function(){if(!((this.options.index+this.options.pageSize)>=this.dataSource.length)){this.options.index=this.options.index+this.options.pageSize}};k.tm1Table[h].previous=function(){this.options.index=Math.max(0,this.options.index-this.options.pageSize)};k.tm1Table[h].pageSize=function(e){this.options.index=0;this.options.pageSize=e};k.tm1Table[h].isPageSize=function(e){return this.options.pageSize==e};k.tm1Table[h].page=function(){return Math.min(this.pages(),Math.ceil((this.options.index/this.options.pageSize)+1))};k.tm1Table[h].pages=function(){if(this.options.preload){return Math.ceil(this.dataSource.length/this.options.pageSize)}else{if(this._pages){return Math.ceil(this._pages/this.options.pageSize)}else{return 1}}};k.tm1Table[h].show=function(e,g){if(g<this.options.index||g>=this.options.index+this.options.pageSize){return false}if(!this.options.filter){return true}var f=[e];var m=d("filter")(f,this.options.filter);f=undefined;if(m.length==1){return true}else{return false}};k.tm1Table[h].sort=function(e){this.options.sortType=e;this.options.sortReverse=!this.options.sortReverse};k.tm1Table[h].sortClear=function(){this.options.sortType=null};k.tm1Table[h].isSorted=function(){return this.options.sortType};k.tm1Table[h].sortClass=function(e){if(this.options.sortType==e){if(this.options.sortReverse){return"tm1-ui-desc"}else{return"tm1-ui-asc"}}};k.tm1Table[h].refresh=function(){this.options.index=0;this._data=null};k.tm1Table[h].filter=function(e,f){this._data=null;if(e){if(f&&f.length==0){k.tm1Table[h].options.filter=null}else{k.tm1Table[h].options.filter={};k.tm1Table[h].options.filter[e]=f}}};return k.tm1Table[h]}}])})();angular.module("tm1Ui").run(["$templateCache",function(b){b.put("assets/html/tm1-ui-about.html",'<div class="tm1-ui-base {{directiveClasses}}"><table class="table table-hover"><thead><tr><th translate="LIBRARY"></th><th translate="VERSION"></th><th translate="LICENSE"></th></tr></thead><tbody><tr ng-repeat="lib in libraries"><td><a href="{{lib.url}}" target="_blank">{{lib.name}}</a></td><td>{{lib.version}}</td><td><a href="{{lib.licenseUrl}}" target="_blank">{{lib.license}}</a></td></tr></tbody></table></div>');b.put("assets/html/tm1-ui-active-form.html",'<div class="tm1-ui-rpt-view {{directiveClasses}}"><div ng-transclude="tm1UiRptConfig" ng-if="cubeIsReady"></div><div ng-transclude="tm1UiRptTemplate" ng-if="cubeIsReady"></div><div ng-if="message.length > 0" class="alert alert-warning text-center" role="alert">{{message}}</div></div>');b.put("assets/html/tm1-ui-base.html",'<span class="tm1-ui-base {{directiveClasses}}">{{message}}</span>');b.put("assets/html/tm1-ui-chart-dbr.html","<span>{{message}}</span>");b.put("assets/html/tm1-ui-chart-template.html",'<div ng-attr-id="{{directiveID}}" class="tm1-ui-chart {{directiveClasses}}" class="tm1-ui-chart"><nvd3 options="options" data="data" api="api" config="config"></nvd3><div ng-hide="true"><ng-transclude></ng-transclude></div><div class="row" ng-if="tm1ShowData"><div class="panel panel-info" ng-if="!(tm1ChartType == \'pie\' || tm1ChartType == \'donut\')" ng-repeat="seriesData in data track by $index"><div class="panel-heading">Series: {{seriesData.key}}</div><div class="panel-body"><div class="table-responsive"><table class="table table-condensed"><thead><tr ng-repeat="chartValue in seriesData.values | limitTo:1"><th ng-repeat="(key, value) in chartValue">{{key}}</th></tr></thead><tbody><tr ng-repeat="chartValue in seriesData.values track by $index"><td ng-repeat="(key, value) in chartValue">{{value}}</td></tr></tbody></table></div></div></div><!-- Pie and Donut Charts only --><div class="panel panel-info" ng-if="tm1ChartType == \'pie\' || tm1ChartType == \'donut\'"><div class="panel-heading">Data</div><div class="panel-body"><div class="table-responsive"><table class="table table-condensed"><thead><tr ng-repeat="chartValue in data | limitTo:1"><th ng-repeat="(key, value) in chartValue">{{key}}</th></tr></thead><tbody><tr ng-repeat="chartValue in data track by $index"><td ng-repeat="(key, value) in chartValue">{{value}}</td></tr></tbody></table></div></div></div></div></div>');b.put("assets/html/tm1-ui-chart-value.html","<span>{{message}}</span>");b.put("assets/html/tm1-ui-cron.html",'<div class="panel panel-default tm1-ui-cron {{directiveClasses}}"><div class="panel-body"><div class="row"><div class="col-md-12"><ul class="nav nav-tabs"><li role="presentation" ng-class="{\'active\':cron.type == CRON_MONTHLY}"><a ng-click="cron.type = CRON_MONTHLY">{{\'EVERYMONTH\' | translate}}</a></li><li role="presentation" ng-class="{\'active\':cron.type == CRON_WEEKLY && !cron.monthlyOptionsUpdated, \'disabled\':cron.monthlyOptionsUpdated}"><a ng-click="cron.type = CRON_WEEKLY">{{\'EVERYWEEK\' | translate}}</a></li><li role="presentation" ng-class="{\'active\':cron.type == CRON_DAILY}"><a ng-click="cron.type = CRON_DAILY">{{\'EVERYDAY\' | translate}}</a></li><li role="presentation" ng-class="{\'active\':cron.type == CRON_CUSTOM}"><a ng-click="cron.type = CRON_CUSTOM">{{\'CUSTOM\' | translate}}</a></li></ul></div></div><!-- Monthly Options --><div class="row" ng-if="cron.type == CRON_MONTHLY"><div class="col-md-1"></div><div class="col-md-10"><div class="radio"><label><input type="radio" name="optionsMonthly" value="{{CRON_MONTHLY_SPECIFIC}}" ng-model="cron.monthlyOption" ng-change="recalculateCron()">{{\'MONTHLYOPTION1\' | translate}}</label></div><label class="checkbox-inline" ng-repeat="day in cron.days" ng-if="cron.monthlyOption == CRON_MONTHLY_SPECIFIC"><input type="checkbox" value="{{day.key}}" ng-model="day.selected" ng-change="recalculateCron()"> {{day.key}}</label><div class="radio"><label><input type="radio" name="optionsMonthly" value="{{CRON_MONTHLY_LASTDAY}}" ng-model="cron.monthlyOption" ng-change="recalculateCron()">{{\'MONTHLYOPTION2\' | translate}}</label></div><div class="radio"><label><input type="radio" name="optionsMonthly" value="{{CRON_MONTHLY_LASTWEEKDAY}}" ng-model="cron.monthlyOption" ng-change="recalculateCron()">{{\'MONTHLYOPTION3\' | translate}}</label></div><div class="radio"><label><input type="radio" name="optionsMonthly" value="{{CRON_MONTHLY_SPECIFICWEEKDAY}}" ng-model="cron.monthlyOption" ng-change="recalculateCron()">{{\'MONTHLYOPTION4\' | translate}}</label></div><div class="radio"><label><input type="radio" name="optionsMonthly" value="{{CRON_MONTHLY_SPECIFICWORKINGDAY}}" ng-model="cron.monthlyOption" ng-change="recalculateCron()">{{\'MONTHLYOPTION5\' | translate}}</label></div><form class="form-inline" ng-if="cron.monthlyOption == CRON_MONTHLY_SPECIFICWEEKDAY"><div class="form-group"><select id="cron-monthly-occurence" class="form-control tm1-ui-indent" ng-model="cron.monthlyOccurence" ng-change="recalculateCron()"><option ng-repeat="weekorder in cron.weekmonthorder" value="{{weekorder.key}}">{{weekorder.desc}}</option></select><select id="cron-monthly-weekday" class="form-control tm1-ui-indent" ng-model="cron.monthlyWeekday" ng-change="recalculateCron()"><option ng-repeat="week in cron.weeknames" value="{{week.key}}">{{week.desc}}</option></select></div></form><form class="form-inline" ng-if="cron.monthlyOption == CRON_MONTHLY_SPECIFICWORKINGDAY"><div class="form-group"><select id="cron-monthly-working-day-no" class="form-control tm1-ui-indent" ng-model="cron.monthlyWorkingDay" ng-change="recalculateCron()"><option ng-repeat="day in dayNo" value="{{day.key}}">{{day.display}}</option></select></div></form></div><div class="col-md-1"></div></div><!-- Weekly Options --><div class="row" ng-if="cron.type == CRON_WEEKLY"><div class="col-md-1"></div><div class="col-md-10"><p translate="WEEKLYOPTION1"></p><label class="checkbox-inline" ng-repeat="weekday in cron.weeknames"><input type="checkbox" value="{{weekday.key}}" ng-model="weekday.selected" ng-change="recalculateCron()" ng-disabled="cron.monthlyOptionsUpdated"> {{weekday.desc}}</label></div><div class="col-md-1"></div></div><!-- Daily Options --><div class="row" ng-if="cron.type == CRON_DAILY"><div class="col-md-1"></div><div class="col-md-10"><div class="radio"><label><input type="radio" name="optionsDaily" value="{{CRON_DAILY_SPECIFIC}}" ng-model="cron.dailyOption" ng-change="recalculateCron()">At {{cron.hour}}:{{cron.minute}}{{cron.ampm}}</label></div><div class="radio"><label><input type="radio" name="optionsDaily" value="{{CRON_DAILY_EVERYHOUR}}" ng-model="cron.dailyOption" ng-change="recalculateCron()">Every hour starting from {{cron.hour}}:{{cron.minute}}{{cron.ampm}} until {{cron.dailyOptionIntervalHourDesciption}}</label></div><form class="form-inline" ng-if="cron.dailyOption == CRON_DAILY_EVERYHOUR"><div class="form-group"><select class="form-control" ng-model="cron.dailyOptionIntervalHour" ng-change="recalculateCron()"><option ng-repeat="absolutehour in cron.absoluteHours">{{absolutehour}}</option></select><label class="tm1-ui-indent" translate="LASTHOURRUN"></label></div></form></div><div class="col-md-1"></div></div><!-- Custom Options --><div class="row" ng-show="cron.type == CRON_CUSTOM"><div class="col-md-1"></div><div class="col-md-10"><form><div class="form-group"><label for="custom-cron" translate="CRON"></label><input type="text" class="form-control" id="custom-cron" placeholder="{{\'CRON\' | translate}}" ng-model="generatedCron"></div><div class="form-group"><label for="custom-cron-description" translate="DESCRIPTION"></label><input type="text" class="form-control" id="custom-cron-description" placeholder="{{\'DESCRIPTION\' | translate}}" ng-model="generatedCronMessage"></div></form></div><div class="col-md-1"></div></div><!-- Time --><div class="row"><div class="col-md-1"></div><div class="col-md-10"><form class="form-inline"><div class="form-group"><label translate="TIME"></label><select id="cron-hour" class="form-control tm1-ui-indent" ng-model="cron.hour" ng-change="recalculateCron()"><option ng-repeat="hour in cron.hours" value="{{hour}}">{{hour}}</option></select><select id="cron-minute" class="form-control tm1-ui-indent" ng-model="cron.minute" ng-change="recalculateCron()" ng-options="minute as minute for minute in minutes"></select><select id="cron-ampm" class="form-control tm1-ui-indent" ng-model="cron.ampm" ng-change="recalculateCron()"><option value="am">AM</option><option value="pm">PM</option></select></div></form></div><div class="col-md-1"></div></div><!-- Action(s) --><div class="row"><div class="col-md-12"><hr></div></div><div class="row"><div class="col-md-12"><form class="form-inline"><div class="form-group"><input type="text" class="form-control" placeholder="CRON" ng-model="generatedCron" ng-disabled="true"></div><small class="tm1-ui-indent">{{generatedCronMessage}}</small> <button type="button" class="btn btn-link" ngclipboard data-clipboard-text="{{generatedCronMessage}}"><i class="fa fa-copy"></i></button> <button type="button" class="btn btn-info pull-right" ng-click="checkCron()" translate="CHECKCRON"></button></form></div></div><!-- Check Schedule --><div class="row" ng-if="cron.nextRuns.length > 0"><div class="col-md-12"><hr></div></div><div class="row"><div class="col-md-12"><div ng-if="cron.nextRunFlagError" class="panel panel-danger"><div class="panel-heading">{{cron.nextRunErrorMessage}}</div></div><ul ng-if="!cron.nextRunFlagError && cron.nextRuns.length > 0" class="list-group"><li class="list-group-item disabled" translate="NEXTRUNS"></li><li ng-repeat="nextRun in cron.nextRuns track by $index" ng-if="nextRun" class="list-group-item">{{nextRun | date:\'y MMM d, h:mm a, EEE\'}}</li></ul></div></div><!--  --><div class="row"><div class="col-md-12"><hr></div></div><div class="row"><div class="col-md-12"><button type="button" class="btn btn-success pull-right" ng-click="applyCron()" translate="APPLYCRON"></button></div></div><div class="row"><div class="col-md-1"></div><div class="col-md-10"></div><div class="col-md-1"></div></div></div></div>');b.put("assets/html/tm1-ui-dbr-cm-comment.html",'<div class="tm1-ui-dbr-cm-comment"><div class="modal-header"><h4 class="modal-title" translate="COMMENT"></h4></div><!-- Read-Only --><div ng-if="readOnly" ng-bind-html="comment"></div><!--  Editable --><text-angular ng-hide="readOnly" ng-model="comment" ta-toolbar="tm1FormatHtmlButtons"></text-angular><!-- Annotation Viewer --><table class="table" ng-if="useAnnotations" ng-show="annotationSelected.length > 0 && showAnnotationViewer"><tbody><tr><td><div class="well" ng-bind-html="annotationSelected"></div></td><td style="width: 20%"><button type="button" class="btn btn-default btn-block" ng-click="hideViewer()" translate="HIDE"></button> <button ng-if="!readOnly" type="button" class="btn btn-info btn-block" ng-click="updateCommentBox()" translate="USE"></button></td></tr></tbody></table><!-- Annotation List --><div ng-if="useAnnotations" class="panel panel-default" style="height: 200px; overflow:scroll"><div class="panel-body"><table class="table table-hover"><thead><tr><th translate="COMMENT"></th><th translate="USER"></th><th translate="DATE"></th></tr></thead><tbody><tr ng-repeat="annotation in annotations | orderBy:\'-Created\'"><td ng-bind-html="annotation.commentValue" style="cursor: pointer" ng-click="setAnnotationView(annotation)"></td><td>{{annotation.Creator}}</td><td>{{annotation.Created | date:\'MM/dd/yyyy, hh:mm:ss a\'}}</td></tr></tbody></table></div></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button> <button type="button" class="btn btn-primary" ng-click="saveComments()">OK</button></div></div>');b.put("assets/html/tm1-ui-dbr-cm-drill.html",'<div class="tm1-ui-dbr-cm-drill {{directiveClasses}}"><!-- Main DBR --><div class="row"><div class="col-md-12"><h5 class="pull-right"></h5><h4>{{\'DRILLNAMES\' | translate}}</h4><div class="row"><div class="col-md-12"><div class="btn-group"><button ng-repeat="drill in drills track by $index" type="button" ng-class="{\'btn\':true, \'btn-default\':!drill.isSelected, \'btn-success\':drill.isSelected}" ng-click="drill.isSelected = !drill.isSelected; updateDrillTransactions(drill);">{{drill.name}}</button></div></div></div><!-- Search --><tm1-ui-progress><tm1-ui-progress-pending>...</tm1-ui-progress-pending><tm1-ui-progress-ready><div ng-if="hasDrillsSelected" ng-hide="true" class="row"><div class="col-md-12"><input class="form-control" type="text" ng-change="updateSearchValue(searchText)" ng-model="searchText" placeholder="{{\'SEARCH\' | translate}}..."></div></div></tm1-ui-progress-ready></tm1-ui-progress><div class="panel panel-default" ng-show="hasDrillsSelected"><div class="panel-body" style="overflow-y: auto"><!-- Transaction Details --><div class="row" ng-repeat="drill in drills | filter:{isSelected:true} track by $index"><div class="col-md-12"><!-- RelationalDrillthrough: Display Data --><table class="table" ng-if="drill.type == \'RelationalDrillthrough\' && drill.transactions.value && drill.transactions.value.length > 0"><thead><tr><th ng-repeat="(key, value) in drill.transactions.value[0]">{{key}}</th></tr></thead><tbody><tr ng-repeat="transaction in drill.transactions.value | filter:searchValue | limitTo:pageSize:currentPage track by $index"><td ng-repeat="(key, value) in transaction">{{value}}</td></tr></tbody></table><!-- CubeDrillthrough: Display Data --><table class="table" ng-if="drill.type == \'CubeDrillthrough\' && drill.transactions.table.rows.length > 0"><thead><!-- Title Dimension --><tr class="active" ng-if="drill.transactions.table.metadata.elements.title.length > 0"><th colspan="{{drill.transactions.table.metadata.dimensionCount.row + drill.transactions.table.metadata.elements.column.length}}"><label ng-repeat="(key, value) in drill.transactions.table.metadata.elements.title[0]" class="bg-info tm1-ui-dbr-cm-drill-title">{{key}}:{{value}}</label></th></tr><!-- Column Dimensions Only --><tr class="active"><th ng-repeat="(key, value) in drill.transactions.table.metadata.elements.row[0]"></th><th colspan="{{drill.transactions.Axes[0].Tuples.length}}"><label ng-repeat="dimensionName in drill.transactions.table.metadata.dimensions.column" class="bg-info tm1-ui-dbr-cm-drill-column">{{dimensionName}}</label></th></tr><!-- COMBINED --><tr class="active"><th ng-repeat="(key, value) in drill.transactions.table.metadata.elements.row[0]" rowspan="{{drill.transactions.table.metadata.dimensionCount.column}}" class="text-right"><label class="bg-info tm1-ui-dbr-cm-drill-row">{{key}}</label></th><th ng-repeat="colDimObj in drill.transactions.table.metadata.elements.column" class="text-right">{{colDimObj[drill.transactions.table.metadata.dimensions.column[0]]}}</th></tr><tr ng-repeat="dimensionName in drill.transactions.table.metadata.dimensions.column | limitTo:100:1" class="active"><th ng-repeat="colDimObj in drill.transactions.table.metadata.elements.column" class="text-right">{{colDimObj[dimensionName]}}</th></tr></thead><tbody><tr ng-repeat="rowObj in drill.transactions.table.rows | filter:searchValue | limitTo:pageSize:currentPage track by $index"><td ng-repeat="(key, value) in drill.transactions.table.metadata.elements.row[$index]" class="text-left">{{value}}</td><td ng-repeat="dataObj in rowObj track by $index" class="text-right">{{dataObj.CubeFormattedValue}}</td></tr></tbody></table><tm1-ui-progress><tm1-ui-progress-pending>{{\'MESSAGEWAIT\' | translate}} <i class="fa fa-circle-o-notch fa-spin fa-fw"></i></tm1-ui-progress-pending><tm1-ui-progress-ready><!-- RelationalDrillthrough: No Data --><div ng-if="drill.type == \'RelationalDrillthrough\' && !drill.transactions.value && !drill.transactions.error.message" class="alert alert-warning" role="alert">{{drill.name}}: {{\'DRILLDATANOTFOUND\' | translate}}</div><!-- CubeDrillthrough: No Data --><div ng-if="drill.type == \'CubeDrillthrough\' && !drill.transactions.table && !drill.transactions.error.message" class="alert alert-warning" role="alert">{{drill.name}}: {{\'DRILLDATANOTFOUND\' | translate}}</div><!-- General Error --><div ng-if="drill.transactions.error.message" class="alert alert-danger" role="alert">{{drill.name}}: {{drill.transactions.error.message}}</div></tm1-ui-progress-ready></tm1-ui-progress></div></div><!-- Navigation --><div ng-if="hasDrillsSelected && maxRowsTotal > pageSize" class="row"><div class="col-md-6"><div class="btn-group" role="group" aria-label="Navigation"><button type="button" class="btn btn-default" ng-click="getPreviousPage()" ng-class="{\'disabled\':activePage <= 1}" ng-disabled="activePage <= 1"><i class="fa fa-angle-left" aria-hidden="true"></i></button> <button type="button" class="btn btn-default">{{activePage + \' of \' + pageArray.length}}</button> <button type="button" class="btn btn-default" ng-click="getNextPage()" ng-class="{\'disabled\':activePage == pageArray.length}" ng-disabled="activePage == pageArray.length"><i class="fa fa-angle-right" aria-hidden="true"></i></button></div></div><div class="col-md-6"><div class="btn-group pull-right" role="group" aria-label="Navigation"><button type="button" class="btn btn-default" ng-repeat="pageSizeOption in pageSizeOptions track by $index" ng-if="pageSizeOption <= maxRowsTotal" ng-class="{\'active\':pageSizeOption == pageSize}" ng-click="setPageSize(pageSizeOption)">{{pageSizeOption}}</button></div></div></div><!-- \r\n          <p>Current: {{currentPage}}, PageSize: {{pageSize}}, MaxRows: {{maxRowsTotal}}, ActivePage: {{activePage}}</p>\r\n          <p>pageArray: {{pageArray}}</p>\r\n           --></div></div></div></div></div>');b.put("assets/html/tm1-ui-dbr-cm-reference.html",'<div class="tm1-ui-dbr-cm-reference {{directiveClasses}}"><!-- Main DBR --><div class="row"><div class="col-md-12"><h4><span translate="CUBE"></span>: {{tm1Cube}}</h4><table class="table table-hover"><thead><tr><th translate="DIMENSION"></th><th translate="ELEMENT"></th></tr></thead><tbody><tr ng-repeat="dimEl in dimensionElements"><td>{{dimEl.dimension}}</td><td>{{dimEl.element}}</td></tr></tbody></table></div></div><!-- Comment DBR --><div class="row" ng-if="tm1CommentElements"><div class="col-md-12"><h4 ng-if="tm1CommentCube != tm1Cube"><span translate="COMMENTCUBE">: {{tm1CommentCube}}</span></h4><h4 ng-if="tm1CommentCube == tm1Cube" translate="COMMENTELEMENTDIFFERENCE"></h4><table class="table table-hover"><thead><tr><th translate="DIMENSION"></th><th translate="ELEMENT"></th></tr></thead><tbody ng-if="tm1CommentCube != tm1Cube"><tr ng-repeat="dimEl in commentDimensionElements"><td>{{dimEl.dimension}}</td><td>{{dimEl.element}}</td></tr></tbody><tbody ng-if="tm1CommentCube == tm1Cube"><tr ng-repeat="dimEl in commentDimensionElements" ng-if="dimensionElements[$index].element != dimEl.element"><td>{{dimEl.dimension}}</td><td>{{dimEl.element}}</td></tr></tbody></table></div></div><!-- Picklist --><div class="row" ng-if="tm1PickList.length > 0"><div class="col-md-12"><br><div><label translate="PICKLISTOPTIONS"></label>:</div><ul class="square"><li ng-repeat="item in tm1PickList track by $index">{{item}}</li></ul></div></div></div>');b.put("assets/html/tm1-ui-dbr-cm-spread.html",'<div class="tm1-ui-dbr-cm-spread {{directiveClasses}}"><div class="row" style="margin-bottom: 20px"><div class="col-md-12"><label class="radio-inline"><input type="radio" name="{{directiveID}}-spreadAction" ng-attr-id="{{directiveID}}-0" ng-init="tm1SpreadAction.action = \'\'" value="" ng-model="tm1SpreadAction.action"> {{\'NONE\' | translate}}</label><label class="radio-inline"><input type="radio" name="{{directiveID}}-spreadAction" ng-attr-id="{{directiveID}}-1" value="clear" ng-model="tm1SpreadAction.action"> {{\'CLEAR\' | translate}}</label><label class="radio-inline"><input type="radio" name="{{directiveID}}-spreadAction" ng-attr-id="{{directiveID}}-2" value="proportional" ng-model="tm1SpreadAction.action"> {{\'PROPORTIONAL\' | translate}}</label><label class="radio-inline"><input type="radio" name="{{directiveID}}-spreadAction" ng-attr-id="{{directiveID}}-3" value="custom" ng-model="tm1SpreadAction.action"> {{\'CUSTOM\' | translate}}</label></div></div><div ng-if="tm1SpreadAction.action == \'clear\'" class="row"><div class="col-md-12"><span class="alert alert-danger" translate="SPREADCLEARMESSAGE"></span></div></div><div ng-if="tm1SpreadAction.action == \'proportional\'" class="row"><div class="col-md-12"><input type="number" class="form-control" ng-model="tm1SpreadAction.spreadValue" placeholder="{{\'SPREADPROPORTIONALPLACEHOLDER\' | translate}}"></div></div><div ng-if="tm1SpreadAction.action == \'custom\'" class="row"><div class="col-md-12"><input type="text" class="form-control" ng-model="tm1SpreadAction.customSpreadCommand" placeholder="{{\'SPREADCUSTOMCOMMAND\' | translate}}"></div></div><div class="row modal-footer text-right"><button class="btn btn-primary" ng-if="tm1SpreadAction.action && tm1SpreadAction.action != \'none\' && !confirmClear" ng-click="apply()" ng-disabled="tm1SpreadAction.action == \'custom\' && tm1SpreadAction.customSpreadCommand.length == 0" translate="APPLY"></button> <button class="btn btn-danger" ng-if="confirmClear" ng-click="confirm()" translate="CONFIRM"></button></div></div>');b.put("assets/html/tm1-ui-dbr-date.html",'<span name="{{name}}" id="{{id}}" uib-tooltip="{{validationMessage}}" tooltip-placement="bottom" ng-class="{\'tm1-ui-dbr-context\':hasContext, \'input-group\':hasContext, \'tm1-has-comment\': hasComments()}" class="tm1-ui-dbr-date tm1-ui-dbr-common {{directiveClasses}}"><!-- Read Only --> <span ng-if="!errorMessage && !entry.isUpdateable" ng-class="{\'tm1-ui-dbr-note\':hasComments() }" ng-bind-html="entry.value" ng-click="showContext(1)"></span><!--  Inputs  --><form ng-if="!errorMessage && entry.isUpdateable && !isReadOnly" ng-class="{\'has-error\':validationMessage.length > 0}" ng-submit="updateData()"><input type="text" ng-attr-id="{{directiveID}}" ng-model="entry.value" ng-change="onChange()" ng-focus="checkDatePicker()" ng-blur="updateData()" ng-class="{\'form-control\':true, \'tm1-ui-dbr-datepicker\':isDateFormatted}" ng-value="entry.value" placeholder="{{emptyDisplay}}" ng-readonly="isDateFormatted" ng-click="showContext(3)"></form><!-- Context/Dropdown Menu(s) --> <span ng-if="hasContext" class="input-group-addon dropdown-toggle tm1-ui-dbr-context-button" ng-class="{\'tm1-ui-dbr-context-button-readonly\':clickID == 1}" ng-style="!errorMessage && !entry.isUpdateable && {\'display\':\'inline\'}" data-toggle="dropdown"><i class="fa fa-ellipsis-v"></i></span><ul ng-if="hasContext" class="dropdown-menu dropdown-menu-right tm1-ui-dbr-context-menu"><li ng-if="!hideReference"><a ng-click="showReference()">Reference</a></li><li ng-if="!hideReference" role="separator" class="divider"></li><li ng-if="!hideSpread && isConsolidated && isNumeric"><a ng-click="showSpread()">Spread</a></li><li ng-if="!hideDrill && hasDrillThrough"><a ng-click="showDrill()">Drill</a></li><li ng-if="!hideComment"><a ng-click="showComment()">Comment</a></li></ul><span ng-if="errorMessage" class="alert alert-danger" role="alert" uib-tooltip="{{errorMessage}}" tooltip-placement="right">{{entry.value}}</span></span>');b.put("assets/html/tm1-ui-dbr-image.html",'<span name="{{name}}" id="{{id}}" class="tm1-ui-dbr-image tm1-ui-dbr-common {{directiveClasses}}"><img ng-src="{{entry.value}}" ng-class="{\'img-rounded\':!(directiveClasses.length > 0)}" alt="{{imageAlt}}"></span>');b.put("assets/html/tm1-ui-dbr-read-only.html",'<span name="{{name}}" id="{{id}}" uib-tooltip="{{validationMessage}}" tooltip-placement="bottom" ng-class="{\'tm1-ui-dbr-context\':hasContext, \'input-group\':hasContext, \'tm1-has-comment\': hasComments()}" class="tm1-ui-dbr-read-only tm1-ui-dbr-common {{directiveClasses}}"><!-- Read Only --> <span ng-if="!errorMessage" ng-class="{\'tm1-ui-dbr-note\':hasComments() }" ng-bind-html="entry.value" ng-click="showContext(1)"></span><!-- Context/Dropdown Menu(s) --> <span ng-if="hasContext" class="input-group-addon dropdown-toggle tm1-ui-dbr-context-button" ng-class="{\'tm1-ui-dbr-context-button-readonly\':clickID == 1}" ng-style="!errorMessage && !entry.isUpdateable && {\'display\':\'inline\'}" data-toggle="dropdown"><i class="fa fa-ellipsis-v"></i></span><ul ng-if="hasContext" class="dropdown-menu dropdown-menu-right tm1-ui-dbr-context-menu"><li ng-if="!hideReference"><a ng-click="showReference()">Reference</a></li><li ng-if="!hideReference" role="separator" class="divider"></li><li ng-if="!hideSpread && isConsolidated && isNumeric"><a ng-click="showSpread()">Spread</a></li><li ng-if="!hideDrill && hasDrillThrough"><a ng-click="showDrill()">Drill</a></li><li ng-if="!hideComment"><a ng-click="showComment()">Comment</a></li><li ng-if="customContextMenus.length > 0" ng-repeat="customMenu in customContextMenus"><a ng-click="executeCustomMenu(customMenu.display)">{{customMenu.display}}</a></li></ul><span ng-if="errorMessage" class="alert alert-danger" role="alert" uib-tooltip="{{errorMessage}}" tooltip-placement="right">{{entry.value}}</span></span>');b.put("assets/html/tm1-ui-dbr.html",'<span name="{{name}}" id="{{id}}" uib-tooltip="{{validationMessage}}" tooltip-placement="bottom" ng-class="{\'tm1-ui-dbr-context\':hasContext, \'input-group\':hasContext, \'tm1-has-comment\': hasComments()}" class="tm1-ui-dbr tm1-ui-dbr-common {{directiveClasses}}"><!-- Read Only --> <span ng-if="!errorMessage && !entry.isUpdateable && !isMultiLine" ng-class="{\'tm1-ui-dbr-note\':hasComments() }" ng-bind-html="entry.value" ng-click="showContext(1)"></span><form ng-if="!errorMessage && !entry.isUpdateable && isMultiLine" ng-submit="updateData()"><textarea ng-model="entry.value" class="form-control input-no-borders" rows="{{multiLine}}" placeholder="{{emptyDisplay}}" disabled ng-click="showContext(2)"></textarea></form><!--  Inputs  --><form ng-if="!errorMessage && !isMultiLine && !formatHtml && !entry.isList && entry.isUpdateable && !isReadOnly" ng-class="{\'has-error\':validationMessage.length > 0}" ng-submit="updateData()"><input type="text" ng-attr-id="{{directiveID}}" ng-model="entry.value" ng-change="onChange()" ng-keydown="onKeyDown($event)" ng-focus="onInputFocus()" ng-blur="onInputBlur()" ng-paste="paste($event)" ng-class="{\'form-control\':true, \'tm1-ui-dbr-datepicker\':isDateFormatted}" ng-value="entry.value" placeholder="{{emptyDisplay}}" ng-readonly="isDateFormatted" ng-click="showContext(3)"></form><form ng-if="!errorMessage && isMultiLine && !entry.isList && entry.isUpdateable && !isReadOnly" ng-submit="updateData()"><textarea ng-model="entry.value" class="form-control input-no-borders" rows="{{multiLine}}" ng-blur="updateData()" placeholder="{{emptyDisplay}}" ng-keydown="onKeyDown($event)" ng-paste="paste($event)" ng-click="showContext(4)"></textarea></form><div ng-if="!errorMessage && formatHtml && !entry.isList && entry.isUpdateable && !isReadOnly && entry.value.length > 0" ng-click="activateTextAngular()" ng-class="{\'tm1-ui-dbr-rtf\':!editMode, \'tm1-ui-dbr-note\':hasComments()}" ng-show="!editMode" ng-bind-html="entry.value" placeholder="{{emptyDisplay}}" ng-click="showContext(5)"></div><div ng-if="!errorMessage && formatHtml && !entry.isList && entry.isUpdateable && !isReadOnly && !entry.value" ng-click="showContext(6); activateTextAngular();" ng-class="{\'tm1-ui-dbr-rtf\':!editMode, \'tm1-ui-dbr-empty\':true}" ng-show="!editMode">{{emptyDisplay}}</div><!-- Input - HTML in-line --><text-angular name="{{\'ta-\' + directiveID}}" ng-if="!errorMessage && formatHtml && !entry.isList && entry.isUpdateable && !isReadOnly" ng-submit="updateData()" ng-blur="updateData()" ng-show="editMode" ta-toolbar="taToolbarButtons" class="tm1-ui-dbr-html-editor" ta-disabled="!editMode" ng-model="entry.value"></text-angular><button ng-if="editMode && formatHtmlButtonEnabled" class="{{formatHtmlButtonClass}}">{{formatHtmlButtonText}}</button><!-- Input - HTML pop-up --><div class="modal fade" ng-attr-id="tm1-ui-dbr-popup-{{directiveID}}" tabindex="-1" role="dialog" ng-if="formatHtmlPopup"><div class="modal-dialog modal-lg" role="document"><div class="modal-content"><div class="modal-body"><text-angular ta-toolbar="taToolbarButtons" class="tm1-ui-dbr-html-editor" ng-model="entry.valueText"></text-angular></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button> <button type="button" class="btn btn-primary" ng-click="saveValue()">Save</button></div></div></div></div><!-- Radio Only Mode --><div ng-if="!errorMessage && picklistRadio && entry.isList && entry.isUpdateable && !isReadOnly" ng-class="picklistRadioClasses" ng-repeat="item in entry.picklist"><label><input type="radio" name="{{directiveID}}" ng-model="entry.value" ng-change="updateData()" ng-value="item" ng-click="showContext(8)">{{item}}</label></div><!-- Picklist - Search --><tm1-ui-select ng-if="!errorMessage && !picklistRadio && entry.isList && entry.isUpdateable && !isReadOnly" tm1-list="entry.picklist" tm1-list-selected="{{entry.value}}" tm1-on-dropdown-open="showContext(9)" tm1-on-item-select="updateData()" tm1-include-empty="true" tm1-enable-search="!picklistDisableSearch" ng-model="entry.value"></tm1-ui-select><!-- Context/Dropdown Menu(s) --> <span ng-if="hasContext" class="input-group-addon dropdown-toggle tm1-ui-dbr-context-button" ng-class="{\'tm1-ui-dbr-context-button-readonly\':clickID == 1}" ng-style="!errorMessage && !entry.isUpdateable && !isMultiLine && {\'display\':\'inline\'}" data-toggle="dropdown"><i class="fa fa-ellipsis-v"></i></span><ul ng-if="hasContext" class="dropdown-menu dropdown-menu-right tm1-ui-dbr-context-menu"><li ng-if="!hideReference"><a ng-click="showReference()">Reference</a></li><li ng-if="!hideReference" role="separator" class="divider"></li><li ng-if="!hideSpread && isConsolidated && isNumeric"><a ng-click="showSpread()">Spread</a></li><li ng-if="!hideDrill && hasDrillThrough"><a ng-click="showDrill()">Drill</a></li><li ng-if="!hideComment"><a ng-click="showComment()">Comment</a></li><li ng-if="customContextMenus.length > 0" ng-repeat="customMenu in customContextMenus"><a ng-click="executeCustomMenu(customMenu.display)">{{customMenu.display}}</a></li></ul><span ng-if="errorMessage" class="alert alert-danger" role="alert" uib-tooltip="{{errorMessage}}" tooltip-placement="right">{{entry.value}}</span></span>');b.put("assets/html/tm1-ui-dbra.html",'<span uib-tooltip="{{validationMessage}}" tooltip-placement="bottom" ng-class="{\'tm1-ui-dbra-context\':hasContext, \'input-group\':hasContext}" class="tm1-ui-dbra {{directiveClasses}}"><form ng-submit="updateData()" ng-if="!isReadOnly" ng-class="{\'has-error\':validationMessage.length > 0}"><input ng-blur="updateData()" ng-model="entry.value" type="text" ng-if="!isReadOnly" class="form-control" ng-value="entry.value" placeholder="{{emptyDisplay}}" ng-click="showContext(1)"></form><span ng-if="isReadOnly" ng-bind-html="getReadonlyData(entry.value)" ng-click="showContext(2)"></span><!-- Context/Dropdown Menu(s) --> <span ng-if="hasContext" class="input-group-addon dropdown-toggle tm1-ui-dbra-context-button" ng-style="isReadOnly && {\'display\':\'inline\'}" ng-class="{\'tm1-ui-dbra-context-button-readonly\':isReadOnly}" data-toggle="dropdown"><i class="fa fa-ellipsis-v"></i></span><ul ng-if="hasContext" class="dropdown-menu dropdown-menu-right tm1-ui-dbra-context-menu"><li ng-if="!hideReference"><a ng-click="showReference()">Reference</a></li></ul></span>');b.put("assets/html/tm1-ui-element-list-item.html",'<span class="tm1-ui-element-list-item" ng-class="directiveClasses"><span></span> <span ng-if="indent" class="tm1-ui-indent" ng-repeat="item in indentArray track by $index"></span> <i class="fa" ng-class="{\'tm1-ui-element-consol-icon\': !isLeaf, \'tm1-ui-element-leaf-icon\': isLeaf}"></i> <span ng-bind-html="itemDisplay"></span></span>');b.put("assets/html/tm1-ui-export.html",'<div class="tm1-ui-export {{directiveClasses}}"><a ng-click="exportTable(\'excel\');">Excel</a>&nbsp;|&nbsp;<a ng-click="exportTable(\'csv\');">CSV</a></div>');b.put("assets/html/tm1-ui-log.html",'<table ng-class="tableClass"><thead><tr><th translate="ACTIONS"></th><th colspan="4"><a ng-click="clearLogs()">{{\'CLEAR\' | translate}} <i class="fa fa-eraser"></i></a></th></tr><tr><th translate="TIME"></th><th translate="DIRECTIVE"></th><th translate="ID"></th><th translate="MESSAGE"></th><th translate="OBJECT"></th></tr></thead><tbody><tr ng-repeat="log in logs"><td>{{log.time}}</td><td>{{log.name}}</td><td>{{log.id}}</td><td>{{log.message}}</td><td>{{log.object}}</td></tr></tbody></table>');b.put("assets/html/tm1-ui-login.html",'<div id="{{id}}" name="{{name}}" class="tm1-ui-login {{directiveClasses}}"><div class="login-panel panel panel-default"><div class="panel-heading"><h3 class="panel-title" ng-show="instances.length == 1" translate="SIGNIN"></h3><h3 class="panel-title" ng-show="instances.length != 1">{{\'MESSAGESIGNTOINSTANCE\' | translate}}:<select name="login1" ng-model="login.instance" ng-change="checkCam()" ng-options="env.name as env.name for env in instances"></select></h3></div><div class="panel-body"><form role="form" method="post" ng-show="!useCAMwithSSO"><fieldset><div class="form-group" ng-show="useCAM"><select ng-disabled="!loginEnabled" name="cams" class="form-control" ng-model="credentials.cam" ng-options="cam for cam in camNamespaces"></select></div><div ng-class="[\'form-group\', {\'has-error\':errorMessage.length > 0}]"><input class="form-control" ng-disabled="!loginEnabled" placeholder="{{\'USERNAME\' | translate}}" type="text" autofocus ng-model="credentials.userName" ng-change="onUpdate()"></div><div ng-class="[\'form-group\', {\'has-error\':errorMessage.length > 0}]"><input class="form-control" ng-disabled="!loginEnabled" placeholder="{{\'PASSWORD\' | translate}}" type="password" ng-model="credentials.password" aria-describedby="errorMessageBlock" ng-change="onUpdate()"> <span ng-if="errorMessage.length > 0" id="errorMessageBlock" class="help-block">{{errorMessage}}</span></div><button ng-click="login()" ng-disabled="!login.instance.length > 0" class="btn btn-lg btn-block {{loginButtonClass}}" ng-class="{\'disabled\':!loginEnabled}">{{loginButtonText}}</button></fieldset></form></div><div class="panel-body" ng-show="useCAMwithSSO"><div class="alert alert-warning" role="alert"><p class="text-center">{{\'MESSAGEWAIT\' | translate}} <i class="fa fa-cog fa-spin"></i></p></div></div></div></div>');b.put("assets/html/tm1-ui-process.html",'<div class="tm1-ui-process {{directiveClasses}}"><button ng-if="!showDialog" type="button" class="btn btn-lg btn-block btn-primary tm1-ui-process-button" ng-class="silentModeClasses" ng-disabled="isDisabled" ng-click="runProcessDirect()">{{displayName}}<i ng-if="processStatus == PROCESS_RUNNING" class="fa fa-cog fa-spin"></i></button> <button ng-if="showDialog" type="button" class="btn btn-primary btn-lg btn-block" data-toggle="modal" data-target="#{{directiveID}}" ng-click="prepareProcessInfo()">{{displayName}}</button><div ng-if="showDialog" class="modal fade" ng-attr-id="{{directiveID}}" tabindex="-1" role="dialog" aria-labelledby="processLabel"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" ng-if="isExistingProcess" id="processLabel">{{\'MESSAGEXECUTEPROCESS\' | translate}} <strong>{{process.name}}</strong></h4><h4 class="modal-title" ng-if="!isExistingProcess" id="processLabel">{{\'CHECK\' | translate}} <strong>{{process.name}}</strong></h4></div><div class="modal-body" ng-if="isExistingProcess && process.parameters.length > 0"><table class="table table-hover"><thead><tr><th translate="NAME"></th><th translate="VALUE"></th></tr></thead><tbody><tr ng-repeat="processParam in parameters.Parameters" ng-class="{\'danger\':processParam.hasError}"><td>{{processParam.Name}}</td><td><div ng-class="[\'form-group\', {\'has-error\':processParam.hasError}]"><input type="text" class="form-control" ng-model="processParam.Value"></div></td></tr></tbody></table></div><div class="modal-body" ng-if="isExistingProcess && process.parameters.length == 0" translate="MESSAGENOPARAMETERS"></div><div class="modal-body" ng-if="!isExistingProcess"><div class="alert alert-danger" role="alert" translate="MESSAGEPROCESSNOTVALID"></div></div><div class="modal-footer"><span ng-show="processStatus == PROCESS_RUNNING" class="alert alert-info pull-left" role="alert">{{messageRunning}}<i class="fa fa-cog fa-spin"></i></span> <span ng-show="processStatus == COMPLETED_SUCCESSFULLY" class="alert alert-success pull-left" role="alert">{{messageSuccess}}</span> <span ng-show="processStatus == COMPLETED_WITH_ERRORS" class="alert alert-danger pull-left" role="alert">{{messageError}}</span> <span ng-show="processStatus == REVALUATED_PARAMS_HAS_ERROR" class="alert alert-danger pull-left" role="alert">{{messageParamError}}</span> <button ng-if="isExistingProcess" type="button" class="btn btn-primary tm1-ui-process-button {{buttonClasses}}" ng-class="{\'disabled\':!(processStatus == READY_FOR_RUN || processStatus == NO_ACTION)}" ng-click="runProcess()" translate="RUN"></button> <button type="button" ng-class="{\'btn btn-default\':true, \'disabled\':!(processStatus == READY_FOR_RUN || processStatus == NO_ACTION)}" data-dismiss="modal" translate="CANCEL"></button></div></div></div></div></div>');b.put("assets/html/tm1-ui-progress.html",'<span class="tm1-ui-progress {{directiveClasses}}"><div ng-transclude="tm1UiProgressPending" ng-show="!isReady"><i class="fa fa-cog fa-2x fa-spin fa-fw"></i></div><div ng-transclude="tm1UiProgressReady" ng-show="isReady"></div></span>');b.put("assets/html/tm1-ui-repeat.html","<span></span>");b.put("assets/html/tm1-ui-rpt-data.html",'<div><div ng-class="{\'{{bootstrapColumn}}\':true}" ng-repeat="cubeElementColumn in cubeElements"><span ng-repeat="cubeElement in cubeElementColumn"><tm1-ui-dbr tm1-instance="{{instance}}" tm1-cube="{{cube}}" tm1-elements="{{cubeElement}}" tm1-data-decimal="{{dataDecimal}}"></tm1-ui-dbr></span></div><div ng-class="{\'{{bootstrapExcessColumn}}\':true}" ng-if="bootstrapExcessSpace > 0">&nbsp;</div></div>');b.put("assets/html/tm1-ui-rpt-row-cell.html",'<span class="tm1-ui-rpt-row-cell {{directiveClasses}}"><span ng-if="cell.isReadOnly">{{value}}</span> <span ng-if="!cell.isReadOnly && !cell.HasPicklist"><input class="form-control" ng-blur="cell.update(onUpdate, false);" ng-model="cell.value"></span><tm1-ui-select ng-if="!cell.isReadOnly && cell.HasPicklist" tm1-list="items" tm1-list-selected="{{cell.value}}" tm1-on-item-select="onSelectChange(cell)" tm1-on-dropdown-open="updateList()" tm1-enable-search="!picklistDisableSearch" tm1-include-empty="true" ng-model="cell.value"></tm1-ui-select></span>');b.put("assets/html/tm1-ui-rpt-row-header.html",'<span class="tm1-ui-rpt-row-header {{directiveClasses}}"><span ng-if="!hasTranscludedContent">{{titles}}</span><ng-transclude ng-if="hasTranscludedContent"></ng-transclude></span>');b.put("assets/html/tm1-ui-rpt-row-label.html",'<div class="tm1-ui-rpt-row-label {{directiveClasses}}"><span class="tm1-ui-indent" ng-repeat="item in indent() track by $index"></span> <i ng-if="tm1RowData[tm1Dimension].element.children.length > 0" class="fa tm1-ui-rpt-row-label-icon" ng-class="{\'fa-caret-right\':tm1RowData[tm1Dimension].element.collapsed, \'fa-caret-down\':!tm1RowData[tm1Dimension].element.collapsed}" ng-click="expandOrCollapse(tm1RowData);"></i> <i ng-if="!tm1RowData[tm1Dimension].element.children" class="fa fa-angle-right"></i> <span>{{tm1RowData[tm1Dimension].alias}}</span></div>');b.put("assets/html/tm1-ui-rpt-view.html",'<div class="tm1-ui-rpt-view {{directiveClasses}}"><div ng-transclude="tm1UiRptConfig" ng-if="cubeIsReady"></div><div ng-transclude="tm1UiRptTemplate" ng-if="cubeIsReady"></div><div ng-if="showMessage && message.length > 0" class="alert alert-warning text-center" role="alert">{{message}}</div></div>');b.put("assets/html/tm1-ui-select.html",'<div class="tm1-ui-select {{directiveClasses}}"><form><div class="input-group"><input type="text" class="form-control" ng-model="value" ng-value="value" ng-click="onCaret()" ng-readonly="!tm1EnableSearch" ng-change="textChange()"><div class="input-group-addon" ng-click="onCaret()"><i ng-class="{\'fa fa-caret-down\':!showDropdown, \'fa fa-caret-up\':showDropdown}"></i></div></div></form><!-- List --><div ng-show="showDropdown" style="position: absolute; z-index: 100" class="tm1-select-plain-style" ng-style="{width: dropdownWidth}"><ul><li ng-repeat="item in items track by $index" ng-click="onItemSelect(item)" ng-class="{\'tm1-select-plain-style-active\': item.isSelected}" ng-style="item.style"><span>{{item.data}}</span></li></ul></div></div>');b.put("assets/html/tm1-ui-session.html",'<div name="{{name}}" id="{{id}}" class="tm1-ui-session {{directiveClasses}}"><a ng-click="showSessions()"><i class="fa fa-lg fa-users"></i></a><script type="text/ng-template" id="session-management"><div>\r\n		<table class="table table-hover">\r\n			<thead>\r\n				<tr>\r\n					<th translate="USER"></th>\r\n					<th translate="INSTANCE"></th>\r\n					<th translate="STATUS"></th>\r\n					<th translate="ACTION"></th>\r\n				</tr>\r\n			</thead>\r\n			<tbody>\r\n				<tr ng-repeat="session in sessions">\r\n					<td>{{session.user}}</td>\r\n					<td>{{session.name}}</td>\r\n					<td ng-if="session.active" translate="ACTIVE"></td>\r\n          <td ng-if="!session.active" translate="INACTIVE"></td>\r\n					<td><span ng-show="session.active"><a ng-click="logout(session.name)" translate="LOGOUT"></a></span></td>\r\n				</tr>\r\n			</tbody>\r\n\r\n      <tbody ng-if="sessionError">\r\n        <tr class="danger">\r\n          <td colspan="4" class="text-center">{{sessionErrorInfo}}</td>\r\n        </tr>\r\n      </tbody>\r\n		</table>\r\n	</div><\/script></div>');b.put("assets/html/tm1-ui-store.html",'<div><span ng-if="isReady" class="alert alert-success" role="alert" translate="READY"></span> <span ng-if="!isReady" class="alert alert-warning" role="alert">{{message}}</span></div>');b.put("assets/html/tm1-ui-subnm.html",'<div ng-attr-id="{{id}}" class="tm1-ui-subnm {{directiveClasses}}"><form ng-if="!selectOnlyMode && !radioOnlyMode"><div class="input-group"><input ng-class="selectClasses" type="text" ng-model="input.text" ng-change="textChange()" ng-focus="onFocus()" ng-blur="onBlur()" ng-value="input.text"><div class="input-group-addon" ng-click="onCaret()"><i ng-class="{\'fa fa-caret-down\':!showDropdown, \'fa fa-caret-up\':showDropdown && !requestingData, \'fa fa-spinner\':requestingData}"></i></div></div></form><!-- With Hierarchy --><div ng-if="!selectOnlyMode && !radioOnlyMode && showHierarchy" ng-show="showDropdown" style="position: absolute; z-index: 100" ng-style="{width: dropdownWidth}" class="tm1-subnm-hierarchy-style"><script type="text/ng-template" id="tree-node__.html"><span><i ng-if="node.Components.length" class="fa" ng-class="{\'fa-caret-down\': !node.collapse, \'fa-caret-right\': node.collapse}" ng-click="toggle(node);$event.stopPropagation()"></i><i ng-if="!node.Components.length" class="fa fa-angle-right"></i><span ng-click="selectNode(node)" class="subnm-node">{{getDisplay(node)}}</span></span>\r\n      <ul ng-if="!node.collapse">\r\n        <li ng-repeat="node in node.Components" ng-include="\'tree-node__.html\'"></li>\r\n      </ul>\r\n      <ul ng-if="node.collapse"></ul><\/script><ul><li ng-repeat="node in elements" ng-include="\'tree-node__.html\'"></li></ul></div><!-- Plain List --><div ng-if="!selectOnlyMode && !radioOnlyMode && !showHierarchy" ng-show="showDropdown" style="position: absolute; z-index: 100" class="tm1-subnm-plain-style" ng-style="{width: dropdownWidth}"><ul><li ng-repeat="element in elements track by $index" ng-class="{\'tm1SubnmPlainStyleActive\':$index==activeIndex}" ng-mousedown="selectElement($index, $event)" ng-mouseover="mouseOver($index)" ng-mouseleave="mouseLeave($index)" ng-mousemove="mouseMove()">{{tm1UiSubnmCtrl.getDisplay(element, tm1Attribute)}}</li></ul></div><!-- Select Only Mode --><select ng-class="selectClasses" ng-if="selectOnlyMode && elements.length > 0" ng-model="selectedElement" ng-change="onSelectionChange(selectedElement)" ng-options="element as tm1UiSubnmCtrl.getDisplay(element, tm1Attribute) for element in elements"></select><select ng-class="selectClasses" ng-if="selectOnlyMode && !(elements.length > 0)"><option value="">{{tm1Dimension}}</option></select><!-- Radio Only Mode --><div ng-if="radioOnlyMode && elements.length > 0" ng-class="selectClasses" ng-repeat="element in elements"><label><input type="radio" name="{{directiveID}}" ng-value="element" ng-model="entry.radio" ng-change="onSelectionChange(entry.radio)">{{tm1UiSubnmCtrl.getDisplay(element, tm1Attribute)}}</label></div><div ng-if="radioOnlyMode && !(elements.length > 0)" ng-class="selectClasses"><label><input type="radio" name="{{directiveID}}" value="">{{tm1Dimension}}</label></div></div>');b.put("assets/html/tm1-ui-table-mdx.html",'<div ng-attr-id="{{id}}" class="tm1-ui-table-mdx {{directiveClasses}}"><div class="text-center" ng-if="loading"><i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i> <span class="sr-only">Loading...</span></div><div ng-if="dataset"><table class="table table-striped" ng-if="!loading"><thead><tr ng-repeat="row in dataset.headers"><th ng-repeat="col in row.rows" ng-if="col.visible" colspan="{{col.colspan}}" rowspan="{{col.rowspan}}" class="text-center">{{col.dimension}}</th><th ng-repeat="col in row.columns" ng-if="col.visible" colspan="{{col.colspan}}" rowspan="{{col.rowspan}}" class="text-center">{{col.name}}</th></tr></thead><tbody><tr ng-repeat="row in table.data()"><th ng-repeat="el in row.elements" ng-if="el.visible || $parent.$index == 0" colspan="{{el.colspan}}" rowspan="{{el.rowspan}}">{{el.name}}</th><td ng-repeat="cell in row.cells" class="text-right"><input ng-if="!cell.isReadOnly" type="text" class="form-control text-right" tm1-ui-format-number="0" ng-model="cell.value" ng-blur="cell.update(refreshData);"> <span ng-if="cell.isReadOnly" style="padding-right: 10px">{{cell.value | formatNumber:0}}</span></td></tr></tbody></table><div><div class="btn-group" role="group"><button type="button" class="btn btn-default" ng-click="table.previous()"><i class="fa fa-angle-left"></i></button> <span class="btn btn-default" style="width: 100px">{{table.page()}} of {{table.pages()}}</span> <button type="button" class="btn btn-default" ng-click="table.next()"><i class="fa fa-angle-right"></i></button></div><div class="btn-group pull-right" role="group"><button type="button" class="btn btn-default" ng-class="{\'active\': table.isPageSize(10)}" ng-click="table.pageSize(10)">10</button> <button type="button" class="btn btn-default" ng-class="{\'active\': table.isPageSize(15)}" ng-click="table.pageSize(15)">15</button> <button type="button" class="btn btn-default" ng-class="{\'active\': table.isPageSize(30)}" ng-click="table.pageSize(30)">30</button> <button type="button" class="btn btn-default" ng-class="{\'active\': table.isPageSize(50)}" ng-click="table.pageSize(50)">50</button> <button type="button" class="btn btn-default" ng-class="{\'active\': table.isPageSize(100)}" ng-click="table.pageSize(100)">100</button></div></div></div></div>');b.put("assets/html/tm1-ui-table.html",'<table ng-attr-id="{{tableId}}" class="tm1-ui-table {{directiveClasses}}"><thead ng-if="!mdxError"><tr><th ng-repeat="columnIndex in columnsIndex track by $index" ng-class="{\'text-center\':!isCustomTableClass}">{{getColumnTitle(columnIndex)}}</th><th ng-if="showChart" ng-class="{\'text-center\':!isCustomTableClass}">Chart ({{chartType}})</th></tr></thead><tbody ng-if="!mdxError"><tr ng-repeat="rowIndex in rowsIndex track by $index"><td ng-repeat="columnIndex in columnsIndex track by $index" ng-class="{\'text-right\':!isCustomTableClass && columnIndex>=rowDimensionColumns, \'text-center\':!isCustomTableClass && columnIndex<rowDimensionColumns}">{{getColumnData(rowIndex, columnIndex, true)}}</td><td ng-if="showChart && chartType == \'line\'">{{getRowData(rowIndex)}}</td><td style="width: 15%" ng-if="showChart && chartType == \'bar\'"><tm1-ui-chart tm1-chart-type="multiBar" tm1-legend="none" tm1-hide-controls="true" tm1-axis-label-x="" tm1-axis-label-y="" tm1-height="50" tm1-margin="{top:1,right:1,bottom:1,left:1}"><tm1-ui-chart-value ng-repeat="columnIndex in dataColumns track by $index" tm1-label="{{$index}}" tm1-value="{{getColumnData(rowIndex, columnIndex, false)}}"></tm1-ui-chart-value></tm1-ui-chart></td></tr></tbody><tbody ng-if="mdxError"><tr><td>{{mdxErrorMessage}}</td></tr></tbody></table>');b.put("assets/html/tm1-ui-upload.html",'<div class="tm1-ui-upload {{directiveClasses}}"><div class="row"><div class="col-md-12"><div class="alert alert-info" role="alert" ngf-drop ngf-select ng-model="upload.file" ngf-max-size="{{maxSize}}MB" ngf-change="onReceivedFile($files, $file, $newFiles, $duplicateFiles, $invalidFiles, $event)" ngf-drag-over-class="\'alert alert-warning\'" ngf-select-disabled="true" ngf-resize="tm1ImageOptions"><p class="text-center"><button class="btn btn-default" type="button" ngf-select ngf-change="onReceivedFile($files, $file, $newFiles, $duplicateFiles, $invalidFiles, $event)" ng-model="upload.file" ngf-max-size="{{maxSize}}MB" ngf-resize="tm1ImageOptions" ngf-capture="camera">{{displayMessage}} <i class="fa fa-hand-pointer-o" ng-if="status == STATUS_ON_READY"></i> <i class="fa fa-spinner fa-spin fa-fw" ng-if="status == STATUS_ON_UPLOADING"></i></button></p><p ng-if="errorMessage.length > 0" class="alert alert-danger text-center">{{errorMessage}}</p><p ng-if="upload.file.name && upload.file.size < 1000000" class="text-center"><strong>[{{upload.file.name}} - {{upload.file.size / 1000 | number:2}} KB]</strong></p><p ng-if="upload.file.name && upload.file.size >= 1000000" class="text-center"><strong>[{{upload.file.name}} - {{upload.file.size / 1000000 | number:2}} MB]</strong></p><p ng-if="upload.file.name" ng-hide="status == STATUS_ON_UPLOADING"><button type="button" ng-click="upload()" class="btn btn-primary btn-block">{{\'UPLOAD\' | translate}} <i class="fa fa-upload"></i></button></p></div><div ngf-no-file-drop>File Drag/Drop is not supported for this browser</div></div></div></div>');b.put("assets/html/tm1-ui-user.html",'<div class="table-responsive tm1-ui-user {{directiveClasses}}"><table class="table table-striped" ng-if="!hasInstance"><thead><tr><th translate="INSTANCE"></th><th><div class="row"><div class="col-md-6" translate="PARAMETER"></div><div class="col-md-6" translate="VALUE"></div></div></th></tr></thead><tbody ng-repeat="(instance, userInfo) in usersInfo"><tr><td>{{instance}}</td><td><div ng-repeat="(parameter, value) in userInfo" class="row"><div class="col-md-6">{{parameter}}</div><div class="col-md-6">{{value}}</div></div></td></tr></tbody></table><table class="table table-striped" ng-if="hasInstance"><thead><tr><th translate="PARAMETER"></th><th translate="VALUE"></th></tr></thead><tbody><tr ng-repeat="(key, value) in usersInfo"><td>{{key}}</td><td>{{value}}</td></tr></tbody></table></div>');b.put("assets/html/tm1-ui-web.html",'<div name="{{name}}" id="{{id}}" class="tm1-ui-web {{directiveClasses}}" ng-style="containerStyle"><span ng-if="error" class="alert alert-error">{{errorMessage}}</span> <span ng-if="!initPage && !error && !isEmptySessionToken" class="alert alert-info">{{message}}</span> <span ng-if="tm1ShowUrl" ng-bind-html="urlWeb" class="alert alert-info"></span><iframe ng-if="initPage && !error" ng-src="{{urlWeb}}" ng-style="iframeStyle">{{\'MESSAGETM1WEBIFRAMEERROR\' | translate}}</iframe><div ng-if="isEmptySessionToken" class="row"><div class="col-md-12"><p class="text-justify">{{\'MESSAGETM1WEBERRORTITLE1\' | translate}} <span class="label label-primary" translate="MESSAGETM1WEBERRORTITLE2"></span> {{\'MESSAGETM1WEBERRORTITLE3\' | translate}} <span class="label label-primary" translate="MESSAGETM1WEBERRORTITLE4"></span> {{\'MESSAGETM1WEBERRORTITLE5\' | translate}} <span class="label label-danger" translate="MESSAGETM1WEBERRORTITLE6"></span>. {{\'MESSAGETM1WEBERRORTITLE7\' | translate}}:</p><ul class="list-group"><li class="list-group-item list-group-item-info">{{\'MESSAGETM1WEBERROR1PARTIAL1\' | translate}} <strong translate="MESSAGETM1WEBERROR1PARTIAL2"></strong></li><li class="list-group-item list-group-item-info">{{\'MESSAGETM1WEBERROR2PARTIAL1\' | translate}} <strong translate="MESSAGETM1WEBERROR2PARTIAL2"></strong> {{\'MESSAGETM1WEBERROR2PARTIAL3\' | translate}}</li><li class="list-group-item list-group-item-info">{{\'MESSAGETM1WEBERROR3PARTIAL1\' | translate}} <strong translate="MESSAGETM1WEBERROR3PARTIAL2"></strong> {{\'MESSAGETM1WEBERROR3PARTIAL3\' | translate}}</li><li class="list-group-item list-group-item-info">{{\'MESSAGETM1WEBERROR4PARTIAL1\' | translate}} <strong translate="MESSAGETM1WEBERROR4PARTIAL2"></strong> {{\'MESSAGETM1WEBERROR4PARTIAL3\' | translate}}</li></ul><p>{{\'MESSAGETM1WEBERRORFOOTER1\' | translate}} <u translate="MESSAGETM1WEBERRORFOOTER2"></u>.</p></div></div></div>')}]);